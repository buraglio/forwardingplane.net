---
title: 'Linux Network Namespaces for multihomed hosts'
date: Mon, 30 Nov -0001 00:00:00 +0000
draft: false
tags: [Musings]
---

sudo ip netns exec uc2b ip link list ip netns exec uc2b ifconfig uc2b1 192.80.111.58/24 up sudo ip netns exec uc2b ifconfig uc2b1 192.80.111.58/24 up sudo ovs-vsctl add-port br-int uc2b1 ip netns exec uc2b ip link set uc2b1 up sudo ip netns exec uc2b ip link set uc2b1 up sudo brctl addbr uc2bbr sudo brctl ifbr uc2bbr uc2b1 sudo brctl addif uc2bbr uc2b1 sudo brctl delbr uc2bbr sudo ovs-vsctl add-port br-int uc2b1 sudo ovs-vsctl add-port br-int uc2b1 sudo ovs-vsctl add-br uc2bbr uc2b1 sudo ovs-vsctl add-br uc2bbr sudo ovs-vsctl add-port uc2bbr uc2b1 sudo ovs-vsctl add-port uc2bbr eth1 sudo ip netns exec uc2b ifconfig uc2b1 192.80.111.58/24 up sudo ovs-vsctl add-port uc2bbr uc2b0 sudo ip netns exec uc2b ip link set uc2b1 up sudo ip netns exec uc2b ping 192.80.111.58 sudo ip netns exec uc2b ifconfig uc2b1 up sudo ip netns exec uc2b ifconfig uc2b0 up sudo ip netns exec uc2b arp -an sudo ip netns exec uc2b arp sudo ip netns exec uc2b ip route sudo ip netns exec uc2b ip route add 0.0.0.0 192.80.111.1 sudo ip netns exec uc2b ip route add 0.0.0.0 to 192.80.111.1 sudo ip netns exec uc2b ip route add 0.0.0.0/0 to 192.80.111.1 sudo ip netns exec uc2b ip route add default via 192.80.111.1 sudo ip netns exec uc2b ip route sudo ip netns exec uc2b ping 192.80.111.1 sudo ovs-vsctl list-br uc2bbr sudo ovs-vsctl list-ports uc2bbr sudo ip netns exec uc2b ifconfig sudo ip netns exec uc2b ping history | grep uc2b sudo ip netns exec uc2b ip link list sudo ip netns exec uc2b ip link list history | grep uc2b ip netns exec uc2b ip link set uc2b1 up sudo ip netns exec uc2b ip link set uc2b1 up sudo ip netns exec uc2b ip link set eth1 up sudo ip netns exec uc2b ip link set uc2b0 up sudo ip netns exec uc2b ip link list sudo ip link add uc2b0 type veth peer name uc2b1 sudo ip netns exec uc2b ip link list sudo ip netns exec uc2b ifconfig uc2b0 192.80.111.59/24 up sudo ip netns exec uc2b ip link list history | grep uc2b sudo ovs-vsctl add-port uc2bbr uc2b0 history | grep uc2b0 history | grep uc2b1 sudo ip netns exec uc2b ip link list ip link set uc2b1 netns uc2b ip link set uc2bbr netns uc2b sudo ip link set uc2bbr netns uc2b sudo ip link set uc2bbr netns uc2b0 sudo ip link set uc2b0 netns uc2b sudo ip netns exec uc2b ip link list sudo ip netns exec uc2b ifconfig uc2bbr up sudo ip netns exec uc2b ifconfig uc2b0 up sudo ip netns exec uc2b ip link list sudo ip netns exec uc2b ping arpo sudo ip netns exec uc2b ping arp -an sudo ip netns exec uc2b arp -an sudo ip netns exec uc2b ping 192.80.111.1 sudo ip netns exec uc2b ping 4.2.2.1 sudo ip netns exec uc2b traceroute 4.2.2.1 sudo ip netns exec uc2b /usr/sbin/sshd