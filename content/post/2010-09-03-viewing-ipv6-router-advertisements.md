---
id: 53
title: 'Viewing ipv6 router advertisements'
date: '2010-09-03T13:00:00-05:00'
author: buraglio
layout: post
guid: 'http://new.forwardingplane.net/2010/09/viewing-ipv6-router-advertisements/'
permalink: /2010/09/03/viewing-ipv6-router-advertisements/
blogger_blog:
    - www.forwardingplane.net
blogger_author:
    - 'Nick Buraglio'
blogger_permalink:
    - /2010/09/viewing-ipv6-router-advertisements.html
dsq_thread_id:
    - '3682726105'
Views:
    - '874'
categories:
    - How-To
    - IPv6
    - UNIX
---

I knew a tool like this had to exist, but I had never needed to look in the past.  While debugging a RA problem, I come upon the need to view IPv6 router advertisements.  How can one do this?  tcpdump?  Yeah, I guess that could work.  It's almost like using a bulldozer when a wheelbarrow is all you need, though.  I could use <a href="http://ndpmon.sourceforge.net/">ndpmon</a>, I suppose, but that, too seems like overkill. <br />So, the search began. After about 10 seconds of google searching..... Success!  A tool, does in fact exist for viewing exactly that type of packet. <br />Enter <a href="http://gd.tuwien.ac.at/linuxcommand.org/man_pages/radvdump8.html">radvdump</a>.  It is part of the marvelous <a href="http://www.freebsd.org/cgi/man.cgi?query=rtadvd&sektion=8">rtadvd</a> project.  It also exists in <a href="http://www.macports.org/">MacPorts</a>. <br /><br />Sweet, now I can see my IPv6 router advertisements in a very simple manner.  The syntax is very straightforward, the command <span style="font-family: 'Courier New', Courier, monospace; font-size: small;">sudo /opt/local/sbin/radvdump </span>will yield you pretty much everything you need to know about what is in your router advertisement:<br /><br /><br /><span style="font-size: small;"><span style="font-family: 'Courier New', Courier, monospace;">#</span></span><br /><span style="font-size: small;"><span style="font-family: 'Courier New', Courier, monospace;"># radvd configuration generated by radvdump 1.6</span></span><br /><span style="font-size: small;"><span style="font-family: 'Courier New', Courier, monospace;"># based on Router Advertisement from fe80::20d:b9ff:fe18:8ca1</span></span><br /><span style="font-size: small;"><span style="font-family: 'Courier New', Courier, monospace;"># received by interface en0</span></span><br /><span style="font-size: small;"><span style="font-family: 'Courier New', Courier, monospace;">#</span></span><br /><br /><span style="font-size: small;"><span style="font-family: 'Courier New', Courier, monospace;">interface en0</span></span><br /><span style="font-size: small;"><span style="font-family: 'Courier New', Courier, monospace;">{</span></span><br /><span style="white-space: pre;"><span style="font-size: small;"><span style="font-family: 'Courier New', Courier, monospace;"> </span></span></span><span style="font-size: small;"><span style="font-family: 'Courier New', Courier, monospace;">AdvSendAdvert on;</span></span><br /><span style="white-space: pre;"><span style="font-size: small;"><span style="font-family: 'Courier New', Courier, monospace;"> </span></span></span><span style="font-size: small;"><span style="font-family: 'Courier New', Courier, monospace;"># Note: {Min,Max}RtrAdvInterval cannot be obtained with radvdump</span></span><br /><span style="white-space: pre;"><span style="font-size: small;"><span style="font-family: 'Courier New', Courier, monospace;"> </span></span></span><span style="font-size: small;"><span style="font-family: 'Courier New', Courier, monospace;">AdvManagedFlag off;</span></span><br /><span style="white-space: pre;"><span style="font-size: small;"><span style="font-family: 'Courier New', Courier, monospace;"> </span></span></span><span style="font-size: small;"><span style="font-family: 'Courier New', Courier, monospace;">AdvOtherConfigFlag off;</span></span><br /><span style="white-space: pre;"><span style="font-size: small;"><span style="font-family: 'Courier New', Courier, monospace;"> </span></span></span><span style="font-size: small;"><span style="font-family: 'Courier New', Courier, monospace;">AdvReachableTime 0;</span></span><br /><span style="white-space: pre;"><span style="font-size: small;"><span style="font-family: 'Courier New', Courier, monospace;"> </span></span></span><span style="font-size: small;"><span style="font-family: 'Courier New', Courier, monospace;">AdvRetransTimer 0;</span></span><br /><span style="white-space: pre;"><span style="font-size: small;"><span style="font-family: 'Courier New', Courier, monospace;"> </span></span></span><span style="font-size: small;"><span style="font-family: 'Courier New', Courier, monospace;">AdvCurHopLimit 64;</span></span><br /><span style="white-space: pre;"><span style="font-size: small;"><span style="font-family: 'Courier New', Courier, monospace;"> </span></span></span><span style="font-size: small;"><span style="font-family: 'Courier New', Courier, monospace;">AdvDefaultLifetime 1800;</span></span><br /><span style="white-space: pre;"><span style="font-size: small;"><span style="font-family: 'Courier New', Courier, monospace;"> </span></span></span><span style="font-size: small;"><span style="font-family: 'Courier New', Courier, monospace;">AdvHomeAgentFlag off;</span></span><br /><span style="white-space: pre;"><span style="font-size: small;"><span style="font-family: 'Courier New', Courier, monospace;"> </span></span></span><span style="font-size: small;"><span style="font-family: 'Courier New', Courier, monospace;">AdvDefaultPreference medium;</span></span><br /><span style="white-space: pre;"><span style="font-size: small;"><span style="font-family: 'Courier New', Courier, monospace;"> </span></span></span><span style="font-size: small;"><span style="font-family: 'Courier New', Courier, monospace;">AdvSourceLLAddress on;</span></span><br /><span style="font-size: small;"><span style="font-family: 'Courier New', Courier, monospace;"><br /></span></span><br /><span style="white-space: pre;"><span style="font-size: small;"><span style="font-family: 'Courier New', Courier, monospace;"> </span></span></span><span style="font-size: small;"><span style="font-family: 'Courier New', Courier, monospace;">prefix 2001:470:xxxx:xxx::/64</span></span><br /><span style="white-space: pre;"><span style="font-size: small;"><span style="font-family: 'Courier New', Courier, monospace;"> </span></span></span><span style="font-size: small;"><span style="font-family: 'Courier New', Courier, monospace;">{</span></span><br /><span style="white-space: pre;"><span style="font-size: small;"><span style="font-family: 'Courier New', Courier, monospace;">  </span></span></span><span style="font-size: small;"><span style="font-family: 'Courier New', Courier, monospace;">AdvValidLifetime 2592000;</span></span><br /><span style="white-space: pre;"><span style="font-size: small;"><span style="font-family: 'Courier New', Courier, monospace;">  </span></span></span><span style="font-size: small;"><span style="font-family: 'Courier New', Courier, monospace;">AdvPreferredLifetime 604800;</span></span><br /><span style="white-space: pre;"><span style="font-size: small;"><span style="font-family: 'Courier New', Courier, monospace;">  </span></span></span><span style="font-size: small;"><span style="font-family: 'Courier New', Courier, monospace;">AdvOnLink on;</span></span><br /><span style="white-space: pre;"><span style="font-size: small;"><span style="font-family: 'Courier New', Courier, monospace;">  </span></span></span><span style="font-size: small;"><span style="font-family: 'Courier New', Courier, monospace;">AdvAutonomous on;</span></span><br /><span style="white-space: pre;"><span style="font-size: small;"><span style="font-family: 'Courier New', Courier, monospace;">  </span></span></span><span style="font-size: small;"><span style="font-family: 'Courier New', Courier, monospace;">AdvRouterAddr off;</span></span><br /><span style="white-space: pre;"><span style="font-size: small;"><span style="font-family: 'Courier New', Courier, monospace;"> </span></span></span><span style="font-size: small;"><span style="font-family: 'Courier New', Courier, monospace;">}; # End of prefix definition</span></span><br /><span style="font-size: small;"><span style="font-family: 'Courier New', Courier, monospace;"><br /></span></span><br /><span style="font-size: small;"><span style="font-family: 'Courier New', Courier, monospace;"><br /></span></span><br /><span style="white-space: pre;"><span style="font-size: small;"><span style="font-family: 'Courier New', Courier, monospace;"> </span></span></span><span style="font-size: small;"><s
pan style="font-family: 'Courier New', Courier, monospace;">prefix 2001:470:xxxx:xxx::/64</span></span><br /><span style="white-space: pre;"><span style="font-size: small;"><span style="font-family: 'Courier New', Courier, monospace;"> </span></span></span><span style="font-size: small;"><span style="font-family: 'Courier New', Courier, monospace;">{</span></span><br /><span style="white-space: pre;"><span style="font-size: small;"><span style="font-family: 'Courier New', Courier, monospace;">  </span></span></span><span style="font-size: small;"><span style="font-family: 'Courier New', Courier, monospace;">AdvValidLifetime 2592000;</span></span><br /><span style="white-space: pre;"><span style="font-size: small;"><span style="font-family: 'Courier New', Courier, monospace;">  </span></span></span><span style="font-size: small;"><span style="font-family: 'Courier New', Courier, monospace;">AdvPreferredLifetime 604800;</span></span><br /><span style="white-space: pre;"><span style="font-size: small;"><span style="font-family: 'Courier New', Courier, monospace;">  </span></span></span><span style="font-size: small;"><span style="font-family: 'Courier New', Courier, monospace;">AdvOnLink on;</span></span><br /><span style="white-space: pre;"><span style="font-size: small;"><span style="font-family: 'Courier New', Courier, monospace;">  </span></span></span><span style="font-size: small;"><span style="font-family: 'Courier New', Courier, monospace;">AdvAutonomous on;</span></span><br /><span style="white-space: pre;"><span style="font-size: small;"><span style="font-family: 'Courier New', Courier, monospace;">  </span></span></span><span style="font-size: small;"><span style="font-family: 'Courier New', Courier, monospace;">AdvRouterAddr off;</span></span><br /><span style="white-space: pre;"><span style="font-size: small;"><span style="font-family: 'Courier New', Courier, monospace;"> </span></span></span><span style="font-size: small;"><span style="font-family: 'Courier New', Courier, monospace;">}; # End of prefix definition</span></span><br /><span style="font-family: 'Courier New', Courier, monospace;"><span style="font-size: small;"><br /></span></span><br /><span style="font-size: small;"><span style="font-family: 'Courier New', Courier, monospace;"><br /></span></span><br /><span style="font-size: small;"><span style="font-family: 'Courier New', Courier, monospace;">}; # End of interface definition</span></span><br /><span style="font-family: 'Courier New', Courier, monospace;"><span style="font-size: small;"><br /></span></span><br /><br /><br />Once you have all of that working, head over to see the <a href="http://www.kame.net/">dancing kame</a> (if you're old school) of just head to <a href="http://www.buraglio.com/">my main domain</a> and it'll show you your ipv4 or ipv6 address at the top.  Alternatively, you can use <a href="http://www.google.com/intl/en/ipv6/">google over ipv6</a> in a number of <a href="http://ipv6.google.com/">ways</a>.<div>[[ This is a content summary only. Visit my website for full links, other content, and more! ]]</div>