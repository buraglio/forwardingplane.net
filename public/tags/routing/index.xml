<rss version="2.0" xmlns:atom="http://www.w3.org/2005/Atom">
  <channel>
    <title>
    Routing on ForwardingPlane.net
    
    </title>
    <link>https://forwardingplane.net/tags/routing/</link>
    <description>Recent content 
    
    in Routing on ForwardingPlane.net
    </description>
    <generator>Hugo -- gohugo.io</generator>
    <language>en-us</language>
    
    
    <copyright>Copyright (c) 2019, all rights reserved.</copyright>
    <lastBuildDate>Sun, 30 Jun 2019 02:15:32 +0000</lastBuildDate>
    
    
        <atom:link href="https://forwardingplane.net/tags/routing/index.xml" rel="self" type="application/rss+xml" />
    
    
    <item>
      <title>The BGP conundrum</title>
      <link>https://forwardingplane.net/post/the-bgp-conundrum/</link>
      <pubDate>Sun, 30 Jun 2019 02:15:32 +0000</pubDate>
      
      <guid>https://forwardingplane.net/post/the-bgp-conundrum/</guid>
      <description>&lt;p&gt;BGP. It’s that magical protocol that runs the internet. For for as much as BGP is a fundamental, critical, irreplaceable part of the core functioning of the internet, it is a protocol that has not aged well as far as security is concerned. See, BGP was born when the internet was really still an academic experiment. Handshakes and loose agreements were totally fine for connecting a new site. &lt;/p&gt;

&lt;p&gt;Then came the awakening. &lt;img src=&#34;https://www.forwardingplane.net/wp-content/uploads/2019/06/Awakening.jpg&#34; alt=&#34;Awakening&#34; title=&#34;Awakening.jpg&#34; /&gt;&lt;/p&gt;

&lt;p&gt;Once the internet was used for more critical things, security was obviously more important. But BGP did not really evolve at the same rate - and more importantly, the security model surrounding it was mostly left behind. The reasons aren&amp;rsquo;t really important, but the fallout absolutely is. Retrofitting security into an externally exposed protocol is demonstrably difficult. It has been &lt;a href=&#34;https://tools.ietf.org/html/rfc8205&#34;&gt;tried&lt;/a&gt; and &lt;a href=&#34;https://tools.ietf.org/html/rfc6810&#34;&gt;tried&lt;/a&gt; and &lt;a href=&#34;https://tools.ietf.org/id/draft-sa-grow-maxprefix-00.html&#34;&gt;tried&lt;/a&gt; and &lt;a href=&#34;https://www.radb.net/&#34;&gt;tried&lt;/a&gt;. The real limit in this space exists because of the nature of the protocol itself - it is external in nature, thereby requiring coordination between multiple parties. The mechanics of this are two fold: personal interaction to agree on the peering, and technical compliance for the protocol to adhere to the agreed upon policy.&lt;/p&gt;

&lt;p&gt;Technical limitations imposed by vendors and hardware limits have plagued this space for decades. However, the real problem, as with most things technical, is actually the people. A reluctance to agree on methodology, a refusal to spend the time to work out the procedures, an inability or lack of resources for understanding the steps necessary, an unwillingness (intentional or unintentional) to help the community further the progress. None of this really matters other than knowing where we can improve. So, to that end, I humbly recommend that all BGP operators read and implement best practices. Much of this is spelled out clearly in the &lt;a href=&#34;https://www.manrs.org/isps/&#34;&gt;MANRS project&lt;/a&gt;, and it should be used as a shining example of community based action that can produce actual demonstrable results. If you’re interested in tools for troubleshooting BGP or better understanding the scope and scale of the DFZ (Default Free Zone), check out a past post I did on &lt;a href=&#34;https://www.forwardingplane.net/2014/03/bgp-tools-troubleshooting-and-monitoring-external-routing-in-a-nutshell/&#34;&gt;BGP tools,&lt;/a&gt; &lt;a href=&#34;https://www.forwardingplane.net/2016/05/bgp-rpki-why-arent-we-using-it/&#34;&gt;RPKI&lt;/a&gt;, and &lt;a href=&#34;https://www.forwardingplane.net/2018/02/strategy-series-view-outside-network/&#34;&gt;visibility outside of your network.&lt;/a&gt; &lt;/p&gt;

&lt;p&gt;As a follow on to the last global BGP blunder, &lt;a href=&#34;https://twitter.com/bcjordo?lang=en&#34;&gt;Jordan Martin&lt;/a&gt; and I talk about the how and the what of the event in this quick &lt;a href=&#34;https://thenetworkcollective.com/2019/06/bgp-blunder/&#34;&gt;Network Collective short take&lt;/a&gt;.&lt;/p&gt;
</description>
    </item>
    
    <item>
      <title>FreeRouter as a test environment</title>
      <link>https://forwardingplane.net/post/freertr-as-a-lab-environment/</link>
      <pubDate>Sat, 02 Mar 2019 17:03:18 +0000</pubDate>
      
      <guid>https://forwardingplane.net/post/freertr-as-a-lab-environment/</guid>
      <description>&lt;p&gt;A few months ago &lt;a href=&#34;https://www.stubarea51.net/about-me/&#34;&gt;Kevin Myers&lt;/a&gt; of &lt;a href=&#34;https://www.iparchitechs.com/&#34;&gt;IP Architechs&lt;/a&gt; introduced me to a really interesting project called &lt;a href=&#34;http://freerouter.nop.hu/&#34;&gt;FreeRouter&lt;/a&gt;. Being that I absolutely love alternative routing platforms and feature complete simulation environments, this really got me going. I tend to define &amp;ldquo;feature complete&amp;rdquo; in a routing platform as something that can do both IS-IS and MPLS. Given that there aren&amp;rsquo;t many platforms that do both correctly or within a reasonable budget, and offer simulation options, I was pretty excited. I spent a fair amount of time pounding through it. I recommend spending some time with this if you have even remote interest in any of the above technologies. It costs nothing but your time. The project was written and is maintained by a Cisco CCIE and was built (according to his site) as a mechanism to learn. However, the feature list is incredibly complete, and extremely impressive, as seen below:&lt;/p&gt;

&lt;pre&gt;&lt;code&gt;forwarding: ipv4, ipv6, ipx, mpls, nsh, layer2, irb, atom, eompls, vpls, evpn  
routing protocols: ospf, isis, bgp, rip, eigrp, babel, olsr, pim, msdp  
lsp support: p2p, p2mp, mp2mp built by ldp, rsvp-te, sr, sr-te, bier  
crypto: macsec, ipsec, ikev1, ikev2, tls, dtls, ssh, openvpn  
tunnel: gre, ipip, l2tp, pptp, lisp, geneve, nvgre, vxlan, etherip  
encapsulation: ethernet, vlan, nsh, ppp, framerelay, pwether, virtppp, hairpin  
misc: acl, hqos, nat, pbr, srv6, vrrp, hsrp, transproxy, 6to4, rpl, tunnel, vpdn 
&lt;/code&gt;&lt;/pre&gt;

&lt;p&gt;&lt;a href=&#34;https://www.forwardingplane.net/configuration-archive/freertr-basic-configurations/&#34;&gt;My configurations&lt;/a&gt; can be found in the &lt;a href=&#34;https://www.forwardingplane.net/configuration-archive/&#34;&gt;Configuration Archive&lt;/a&gt; section of this site. It is definitely worth your time to check out.&lt;/p&gt;
</description>
    </item>
    
    <item>
      <title>Updates, podcasts, and videos</title>
      <link>https://forwardingplane.net/post/updates-podcasts-videos/</link>
      <pubDate>Thu, 15 Jun 2017 01:29:59 +0000</pubDate>
      
      <guid>https://forwardingplane.net/post/updates-podcasts-videos/</guid>
      <description>&lt;p&gt;Anyone that looks at this site with any regularity may have noticed that I have been pretty remiss in adding posts - for that I apologize, things have been busy. However, I have not been absent in the tech world&amp;hellip;quite the opposite, in fact. I&amp;rsquo;ve been spending more and more time on podcasts and other forms of tech media which I have not provided links for here. So, to help expose that, here are a few of the other media resources I&amp;rsquo;ve been popping up in. Professionally I&amp;rsquo;ve been spending a lot of my time testing things like &lt;a href=&#34;http://techfieldday.com/event/srr1/&#34;&gt;segment routing&lt;/a&gt;, software routing stacks for &lt;a href=&#34;https://www.nanog.org/sites/default/files/2_White_The_State_Of_Open_Source_Routers.pdf&#34;&gt;disaggregated routing&lt;/a&gt;, DDoS detection and DDoS mitigation. In the free time I would typically spend in my home lab, I&amp;rsquo;ve become enamored with Wireless ISPs and how they work. I&amp;rsquo;d done some WISP work off and on over the years but it was primarily focused on L3 - I&amp;rsquo;ve gone deeper and started learning about more RF strategy and detail as well as delved pretty deeply into a fair amount of the gear details. There is some &lt;em&gt;crazy&lt;/em&gt; good, innovative stuff going on in this space and it happily hums along well outside of the hype engines that are the juggernauts of hyperscale data center and enterprise networking. I find it a refreshing change from the marketing machine of the mainstream networking industry, representing more of what the real world of being a smaller service provider is like (which is where I got started, so there is an amount of nostalgic comfort there), and there are folks out there are serious use cases for things like SR and &lt;a href=&#34;https://rule11.tech/?s=disaggregated&#34;&gt;disaggregated routing&lt;/a&gt; just waiting to be tested. &lt;a href=&#34;http://www.forwardingplane.net/wp-content/uploads/2017/06/IMG_3777.jpg&#34;&gt;&lt;img src=&#34;http://www.forwardingplane.net/wp-content/uploads/2017/06/IMG_3777.jpg&#34; alt=&#34;&#34; /&gt;&lt;/a&gt; In addition, I&amp;rsquo;ve been involved in a few projects regarding security and DDoS detection and mitigation (CoreFlow) that have been pretty interesting, one of which which &lt;a href=&#34;https://tnc17.geant.org/core/presentation/30&#34;&gt;I recently presented on at TNC 17 in Linz, Austria&lt;/a&gt;. Slides can be found &lt;a href=&#34;https://tnc17.geant.org/getfile/3728&#34;&gt;here&lt;/a&gt;. More information can be found on the project CoreFlow in the published paper &lt;a href=&#34;https://scholar.google.com.au/citations?view_op=view_citation&amp;amp;hl=fr&amp;amp;user=alONArcAAAAJ&amp;amp;citation_for_view=alONArcAAAAJ:_Ybze24A_UAC&#34;&gt;here&lt;/a&gt;. I&amp;rsquo;ll probably talk more about this project focused on ISP DDoS detection and mitigation as the code matures, but feel free to contact me with questions/comments. &lt;a href=&#34;http://blog.ipspace.net/2017/06/packet-fabric-on-software-gone-wild.html&#34;&gt;Packet Fabric Podcast on IPSpace.net&lt;/a&gt; Also see Ivan&amp;rsquo;s page for &lt;a href=&#34;http://www.ipspace.net/Podcast/Software_Gone_Wild&#34;&gt;Software Gone wild&lt;/a&gt; for more podcasts (both that I have been involved in and other good content) Brothers WISP Video on the basics of DNS (see also &lt;a href=&#34;http://www.forwardingplane.net/2016/02/nix4neteng-6-dns-ad-blocking-and-quality-of-experience/&#34;&gt;NIX for NetEng DNS&lt;/a&gt;, or &lt;a href=&#34;http://www.forwardingplane.net/2014/06/nix4neteng-2-ipv46-address-investigation-tools-whois-dig/&#34;&gt;NIX for NetEng address tools&lt;/a&gt;)&lt;/p&gt;
</description>
    </item>
    
    <item>
      <title>Why I care about Segment Routing</title>
      <link>https://forwardingplane.net/post/care-segment-routing/</link>
      <pubDate>Tue, 04 Oct 2016 00:54:27 +0000</pubDate>
      
      <guid>https://forwardingplane.net/post/care-segment-routing/</guid>
      <description>&lt;p&gt;Edit: &lt;em&gt;Going against my normal “just get the content out there” methodology, I’ve been mulling over this blog post since July of 2016.  Segment routing is such a beautifully elegant solution I have had trouble articulating that fact. WAN technologies are squarely within my wheelhouse, and this one fits in so well I was going over and over the post never really satisfied with it, continuing to find mistakes and decided to just get it out there. &lt;/em&gt;&lt;/p&gt;

&lt;p&gt;As a WAN guy by chance and opportunity, and a service provider engineer and architect by choice (and also chance and opportunity), segment routing (SR) is one of those wonderful new technologies that keeps rearing its head over and over in recent days - and it&amp;rsquo;s already playing in the big leagues. SR is supported by many of the large network equipment providers including Cisco, Juniper, and Nokia (Alcatel-Lucent), and as I have just learned, Arista.&lt;/p&gt;

&lt;p&gt;Why is this a notable tech you may want to pay attention to? Wide area and service provider networks have a longer mean time before replacement. They don’t change topology or architecture nearly as often and the gear typically has higher cost due to things like deeper interface buffers, more complex feature sets, larger TCAM for things like route tables, as well as increased redundancy features. Managing a WAN has a different feel and a different set of problems. Complex overlays and traffic engineering often play a role in wide area networks. Many an attempt to reduce the the complexity of WANs has been made and SDN is creeping its way into some pretty large networks. When a network of any size is built, there comes a tipping point when managing things by hand, even with great documentation, is too daunting and cannot be done efficiently. Automation is key. Simplicity is paramount. Anyone that has ever managed a large MPLS network knows this. So, when I started looking at segment routing, I was cautiously optimistic - it had many attributes that were comfortable to a seasoned WAN engineer and yet abstracted many of the complexities of the networks that we&amp;rsquo;d been running for years. In order to really understand the benefits that SR brings to the table, it&amp;rsquo;s important to understand the current landscape. When one builds a large MPLS network there are incremental elements that all build from each other in order to work. If one is broken or problematic, the problem will trickle up the stack. Fundamentally, the stack for a very vanilla MPLs WAN contains the following elements (top down):&lt;/p&gt;

&lt;ul&gt;
&lt;li&gt;Client service interface&lt;/li&gt;
&lt;li&gt;Overlay, L3VPN, VPLS, ePIPE/PseudoWire/VLL&lt;/li&gt;
&lt;li&gt;BGP&lt;/li&gt;
&lt;li&gt;Label Distribution, LDP, etc.&lt;/li&gt;
&lt;li&gt;IGP, IS-IS or OSPFv2/3&lt;/li&gt;
&lt;li&gt;Ethernet, SONET, DS1/DS3/E1&lt;/li&gt;
&lt;li&gt;Optical transport or other last mile and long haul outside plant&lt;/li&gt;
&lt;/ul&gt;

&lt;p&gt;Add into this list the complications of traffic engineering, and you&amp;rsquo;ve got a mix of things that are fairly daunting to all but the most experienced engineers. What segment routing provides is a way to remove several layers of this and simplify what is arguably the most complex and least understood element: Traffic Engineering. Segment routing allows for the selection of an entire path, from the ingress of the network to the egress port, all outside of the IGPs shortest path table. It is often labeled as &amp;ldquo;source routing&amp;rdquo; which will inevitably create feeling of disgust, dread, and distain from a network engineer and panic from the security folks. I choose not to label SR as &amp;ldquo;source routing&amp;rdquo; because of the negative connotation associated with that technological approach. Instead, I would rather use the term &amp;ldquo;deliberate path selection&amp;rdquo;.&lt;/p&gt;

&lt;p&gt;Oh, and this can be automated. That&amp;rsquo;s right. It&amp;rsquo;s &amp;ldquo;SDN&amp;rdquo;. Utilizing a tool called a path computational engine or &amp;ldquo;PCE&amp;rdquo;, these paths can be selected based on any number of criteria including latency, hop count, load, time of day, phase of the moon, mood of the boss, etc.&lt;/p&gt;

&lt;p&gt;I was lucky enough to get to spend some quality time at a &lt;a href=&#34;http://techfieldday.com/event/srr1/&#34;&gt;special event&lt;/a&gt; recently. Interesting discussions were had, many a thing was learned. A few of the other attendees wrote up some great info on segment routing, including some use cases, which can be found here&lt;/p&gt;

&lt;p&gt;Terry Slattery on No Jitter&lt;/p&gt;

&lt;p&gt;&lt;a href=&#34;http://www.nojitter.com/post/240171828/segment-routing-inside-a-new-sdn-technology&#34;&gt;http://www.nojitter.com/post/240171828/segment-routing-inside-a-new-sdn-technology&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;Carl Niger on Come Route With Me&lt;/p&gt;

&lt;p&gt;&lt;a href=&#34;https://comeroutewithme.com/2016/07/24/post-tfd-segment-routing-roundtable-thoughts/&#34;&gt;https://comeroutewithme.com/2016/07/24/post-tfd-segment-routing-roundtable-thoughts/&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;Russ White on Net Work&lt;/p&gt;

&lt;p&gt;&lt;a href=&#34;http://ntwrk.guru/dc-fabric-segment-routing-use-case-1/&#34;&gt;http://ntwrk.guru/dc-fabric-segment-routing-use-case-1/&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;&lt;a href=&#34;http://ntwrk.guru/dc-fabric-segment-routing-use-case-2/&#34;&gt;http://ntwrk.guru/dc-fabric-segment-routing-use-case-2/&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;I highly recommend taking a view of the talks from some folks using SR on some pretty significant networks - it&amp;rsquo;s worth your time if you&amp;rsquo;re really interested in throwing down with segment routing.  But what did this tell &lt;strong&gt;&lt;em&gt;me&lt;/em&gt;&lt;/strong&gt;? Lets look further into SR and see why it&amp;rsquo;s become so attractive to large, geographically diverse networks. First, SR builds on an existing knowledgeable. Far more people exist in the market that already know MPLS. The understand labels, they understand overlays, and they have vast experience with virtual circuits. Service providers are very likely MPLS based if they operate at any scale and offer typical ISP services. MPLS is well traveled, and even though there may be reasons that&amp;rsquo;s not perfect, it&amp;rsquo;s the devil we know. Other SDN technologies are either fairly green (l&lt;a href=&#34;http://blog.ipspace.net/2015/12/running-open-daylight-in-production.html#more&#34;&gt;et me tell you about running a production openflow experience&lt;/a&gt;) or are primarily focused on the data center, which as I will adamantly insist is a very different beast.&lt;/p&gt;

&lt;p&gt;Large scale service providers have a very different redundancy model. Attempting to apply campus or enterprise redundancy to a service provider does not scale and it certainly isn&amp;rsquo;t affordable. SR leverages the same models that MPLS does, it realies heavily on the IGP, leveraging a TLV within IS-IS. That brings me to IS-IS. Most service providers leverage IS-IS as their internal gateway protocol due to it&amp;rsquo;s ability to carry multiple routed protocols at once, leverage multi-topology, and the fact that it does not rely on the protocol it is routing for connectivity like OSPF does. SR is more-or-less an extension to IS-IS. Overlapping skill set #2. The other option, and this is a big one, is that there are multiple vendors that supported, as stated above. This is a big deal as int provides that &amp;ldquo;throat to choke&amp;rdquo; that a lot of emerging technologies just do not really have yet.&lt;/p&gt;

&lt;p&gt;Did I mention that it &amp;ldquo;fails open”? What’s not to love about falling back to an IGP rather than ceasing to process packets?  Lets do a for-instance use-case. Within your SR network you provision a path that takes a path with more hops but has less congestion. Create your label stack and away you go* Of that path fails, the traffic falls back to the standard routing table.&lt;/p&gt;

&lt;p&gt;Much like MPLS (of which I am a fan, FWIW), this technology is better suited for a larger network with multiple paths, this could be any number of  environments such as large camps networks, large scale data centers geographically diverse environments connected by multiple WAN circuits, and of course, service and content providers. This tech is quite simply full of win. &lt;/p&gt;

&lt;p&gt;*greatly simplified =)&lt;/p&gt;
</description>
    </item>
    
    <item>
      <title>BGP RPKI - why aren&#39;t we using it more?</title>
      <link>https://forwardingplane.net/post/bgp-rpki-why-arent-we-using-it/</link>
      <pubDate>Sat, 21 May 2016 16:33:44 +0000</pubDate>
      
      <guid>https://forwardingplane.net/post/bgp-rpki-why-arent-we-using-it/</guid>
      <description>&lt;nav&gt;
&lt;ul&gt;
&lt;li&gt;
&lt;ul&gt;
&lt;li&gt;
&lt;ul&gt;
&lt;li&gt;
&lt;ul&gt;
&lt;li&gt;
&lt;ul&gt;
&lt;li&gt;
&lt;ul&gt;
&lt;li&gt;&lt;a href=&#34;#image-created-from-surfnet-rpki-page&#34;&gt;Image created from SURFNet RPKI page.&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;&lt;/li&gt;
&lt;/ul&gt;&lt;/li&gt;
&lt;/ul&gt;&lt;/li&gt;
&lt;/ul&gt;&lt;/li&gt;
&lt;/ul&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;/nav&gt;

&lt;p&gt;     I was recently at a meeting where BGP RPKI was the topic de jour. While this has been a topic that I have visited on occasion of the last few years and something I wanted to spend significant time on, I have found that setting aside the time has been difficult and sparse, much like the deployment of BGP RPKI. In order to better understand the options available, it&amp;rsquo;s important to break down the pieces and terminology involved; BGP is daunting enough to those unfamiliar with it and adding PKI on top of that can be even more so. So, what are these bits and pieces and why have we not done more to adopt it?&lt;/p&gt;

&lt;ul&gt;
&lt;li&gt;&lt;strong&gt;BGP&lt;/strong&gt; - the venerable and foundational protocol that quite literally runs the internet. BGP allows an organization to announce and exchange it’s IPv4 and IPv6 resources with other organizations.&lt;/li&gt;
&lt;li&gt;&lt;a href=&#34;https://www.arin.net/resources/rpki/&#34;&gt;&lt;strong&gt;Resource Public Key Infrastructure&lt;/strong&gt;&lt;/a&gt; - From &lt;a href=&#34;https://www.arin.net/resources/rpki/&#34;&gt;ARIN&lt;/a&gt;: &lt;em&gt;Using cryptographically verifiable certificates, RPKI allows IP address holders to specify which Autonomous Systems (AS&amp;rsquo;s) are authorized to originate their IP address prefixes. These statements, known as Route Origin Authorizations (ROAs), allow network operators to make informed routing decisions, and help secure Internet routing in general. &lt;/em&gt;&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;ROA&lt;/strong&gt; - Route Origin Authorizations - Who is authorized to originate or source these prefixes?&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;ROV&lt;/strong&gt; - Route Origin Validation - Can we validate, cryptographically, that the origin of this resource (for example, 8.8.8.8) is authorized to originate or source these prefixes?&lt;/li&gt;
&lt;/ul&gt;

&lt;p&gt;     Many of the details of RPKI are actually not even technical, both with ARIN and with vendors, there exists complications that make the technical pieces look like child’s play. Legality of the licensing and housing of authoritative certificates are complicated, shrouded in legalese due to the nature of what they represent. This proves to be a show stopper for a lot of older organizations that have grandfathered address space and may not have gone through the ARIN agreement process any time in the recent past [note: supposedly this process is required for ARIN IPv6 space, so most of that _should_ be covered. Other regions may have easier, lower hurdles - I’ve heard good things about RIPE’s process - but I have no experience with it. The legal issues with contracts and signing certificates may also prove to be troublesome to enterprises, most of which are very conservative and slow to adopt anything new ::cough:: IPv6 ::cough::.  Certificate generation and maintenance is also considered difficult in many cases, the details can be confusing and the documentation overwhelming or difficult to find.&lt;/p&gt;

&lt;p&gt;On top of those non-technical issues, platforms with large install bases are sparsely supported - although this is changing.&lt;/p&gt;

&lt;p&gt;     There have been a &lt;a href=&#34;http://www.bgpmon.net/large-scale-bgp-hijack-out-of-india/&#34;&gt;number&lt;/a&gt; of &lt;a href=&#34;http://www.bgpmon.net/large-hijack-affects-reachability-of-high-traffic-destinations/&#34;&gt;recent&lt;/a&gt;, high profile route hijacks. If you’re ever curious to see what they were, BGPMon typically has a post-mortem shortly after they occur. This is a big deal. There are a number of ways they could have been prevented, too one of which is BGP RPKI. Is that worth the overhead? I think anyone that has had to scramble to figure out what was going on during one of these events would argue yes. But even with that, we have minimal adoption. With the significant movement to cloud based work, enterprises, service providers, academic institutions and even savvy end users should ask themselves a few important questions before doing your risk analysis:&lt;/p&gt;

&lt;ul&gt;
&lt;li&gt;Do your cloud providers do RPKI?&lt;/li&gt;
&lt;li&gt;Does your upstream service provider or peering partner honor invalid routes?&lt;/li&gt;
&lt;li&gt;Does your upstream service provider or peering partner even support prefix or AS-Path filtering?&lt;/li&gt;
&lt;li&gt;How does the effect BGP blackhole routing for security filtering?&lt;/li&gt;
&lt;li&gt;How do you deal with invalid routes? (alert, set preference, drop, etc.)&lt;/li&gt;
&lt;li&gt;How do you handle invalid routes that may be more specific?&lt;/li&gt;
&lt;li&gt;Why have I not deployed BGP RPKI yet?&lt;/li&gt;
&lt;/ul&gt;

&lt;p&gt;&lt;strong&gt;My perspective:&lt;/strong&gt;&lt;/p&gt;

&lt;p&gt;    Unfortunately, the feeling I get is very similar to that of things [that we actually need] such as IPv6 and DNSSec. Tools that make our resources safer,  but are often overlooked due to increased operational complexity.&lt;/p&gt;

&lt;p&gt;It is really about risk analysis: Is the risk of not having this worth the effort of maintaining it?  Since we [as an internetworking ecosystem] been clear in our actions that necessary things as obvious and straightforward as appropriate prefix filtering and IPv6 deployment are in many cases above and beyond, it should come as no surprise that adding complexity on top of “stuff that just works” is’t happening on a large scale. Even with repeated proof that changes would alleviate risk, we don’t do it because what we have has been deemed “good enough”* and change is scary and hard.&lt;/p&gt;

&lt;p&gt;What do we need? We need tools. The &lt;a href=&#34;http://rpki.surfnet.nl/&#34;&gt;RPKI dashboard&lt;/a&gt; that SURFnet has available is a fantastic example of an easy to use tool that makes a ton of information available. We need a &lt;strong&gt;&lt;em&gt;very easy&lt;/em&gt;&lt;/strong&gt; way to deploy this. BGP is actually a pretty simple protocol to make work, which is why is hasn’t changed much in the  extremely long tenure it has had as foundation of the internet. We need a very, very straightforward way to get the non-technical pieces done.&lt;/p&gt;

&lt;p&gt;&lt;strong&gt;Disclaimer:&lt;/strong&gt; This is just the tip of the iceberg and I am but a novice with this tech - but my gut feelings are typically right about this type of thing.&lt;/p&gt;

&lt;p&gt;* &amp;ldquo;Good enough” is almost never good enough.&lt;/p&gt;

&lt;h6 id=&#34;image-created-from-surfnet-rpki-page&#34;&gt;Image created from SURFNet RPKI page.&lt;/h6&gt;
</description>
    </item>
    
    <item>
      <title>Building Interdomain SDN part 3</title>
      <link>https://forwardingplane.net/post/building-interdomain-sdn-part-3/</link>
      <pubDate>Fri, 06 Nov 2015 04:37:23 +0000</pubDate>
      
      <guid>https://forwardingplane.net/post/building-interdomain-sdn-part-3/</guid>
      <description>&lt;p&gt;A few years ago I wrote &lt;a href=&#34;http://www.forwardingplane.net/2012/11/sdn-across-domains-in-the-wan-a-novice-look/&#34;&gt;some text&lt;/a&gt; on &lt;a href=&#34;http://www.forwardingplane.net/2013/01/sdn-across-the-wan-part-deux-primitives/&#34;&gt;interdomain SDN&lt;/a&gt;. Years later, work is being done, smart people are thinking about it and building ways to make it a reality. Not being one to give up on an idea, I gave &lt;a href=&#34;https://docs.google.com/presentation/d/1anAaqWR8wmzKO5fqidDy9QJXW4RiVshX9Miq3PoDv9E/edit&#34;&gt;this presentation&lt;/a&gt; in may at &lt;a href=&#34;http://chinog.org/meetings/chi-nog-05/&#34;&gt;ChiNOG&lt;/a&gt;  on what my take on what that architecture should be. I (we) propose that the use of existing protocols such as &lt;a href=&#34;https://tools.ietf.org/html/rfc5575&#34;&gt;BGP FlowSpec&lt;/a&gt; will make this realistically deployable and maintainable given some &lt;a href=&#34;https://github.com/dwcarder/sdn-ix-demo&#34;&gt;simple, pluggable middleware&lt;/a&gt;. As work continues to happen on this, my belief is that this is a very sound (and simple) concept. The middleware is modular and flexible enough that it can stand alone or plug into an existing code base such as ODL or Ryu. As &lt;a href=&#34;http://sc15blog.blogspot.com/2015/11/simplifying-worlds-most-powerful.html&#34;&gt;I work on the SDN deployment&lt;/a&gt; for the &lt;a href=&#34;http://www.sc15.org&#34;&gt;annual international supercomputing conference&lt;/a&gt;, and work on the &lt;a href=&#34;https://www.es.net/network-r-and-d/workshops/&#34;&gt;SDN for scientific networking workshop&lt;/a&gt;,  I become more and more convinced that there needs to be an operationally viable and simple way to support these types of networks in ways that are thin and simple since it is a newer concept and some of the protocols involved (e.g. OpenFlow) is still in its infancy.  Here is the video of the talk for anyone interested in listening to me talk about it for 20 minutes. As a reference, this is a great talk from the same conference on BGP FlowSpec that adds a lot of credence to the use of it as a policy dissemination protocol.&lt;/p&gt;
</description>
    </item>
    
    <item>
      <title>OpenDNS acquires BGPMon and the future of route monitoring</title>
      <link>https://forwardingplane.net/post/opendns-acquires-bgpmon-and-the-future-of-route-monitoring/</link>
      <pubDate>Fri, 20 Mar 2015 05:18:30 +0000</pubDate>
      
      <guid>https://forwardingplane.net/post/opendns-acquires-bgpmon-and-the-future-of-route-monitoring/</guid>
      <description>&lt;p&gt;For those that run BGP networks, &lt;a href=&#34;http://www.bgpmon.net&#34;&gt;BGPmon&lt;/a&gt; is often a tool they turn to for some really unique and hard to find information. Remember back in February 2008 when Pakistan Telecom &amp;ldquo;blocked&amp;rdquo; &lt;a href=&#34;http://www.youtube.com/buraglio&#34;&gt;Youtube&lt;/a&gt;? That one was a really, really public example of something that BGPMon caught. BGPmon has been around for a long, long time. Quietly watching prefixes. Silently noting changes and reporting them to the ones lucky enough to know of its existence. For those that don&amp;rsquo;t &lt;a href=&#34;http://searchtelecom.techtarget.com/feature/BGP-essentials-The-protocol-that-makes-the-Internet-work&#34;&gt;know how BGP works&lt;/a&gt;, I am not going to go into it too much other than to say that it is both the foundation that the internet is built upon, and one of the most antiquated trust models that exists in a world where most of the pundits are going on and on about SDN and network engineers being out of a job in 10 years. See, the problem with BGP is not that it is a terrible protocol. Quite the opposite, it is elegant in its simplicity and ability to be extended.It is lightweight and arguably the easiest of the routing protocols with the exception of RIPv2.&lt;/p&gt;

&lt;p&gt;&lt;em&gt;Many have argued that it is not a routing protocol, per se, but a policy enforcement framework for paths, but that is a completely different discussion. I happen to agree&lt;/em&gt;&lt;/p&gt;

&lt;p&gt;The issue with BGP is that its install base is so vast that changing it is not unlike parting the red sea or holding the earth on ones shoulders, because that is what BGP does. It holds the internet on its shoulders every bit as much as things like fiber in the ground does. Lets get back to BGPmon. BGPmon does something that nothing else really does. It watches the global routing table from points all over the globe and keeps track of prefixes. For a network operation that provides transit, financial services or any sensitive data, notification of a ROA violation, prefix hijack or more specific route announcement is a critical service. BGPmon provides that among other equally distinct services. In fact, &lt;a href=&#34;https://www.forwardingplane.net/2014/03/bgp-tools-troubleshooting-and-monitoring-external-routing-in-a-nutshell/&#34;&gt;I have it listed as one of my critical tools for maintaining, monitoring and troubleshooting external routing&lt;/a&gt;.&lt;/p&gt;

&lt;p&gt;What does the acquisition of BGPmon by OpenDNS mean? I honestly can not say, but I am fairly confident that it means good things and &lt;a href=&#34;https://blog.opendns.com/2015/03/12/opendns-acquires-bgpmon/&#34;&gt;OpenDNS has a very, very encouraging position&lt;/a&gt;:&lt;/p&gt;

&lt;p&gt;&lt;em&gt;Moving forward, our integration plan for BGPmon is straightforward. We’ll invest in building out the service and making it more complete—but we also are committed to keeping the free features free. We’ll continue to use BGPmon data and innovate to augment our predictive intelligence and provide better threat protection to OpenDNS customers. So basically status quo for current customers.&lt;/em&gt;&lt;/p&gt;

&lt;p&gt;Strong backing from a forward thinking company with a solid track record of good products likely means a bright future for an invaluable service. I am optimistic and encouraged, this was the next logical step and they have taken it with elegance and thought.&lt;/p&gt;
</description>
    </item>
    
    <item>
      <title>Network Field Day 9</title>
      <link>https://forwardingplane.net/post/network-field-day-9/</link>
      <pubDate>Sat, 24 Jan 2015 15:55:48 +0000</pubDate>
      
      <guid>https://forwardingplane.net/post/network-field-day-9/</guid>
      <description>&lt;p&gt;In a few weeks I&amp;rsquo;ll have the opportunity to participate in another &lt;a href=&#34;http://techfieldday.com/event/nfd9/&#34;&gt;Network Field Day&lt;/a&gt;. I&amp;rsquo;ve been lucky enough to have the opportunity to attend&lt;a href=&#34;http://www.forwardingplane.net/2014/02/network-field-day-7/&#34; title=&#34;Network Field Day 7&#34;&gt; in the past&lt;/a&gt; and have done some &lt;a href=&#34;http://www.forwardingplane.net/2013/03/network-field-day-5/&#34; title=&#34;Network Field Day 5 – Participate Remotely&#34;&gt;remote participation&lt;/a&gt; when possible, but like some of the other rare &lt;a href=&#34;http://www.forwardingplane.net/2012/11/scinet-a-privileged-few/&#34; title=&#34;SCinet, a privileged few&#34;&gt;opportunities&lt;/a&gt; I have had in my career, NFD is fairly unique in that it is constantly evolving in both the information provided and the individuals involved. As the saying goes, variety is the spice of life. I&amp;rsquo;m particularly excited about the presentations and have been looking forward to talking to a few of the participant companies for a while. There is a tight line up for NFD9, but I am very intrigued as I am either unfamiliar or have been looking for more information about several of them for quite some time now. &lt;a href=&#34;http://netbeez.net/&#34;&gt;NetBeez&lt;/a&gt; is  an interesting one, they provide a service not unlike a project I&amp;rsquo;ve been working with for years called &lt;a href=&#34;https://www.perfsonar.net/&#34;&gt;perfSonar&lt;/a&gt;. The data that these kind of projects provide is absolutely invaluable, so I&amp;rsquo;m very interested in NetBeez and how they&amp;rsquo;re accomplishing their tasks and presenting their data. I met with and &lt;a href=&#34;http://www.forwardingplane.net/2014/04/blending-the-network-pluribus-serverswitch/&#34;&gt;wrote about&lt;/a&gt; &lt;a href=&#34;http://www.pluribusnetworks.com/&#34;&gt;Pluribus Networks&lt;/a&gt; at (and around the time of) &lt;a href=&#34;http://techfieldday.com/event/nfd7/&#34;&gt;NFD7&lt;/a&gt;. I was impressed then and I&amp;rsquo;m impressed now. I see a great value in what they&amp;rsquo;re doing for so many practical applications and am very anxious to see what they&amp;rsquo;ve added, changed or tweaked since our last meeting roughly a year ago. &lt;a href=&#34;http://cumulusnetworks.com/&#34;&gt;Cumulus networks&lt;/a&gt; is another one I&amp;rsquo;ve been wanting to get lab time with since they came out. I am looking forward to having them in a room, they&amp;rsquo;re doing something to networking that, like Pluribus, is pretty unique and arguably game changing. At then end of the day, though, the best part of this is not that there are a few interesting topics, it is the fact that all of the topics and players are unique, top shelf and potentially game changing. It&amp;rsquo;s essentially an all star lineup (again) with the likes of &lt;a href=&#34;http://www.brocade.com&#34;&gt;Brocade&lt;/a&gt;, &lt;a href=&#34;http://www.solarwinds.com/&#34;&gt;Solarwinds&lt;/a&gt;, &lt;a href=&#34;http://www.nec.com&#34;&gt;NEC&lt;/a&gt;, &lt;a href=&#34;http://www.velocloud.com/&#34;&gt;VeloCloud&lt;/a&gt; and &lt;a href=&#34;http://www.cloudgenix.com/&#34;&gt;Cloudgenix&lt;/a&gt;. This entire line up is right up my alley, as a large number of them are WAN or SDN oriented, which is where I spend the majority of my normal working days. In addition to all of that, I&amp;rsquo;ll finally get to meet &lt;a href=&#34;http://twitter.com/networkingnerd&#34;&gt;NetworkingNerd&lt;/a&gt; in real life.&lt;/p&gt;
</description>
    </item>
    
    <item>
      <title>Why you don&#39;t need a firewall [how to secure an open perimeter network]</title>
      <link>https://forwardingplane.net/post/why-you-dont-need-a-firewall-how-to-secure-an-open-perimeter-network/</link>
      <pubDate>Mon, 08 Sep 2014 07:30:07 +0000</pubDate>
      
      <guid>https://forwardingplane.net/post/why-you-dont-need-a-firewall-how-to-secure-an-open-perimeter-network/</guid>
      <description>&lt;p&gt;I admit that the title was meant to be inflammatory.  However, there are use cases that aren&amp;rsquo;t terribly uncommon where an in-line security appliance is just not the correct tool for the job.  Someone once told me &amp;ldquo;a firewall protects a network like a fuse protects an electrical circuit&amp;rdquo;, and it&amp;rsquo;s mostly a correct statement. Firewall vendors will probably argue this and enterprise folks may discount this as heresy and call for burning me at the stake.  I can say, though, that the use of a firewall, IPS or other inline security appliance has presented many problems in many environments in my years as a network and security engineer and architect.    To that end, there are mechanisms for replacing the functions of a firewall and IPS with other options, which in many cases have a lower capital expense [although they may have a higher &lt;em&gt;initial&lt;/em&gt; operational expense].  I&amp;rsquo;ll outline them here, but before I do I want to re-iterate that NAT (PAT) is not a security tool, it&amp;rsquo;s a translation tool.  Nothing more.  So, I will leave that out.  If you don&amp;rsquo;t have appropriate IPv4 or IPv6 address space some of these things may need adjustments although they are still accomplishable by doing NAT on a border Layer 3 device.     Below is a talk that I gave at BroCon14 that is a rough outline of how to do this, if you don&amp;rsquo;t want to spend 30 minutes listening to me talk about it, the clifs notes are bulleted below, but the context is all in the video so I encourage you to watch it before responding to my post. For those that want to take a look, here is the talk. Here are the bullets.&lt;/p&gt;

&lt;ul&gt;
&lt;li&gt;&lt;strong&gt;Announce only necessary resources &lt;/strong&gt;&lt;/li&gt;
&lt;/ul&gt;

&lt;p&gt;One can utilize routing to only expose the pieces of the network that need to be exposed.  If you have a /16 and on;y a /24 needs to be exposed, only announce that prefix.  This is not that different than a typical DMZ.&lt;/p&gt;

&lt;ul&gt;
&lt;li&gt;&lt;strong&gt;Filter access to network, storage and management hardware&lt;/strong&gt;&lt;/li&gt;
&lt;/ul&gt;

&lt;p&gt;Utilize best practice ingress filtering.  Follow &lt;a href=&#34;http://tools.ietf.org/html/bcp38&#34;&gt;BCP38&lt;/a&gt;. You should be doing this anyway.&lt;/p&gt;

&lt;ul&gt;
&lt;li&gt;&lt;strong&gt;Utilize host based firewalls&lt;/strong&gt;&lt;/li&gt;
&lt;/ul&gt;

&lt;p&gt;This is a no-brainer.  Firewall as close to the resource as possible.&lt;/p&gt;

&lt;ul&gt;
&lt;li&gt;&lt;strong&gt;Employ central host management&lt;/strong&gt;&lt;/li&gt;
&lt;/ul&gt;

&lt;p&gt;Make your life easy.  Cloud providers do it and it&amp;rsquo;s well documented nowadays.  There are &lt;a href=&#34;http://cfengine.com/&#34;&gt;many&lt;/a&gt; &lt;a href=&#34;http://puppetlabs.com/&#34;&gt;options&lt;/a&gt;.&lt;/p&gt;

&lt;ul&gt;
&lt;li&gt;&lt;strong&gt;Centralize logging and flow data collection&lt;/strong&gt;&lt;/li&gt;
&lt;/ul&gt;

&lt;p&gt;Another no brainer, you should be doing this anyway.&lt;/p&gt;

&lt;ul&gt;
&lt;li&gt;&lt;strong&gt;Create baselines for traffic and activity&lt;/strong&gt;&lt;/li&gt;
&lt;/ul&gt;

&lt;p&gt;Data is good.  Knowledge is power.  Baselines are useful for both anomaly detection and forecasting and it&amp;rsquo;s not that hard to do it.&lt;/p&gt;

&lt;ul&gt;
&lt;li&gt;&lt;strong&gt;Deploy and tune IDS&lt;/strong&gt;&lt;/li&gt;
&lt;/ul&gt;

&lt;p&gt;Passive IDS system[s] off of a TAP or SPAN are key to this kind of architecture.  See video for more details but there are a bunch of good options. I prefer &lt;a href=&#34;http://www.bro.org&#34;&gt;Bro IDS&lt;/a&gt; but there are many players both commercial and FOSS.&lt;/p&gt;

&lt;ul&gt;
&lt;li&gt;&lt;strong&gt;Filter with black hole routing&lt;/strong&gt;&lt;/li&gt;
&lt;/ul&gt;

&lt;p&gt;I&amp;rsquo;ve &lt;a href=&#34;http://www.forwardingplane.net/2011/10/black-hole-routing/&#34; title=&#34;Black Hole routing&#34;&gt;talked about this before&lt;/a&gt;.  Automating this is key to making it function efficiently and it is a fantastic tool.  This can be done with BGP (traditionally) or with something innovative like OpenFlow.&lt;/p&gt;

&lt;ul&gt;
&lt;li&gt;&lt;strong&gt;Make use of regularly scheduled external vulnerability scanning&lt;/strong&gt;&lt;/li&gt;
&lt;/ul&gt;

&lt;p&gt;This is a great way to verify your exposure and works for any sized network.  Highly recommended.&lt;/p&gt;

&lt;p&gt;  Clearly this isn&amp;rsquo;t for everyone, and that&amp;rsquo;s ok.  For anyone that has struggled with issues involving security appliances either based on protocol, horsepower or interface speeds, there are options.&lt;/p&gt;
</description>
    </item>
    
    <item>
      <title>Aging hardware, IPv6 and the growing route table</title>
      <link>https://forwardingplane.net/post/aging-hardware-ipv6-and-the-growing-route-table/</link>
      <pubDate>Wed, 13 Aug 2014 05:00:56 +0000</pubDate>
      
      <guid>https://forwardingplane.net/post/aging-hardware-ipv6-and-the-growing-route-table/</guid>
      <description>&lt;p&gt;I&amp;rsquo;ve &lt;a href=&#34;http://www.forwardingplane.net/2014/03/bgp-tools-troubleshooting-and-monitoring-external-routing-in-a-nutshell/&#34; title=&#34;BGP tools; troubleshooting and monitoring external routing in a nutshell&#34;&gt;blathered on about BGP&lt;/a&gt; &lt;a href=&#34;http://www.forwardingplane.net/2013/03/tuning-bgp-installed-ipv6-routes/&#34; title=&#34;Tuning BGP installed IPv6 routes&#34;&gt;forever&lt;/a&gt;.  Say what you will about the venerable protocol, it runs the interwebs, is reliable, extendable and well documented.  I&amp;rsquo;ve also &lt;a href=&#34;http://www.forwardingplane.net/2013/03/my-sdn-soapbox-now-with-ipv6/ &amp;quot;My SDN soapbox (now with IPv6!&#34;&gt;espoused&lt;/a&gt;&amp;rdquo;) &lt;a href=&#34;http://www.forwardingplane.net/2011/07/joint-techs-summer-2011-ipv6-talks/&#34; title=&#34;Joint Techs Summer 2011 IPv6 talks&#34;&gt;ad nauseam&lt;/a&gt; &lt;a href=&#34;http://www.forwardingplane.net/2011/03/ipv6-features-matrix-for-network-hardware/&#34; title=&#34;IPv6 Features matrix for Network Hardware&#34;&gt;about&lt;/a&gt; &lt;a href=&#34;http://www.forwardingplane.net/2012/11/and-a-purple-pony/&#34; title=&#34;And a purple pony.&#34;&gt;IPv6&lt;/a&gt;, so none of this [admitted] rant should really be a surprise coming from me. As of 8/12/2014, according to the &lt;a href=&#34;http://www.cidr-report.org/as2.0/#General_Status&#34;&gt;CIRD report&lt;/a&gt; (and many mailing lists), the &lt;a href=&#34;http://en.wikipedia.org/wiki/Default-free_zone&#34;&gt;default free&lt;/a&gt; global ipv4 routing table has reached 512k routes.  This is a milestone from many perspectives, but more importantly, it solidifies the fact that there is a great deal of equipment in critical points in the internet that is out of date and cannot perform as intended in its current configuration or function. &lt;a href=&#34;http://www.forwardingplane.net/wp-content/uploads/2014/08/8-12-2014-plot.png&#34;&gt;&lt;img src=&#34;http://www.forwardingplane.net/wp-content/uploads/2014/08/8-12-2014-plot.png&#34; alt=&#34;8-12-2014-plot&#34; /&gt;&lt;/a&gt; This is a problem.  This is a problem for old hardware.  This is a problem for anyone that says their border router is &amp;ldquo;good enough&amp;rdquo;, and expects to take a default free table.  It&amp;rsquo;s a problem for anyone that wants to be multihomed on sub-par hardware.  I don&amp;rsquo;t think that many engineers would be surprised at how common this really is because network hardware is expensive, especially appropriate hardware that runs at site borders and in internet backbones, and by nature network engineer want to &amp;ldquo;make things work&amp;rdquo;.  I assert, however, that this may not be the best idea. The increased size of the default free zone has been forecasted for &lt;strong&gt;&lt;em&gt;years,&lt;/em&gt;&lt;/strong&gt;and with the inclusion of the 16k of ipv6 prefixes (&lt;a href=&#34;http://www.forwardingplane.net/2013/08/the-sad-state-of-ipv6-and-why-you-need-to-learn-it/&#34; title=&#34;The sad state of IPv6 and why you need to learn it.&#34;&gt;you are running IPv6&lt;/a&gt;, &lt;strong&gt;&lt;em&gt;right&lt;/em&gt;&lt;/strong&gt;?), resources quickly become exhausted on aging hardware.  This causes a cascading problem.  Forget the odd issues seen by not having enough TCAM to house the entire default free ipv4 table.  That problem is a haymaker swing that was telegraphed &lt;strong&gt;&lt;em&gt;long&lt;/em&gt;&lt;/strong&gt; ago and should have been coming; that ship has sailed. The bigger problem is that in flurrying around to deal with smaller TCAM sizes on gear that should have been replaced years ago, one course of action is to  repartition the TCAM, stripping away space allocated for IPv6 and allocating it to IPv4 in order to remain &amp;ldquo;default free&amp;rdquo; v4 tables.  I know because I&amp;rsquo;ve had to do this.  And it sucked. Personally, I felt a little like a sell out since I was robbing Peter to pay Paul and keep our &amp;ldquo;beloved&amp;rdquo; IPv4 running at the expense of the protocol we should have been migrated to years before but could not due to fear, uncertainty, doubt and, frankly, sheer laziness on the part of executives, developers, vendors and engineers. Blech.  I don not even like typing that.  We, I promise you,  in come cases are prolonging the deployment of IPv6 in favor of keeping v4 working due to this limitation.  And it stinks.  Like a skunk. Dipped in sewage. Wrapped in garbage.  Blown through an onion. It&amp;rsquo;s a banner day, make no mistake.  512k ipv4 routes in the global default free ipv4 table is a milestone.  However, lets not forget that much of the pain involved in expanding the ability to use more v4 would probably have been better served in expanding ipv6 support.  Be a catalyst for change and start learning and evangelizing IPv6. I often have a thought when discussing the merits of ipv6 with anyone that is arguing as to why they don&amp;rsquo;t want or need to deploy it: Would the internet/their network be a better place if we spent as much time making ipv6 work instead of going well out of our way to work around it? &lt;end rant&gt; =)&lt;/p&gt;
</description>
    </item>
    
    <item>
      <title>NIX4NetEng 2 IPv4/6 address investigation tools - whois &#43; dig</title>
      <link>https://forwardingplane.net/post/nix4neteng-2-ipv46-address-investigation-tools-whois-dig/</link>
      <pubDate>Sat, 07 Jun 2014 19:54:41 +0000</pubDate>
      
      <guid>https://forwardingplane.net/post/nix4neteng-2-ipv46-address-investigation-tools-whois-dig/</guid>
      <description>

&lt;p&gt;I don&amp;rsquo;t care what your vendor alignment of choice is, Cisco, Juniper, Brocade, Alcatel&amp;hellip;.it doesn&amp;rsquo;t matter. At one point or another you&amp;rsquo;re going to need to bird dog an address to see where it&amp;rsquo;s coming from, who owns it, what it&amp;rsquo;s DNS name is or what path you&amp;rsquo;re taking to get to it.  We&amp;rsquo;ve already talked about &lt;a href=&#34;http://www.forwardingplane.net/2014/03/bgp-tools-troubleshooting-and-monitoring-external-routing-in-a-nutshell/&#34; title=&#34;BGP tools; troubleshooting and monitoring external routing in a nutshell&#34;&gt;BGP tools&lt;/a&gt;, they&amp;rsquo;re a great choice for checking routes across the internet. Hunting down addresses is an interesting one, though, as address management and lookups  can bleed into other aspects of networking like path selection, latency, jitter and many other things.  I&amp;rsquo;m going to touch on a few things and give generalizations on a few others.  First, querying where things originate and who has ownership is infinitely useful, especially if your job description has &amp;ldquo;security&amp;rdquo; anywhere in it, written or implied.  I like to use a range of services, all of which are from the CLI (for speed and scriptability).  My go-to tools for this are the venerable &lt;a href=&#34;http://en.wikipedia.org/wiki/Whois&#34;&gt;whois&lt;/a&gt; and dig tools. Lets say I want to check on the address 192.80.96.88. First, lets figure out if it&amp;rsquo;s got a name.  dig is your friend here.```
(~) jumphost $ dig -x 192.80.96.88
; &amp;lt;&amp;lt;&amp;gt;&amp;gt; DiG 9.8.3-P1 &amp;lt;&amp;lt;&amp;gt;&amp;gt; -x 192.80.96.88
;; global options: +cmd
;; Got answer:
;; -&amp;gt;&amp;gt;HEADER&amp;lt;&amp;lt;- opcode: QUERY, status: NOERROR, id: 29443
;; flags: qr rd ra; QUERY: 1, ANSWER: 1, AUTHORITY: 0, ADDITIONAL: 0
;; QUESTION SECTION:
;88.96.80.192.in-addr.arpa. IN PTR
;; ANSWER SECTION:
88.96.80.192.in-addr.arpa. 7145 IN PTR local.forwardingplane.net.
;; Query time: 2 msec
;; SERVER: 10.209.209.1#53(10.209.209.1)
;; WHEN: Sat May 31 11:43:18 2014
;; MSG SIZE rcvd: 82&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre style=&#34;color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4&#34;&gt;&lt;code class=&#34;language-Dig is an incredibly powerful DNS tool. I&#39;d recommend learning it as well as you possibly can. [_man dig_](http://linux.die.net/man/1/dig) on any good unix box should give you a good start, [this site](http://www.thegeekstuff.com/2012/02/dig-command-examples/) has some good examples too, I can&#39;t even scratch the surface of how useful DNS tools are, probably a great subject for another NIX4NetEng.  Here we see that the address has reverse DNS (PTR record) of local.forwardingplane.net.  We can poke a bit more at this using DNS, too.```&#34; data-lang=&#34;Dig is an incredibly powerful DNS tool. I&#39;d recommend learning it as well as you possibly can. [_man dig_](http://linux.die.net/man/1/dig) on any good unix box should give you a good start, [this site](http://www.thegeekstuff.com/2012/02/dig-command-examples/) has some good examples too, I can&#39;t even scratch the surface of how useful DNS tools are, probably a great subject for another NIX4NetEng.  Here we see that the address has reverse DNS (PTR record) of local.forwardingplane.net.  We can poke a bit more at this using DNS, too.```&#34;&gt;(~) jumphost $ dig -t ANY local.forwardingplane.net +noall +answer

; &amp;lt;&amp;lt;&amp;gt;&amp;gt; DiG 9.8.3-P1 &amp;lt;&amp;lt;&amp;gt;&amp;gt; -t ANY local.forwardingplane.net +noall +answer
;; global options: +cmd
local.forwardingplane.net. 221 IN AAAA 2607:dd00:8000:18::88
local.forwardingplane.net. 221 IN A 192.80.96.88&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;Well, we can see here we have a dual stacked host.  We&amp;rsquo;ll look at that more later. Let&amp;rsquo;s see who owns this address space. Whois is the way to go here.  I always start with querying ARIN and go from there.  ```
(~) jumphost $ whois -h whois.arin.net 192.80.96.88&lt;/p&gt;

&lt;p&gt;#&lt;/p&gt;

&lt;h1 id=&#34;arin-whois-data-and-services-are-subject-to-the-terms-of-use&#34;&gt;ARIN WHOIS data and services are subject to the Terms of Use&lt;/h1&gt;

&lt;h1 id=&#34;available-at-https-www-arin-net-whois-tou-html&#34;&gt;available at: &lt;a href=&#34;https://www.arin.net/whois_tou.html&#34;&gt;https://www.arin.net/whois_tou.html&lt;/a&gt;&lt;/h1&gt;

&lt;p&gt;#&lt;/p&gt;

&lt;p&gt;#&lt;/p&gt;

&lt;h1 id=&#34;query-terms-are-ambiguous-the-query-is-assumed-to-be&#34;&gt;Query terms are ambiguous.  The query is assumed to be:&lt;/h1&gt;

&lt;h1 id=&#34;n-192-80-96-88&#34;&gt;&amp;ldquo;n 192.80.96.88&amp;rdquo;&lt;/h1&gt;

&lt;p&gt;#&lt;/p&gt;

&lt;h1 id=&#34;use-to-get-help&#34;&gt;Use &amp;ldquo;?&amp;rdquo; to get help.&lt;/h1&gt;

&lt;p&gt;#&lt;/p&gt;

&lt;p&gt;#&lt;/p&gt;

&lt;h1 id=&#34;the-following-results-may-also-be-obtained-via&#34;&gt;The following results may also be obtained via:&lt;/h1&gt;

&lt;h1 id=&#34;http-whois-arin-net-rest-nets-q-192-80-96-88-showdetails-true-showarin-false-ext-netref2&#34;&gt;&lt;a href=&#34;http://whois.arin.net/rest/nets;q=192.80.96.88?showDetails=true&amp;amp;showARIN=false&amp;amp;ext=netref2&#34;&gt;http://whois.arin.net/rest/nets;q=192.80.96.88?showDetails=true&amp;amp;showARIN=false&amp;amp;ext=netref2&lt;/a&gt;&lt;/h1&gt;

&lt;p&gt;#&lt;/p&gt;

&lt;p&gt;NetRange:       192.80.96.0 - 192.80.111.255
CIDR:           192.80.96.0/20
OriginAS:       AS10932
NetName:        UC2B-1
NetHandle:      NET-192-80-96-0-1
Parent:         NET-192-0-0-0-0
NetType:        Direct Allocation
RegDate:        2013-02-27
Updated:        2013-02-27
Ref:            &lt;a href=&#34;http://whois.arin.net/rest/net/NET-192-80-96-0-1&#34;&gt;http://whois.arin.net/rest/net/NET-192-80-96-0-1&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;OrgName:        UC2B
OrgId:          CCLAUBBC
Address:        102 North Neil Street
City:           Champaign
StateProv:      IL
PostalCode:     61820
Country:        US
RegDate:        2012-02-28
Updated:        2014-02-19
Ref:            &lt;a href=&#34;http://whois.arin.net/rest/org/CCLAUBBC&#34;&gt;http://whois.arin.net/rest/org/CCLAUBBC&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;OrgAbuseHandle: UCBTE-ARIN
OrgAbuseName:   uc2b-tech
OrgAbusePhone:  +1-217-265-4226
OrgAbuseEmail:  uc2b-tech@uc2b.net
OrgAbuseRef:    &lt;a href=&#34;http://whois.arin.net/rest/poc/UCBTE-ARIN&#34;&gt;http://whois.arin.net/rest/poc/UCBTE-ARIN&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;OrgNOCHandle: UCBTE-ARIN
OrgNOCName:   uc2b-tech
OrgNOCPhone:  +1-217-265-4226
OrgNOCEmail:  uc2b-tech@uc2b.net
OrgNOCRef:    &lt;a href=&#34;http://whois.arin.net/rest/poc/UCBTE-ARIN&#34;&gt;http://whois.arin.net/rest/poc/UCBTE-ARIN&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;OrgTechHandle: UCBTE-ARIN
OrgTechName:   uc2b-tech
OrgTechPhone:  +1-217-265-4226
OrgTechEmail:  uc2b-tech@uc2b.net
OrgTechRef:    &lt;a href=&#34;http://whois.arin.net/rest/poc/UCBTE-ARIN&#34;&gt;http://whois.arin.net/rest/poc/UCBTE-ARIN&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;#&lt;/p&gt;

&lt;h1 id=&#34;arin-whois-data-and-services-are-subject-to-the-terms-of-use-1&#34;&gt;ARIN WHOIS data and services are subject to the Terms of Use&lt;/h1&gt;

&lt;h1 id=&#34;available-at-https-www-arin-net-whois-tou-html-1&#34;&gt;available at: &lt;a href=&#34;https://www.arin.net/whois_tou.html&#34;&gt;https://www.arin.net/whois_tou.html&lt;/a&gt;&lt;/h1&gt;

&lt;p&gt;#&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre style=&#34;color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4&#34;&gt;&lt;code class=&#34;language-The first 7 lines of this are the most important. Here we can see that the address space is owned by an entity called [UC2B](http://www.uc2b.net), it is part of a /20 that the origin ASN is 10932 and that it is a direct allocation (as opposed to assigned space from an upstream provider).```&#34; data-lang=&#34;The first 7 lines of this are the most important. Here we can see that the address space is owned by an entity called [UC2B](http://www.uc2b.net), it is part of a /20 that the origin ASN is 10932 and that it is a direct allocation (as opposed to assigned space from an upstream provider).```&#34;&gt;NetRange:       192.80.96.0 - 192.80.111.255
CIDR:           192.80.96.0/20
OriginAS:       AS10932
NetName:        UC2B-1
NetHandle:      NET-192-80-96-0-1
Parent:         NET-192-0-0-0-0
NetType:        Direct Allocation&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;I could tell you some horror stories about getting this address space assigned. It took me 7 months to get that allocation from ARIN&amp;hellip;&amp;hellip;.but I digress.  From here we can query the ASN, also using whois, again, the first few lines are generally the most useful.```
(~) jumphost $ whois -h whois.arin.net 10932
ASNumber: 10932
ASName: UC2B
ASHandle: AS10932
RegDate: 2012-06-28
Updated: 2012-06-28
Ref: &lt;a href=&#34;http://whois.arin.net/rest/asn/AS10932&#34;&gt;http://whois.arin.net/rest/asn/AS10932&lt;/a&gt;&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre style=&#34;color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4&#34;&gt;&lt;code class=&#34;language-We can use this information to track down responsible parties, addresses, etc.  It&#39;s a great resource for knowing both technical and non-technical details about address space. [Team Cymru has an extremely powerful whois service](http://www.team-cymru.org/Services/ip-to-asn.html#whois) that allows for significantly more flexibility including time and date.```&#34; data-lang=&#34;We can use this information to track down responsible parties, addresses, etc.  It&#39;s a great resource for knowing both technical and non-technical details about address space. [Team Cymru has an extremely powerful whois service](http://www.team-cymru.org/Services/ip-to-asn.html#whois) that allows for significantly more flexibility including time and date.```&#34;&gt;(~) jumphost $ whois -h whois.cymru.com &amp;#34; -v 192.80.96.88&amp;#34;
AS      | IP               | BGP Prefix          | CC | Registry | Allocated  | AS Name
10932   | 192.80.96.88     | 192.80.96.0/20      | US | arin     | 2013-02-27 | UC2B - UC2B,US&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;As you can imagine, this can be a robust way to track changes and re-allocations of ASNs and address blocks, especially with the dwindling amounts of IPv4 and the re-assignment of ASNs.  One can see when ownership has changed and verify the correct origin of address blocks.  Great for validation and correlation. These services also work for IPv6. We can see if the V6 space is coming from the same ASN or if it&amp;rsquo;s a different entity (like a &lt;a href=&#34;http://www.tunnelbroker.net&#34;&gt;tunnel&lt;/a&gt; or a totally different provider).&lt;code&gt;
\[buraglio@local ~\]$ whois -h whois.cymru.com &amp;quot; -v 2607:dd00:8000:18::88&amp;quot;
\[Querying whois.cymru.com\]
\[whois.cymru.com\]
AS      | IP                                       | BGP Prefix          | CC | Registry | Allocated  | AS Name
10932   | 2607:dd00:8000:18::88                    | 2607:dd00::/32      | US | arin     | 2012-07-23 | UC2B - UC2B,US
&lt;/code&gt; &lt;/p&gt;

&lt;p&gt;This is really just the tip of the iceberg in this kind of toolset.  There are &lt;em&gt;countless&lt;/em&gt; scripts, binaries and  shell hacks to do no end of interesting and useful things and gather information.  Have some other, better uses or tools?  Post them in the comments!&lt;/p&gt;
</description>
    </item>
    
    <item>
      <title>Blending the Network; Pluribus ServerSwitch</title>
      <link>https://forwardingplane.net/post/blending-the-network-pluribus-serverswitch/</link>
      <pubDate>Mon, 21 Apr 2014 04:44:30 +0000</pubDate>
      
      <guid>https://forwardingplane.net/post/blending-the-network-pluribus-serverswitch/</guid>
      <description>

&lt;p&gt;I firmly believe that blending disciplines is the way of the future in IT. I&amp;rsquo;ve rambled about it here at &lt;a href=&#34;http://packetpushers.net/are-certifications-tests-still-worth-your-resources-in-the-day-of-hybrid-it/&#34;&gt;other venues&lt;/a&gt; and I&amp;rsquo;m vocal (some would probably say brash) about it on the &lt;a href=&#34;http://www.twitter.com/buraglio&#34;&gt;twitters&lt;/a&gt;.  Be it Networking and System, Systems and Security, Programming and Networking, most of us that have been around any length of time already do it but now it&amp;rsquo;s happening out in the open and &amp;ldquo;&lt;a href=&#34;http://en.wikipedia.org/wiki/DevOps&#34;&gt;DevOps&lt;/a&gt;&amp;rdquo;, a form of the hybrid IT worker, has seemingly become the BOTD (Buzzword of the day). With &amp;ldquo;&lt;em&gt;hybrid&lt;/em&gt;&amp;rdquo; in mind, it was very apt that &lt;a href=&#34;http://www.pluribusnetworks.com/&#34;&gt;Pluribus Networks&lt;/a&gt; presented an intriguing spin on &amp;ldquo;&lt;em&gt;hybrid&lt;/em&gt;&amp;rdquo; from the hardware point of view at &lt;a href=&#34;http://techfieldday.com/event/nfd7/&#34;&gt;Network Field Day 7&lt;/a&gt;.  Remember the days or routers &lt;em&gt;or&lt;/em&gt; switches? Sure you do. Then along came the L3 Switch and shook everything up.  Now you could do both on the same box simplifying OPEX and potentially CAPEX as well as maintenance fees. It became possible to simplify the architecture and even to to collapse it if so desired.  I certainly did not expect to see anything like that in Pluribus.  In fact, to be honest, I really was not sure what to expect.&lt;/p&gt;

&lt;p&gt;&lt;a href=&#34;http://www.forwardingplane.net/wp-content/uploads/2014/04/PBNet.png&#34;&gt;&lt;img src=&#34;http://www.forwardingplane.net/wp-content/uploads/2014/04/PBNet.png&#34; alt=&#34;PBNet&#34; /&gt;&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;What pluribus brings is merchant based hardware but it has a spin that I  didn&amp;rsquo;t see coming.  A pretty innovative one, too. What others began by creating flexible, programmable and highly resilient OSs and/or feature rich hardware without big name fuss (and prices to accompany said fuss), &lt;a href=&#34;http://www.pluribusnetworks.com/&#34;&gt;Pluribus&lt;/a&gt; has evolved one step further, added some serious steroids to the hardware and infused very flexible OS with many management vectors (CLI, API, GUI and even good &amp;lsquo;ol UNIX commands).  &lt;img src=&#34;http://www.forwardingplane.net/wp-content/uploads/2014/03/800px-1968_El_Camino.jpg&#34; alt=&#34;800px-1968_El_Camino&#34; /&gt; Like a Reese&amp;rsquo;s peanut butter cup, Pluribus has blended two things that seem to work well together: a &lt;a href=&#34;http://www.pluribusnetworks.com/products/freedom-server-switch-line/&#34;&gt;powerful server platform&lt;/a&gt; for processing and potentially acting on massive amounts of data and a merchant based silicon switch with a good number of fast interfaces.  It&amp;rsquo;s a software driven hardware solution.  A host router, but so much more.  I&amp;rsquo;ve long thought that host based routing and switching was a powerful tool, having worked on several &lt;a href=&#34;http://www.pfsense.org&#34;&gt;open source platforms&lt;/a&gt; that do just that.  However, the issues that inevitably came up were a lack of commercial hardware and software support, a structured, well defined market or the risk of the fracture of a community based product.  This provides answers to all of those concerns and offers a unique product to boot.&lt;/p&gt;

&lt;h2 id=&#34;swerver&#34;&gt;&lt;em&gt;&amp;ldquo;Swerver&amp;rdquo;  &lt;/em&gt;&lt;/h2&gt;

&lt;p&gt;That&amp;rsquo;s the word that jumps into my brain when I try to categorize this nifty hybrid.  It&amp;rsquo;s a server, no it&amp;rsquo;s a switch no it&amp;rsquo;s a server &amp;hellip;It&amp;rsquo;s like an &lt;a href=&#34;http://en.wikipedia.org/wiki/Chevrolet_El_Camino&#34;&gt;El Camino&lt;/a&gt; (or &lt;a href=&#34;http://en.wikipedia.org/wiki/Ford_Ranchero‎&#34;&gt;Ford Ranchero&lt;/a&gt;, depending on your persuasion), &amp;ldquo;Is it a car? Is it a Truck?&amp;rdquo; &amp;ldquo;Yes.&amp;rdquo; Pluribus presents some interesting questions about how we can blend the network and systems into a more flexible platform with their server switch platform, creating an &lt;em&gt;infrastructure&lt;/em&gt; fabric as opposed to a &amp;ldquo;series of tubes&amp;rdquo; that &amp;ldquo;servers&amp;rdquo; connect to.  Their software suite is quite robust, too.  Anything from NAS to CDN, NAT to L3.  Oh, and they can run VMs, too.  I&amp;rsquo;m thinking a Bro IDS node, a blackhole router and a perfsonar node running right in the network fabric.  Very thought provoking stuff. I like to see ideas, products and people that lay it all out there and try to transform, to evoke thoughts and try to foster change.  This does that.  You can check out the videos from NFD7 &lt;a href=&#34;http://techfieldday.com/appearance/pluribus-networks-presents-at-networking-field-day-7/&#34;&gt;here&lt;/a&gt;.  I &lt;strong&gt;&lt;em&gt;dare&lt;/em&gt;&lt;/strong&gt; you to tell me you can not think of a use for something like this. &lt;a href=&#34;http://commons.wikimedia.org/wiki/File:1968_El_Camino.jpg&#34;&gt;El Camino Image Reference via WikiPedia&lt;/a&gt; Freedom Line image source Pluribus Networks   &lt;a href=&#34;http://www.forwardingplane.net/about/disclaimer/&#34;&gt;Standard Disclaimer&lt;/a&gt;&lt;/p&gt;
</description>
    </item>
    
    <item>
      <title>BGP tools; troubleshooting and monitoring external routing in a nutshell</title>
      <link>https://forwardingplane.net/post/bgp-tools-troubleshooting-and-monitoring-external-routing-in-a-nutshell/</link>
      <pubDate>Fri, 21 Mar 2014 04:51:06 +0000</pubDate>
      
      <guid>https://forwardingplane.net/post/bgp-tools-troubleshooting-and-monitoring-external-routing-in-a-nutshell/</guid>
      <description>&lt;p&gt;Time to rewind from the new and shiny and get back to roots of networking. &lt;a href=&#34;http://en.wikipedia.org/wiki/Border_Gateway_Protocol&#34;&gt;BGP&lt;/a&gt; is one of those odd protocols that is foundational to the functioning of the internet but yet somewhat hard to get experience with.  Say what you will about this venerable protocol, it&amp;rsquo;s been here a while and it is not going anywhere any time soon. I&amp;rsquo;ve been doing BGP since around late 1999, and I completely fell into it by accident, having only the Cisco &lt;a href=&#34;http://www.amazon.com/Internet-Routing-Architectures-2nd-Edition/dp/157870233X&#34;&gt;Internet Routing Architectures&lt;/a&gt; book (which I literally read cover to cover) and the &lt;a href=&#34;http://www.amazon.com/IP-Routing-Protocols-OSPF-Cisco/dp/0130142484/ref=la_B001HCXUMA_1_1?s=books&amp;amp;ie=UTF8&amp;amp;qid=1395373752&amp;amp;sr=1-1&#34;&gt;Ulysses Black Routing Protocols Book&lt;/a&gt;  and whatever I could find on a random search engine to guide me, and that was only after having to learn on the CLI for the first 6-7 months. In actuality, that is how many of the folks of my vintage came into doing BGP. Someone needed to announce some routes that were allocated to them by an &lt;a href=&#34;https://www.arin.net/knowledge/rirs.html&#34;&gt;RIR&lt;/a&gt;, or bring up some multi-homing or whatever.  Whoever knew how to work on the border device (or was willing to touch arguably the most important device on the network) got to learn how to do it. In 15 years of configuring, monitoring, tweaking, tuning and generally just maintaining BGP across service provider, research, enterprise networks and in labs and test environments, here are the tools I had to find to either put out fires, prevent blazing flames or prove that there is/was no fire. Lets assume that you already have all of the appropriate prefix lists, policy options and route maps in place to filter correctly. You&amp;rsquo;re doing that, right? If not, go do that and then come back to this. It will make your life easier in the long run. All eBGP peerings should have inbound and outbound filters on them. No exceptions. Yes, it can be a pain to maintain but when someone leaks you a full table when you&amp;rsquo;re expecting directly connected, you&amp;rsquo;ll be glad that they&amp;rsquo;re there. See below about automating the filters programatically. Now on to the fun stuff. Look at what the router is sending and receiving.  You know what you&amp;rsquo;re announcing, right? Under Cisco IOS the appropriate commands to display this information will look like this:```
show ip bgp neighbor  received-routes&lt;/p&gt;

&lt;pre&gt;&lt;code&gt;show ip bgp neighbor  advertised-routes
```In JunOS it will look like this:```
show route rec protocol bgp &amp;lt;neighbor&amp;gt;
&lt;/code&gt;&lt;/pre&gt;

&lt;p&gt;show route adv protocol bgp &lt;neighbor&gt;&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre style=&#34;color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4&#34;&gt;&lt;code class=&#34;language-On an Alcatel-Lucent the command will look like this:```&#34; data-lang=&#34;On an Alcatel-Lucent the command will look like this:```&#34;&gt;show router bgp neighbor &amp;lt;neighbor&amp;gt; advertised-routes&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;Brocade has their methods too, it is &lt;em&gt;relatively&lt;/em&gt; similar to IOS. One important thing to note, JunOS requires no difference in the show command for IPv6. IOS and ALU has an additional command to display IPv6 information. IOS-XR may be different still, but I cannot confirm or recall since I have not used it since late 2012 (additions welcome in the comments).  For IPv6 on Cisco IOS and ALU respectively:```
show ipv6 bgp neighbors &lt;neighbor&gt; received-routes | advertised-routes&lt;/p&gt;

&lt;p&gt;show router bgp neighbor &lt;neighbor&gt; advertised-routes ipv6&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre style=&#34;color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4&#34;&gt;&lt;code class=&#34;language-This will provide a view from the street, it will display exactly what your router knows. [Route servers ](http://www.traceroute.org/#Route%20Servers)/ [Looking Glass](http://www.bgp4.as/looking-glasses) --This is your basic  external view. Log in and see what other ASNs know about your routes.  Critically important during those &#34;something is on fire&#34; times mentioned above.  They are maintained by a myriad of entities and positioned all over the globe. [BGPmon](http://www.bgpmon.org) --A project by [Andree Toonk](https://twitter.com/atoonk). Allows for the automatic discovery and monitoring of prefixes, alerting on many, many  attributes such as prefix hijacks.  Free and commercial plans available, but the commercial plans are far more feature rich and well worth it if you monitor large amounts og BGP. [Peermon](https://www.bgpmon.net/new-version-of-bgpmon-net/) --Part of the new and improved BGPmon.  Allows for the on-demand monitoring of prefixes within your network. Very useful for viewing as-path changes of destination networks for long term troubleshooting. [RouteViews](http://www.routeviews.org) -- Great project out of U of Oregon that was (is?) run by the groundbreaking [David Meyer](https://twitter.com/dmm613) of [OpenDaylight](http://www.opendaylight.org/) (and many other things) fame.  Peers with networks and records routing changes, allows for public query and has vast historical data. [bgplay](http://bgplay.routeviews.org/) - Great visualization tool for tracking routing, as-path and prefix announcement changes. This is part of the routeviews project and utilizes their vast historical data.  L=It currently acks IPv6 support and I;m unsure if it is maintained anymore. [Router Proxies](http://routerproxy.grnoc.iu.edu/internet2/) -- This has been a big thing int he R&amp;E world for quite some time.  Other entities may offer it, it&#39;s similar to a looking glass but more easily configured to allow or disallow different show commands.  The [code is open source](http://routerproxy.sourceforge.net/) and pretty easy to hack new commands into or adapt to new platforms (if I can do it anyone can). Lookup tools such as whois.  I find that looking uo ASNs and networks against the ARIN, RIPE and other RIRs is very handy as a starting point.  using CLI commands such as &#34;whois -h whois.arin.net 1224&#34; would display the following information:```&#34; data-lang=&#34;This will provide a view from the street, it will display exactly what your router knows. [Route servers ](http://www.traceroute.org/#Route%20Servers)/ [Looking Glass](http://www.bgp4.as/looking-glasses) --This is your basic  external view. Log in and see what other ASNs know about your routes.  Critically important during those &#34;something is on fire&#34; times mentioned above.  They are maintained by a myriad of entities and positioned all over the globe. [BGPmon](http://www.bgpmon.org) --A project by [Andree Toonk](https://twitter.com/atoonk). Allows for the automatic discovery and monitoring of prefixes, alerting on many, many  attributes such as prefix hijacks.  Free and commercial plans available, but the commercial plans are far more feature rich and well worth it if you monitor large amounts og BGP. [Peermon](https://www.bgpmon.net/new-version-of-bgpmon-net/) --Part of the new and improved BGPmon.  Allows for the on-demand monitoring of prefixes within your network. Very useful for viewing as-path changes of destination networks for long term troubleshooting. [RouteViews](http://www.routeviews.org) -- Great project out of U of Oregon that was (is?) run by the groundbreaking [David Meyer](https://twitter.com/dmm613) of [OpenDaylight](http://www.opendaylight.org/) (and many other things) fame.  Peers with networks and records routing changes, allows for public query and has vast historical data. [bgplay](http://bgplay.routeviews.org/) - Great visualization tool for tracking routing, as-path and prefix announcement changes. This is part of the routeviews project and utilizes their vast historical data.  L=It currently acks IPv6 support and I;m unsure if it is maintained anymore. [Router Proxies](http://routerproxy.grnoc.iu.edu/internet2/) -- This has been a big thing int he R&amp;E world for quite some time.  Other entities may offer it, it&#39;s similar to a looking glass but more easily configured to allow or disallow different show commands.  The [code is open source](http://routerproxy.sourceforge.net/) and pretty easy to hack new commands into or adapt to new platforms (if I can do it anyone can). Lookup tools such as whois.  I find that looking uo ASNs and networks against the ARIN, RIPE and other RIRs is very handy as a starting point.  using CLI commands such as &#34;whois -h whois.arin.net 1224&#34; would display the following information:```&#34;&gt;#
# The following results may also be obtained via:
# http://whois.arin.net/rest/asns;q=1224?showDetails=true&amp;amp;ext=netref2
#
``````
ASNumber: 1224
ASName: NCSA-AS
ASHandle: AS1224
RegDate: 1991-02-25
Updated: 1997-10-27
Ref: http://whois.arin.net/rest/asn/AS1224
``````
OrgName: National Center for Supercomputing Applications
OrgId: NCSA-3
Address: NCSA
Address: 1205 W. Clark St
City: Urbana
StateProv: IL
PostalCode: 61801
Country: US
RegDate: 1990-03-26
Updated: 2011-04-06
Ref: http://whois.arin.net/rest/org/NCSA-3
``````
OrgAbuseHandle: ND63-ORG-ARIN
OrgAbuseName: Network Development
OrgAbusePhone: +1-217-244-0714
OrgAbuseEmail: neteng @ ncsa.illinois.edu
OrgAbuseRef: http://whois.arin.net/rest/poc/ND63-ORG-ARIN
``````
OrgTechHandle: ND63-ORG-ARIN
OrgTechName: Network Development
OrgTechPhone: +1-217-244-0714
OrgTechEmail: neteng @ ncsa.illinois.edu
OrgTechRef: http://whois.arin.net/rest/poc/ND63-ORG-ARIN
``````
RTechHandle: ND63-ORG-ARIN
RTechName: Network Development
RTechPhone: +1-217-244-0714
RTechEmail: neteng @ ncsa.illinois.edu
RTechRef: http://whois.arin.net/rest/poc/ND63-ORG-ARIN
``````
#
# ARIN WHOIS data and services are subject to the Terms of Use
# available at: https://www.arin.net/whois\_tou.html
#&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;Very handy for prefixes and ASNs.  There are also service like the &lt;a href=&#34;https://www.team-cymru.org/Services/ip-to-asn.html&#34;&gt;Team Cymru whois server&lt;/a&gt; that can display date/time based information for forensics and to provide IP to ASN mappings. Also very handy.  I believe this code is also open source. &lt;a href=&#34;http://irrtoolset.isc.org/&#34;&gt;IRR Toolset&lt;/a&gt;.  Extremely handy for automation of routing policy configuration.  I found it a tad painful to set up but it is a useful toolkit. Notable Mention: &lt;a href=&#34;https://ring.nlnog.net/&#34;&gt;NLNog RING&lt;/a&gt;.  &amp;ndash; This is a trust based unix host that provides a &lt;a href=&#34;https://ring.nlnog.net/toolbox/&#34;&gt;large variety of services&lt;/a&gt; to those that qualify for participation.  Very handy when looking for an on-net perspective. Notable Mention / Shameless Plug: &lt;a href=&#34;http://psps.perfsonar.net/toolkit/&#34;&gt;perfSonar toolkit&lt;/a&gt;.  In addition to thewell known performance testing tools, PS provides things like reverse traceroute and other handy networking widgets.  It also has a far lower barrier of entry than the NLNog RING.   There are obviously more ways to do this and there are possibly better ones, too.  This is how I&amp;rsquo;ve done it for a long time and it has mostly worked for me.  I had to learn most of this by trial and error so I thought it maybe useful to throw it all together into one place for future reference.&lt;/p&gt;
</description>
    </item>
    
    <item>
      <title>Tail-F NCS: upsetting network management...in a good way.</title>
      <link>https://forwardingplane.net/post/tail-f-ncs-upsetting-network-management-in-a-good-way/</link>
      <pubDate>Thu, 27 Feb 2014 04:36:26 +0000</pubDate>
      
      <guid>https://forwardingplane.net/post/tail-f-ncs-upsetting-network-management-in-a-good-way/</guid>
      <description>

&lt;p&gt;&lt;em&gt;“Hopefully there are some things here that will make you really upset in a very good way”&lt;/em&gt; is how &lt;a href=&#34;https://twitter.com/cmoberg&#34;&gt;Carl Moberg&lt;/a&gt; of Swedish based company &lt;a href=&#34;http://www.tail-f.com/&#34;&gt;tail-f&lt;/a&gt; opened up to the crowd at &lt;a href=&#34;http://techfieldday.com/event/nfd7/&#34;&gt;Networking Field Day 7&lt;/a&gt; on &lt;a href=&#34;http://techfieldday.com/appearance/tail-f-systems-presents-at-networking-field-day-7/&#34;&gt;Feb 19, 2014&lt;/a&gt;.  Tail-f is a sleeper, I had actually never heard of them before NFD7, but they&amp;rsquo;ve got a very unique product in &lt;a href=&#34;http://www.tail-f.com/network-control-system/&#34;&gt;NCS&lt;/a&gt; and in my opinion it can change the way existing &lt;strong&gt;and&lt;/strong&gt; future networks are managed.  Right now.  It&amp;rsquo;s not a platform that is green, unpolished or unfinished.  &lt;a href=&#34;http://www.tail-f.com/network-control-system/&#34;&gt;NCS&lt;/a&gt; is in the ring and it brought its A-game.   Their site describes it better than I ever could: _&amp;ldquo;Tail-f Network Control System, or NCS, enables network operators to manage all of their services and network devices with a single tool.&amp;ldquo; _A bold statement, and I tend to be pretty skeptical of such statements. However, I was really intrigued by the NCS platform and as I discovered, it is not hype. Watching the demo of this got my brain racing, it was exciting to think about all of the things it could simplify; I was excited about networking.  So many things In fact, I&amp;rsquo;m really just going to scratch the surface of what this software toolkit can tool.&lt;/p&gt;

&lt;blockquote&gt;
&lt;h2 id=&#34;any-network-of-of-ambitious-size-that-needs-to-get-people-out-of-the-loop&#34;&gt;&lt;em&gt;&amp;ldquo;Any network of of ambitious size that needs to get people out of the loop”&lt;/em&gt;&lt;/h2&gt;
&lt;/blockquote&gt;

&lt;p&gt;The CTO says that NCS is for &amp;ldquo;_Any network of of ambitious size that needs to get people out of the loop_”, and I tend to agree, which is what makes this so powerful. In a world of openflow this and sdn that, most of which is still under heavy development, I can&amp;rsquo;t help but think of NCS as a &amp;ldquo;rosetta stone&amp;rdquo; of network management tools. It’s a controller, but in a different way. Its not openflow, but it knows openflow, so it is looking forward, but it also supports everything that is already there, an absolute necessity for 95% of networks that are not greenfield. From the &lt;a href=&#34;http://www.tail-f.com/network-control-system/#which-types-of&#34;&gt;NCS FAQ&lt;/a&gt;:&lt;/p&gt;

&lt;blockquote&gt;
&lt;h2 id=&#34;rose-lg-http-www-forwardingplane-net-wp-content-uploads-2014-02-rose-lg-jpg-http-www-forwardingplane-net-wp-content-uploads-2014-02-rose-lg-jpg-any-device-that-can-be-remotely-configured-can-be-managed-by-ncs-this-includes-routers-switches-load-balancers-firewalls-web-servers-and-a-whole-host-of-other-devices-both-virtual-and-physical-since-it-is-not-limited-to-one-type-of-device-or-particular-vendor-ncs-allows-for-management-of-the-entire-network-from-a-single-pane-of-glass&#34;&gt;_&lt;a href=&#34;http://www.forwardingplane.net/wp-content/uploads/2014/02/rose_lg.jpg&#34;&gt;&lt;img src=&#34;http://www.forwardingplane.net/wp-content/uploads/2014/02/rose_lg.jpg&#34; alt=&#34;rose_lg&#34; /&gt;&lt;/a&gt;&amp;ldquo;Any device that can be remotely configured can be managed by NCS. This includes, routers, switches, load-balancers, firewalls, web servers and a whole host of other devices (both virtual and physical). Since it is not limited to one type of device or particular vendor, NCS allows for management of the entire network from a single pane of glass.&amp;rdquo;_&lt;/h2&gt;
&lt;/blockquote&gt;

&lt;p&gt;Lets face it, network management is not exactly easy to do in a sane and robust way, there are always quirks, one-offs and proprietary goo. That&amp;rsquo;s probably never going to change.  From the open source to the commercial, I&amp;rsquo;ve used, evaluated or extended a wide swath of them in my time in the industry, and this one really shocked me in what it was able to do in such a demonstrably elegant way, which we all know is not an easy task since we all have odd, uncommon or sometimes unreasonable requirements. A few things are really compelling about NCS.  First, it&amp;rsquo;s all &lt;a href=&#34;http://en.wikipedia.org/wiki/YANG&#34;&gt;YANG&lt;/a&gt;, meaning it is an established standard for doing exactly this and it can be referenced by any number of protocols for obtaining or setting the desired data or parameters.  This also means that it can very quickly and easily be extended to support new products, software loads, communications mechanisms and features. Tail-F changed the way I was thinking about network management.  They&amp;rsquo;ve taken the religion out of equipment vendors, because you can choose how to interact with them.  They allow for management of a myriad of platforms from an operator-chosen, familiar CLI.  Have guys that like JunOS?  Great, no problem.  Team members that prefer IOS?  No worries.  They can manage the Alcatel-Lucent, Brocade, Extreme Networks or one of the many other CLI variants from their choice of IOS or JunOS-like command sets.   No longer is it important to understand a particular CLI.  I wish I could have had access to this product 5 years ago when, at a previous job, we introduced JunOS to a team that had been working on IOS and Foundry for the majority of their careers.  It would have solved so many issues and driven the learning curve to nil. The CLI translator is really just the icing.  The configuration validation is immensely powerful and I could easily see it preventing many typos and misconfigurations (you know you&amp;rsquo;ve done it, we all have).  It can also provide compliance reporting, service management and configuration reconciliation, all of which are generally in-house written tools or manually accmplished tasks in my experience. Standardize and deploy ACLs across a range of platforms in geographically diverse areas, provision BGP policy on huge numbers of peers very quickly, reconcile MTUs on interfaces of devices that have been neglected, &lt;a href=&#34;https://wiki.openstack.org/wiki/Neutron/ML2/Tail-f-NCS-neutron-ml2-driver&#34;&gt;interface with OpenStack Neutron&lt;/a&gt;.  The use cases are pretty open ended, really. Anything that needs to be done at scale can be, and it can be error checked in the process. Don&amp;rsquo;t take my word for it, I&amp;rsquo;m clearly excited about it and can&amp;rsquo;t wait to get my hands on it.  Watch the NCS demo: Tail-f Systems NCS Demo at Networking Field Day 7   All of the videos can be found &lt;a href=&#34;http://techfieldday.com/appearance/tail-f-systems-presents-at-networking-field-day-7/&#34;&gt;here&lt;/a&gt;. Rosetta Stone images courtesy of &lt;a href=&#34;http://www.ancientegypt.co.uk/writing/rosetta.html&#34;&gt;http://www.ancientegypt.co.uk/writing/rosetta.html&lt;/a&gt; and &lt;a href=&#34;http://taboodada.wordpress.com/&#34;&gt;http://taboodada.wordpress.com/&lt;/a&gt;&lt;/p&gt;
</description>
    </item>
    
    <item>
      <title>Inline-jflow on MX series Juniper</title>
      <link>https://forwardingplane.net/post/inline-jflow-on-mx-series-juniper/</link>
      <pubDate>Sun, 01 Sep 2013 15:40:29 +0000</pubDate>
      
      <guid>https://forwardingplane.net/post/inline-jflow-on-mx-series-juniper/</guid>
      <description>&lt;p&gt;One of the things that I&amp;rsquo;ve always lamented about using non-Cisco hardware is the lack of true 1:1 &lt;a href=&#34;http://en.wikipedia.org/wiki/Netflow&#34;&gt;netflow&lt;/a&gt; support.  Say what you will about jflow, cflow, sflow&amp;hellip;.there is no substitute for netflow, with sflow being the exception to that since it is a protocol that inherently supports ipv6 and &lt;a href=&#34;http://www.forwardingplane.net/2012/10/host-based-sflow-or-sflow-for-more-than-just-network-traffic/&#34; title=&#34;Host based sflow, or, sflow for more than just network traffic&#34;&gt;can transport far more than simple network information&lt;/a&gt; if configured in certain ways on certain devices. On newer MX series Juniper routers the game has changed.  One to one flow data export (in IPFIX format) is now available, in hardware, for IPv4 and IPv6.  Queue the service providers rejoice.  Configuring this on the MX is a tad more involved than a Cisco, but it&amp;rsquo;s still pretty straightforward. In set commands:```
 buraglio@mx480&amp;gt; show configuration forwarding-options | display set
 set forwarding-options sampling traceoptions file ipfix.log
 set forwarding-options sampling traceoptions file size 10k
 set forwarding-options sampling instance 1to1 input rate 1
 set forwarding-options sampling instance 1to1 family inet output flow-server &lt;br /&gt;
 10.16.120.204 port 9995
 set forwarding-options sampling instance 1to1 family inet output flow-server &lt;br /&gt;
 10.16.120.204 version-ipfix template ipv4
 set forwarding-options sampling instance 1to1 family inet output \
 inline-jflow source-address 10.16.120.1
 set forwarding-options sampling instance 1to1 family inet6 output flow-server \
 10.16.120.204 port 9995
 set forwarding-options sampling instance 1to1 family inet6 output flow-server \
 10.16.120.204 version-ipfix template ipv6
 set forwarding-options sampling instance 1to1 family inet6 output inline-jflow \
 source-address 10.16.120.1&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre style=&#34;color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4&#34;&gt;&lt;code class=&#34;language-Once the forwarding-options are set the chassis hardware has to be told what it can do.  Lets say you want to configure the inline-jflow on interfaces that exist on fpc0 (MPC0):```&#34; data-lang=&#34;Once the forwarding-options are set the chassis hardware has to be told what it can do.  Lets say you want to configure the inline-jflow on interfaces that exist on fpc0 (MPC0):```&#34;&gt;buraglio@ur1rtr&amp;gt; show configuration chassis fpc 0 | display set
set chassis fpc 0 pic 0 tunnel-services bandwidth 1g
set chassis fpc 0 pic 1 tunnel-services bandwidth 1g
set chassis fpc 0 sampling-instance 1to1
set chassis fpc 0 inline-services flow-table-size ipv4-flow-table-size 5
set chassis fpc 0 inline-services flow-table-size ipv6-flow-table-size 5&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;Notice we&amp;rsquo;re referencing the sampling instance we created in the forwarding-options.  This tells the MPC (FPC) and MIC (PIC) that you want a traceoptions file (deactivate this after the setup is all working; I generaly keep a traceoptions section configured but deactivated in nearly every protocol for quick debugging.)  Enables the sampling instance we jut added to the forwarding options and sets the flow collector address and port.  It also sets the protocol as &lt;a href=&#34;http://en.wikipedia.org/wiki/IP_Flow_Information_Export&#34;&gt;IPFIX&lt;/a&gt; (Essentially netflow v9).  Now that we have the framework set up, we need to add the bits to the interface that tell it to sample the traffic```
buraglio@ur1rtr&amp;gt; show configuration interfaces xe-0/0/1 | display set
set interfaces xe-0/0/1 description &amp;ldquo;trib port 1&amp;rdquo;
set interfaces xe-0/0/1 flexible-vlan-tagging
set interfaces xe-0/0/1 encapsulation flexible-ethernet-services
set interfaces xe-0/0/1 unit 105 description &amp;ldquo;Trib peering #1&amp;rdquo;
set interfaces xe-0/0/1 unit 105 vlan-id 1005
set interfaces xe-0/0/1 unit 105 family inet mtu 9000
set interfaces xe-0/0/1 unit 105 family inet sampling input
set interfaces xe-0/0/1 unit 105 family inet address 10.17.120.&lt;sup&gt;1&lt;/sup&gt;&amp;frasl;&lt;sub&gt;30&lt;/sub&gt;
set interfaces xe-0/0/1 unit 105 family inet6 mtu 9000
set interfaces xe-0/0/1 unit 105 family inet6 sampling input
set interfaces xe-0/0/1 unit 105 family inet6 address 2001:DB8:1:dead:beef::&lt;sup&gt;1&lt;/sup&gt;&amp;frasl;&lt;sub&gt;64&lt;/sub&gt;&lt;/p&gt;

&lt;pre&gt;&lt;code&gt;
Point this at your favorite flow collector and reap the benefits of having flow data. As far as collectors there are a lot of options, I prefer [nfdump](http://nfdump.sourceforge.net/)/[nfsen](http://nfsen.sourceforge.net/) because it&#39;s FOSS, very flexible, has [plugins](http://sourceforge.net/apps/trac/nfsen-plugins/) and is well supported, but there are fantastic commercial options for every flavor.  I&#39;ve used the Arbor Peakflow and like it but it has a very expensive licensing model so it is generally deployed in larger environments.   I&#39;ve also heard good things about the [SolarWinds Netflow Analyzer](http://www.solarwinds.com/netflow-traffic-analyzer.aspx) but I&#39;ve never used it. Caveats: On the older ichip platform with the MS-DPC you can view the actual flows on the box itself using the command &amp;lt;command&amp;gt;  much like show cef on a cisco.  I cannot find a way to do that on in the inline-jflow configuration on the trio hardware. This was configured on JunOS 12.3R3.4 on MX480 hardware with MPC3/Trio hardware. I can&#39;t seem to get the IPv6 flow data from the flow records.  I suspect it&#39;s either not in there yet or I&#39;ve configured that part wrong. -----EDIT----- IPv6 flow data is working fine, flows are just being obfuscated by IPv4.  Using nfdump and singling out the IPv6 traffic shows what we expect:```
nfdump -M /home/netflow/profiles-data/testlab/rtr1  -T  -r \\ 
2013/09/03/nfcapd.201309030945 -n 20 -s ip/flows -6
nfdump filter:
inet6
Top 20 IP Addr ordered by flows:

---SNIP---

Summary: total flows: 19222, total bytes: 28.7 M, total packets: \\ 
45173, avg bps: 732, avg pps: 0, avg bpp: 636
Time window: 2013-07-15 16:42:57 - 2013-09-03 09:50:20
Total flows processed: 4134975, Blocks skipped: 0, Bytes read: 281643580
Sys: 1.235s flows/second: 3345958.0  Wall: 1.770s flows/second: 2335921.0
&lt;/code&gt;&lt;/pre&gt;
</description>
    </item>
    
  </channel>
</rss>
