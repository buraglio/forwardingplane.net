<rss version="2.0" xmlns:atom="http://www.w3.org/2005/Atom">
  <channel>
    <title>Routing on ForwardingPlane.net</title>
    <link>https://forwardingplane.net/tags/routing/</link>
    <description>Recent content in Routing on ForwardingPlane.net</description>
    <generator>Hugo -- gohugo.io</generator>
    <language>en-us</language>
    <copyright>Copyright (c) 2019, all rights reserved.</copyright>
    <lastBuildDate>Sun, 30 Jun 2019 02:15:32 +0000</lastBuildDate>
    
        <atom:link href="https://forwardingplane.net/tags/routing/index.xml" rel="self" type="application/rss+xml" />
    
    
    <item>
      <title>The BGP conundrum</title>
      <link>https://forwardingplane.net/post/the-bgp-conundrum/</link>
      <pubDate>Sun, 30 Jun 2019 02:15:32 +0000</pubDate>
      
      <guid>https://forwardingplane.net/post/the-bgp-conundrum/</guid>
      <description>&lt;p&gt;BGP. It’s that magical protocol that runs the internet. For for as much as BGP is a fundamental, critical, irreplaceable part of the core functioning of the internet, it is a protocol that has not aged well as far as security is concerned. See, BGP was born when the internet was really still an academic experiment. Handshakes and loose agreements were totally fine for connecting a new site. &lt;/p&gt;

&lt;p&gt;Then came the awakening. &lt;img src=&#34;https://www.forwardingplane.net/wp-content/uploads/2019/06/Awakening.jpg&#34; alt=&#34;Awakening&#34; title=&#34;Awakening.jpg&#34; /&gt;&lt;/p&gt;

&lt;p&gt;Once the internet was used for more critical things, security was obviously more important. But BGP did not really evolve at the same rate - and more importantly, the security model surrounding it was mostly left behind. The reasons aren&amp;rsquo;t really important, but the fallout absolutely is. Retrofitting security into an externally exposed protocol is demonstrably difficult. It has been &lt;a href=&#34;https://tools.ietf.org/html/rfc8205&#34;&gt;tried&lt;/a&gt; and &lt;a href=&#34;https://tools.ietf.org/html/rfc6810&#34;&gt;tried&lt;/a&gt; and &lt;a href=&#34;https://tools.ietf.org/id/draft-sa-grow-maxprefix-00.html&#34;&gt;tried&lt;/a&gt; and &lt;a href=&#34;https://www.radb.net/&#34;&gt;tried&lt;/a&gt;. The real limit in this space exists because of the nature of the protocol itself - it is external in nature, thereby requiring coordination between multiple parties. The mechanics of this are two fold: personal interaction to agree on the peering, and technical compliance for the protocol to adhere to the agreed upon policy.&lt;/p&gt;

&lt;p&gt;Technical limitations imposed by vendors and hardware limits have plagued this space for decades. However, the real problem, as with most things technical, is actually the people. A reluctance to agree on methodology, a refusal to spend the time to work out the procedures, an inability or lack of resources for understanding the steps necessary, an unwillingness (intentional or unintentional) to help the community further the progress. None of this really matters other than knowing where we can improve. So, to that end, I humbly recommend that all BGP operators read and implement best practices. Much of this is spelled out clearly in the &lt;a href=&#34;https://www.manrs.org/isps/&#34;&gt;MANRS project&lt;/a&gt;, and it should be used as a shining example of community based action that can produce actual demonstrable results. If you’re interested in tools for troubleshooting BGP or better understanding the scope and scale of the DFZ (Default Free Zone), check out a past post I did on &lt;a href=&#34;https://www.forwardingplane.net/2014/03/bgp-tools-troubleshooting-and-monitoring-external-routing-in-a-nutshell/&#34;&gt;BGP tools,&lt;/a&gt; &lt;a href=&#34;https://www.forwardingplane.net/2016/05/bgp-rpki-why-arent-we-using-it/&#34;&gt;RPKI&lt;/a&gt;, and &lt;a href=&#34;https://www.forwardingplane.net/2018/02/strategy-series-view-outside-network/&#34;&gt;visibility outside of your network.&lt;/a&gt; &lt;/p&gt;

&lt;p&gt;As a follow on to the last global BGP blunder, &lt;a href=&#34;https://twitter.com/bcjordo?lang=en&#34;&gt;Jordan Martin&lt;/a&gt; and I talk about the how and the what of the event in this quick &lt;a href=&#34;https://thenetworkcollective.com/2019/06/bgp-blunder/&#34;&gt;Network Collective short take&lt;/a&gt;.&lt;/p&gt;
</description>
    </item>
    
    <item>
      <title>FreeRouter as a test environment</title>
      <link>https://forwardingplane.net/post/freertr-as-a-lab-environment/</link>
      <pubDate>Sat, 02 Mar 2019 17:03:18 +0000</pubDate>
      
      <guid>https://forwardingplane.net/post/freertr-as-a-lab-environment/</guid>
      <description>&lt;p&gt;A few months ago &lt;a href=&#34;https://www.stubarea51.net/about-me/&#34;&gt;Kevin Myers&lt;/a&gt; of &lt;a href=&#34;https://www.iparchitechs.com/&#34;&gt;IP Architechs&lt;/a&gt; introduced me to a really interesting project called &lt;a href=&#34;http://freerouter.nop.hu/&#34;&gt;FreeRouter&lt;/a&gt;. Being that I absolutely love alternative routing platforms and feature complete simulation environments, this really got me going. I tend to define &amp;ldquo;feature complete&amp;rdquo; in a routing platform as something that can do both IS-IS and MPLS. Given that there aren&amp;rsquo;t many platforms that do both correctly or within a reasonable budget, and offer simulation options, I was pretty excited. I spent a fair amount of time pounding through it. I recommend spending some time with this if you have even remote interest in any of the above technologies. It costs nothing but your time. The project was written and is maintained by a Cisco CCIE and was built (according to his site) as a mechanism to learn. However, the feature list is incredibly complete, and extremely impressive, as seen below:&lt;/p&gt;

&lt;pre&gt;&lt;code&gt;forwarding: ipv4, ipv6, ipx, mpls, nsh, layer2, irb, atom, eompls, vpls, evpn  
routing protocols: ospf, isis, bgp, rip, eigrp, babel, olsr, pim, msdp  
lsp support: p2p, p2mp, mp2mp built by ldp, rsvp-te, sr, sr-te, bier  
crypto: macsec, ipsec, ikev1, ikev2, tls, dtls, ssh, openvpn  
tunnel: gre, ipip, l2tp, pptp, lisp, geneve, nvgre, vxlan, etherip  
encapsulation: ethernet, vlan, nsh, ppp, framerelay, pwether, virtppp, hairpin  
misc: acl, hqos, nat, pbr, srv6, vrrp, hsrp, transproxy, 6to4, rpl, tunnel, vpdn 
&lt;/code&gt;&lt;/pre&gt;

&lt;p&gt;&lt;a href=&#34;https://www.forwardingplane.net/configuration-archive/freertr-basic-configurations/&#34;&gt;My configurations&lt;/a&gt; can be found in the &lt;a href=&#34;https://www.forwardingplane.net/configuration-archive/&#34;&gt;Configuration Archive&lt;/a&gt; section of this site. It is definitely worth your time to check out.&lt;/p&gt;
</description>
    </item>
    
    <item>
      <title>Updates, podcasts, and videos</title>
      <link>https://forwardingplane.net/post/updates-podcasts-videos/</link>
      <pubDate>Thu, 15 Jun 2017 01:29:59 +0000</pubDate>
      
      <guid>https://forwardingplane.net/post/updates-podcasts-videos/</guid>
      <description>&lt;p&gt;Anyone that looks at this site with any regularity may have noticed that I have been pretty remiss in adding posts - for that I apologize, things have been busy. However, I have not been absent in the tech world&amp;hellip;quite the opposite, in fact. I&amp;rsquo;ve been spending more and more time on podcasts and other forms of tech media which I have not provided links for here. So, to help expose that, here are a few of the other media resources I&amp;rsquo;ve been popping up in. Professionally I&amp;rsquo;ve been spending a lot of my time testing things like &lt;a href=&#34;http://techfieldday.com/event/srr1/&#34;&gt;segment routing&lt;/a&gt;, software routing stacks for &lt;a href=&#34;https://www.nanog.org/sites/default/files/2_White_The_State_Of_Open_Source_Routers.pdf&#34;&gt;disaggregated routing&lt;/a&gt;, DDoS detection and DDoS mitigation. In the free time I would typically spend in my home lab, I&amp;rsquo;ve become enamored with Wireless ISPs and how they work. I&amp;rsquo;d done some WISP work off and on over the years but it was primarily focused on L3 - I&amp;rsquo;ve gone deeper and started learning about more RF strategy and detail as well as delved pretty deeply into a fair amount of the gear details. There is some &lt;em&gt;crazy&lt;/em&gt; good, innovative stuff going on in this space and it happily hums along well outside of the hype engines that are the juggernauts of hyperscale data center and enterprise networking. I find it a refreshing change from the marketing machine of the mainstream networking industry, representing more of what the real world of being a smaller service provider is like (which is where I got started, so there is an amount of nostalgic comfort there), and there are folks out there are serious use cases for things like SR and &lt;a href=&#34;https://rule11.tech/?s=disaggregated&#34;&gt;disaggregated routing&lt;/a&gt; just waiting to be tested. &lt;a href=&#34;http://www.forwardingplane.net/wp-content/uploads/2017/06/IMG_3777.jpg&#34;&gt;&lt;img src=&#34;http://www.forwardingplane.net/wp-content/uploads/2017/06/IMG_3777.jpg&#34; alt=&#34;&#34; /&gt;&lt;/a&gt; In addition, I&amp;rsquo;ve been involved in a few projects regarding security and DDoS detection and mitigation (CoreFlow) that have been pretty interesting, one of which which &lt;a href=&#34;https://tnc17.geant.org/core/presentation/30&#34;&gt;I recently presented on at TNC 17 in Linz, Austria&lt;/a&gt;. Slides can be found &lt;a href=&#34;https://tnc17.geant.org/getfile/3728&#34;&gt;here&lt;/a&gt;. More information can be found on the project CoreFlow in the published paper &lt;a href=&#34;https://scholar.google.com.au/citations?view_op=view_citation&amp;amp;hl=fr&amp;amp;user=alONArcAAAAJ&amp;amp;citation_for_view=alONArcAAAAJ:_Ybze24A_UAC&#34;&gt;here&lt;/a&gt;. I&amp;rsquo;ll probably talk more about this project focused on ISP DDoS detection and mitigation as the code matures, but feel free to contact me with questions/comments. &lt;a href=&#34;http://blog.ipspace.net/2017/06/packet-fabric-on-software-gone-wild.html&#34;&gt;Packet Fabric Podcast on IPSpace.net&lt;/a&gt; Also see Ivan&amp;rsquo;s page for &lt;a href=&#34;http://www.ipspace.net/Podcast/Software_Gone_Wild&#34;&gt;Software Gone wild&lt;/a&gt; for more podcasts (both that I have been involved in and other good content) Brothers WISP Video on the basics of DNS (see also &lt;a href=&#34;http://www.forwardingplane.net/2016/02/nix4neteng-6-dns-ad-blocking-and-quality-of-experience/&#34;&gt;NIX for NetEng DNS&lt;/a&gt;, or &lt;a href=&#34;http://www.forwardingplane.net/2014/06/nix4neteng-2-ipv46-address-investigation-tools-whois-dig/&#34;&gt;NIX for NetEng address tools&lt;/a&gt;)&lt;/p&gt;
</description>
    </item>
    
    <item>
      <title>Why I care about Segment Routing</title>
      <link>https://forwardingplane.net/post/care-segment-routing/</link>
      <pubDate>Tue, 04 Oct 2016 00:54:27 +0000</pubDate>
      
      <guid>https://forwardingplane.net/post/care-segment-routing/</guid>
      <description>&lt;p&gt;Edit: &lt;em&gt;Going against my normal “just get the content out there” methodology, I’ve been mulling over this blog post since July of 2016.  Segment routing is such a beautifully elegant solution I have had trouble articulating that fact. WAN technologies are squarely within my wheelhouse, and this one fits in so well I was going over and over the post never really satisfied with it, continuing to find mistakes and decided to just get it out there. &lt;/em&gt;&lt;/p&gt;

&lt;p&gt;As a WAN guy by chance and opportunity, and a service provider engineer and architect by choice (and also chance and opportunity), segment routing (SR) is one of those wonderful new technologies that keeps rearing its head over and over in recent days - and it&amp;rsquo;s already playing in the big leagues. SR is supported by many of the large network equipment providers including Cisco, Juniper, and Nokia (Alcatel-Lucent), and as I have just learned, Arista.&lt;/p&gt;

&lt;p&gt;Why is this a notable tech you may want to pay attention to? Wide area and service provider networks have a longer mean time before replacement. They don’t change topology or architecture nearly as often and the gear typically has higher cost due to things like deeper interface buffers, more complex feature sets, larger TCAM for things like route tables, as well as increased redundancy features. Managing a WAN has a different feel and a different set of problems. Complex overlays and traffic engineering often play a role in wide area networks. Many an attempt to reduce the the complexity of WANs has been made and SDN is creeping its way into some pretty large networks. When a network of any size is built, there comes a tipping point when managing things by hand, even with great documentation, is too daunting and cannot be done efficiently. Automation is key. Simplicity is paramount. Anyone that has ever managed a large MPLS network knows this. So, when I started looking at segment routing, I was cautiously optimistic - it had many attributes that were comfortable to a seasoned WAN engineer and yet abstracted many of the complexities of the networks that we&amp;rsquo;d been running for years. In order to really understand the benefits that SR brings to the table, it&amp;rsquo;s important to understand the current landscape. When one builds a large MPLS network there are incremental elements that all build from each other in order to work. If one is broken or problematic, the problem will trickle up the stack. Fundamentally, the stack for a very vanilla MPLs WAN contains the following elements (top down):&lt;/p&gt;

&lt;ul&gt;
&lt;li&gt;Client service interface&lt;/li&gt;
&lt;li&gt;Overlay, L3VPN, VPLS, ePIPE/PseudoWire/VLL&lt;/li&gt;
&lt;li&gt;BGP&lt;/li&gt;
&lt;li&gt;Label Distribution, LDP, etc.&lt;/li&gt;
&lt;li&gt;IGP, IS-IS or OSPFv2/3&lt;/li&gt;
&lt;li&gt;Ethernet, SONET, DS1/DS3/E1&lt;/li&gt;
&lt;li&gt;Optical transport or other last mile and long haul outside plant&lt;/li&gt;
&lt;/ul&gt;

&lt;p&gt;Add into this list the complications of traffic engineering, and you&amp;rsquo;ve got a mix of things that are fairly daunting to all but the most experienced engineers. What segment routing provides is a way to remove several layers of this and simplify what is arguably the most complex and least understood element: Traffic Engineering. Segment routing allows for the selection of an entire path, from the ingress of the network to the egress port, all outside of the IGPs shortest path table. It is often labeled as &amp;ldquo;source routing&amp;rdquo; which will inevitably create feeling of disgust, dread, and distain from a network engineer and panic from the security folks. I choose not to label SR as &amp;ldquo;source routing&amp;rdquo; because of the negative connotation associated with that technological approach. Instead, I would rather use the term &amp;ldquo;deliberate path selection&amp;rdquo;.&lt;/p&gt;

&lt;p&gt;Oh, and this can be automated. That&amp;rsquo;s right. It&amp;rsquo;s &amp;ldquo;SDN&amp;rdquo;. Utilizing a tool called a path computational engine or &amp;ldquo;PCE&amp;rdquo;, these paths can be selected based on any number of criteria including latency, hop count, load, time of day, phase of the moon, mood of the boss, etc.&lt;/p&gt;

&lt;p&gt;I was lucky enough to get to spend some quality time at a &lt;a href=&#34;http://techfieldday.com/event/srr1/&#34;&gt;special event&lt;/a&gt; recently. Interesting discussions were had, many a thing was learned. A few of the other attendees wrote up some great info on segment routing, including some use cases, which can be found here&lt;/p&gt;

&lt;p&gt;Terry Slattery on No Jitter&lt;/p&gt;

&lt;p&gt;&lt;a href=&#34;http://www.nojitter.com/post/240171828/segment-routing-inside-a-new-sdn-technology&#34;&gt;http://www.nojitter.com/post/240171828/segment-routing-inside-a-new-sdn-technology&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;Carl Niger on Come Route With Me&lt;/p&gt;

&lt;p&gt;&lt;a href=&#34;https://comeroutewithme.com/2016/07/24/post-tfd-segment-routing-roundtable-thoughts/&#34;&gt;https://comeroutewithme.com/2016/07/24/post-tfd-segment-routing-roundtable-thoughts/&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;Russ White on Net Work&lt;/p&gt;

&lt;p&gt;&lt;a href=&#34;http://ntwrk.guru/dc-fabric-segment-routing-use-case-1/&#34;&gt;http://ntwrk.guru/dc-fabric-segment-routing-use-case-1/&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;&lt;a href=&#34;http://ntwrk.guru/dc-fabric-segment-routing-use-case-2/&#34;&gt;http://ntwrk.guru/dc-fabric-segment-routing-use-case-2/&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;I highly recommend taking a view of the talks from some folks using SR on some pretty significant networks - it&amp;rsquo;s worth your time if you&amp;rsquo;re really interested in throwing down with segment routing.  But what did this tell &lt;strong&gt;&lt;em&gt;me&lt;/em&gt;&lt;/strong&gt;? Lets look further into SR and see why it&amp;rsquo;s become so attractive to large, geographically diverse networks. First, SR builds on an existing knowledgeable. Far more people exist in the market that already know MPLS. The understand labels, they understand overlays, and they have vast experience with virtual circuits. Service providers are very likely MPLS based if they operate at any scale and offer typical ISP services. MPLS is well traveled, and even though there may be reasons that&amp;rsquo;s not perfect, it&amp;rsquo;s the devil we know. Other SDN technologies are either fairly green (l&lt;a href=&#34;http://blog.ipspace.net/2015/12/running-open-daylight-in-production.html#more&#34;&gt;et me tell you about running a production openflow experience&lt;/a&gt;) or are primarily focused on the data center, which as I will adamantly insist is a very different beast.&lt;/p&gt;

&lt;p&gt;Large scale service providers have a very different redundancy model. Attempting to apply campus or enterprise redundancy to a service provider does not scale and it certainly isn&amp;rsquo;t affordable. SR leverages the same models that MPLS does, it realies heavily on the IGP, leveraging a TLV within IS-IS. That brings me to IS-IS. Most service providers leverage IS-IS as their internal gateway protocol due to it&amp;rsquo;s ability to carry multiple routed protocols at once, leverage multi-topology, and the fact that it does not rely on the protocol it is routing for connectivity like OSPF does. SR is more-or-less an extension to IS-IS. Overlapping skill set #2. The other option, and this is a big one, is that there are multiple vendors that supported, as stated above. This is a big deal as int provides that &amp;ldquo;throat to choke&amp;rdquo; that a lot of emerging technologies just do not really have yet.&lt;/p&gt;

&lt;p&gt;Did I mention that it &amp;ldquo;fails open”? What’s not to love about falling back to an IGP rather than ceasing to process packets?  Lets do a for-instance use-case. Within your SR network you provision a path that takes a path with more hops but has less congestion. Create your label stack and away you go* Of that path fails, the traffic falls back to the standard routing table.&lt;/p&gt;

&lt;p&gt;Much like MPLS (of which I am a fan, FWIW), this technology is better suited for a larger network with multiple paths, this could be any number of  environments such as large camps networks, large scale data centers geographically diverse environments connected by multiple WAN circuits, and of course, service and content providers. This tech is quite simply full of win. &lt;/p&gt;

&lt;p&gt;*greatly simplified =)&lt;/p&gt;
</description>
    </item>
    
    <item>
      <title>BGP RPKI - why aren&#39;t we using it more?</title>
      <link>https://forwardingplane.net/post/bgp-rpki-why-arent-we-using-it/</link>
      <pubDate>Sat, 21 May 2016 16:33:44 +0000</pubDate>
      
      <guid>https://forwardingplane.net/post/bgp-rpki-why-arent-we-using-it/</guid>
      <description>&lt;nav&gt;
&lt;ul&gt;
&lt;li&gt;
&lt;ul&gt;
&lt;li&gt;
&lt;ul&gt;
&lt;li&gt;
&lt;ul&gt;
&lt;li&gt;
&lt;ul&gt;
&lt;li&gt;
&lt;ul&gt;
&lt;li&gt;&lt;a href=&#34;#image-created-from-surfnet-rpki-page&#34;&gt;Image created from SURFNet RPKI page.&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;&lt;/li&gt;
&lt;/ul&gt;&lt;/li&gt;
&lt;/ul&gt;&lt;/li&gt;
&lt;/ul&gt;&lt;/li&gt;
&lt;/ul&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;/nav&gt;

&lt;p&gt;     I was recently at a meeting where BGP RPKI was the topic de jour. While this has been a topic that I have visited on occasion of the last few years and something I wanted to spend significant time on, I have found that setting aside the time has been difficult and sparse, much like the deployment of BGP RPKI. In order to better understand the options available, it&amp;rsquo;s important to break down the pieces and terminology involved; BGP is daunting enough to those unfamiliar with it and adding PKI on top of that can be even more so. So, what are these bits and pieces and why have we not done more to adopt it?&lt;/p&gt;

&lt;ul&gt;
&lt;li&gt;&lt;strong&gt;BGP&lt;/strong&gt; - the venerable and foundational protocol that quite literally runs the internet. BGP allows an organization to announce and exchange it’s IPv4 and IPv6 resources with other organizations.&lt;/li&gt;
&lt;li&gt;&lt;a href=&#34;https://www.arin.net/resources/rpki/&#34;&gt;&lt;strong&gt;Resource Public Key Infrastructure&lt;/strong&gt;&lt;/a&gt; - From &lt;a href=&#34;https://www.arin.net/resources/rpki/&#34;&gt;ARIN&lt;/a&gt;: &lt;em&gt;Using cryptographically verifiable certificates, RPKI allows IP address holders to specify which Autonomous Systems (AS&amp;rsquo;s) are authorized to originate their IP address prefixes. These statements, known as Route Origin Authorizations (ROAs), allow network operators to make informed routing decisions, and help secure Internet routing in general. &lt;/em&gt;&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;ROA&lt;/strong&gt; - Route Origin Authorizations - Who is authorized to originate or source these prefixes?&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;ROV&lt;/strong&gt; - Route Origin Validation - Can we validate, cryptographically, that the origin of this resource (for example, 8.8.8.8) is authorized to originate or source these prefixes?&lt;/li&gt;
&lt;/ul&gt;

&lt;p&gt;     Many of the details of RPKI are actually not even technical, both with ARIN and with vendors, there exists complications that make the technical pieces look like child’s play. Legality of the licensing and housing of authoritative certificates are complicated, shrouded in legalese due to the nature of what they represent. This proves to be a show stopper for a lot of older organizations that have grandfathered address space and may not have gone through the ARIN agreement process any time in the recent past [note: supposedly this process is required for ARIN IPv6 space, so most of that _should_ be covered. Other regions may have easier, lower hurdles - I’ve heard good things about RIPE’s process - but I have no experience with it. The legal issues with contracts and signing certificates may also prove to be troublesome to enterprises, most of which are very conservative and slow to adopt anything new ::cough:: IPv6 ::cough::.  Certificate generation and maintenance is also considered difficult in many cases, the details can be confusing and the documentation overwhelming or difficult to find.&lt;/p&gt;

&lt;p&gt;On top of those non-technical issues, platforms with large install bases are sparsely supported - although this is changing.&lt;/p&gt;

&lt;p&gt;     There have been a &lt;a href=&#34;http://www.bgpmon.net/large-scale-bgp-hijack-out-of-india/&#34;&gt;number&lt;/a&gt; of &lt;a href=&#34;http://www.bgpmon.net/large-hijack-affects-reachability-of-high-traffic-destinations/&#34;&gt;recent&lt;/a&gt;, high profile route hijacks. If you’re ever curious to see what they were, BGPMon typically has a post-mortem shortly after they occur. This is a big deal. There are a number of ways they could have been prevented, too one of which is BGP RPKI. Is that worth the overhead? I think anyone that has had to scramble to figure out what was going on during one of these events would argue yes. But even with that, we have minimal adoption. With the significant movement to cloud based work, enterprises, service providers, academic institutions and even savvy end users should ask themselves a few important questions before doing your risk analysis:&lt;/p&gt;

&lt;ul&gt;
&lt;li&gt;Do your cloud providers do RPKI?&lt;/li&gt;
&lt;li&gt;Does your upstream service provider or peering partner honor invalid routes?&lt;/li&gt;
&lt;li&gt;Does your upstream service provider or peering partner even support prefix or AS-Path filtering?&lt;/li&gt;
&lt;li&gt;How does the effect BGP blackhole routing for security filtering?&lt;/li&gt;
&lt;li&gt;How do you deal with invalid routes? (alert, set preference, drop, etc.)&lt;/li&gt;
&lt;li&gt;How do you handle invalid routes that may be more specific?&lt;/li&gt;
&lt;li&gt;Why have I not deployed BGP RPKI yet?&lt;/li&gt;
&lt;/ul&gt;

&lt;p&gt;&lt;strong&gt;My perspective:&lt;/strong&gt;&lt;/p&gt;

&lt;p&gt;    Unfortunately, the feeling I get is very similar to that of things [that we actually need] such as IPv6 and DNSSec. Tools that make our resources safer,  but are often overlooked due to increased operational complexity.&lt;/p&gt;

&lt;p&gt;It is really about risk analysis: Is the risk of not having this worth the effort of maintaining it?  Since we [as an internetworking ecosystem] been clear in our actions that necessary things as obvious and straightforward as appropriate prefix filtering and IPv6 deployment are in many cases above and beyond, it should come as no surprise that adding complexity on top of “stuff that just works” is’t happening on a large scale. Even with repeated proof that changes would alleviate risk, we don’t do it because what we have has been deemed “good enough”* and change is scary and hard.&lt;/p&gt;

&lt;p&gt;What do we need? We need tools. The &lt;a href=&#34;http://rpki.surfnet.nl/&#34;&gt;RPKI dashboard&lt;/a&gt; that SURFnet has available is a fantastic example of an easy to use tool that makes a ton of information available. We need a &lt;strong&gt;&lt;em&gt;very easy&lt;/em&gt;&lt;/strong&gt; way to deploy this. BGP is actually a pretty simple protocol to make work, which is why is hasn’t changed much in the  extremely long tenure it has had as foundation of the internet. We need a very, very straightforward way to get the non-technical pieces done.&lt;/p&gt;

&lt;p&gt;&lt;strong&gt;Disclaimer:&lt;/strong&gt; This is just the tip of the iceberg and I am but a novice with this tech - but my gut feelings are typically right about this type of thing.&lt;/p&gt;

&lt;p&gt;* &amp;ldquo;Good enough” is almost never good enough.&lt;/p&gt;

&lt;h6 id=&#34;image-created-from-surfnet-rpki-page&#34;&gt;Image created from SURFNet RPKI page.&lt;/h6&gt;
</description>
    </item>
    
    <item>
      <title>Building Interdomain SDN part 3</title>
      <link>https://forwardingplane.net/post/building-interdomain-sdn-part-3/</link>
      <pubDate>Fri, 06 Nov 2015 04:37:23 +0000</pubDate>
      
      <guid>https://forwardingplane.net/post/building-interdomain-sdn-part-3/</guid>
      <description>&lt;p&gt;A few years ago I wrote &lt;a href=&#34;http://www.forwardingplane.net/2012/11/sdn-across-domains-in-the-wan-a-novice-look/&#34;&gt;some text&lt;/a&gt; on &lt;a href=&#34;http://www.forwardingplane.net/2013/01/sdn-across-the-wan-part-deux-primitives/&#34;&gt;interdomain SDN&lt;/a&gt;. Years later, work is being done, smart people are thinking about it and building ways to make it a reality. Not being one to give up on an idea, I gave &lt;a href=&#34;https://docs.google.com/presentation/d/1anAaqWR8wmzKO5fqidDy9QJXW4RiVshX9Miq3PoDv9E/edit&#34;&gt;this presentation&lt;/a&gt; in may at &lt;a href=&#34;http://chinog.org/meetings/chi-nog-05/&#34;&gt;ChiNOG&lt;/a&gt;  on what my take on what that architecture should be. I (we) propose that the use of existing protocols such as &lt;a href=&#34;https://tools.ietf.org/html/rfc5575&#34;&gt;BGP FlowSpec&lt;/a&gt; will make this realistically deployable and maintainable given some &lt;a href=&#34;https://github.com/dwcarder/sdn-ix-demo&#34;&gt;simple, pluggable middleware&lt;/a&gt;. As work continues to happen on this, my belief is that this is a very sound (and simple) concept. The middleware is modular and flexible enough that it can stand alone or plug into an existing code base such as ODL or Ryu. As &lt;a href=&#34;http://sc15blog.blogspot.com/2015/11/simplifying-worlds-most-powerful.html&#34;&gt;I work on the SDN deployment&lt;/a&gt; for the &lt;a href=&#34;http://www.sc15.org&#34;&gt;annual international supercomputing conference&lt;/a&gt;, and work on the &lt;a href=&#34;https://www.es.net/network-r-and-d/workshops/&#34;&gt;SDN for scientific networking workshop&lt;/a&gt;,  I become more and more convinced that there needs to be an operationally viable and simple way to support these types of networks in ways that are thin and simple since it is a newer concept and some of the protocols involved (e.g. OpenFlow) is still in its infancy.  Here is the video of the talk for anyone interested in listening to me talk about it for 20 minutes. As a reference, this is a great talk from the same conference on BGP FlowSpec that adds a lot of credence to the use of it as a policy dissemination protocol.&lt;/p&gt;
</description>
    </item>
    
    <item>
      <title>OpenDNS acquires BGPMon and the future of route monitoring</title>
      <link>https://forwardingplane.net/post/opendns-acquires-bgpmon-and-the-future-of-route-monitoring/</link>
      <pubDate>Fri, 20 Mar 2015 05:18:30 +0000</pubDate>
      
      <guid>https://forwardingplane.net/post/opendns-acquires-bgpmon-and-the-future-of-route-monitoring/</guid>
      <description>&lt;p&gt;For those that run BGP networks, &lt;a href=&#34;http://www.bgpmon.net&#34;&gt;BGPmon&lt;/a&gt; is often a tool they turn to for some really unique and hard to find information. Remember back in February 2008 when Pakistan Telecom &amp;ldquo;blocked&amp;rdquo; &lt;a href=&#34;http://www.youtube.com/buraglio&#34;&gt;Youtube&lt;/a&gt;? That one was a really, really public example of something that BGPMon caught. BGPmon has been around for a long, long time. Quietly watching prefixes. Silently noting changes and reporting them to the ones lucky enough to know of its existence. For those that don&amp;rsquo;t &lt;a href=&#34;http://searchtelecom.techtarget.com/feature/BGP-essentials-The-protocol-that-makes-the-Internet-work&#34;&gt;know how BGP works&lt;/a&gt;, I am not going to go into it too much other than to say that it is both the foundation that the internet is built upon, and one of the most antiquated trust models that exists in a world where most of the pundits are going on and on about SDN and network engineers being out of a job in 10 years. See, the problem with BGP is not that it is a terrible protocol. Quite the opposite, it is elegant in its simplicity and ability to be extended.It is lightweight and arguably the easiest of the routing protocols with the exception of RIPv2.&lt;/p&gt;

&lt;p&gt;&lt;em&gt;Many have argued that it is not a routing protocol, per se, but a policy enforcement framework for paths, but that is a completely different discussion. I happen to agree&lt;/em&gt;&lt;/p&gt;

&lt;p&gt;The issue with BGP is that its install base is so vast that changing it is not unlike parting the red sea or holding the earth on ones shoulders, because that is what BGP does. It holds the internet on its shoulders every bit as much as things like fiber in the ground does. Lets get back to BGPmon. BGPmon does something that nothing else really does. It watches the global routing table from points all over the globe and keeps track of prefixes. For a network operation that provides transit, financial services or any sensitive data, notification of a ROA violation, prefix hijack or more specific route announcement is a critical service. BGPmon provides that among other equally distinct services. In fact, &lt;a href=&#34;https://www.forwardingplane.net/2014/03/bgp-tools-troubleshooting-and-monitoring-external-routing-in-a-nutshell/&#34;&gt;I have it listed as one of my critical tools for maintaining, monitoring and troubleshooting external routing&lt;/a&gt;.&lt;/p&gt;

&lt;p&gt;What does the acquisition of BGPmon by OpenDNS mean? I honestly can not say, but I am fairly confident that it means good things and &lt;a href=&#34;https://blog.opendns.com/2015/03/12/opendns-acquires-bgpmon/&#34;&gt;OpenDNS has a very, very encouraging position&lt;/a&gt;:&lt;/p&gt;

&lt;p&gt;&lt;em&gt;Moving forward, our integration plan for BGPmon is straightforward. We’ll invest in building out the service and making it more complete—but we also are committed to keeping the free features free. We’ll continue to use BGPmon data and innovate to augment our predictive intelligence and provide better threat protection to OpenDNS customers. So basically status quo for current customers.&lt;/em&gt;&lt;/p&gt;

&lt;p&gt;Strong backing from a forward thinking company with a solid track record of good products likely means a bright future for an invaluable service. I am optimistic and encouraged, this was the next logical step and they have taken it with elegance and thought.&lt;/p&gt;
</description>
    </item>
    
    <item>
      <title>Network Field Day 9</title>
      <link>https://forwardingplane.net/post/network-field-day-9/</link>
      <pubDate>Sat, 24 Jan 2015 15:55:48 +0000</pubDate>
      
      <guid>https://forwardingplane.net/post/network-field-day-9/</guid>
      <description>&lt;p&gt;In a few weeks I&amp;rsquo;ll have the opportunity to participate in another &lt;a href=&#34;http://techfieldday.com/event/nfd9/&#34;&gt;Network Field Day&lt;/a&gt;. I&amp;rsquo;ve been lucky enough to have the opportunity to attend&lt;a href=&#34;http://www.forwardingplane.net/2014/02/network-field-day-7/&#34; title=&#34;Network Field Day 7&#34;&gt; in the past&lt;/a&gt; and have done some &lt;a href=&#34;http://www.forwardingplane.net/2013/03/network-field-day-5/&#34; title=&#34;Network Field Day 5 – Participate Remotely&#34;&gt;remote participation&lt;/a&gt; when possible, but like some of the other rare &lt;a href=&#34;http://www.forwardingplane.net/2012/11/scinet-a-privileged-few/&#34; title=&#34;SCinet, a privileged few&#34;&gt;opportunities&lt;/a&gt; I have had in my career, NFD is fairly unique in that it is constantly evolving in both the information provided and the individuals involved. As the saying goes, variety is the spice of life. I&amp;rsquo;m particularly excited about the presentations and have been looking forward to talking to a few of the participant companies for a while. There is a tight line up for NFD9, but I am very intrigued as I am either unfamiliar or have been looking for more information about several of them for quite some time now. &lt;a href=&#34;http://netbeez.net/&#34;&gt;NetBeez&lt;/a&gt; is  an interesting one, they provide a service not unlike a project I&amp;rsquo;ve been working with for years called &lt;a href=&#34;https://www.perfsonar.net/&#34;&gt;perfSonar&lt;/a&gt;. The data that these kind of projects provide is absolutely invaluable, so I&amp;rsquo;m very interested in NetBeez and how they&amp;rsquo;re accomplishing their tasks and presenting their data. I met with and &lt;a href=&#34;http://www.forwardingplane.net/2014/04/blending-the-network-pluribus-serverswitch/&#34;&gt;wrote about&lt;/a&gt; &lt;a href=&#34;http://www.pluribusnetworks.com/&#34;&gt;Pluribus Networks&lt;/a&gt; at (and around the time of) &lt;a href=&#34;http://techfieldday.com/event/nfd7/&#34;&gt;NFD7&lt;/a&gt;. I was impressed then and I&amp;rsquo;m impressed now. I see a great value in what they&amp;rsquo;re doing for so many practical applications and am very anxious to see what they&amp;rsquo;ve added, changed or tweaked since our last meeting roughly a year ago. &lt;a href=&#34;http://cumulusnetworks.com/&#34;&gt;Cumulus networks&lt;/a&gt; is another one I&amp;rsquo;ve been wanting to get lab time with since they came out. I am looking forward to having them in a room, they&amp;rsquo;re doing something to networking that, like Pluribus, is pretty unique and arguably game changing. At then end of the day, though, the best part of this is not that there are a few interesting topics, it is the fact that all of the topics and players are unique, top shelf and potentially game changing. It&amp;rsquo;s essentially an all star lineup (again) with the likes of &lt;a href=&#34;http://www.brocade.com&#34;&gt;Brocade&lt;/a&gt;, &lt;a href=&#34;http://www.solarwinds.com/&#34;&gt;Solarwinds&lt;/a&gt;, &lt;a href=&#34;http://www.nec.com&#34;&gt;NEC&lt;/a&gt;, &lt;a href=&#34;http://www.velocloud.com/&#34;&gt;VeloCloud&lt;/a&gt; and &lt;a href=&#34;http://www.cloudgenix.com/&#34;&gt;Cloudgenix&lt;/a&gt;. This entire line up is right up my alley, as a large number of them are WAN or SDN oriented, which is where I spend the majority of my normal working days. In addition to all of that, I&amp;rsquo;ll finally get to meet &lt;a href=&#34;http://twitter.com/networkingnerd&#34;&gt;NetworkingNerd&lt;/a&gt; in real life.&lt;/p&gt;
</description>
    </item>
    
    <item>
      <title>Why you don&#39;t need a firewall [how to secure an open perimeter network]</title>
      <link>https://forwardingplane.net/post/why-you-dont-need-a-firewall-how-to-secure-an-open-perimeter-network/</link>
      <pubDate>Mon, 08 Sep 2014 07:30:07 +0000</pubDate>
      
      <guid>https://forwardingplane.net/post/why-you-dont-need-a-firewall-how-to-secure-an-open-perimeter-network/</guid>
      <description>&lt;p&gt;I admit that the title was meant to be inflammatory.  However, there are use cases that aren&amp;rsquo;t terribly uncommon where an in-line security appliance is just not the correct tool for the job.  Someone once told me &amp;ldquo;a firewall protects a network like a fuse protects an electrical circuit&amp;rdquo;, and it&amp;rsquo;s mostly a correct statement. Firewall vendors will probably argue this and enterprise folks may discount this as heresy and call for burning me at the stake.  I can say, though, that the use of a firewall, IPS or other inline security appliance has presented many problems in many environments in my years as a network and security engineer and architect.    To that end, there are mechanisms for replacing the functions of a firewall and IPS with other options, which in many cases have a lower capital expense [although they may have a higher &lt;em&gt;initial&lt;/em&gt; operational expense].  I&amp;rsquo;ll outline them here, but before I do I want to re-iterate that NAT (PAT) is not a security tool, it&amp;rsquo;s a translation tool.  Nothing more.  So, I will leave that out.  If you don&amp;rsquo;t have appropriate IPv4 or IPv6 address space some of these things may need adjustments although they are still accomplishable by doing NAT on a border Layer 3 device.     Below is a talk that I gave at BroCon14 that is a rough outline of how to do this, if you don&amp;rsquo;t want to spend 30 minutes listening to me talk about it, the clifs notes are bulleted below, but the context is all in the video so I encourage you to watch it before responding to my post. For those that want to take a look, here is the talk. Here are the bullets.&lt;/p&gt;

&lt;ul&gt;
&lt;li&gt;&lt;strong&gt;Announce only necessary resources &lt;/strong&gt;&lt;/li&gt;
&lt;/ul&gt;

&lt;p&gt;One can utilize routing to only expose the pieces of the network that need to be exposed.  If you have a /16 and on;y a /24 needs to be exposed, only announce that prefix.  This is not that different than a typical DMZ.&lt;/p&gt;

&lt;ul&gt;
&lt;li&gt;&lt;strong&gt;Filter access to network, storage and management hardware&lt;/strong&gt;&lt;/li&gt;
&lt;/ul&gt;

&lt;p&gt;Utilize best practice ingress filtering.  Follow &lt;a href=&#34;http://tools.ietf.org/html/bcp38&#34;&gt;BCP38&lt;/a&gt;. You should be doing this anyway.&lt;/p&gt;

&lt;ul&gt;
&lt;li&gt;&lt;strong&gt;Utilize host based firewalls&lt;/strong&gt;&lt;/li&gt;
&lt;/ul&gt;

&lt;p&gt;This is a no-brainer.  Firewall as close to the resource as possible.&lt;/p&gt;

&lt;ul&gt;
&lt;li&gt;&lt;strong&gt;Employ central host management&lt;/strong&gt;&lt;/li&gt;
&lt;/ul&gt;

&lt;p&gt;Make your life easy.  Cloud providers do it and it&amp;rsquo;s well documented nowadays.  There are &lt;a href=&#34;http://cfengine.com/&#34;&gt;many&lt;/a&gt; &lt;a href=&#34;http://puppetlabs.com/&#34;&gt;options&lt;/a&gt;.&lt;/p&gt;

&lt;ul&gt;
&lt;li&gt;&lt;strong&gt;Centralize logging and flow data collection&lt;/strong&gt;&lt;/li&gt;
&lt;/ul&gt;

&lt;p&gt;Another no brainer, you should be doing this anyway.&lt;/p&gt;

&lt;ul&gt;
&lt;li&gt;&lt;strong&gt;Create baselines for traffic and activity&lt;/strong&gt;&lt;/li&gt;
&lt;/ul&gt;

&lt;p&gt;Data is good.  Knowledge is power.  Baselines are useful for both anomaly detection and forecasting and it&amp;rsquo;s not that hard to do it.&lt;/p&gt;

&lt;ul&gt;
&lt;li&gt;&lt;strong&gt;Deploy and tune IDS&lt;/strong&gt;&lt;/li&gt;
&lt;/ul&gt;

&lt;p&gt;Passive IDS system[s] off of a TAP or SPAN are key to this kind of architecture.  See video for more details but there are a bunch of good options. I prefer &lt;a href=&#34;http://www.bro.org&#34;&gt;Bro IDS&lt;/a&gt; but there are many players both commercial and FOSS.&lt;/p&gt;

&lt;ul&gt;
&lt;li&gt;&lt;strong&gt;Filter with black hole routing&lt;/strong&gt;&lt;/li&gt;
&lt;/ul&gt;

&lt;p&gt;I&amp;rsquo;ve &lt;a href=&#34;http://www.forwardingplane.net/2011/10/black-hole-routing/&#34; title=&#34;Black Hole routing&#34;&gt;talked about this before&lt;/a&gt;.  Automating this is key to making it function efficiently and it is a fantastic tool.  This can be done with BGP (traditionally) or with something innovative like OpenFlow.&lt;/p&gt;

&lt;ul&gt;
&lt;li&gt;&lt;strong&gt;Make use of regularly scheduled external vulnerability scanning&lt;/strong&gt;&lt;/li&gt;
&lt;/ul&gt;

&lt;p&gt;This is a great way to verify your exposure and works for any sized network.  Highly recommended.&lt;/p&gt;

&lt;p&gt;  Clearly this isn&amp;rsquo;t for everyone, and that&amp;rsquo;s ok.  For anyone that has struggled with issues involving security appliances either based on protocol, horsepower or interface speeds, there are options.&lt;/p&gt;
</description>
    </item>
    
    <item>
      <title>Aging hardware, IPv6 and the growing route table</title>
      <link>https://forwardingplane.net/post/aging-hardware-ipv6-and-the-growing-route-table/</link>
      <pubDate>Wed, 13 Aug 2014 05:00:56 +0000</pubDate>
      
      <guid>https://forwardingplane.net/post/aging-hardware-ipv6-and-the-growing-route-table/</guid>
      <description>&lt;p&gt;I&amp;rsquo;ve &lt;a href=&#34;http://www.forwardingplane.net/2014/03/bgp-tools-troubleshooting-and-monitoring-external-routing-in-a-nutshell/&#34; title=&#34;BGP tools; troubleshooting and monitoring external routing in a nutshell&#34;&gt;blathered on about BGP&lt;/a&gt; &lt;a href=&#34;http://www.forwardingplane.net/2013/03/tuning-bgp-installed-ipv6-routes/&#34; title=&#34;Tuning BGP installed IPv6 routes&#34;&gt;forever&lt;/a&gt;.  Say what you will about the venerable protocol, it runs the interwebs, is reliable, extendable and well documented.  I&amp;rsquo;ve also &lt;a href=&#34;http://www.forwardingplane.net/2013/03/my-sdn-soapbox-now-with-ipv6/ &amp;quot;My SDN soapbox (now with IPv6!&#34;&gt;espoused&lt;/a&gt;&amp;rdquo;) &lt;a href=&#34;http://www.forwardingplane.net/2011/07/joint-techs-summer-2011-ipv6-talks/&#34; title=&#34;Joint Techs Summer 2011 IPv6 talks&#34;&gt;ad nauseam&lt;/a&gt; &lt;a href=&#34;http://www.forwardingplane.net/2011/03/ipv6-features-matrix-for-network-hardware/&#34; title=&#34;IPv6 Features matrix for Network Hardware&#34;&gt;about&lt;/a&gt; &lt;a href=&#34;http://www.forwardingplane.net/2012/11/and-a-purple-pony/&#34; title=&#34;And a purple pony.&#34;&gt;IPv6&lt;/a&gt;, so none of this [admitted] rant should really be a surprise coming from me. As of 8/12/2014, according to the &lt;a href=&#34;http://www.cidr-report.org/as2.0/#General_Status&#34;&gt;CIRD report&lt;/a&gt; (and many mailing lists), the &lt;a href=&#34;http://en.wikipedia.org/wiki/Default-free_zone&#34;&gt;default free&lt;/a&gt; global ipv4 routing table has reached 512k routes.  This is a milestone from many perspectives, but more importantly, it solidifies the fact that there is a great deal of equipment in critical points in the internet that is out of date and cannot perform as intended in its current configuration or function. &lt;a href=&#34;http://www.forwardingplane.net/wp-content/uploads/2014/08/8-12-2014-plot.png&#34;&gt;&lt;img src=&#34;http://www.forwardingplane.net/wp-content/uploads/2014/08/8-12-2014-plot.png&#34; alt=&#34;8-12-2014-plot&#34; /&gt;&lt;/a&gt; This is a problem.  This is a problem for old hardware.  This is a problem for anyone that says their border router is &amp;ldquo;good enough&amp;rdquo;, and expects to take a default free table.  It&amp;rsquo;s a problem for anyone that wants to be multihomed on sub-par hardware.  I don&amp;rsquo;t think that many engineers would be surprised at how common this really is because network hardware is expensive, especially appropriate hardware that runs at site borders and in internet backbones, and by nature network engineer want to &amp;ldquo;make things work&amp;rdquo;.  I assert, however, that this may not be the best idea. The increased size of the default free zone has been forecasted for &lt;strong&gt;&lt;em&gt;years,&lt;/em&gt;&lt;/strong&gt;and with the inclusion of the 16k of ipv6 prefixes (&lt;a href=&#34;http://www.forwardingplane.net/2013/08/the-sad-state-of-ipv6-and-why-you-need-to-learn-it/&#34; title=&#34;The sad state of IPv6 and why you need to learn it.&#34;&gt;you are running IPv6&lt;/a&gt;, &lt;strong&gt;&lt;em&gt;right&lt;/em&gt;&lt;/strong&gt;?), resources quickly become exhausted on aging hardware.  This causes a cascading problem.  Forget the odd issues seen by not having enough TCAM to house the entire default free ipv4 table.  That problem is a haymaker swing that was telegraphed &lt;strong&gt;&lt;em&gt;long&lt;/em&gt;&lt;/strong&gt; ago and should have been coming; that ship has sailed. The bigger problem is that in flurrying around to deal with smaller TCAM sizes on gear that should have been replaced years ago, one course of action is to  repartition the TCAM, stripping away space allocated for IPv6 and allocating it to IPv4 in order to remain &amp;ldquo;default free&amp;rdquo; v4 tables.  I know because I&amp;rsquo;ve had to do this.  And it sucked. Personally, I felt a little like a sell out since I was robbing Peter to pay Paul and keep our &amp;ldquo;beloved&amp;rdquo; IPv4 running at the expense of the protocol we should have been migrated to years before but could not due to fear, uncertainty, doubt and, frankly, sheer laziness on the part of executives, developers, vendors and engineers. Blech.  I don not even like typing that.  We, I promise you,  in come cases are prolonging the deployment of IPv6 in favor of keeping v4 working due to this limitation.  And it stinks.  Like a skunk. Dipped in sewage. Wrapped in garbage.  Blown through an onion. It&amp;rsquo;s a banner day, make no mistake.  512k ipv4 routes in the global default free ipv4 table is a milestone.  However, lets not forget that much of the pain involved in expanding the ability to use more v4 would probably have been better served in expanding ipv6 support.  Be a catalyst for change and start learning and evangelizing IPv6. I often have a thought when discussing the merits of ipv6 with anyone that is arguing as to why they don&amp;rsquo;t want or need to deploy it: Would the internet/their network be a better place if we spent as much time making ipv6 work instead of going well out of our way to work around it? &lt;end rant&gt; =)&lt;/p&gt;
</description>
    </item>
    
    <item>
      <title>NIX4NetEng 2 IPv4/6 address investigation tools - whois &#43; dig</title>
      <link>https://forwardingplane.net/post/nix4neteng-2-ipv46-address-investigation-tools-whois-dig/</link>
      <pubDate>Sat, 07 Jun 2014 19:54:41 +0000</pubDate>
      
      <guid>https://forwardingplane.net/post/nix4neteng-2-ipv46-address-investigation-tools-whois-dig/</guid>
      <description>

&lt;p&gt;I don&amp;rsquo;t care what your vendor alignment of choice is, Cisco, Juniper, Brocade, Alcatel&amp;hellip;.it doesn&amp;rsquo;t matter. At one point or another you&amp;rsquo;re going to need to bird dog an address to see where it&amp;rsquo;s coming from, who owns it, what it&amp;rsquo;s DNS name is or what path you&amp;rsquo;re taking to get to it.  We&amp;rsquo;ve already talked about &lt;a href=&#34;http://www.forwardingplane.net/2014/03/bgp-tools-troubleshooting-and-monitoring-external-routing-in-a-nutshell/&#34; title=&#34;BGP tools; troubleshooting and monitoring external routing in a nutshell&#34;&gt;BGP tools&lt;/a&gt;, they&amp;rsquo;re a great choice for checking routes across the internet. Hunting down addresses is an interesting one, though, as address management and lookups  can bleed into other aspects of networking like path selection, latency, jitter and many other things.  I&amp;rsquo;m going to touch on a few things and give generalizations on a few others.  First, querying where things originate and who has ownership is infinitely useful, especially if your job description has &amp;ldquo;security&amp;rdquo; anywhere in it, written or implied.  I like to use a range of services, all of which are from the CLI (for speed and scriptability).  My go-to tools for this are the venerable &lt;a href=&#34;http://en.wikipedia.org/wiki/Whois&#34;&gt;whois&lt;/a&gt; and dig tools. Lets say I want to check on the address 192.80.96.88. First, lets figure out if it&amp;rsquo;s got a name.  dig is your friend here.```
(~) jumphost $ dig -x 192.80.96.88
; &amp;lt;&amp;lt;&amp;gt;&amp;gt; DiG 9.8.3-P1 &amp;lt;&amp;lt;&amp;gt;&amp;gt; -x 192.80.96.88
;; global options: +cmd
;; Got answer:
;; -&amp;gt;&amp;gt;HEADER&amp;lt;&amp;lt;- opcode: QUERY, status: NOERROR, id: 29443
;; flags: qr rd ra; QUERY: 1, ANSWER: 1, AUTHORITY: 0, ADDITIONAL: 0
;; QUESTION SECTION:
;88.96.80.192.in-addr.arpa. IN PTR
;; ANSWER SECTION:
88.96.80.192.in-addr.arpa. 7145 IN PTR local.forwardingplane.net.
;; Query time: 2 msec
;; SERVER: 10.209.209.1#53(10.209.209.1)
;; WHEN: Sat May 31 11:43:18 2014
;; MSG SIZE rcvd: 82&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre style=&#34;color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4&#34;&gt;&lt;code class=&#34;language-Dig is an incredibly powerful DNS tool. I&#39;d recommend learning it as well as you possibly can. [_man dig_](http://linux.die.net/man/1/dig) on any good unix box should give you a good start, [this site](http://www.thegeekstuff.com/2012/02/dig-command-examples/) has some good examples too, I can&#39;t even scratch the surface of how useful DNS tools are, probably a great subject for another NIX4NetEng.  Here we see that the address has reverse DNS (PTR record) of local.forwardingplane.net.  We can poke a bit more at this using DNS, too.```&#34; data-lang=&#34;Dig is an incredibly powerful DNS tool. I&#39;d recommend learning it as well as you possibly can. [_man dig_](http://linux.die.net/man/1/dig) on any good unix box should give you a good start, [this site](http://www.thegeekstuff.com/2012/02/dig-command-examples/) has some good examples too, I can&#39;t even scratch the surface of how useful DNS tools are, probably a great subject for another NIX4NetEng.  Here we see that the address has reverse DNS (PTR record) of local.forwardingplane.net.  We can poke a bit more at this using DNS, too.```&#34;&gt;(~) jumphost $ dig -t ANY local.forwardingplane.net +noall +answer

; &amp;lt;&amp;lt;&amp;gt;&amp;gt; DiG 9.8.3-P1 &amp;lt;&amp;lt;&amp;gt;&amp;gt; -t ANY local.forwardingplane.net +noall +answer
;; global options: +cmd
local.forwardingplane.net. 221 IN AAAA 2607:dd00:8000:18::88
local.forwardingplane.net. 221 IN A 192.80.96.88&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;Well, we can see here we have a dual stacked host.  We&amp;rsquo;ll look at that more later. Let&amp;rsquo;s see who owns this address space. Whois is the way to go here.  I always start with querying ARIN and go from there.  ```
(~) jumphost $ whois -h whois.arin.net 192.80.96.88&lt;/p&gt;

&lt;p&gt;#&lt;/p&gt;

&lt;h1 id=&#34;arin-whois-data-and-services-are-subject-to-the-terms-of-use&#34;&gt;ARIN WHOIS data and services are subject to the Terms of Use&lt;/h1&gt;

&lt;h1 id=&#34;available-at-https-www-arin-net-whois-tou-html&#34;&gt;available at: &lt;a href=&#34;https://www.arin.net/whois_tou.html&#34;&gt;https://www.arin.net/whois_tou.html&lt;/a&gt;&lt;/h1&gt;

&lt;p&gt;#&lt;/p&gt;

&lt;p&gt;#&lt;/p&gt;

&lt;h1 id=&#34;query-terms-are-ambiguous-the-query-is-assumed-to-be&#34;&gt;Query terms are ambiguous.  The query is assumed to be:&lt;/h1&gt;

&lt;h1 id=&#34;n-192-80-96-88&#34;&gt;&amp;ldquo;n 192.80.96.88&amp;rdquo;&lt;/h1&gt;

&lt;p&gt;#&lt;/p&gt;

&lt;h1 id=&#34;use-to-get-help&#34;&gt;Use &amp;ldquo;?&amp;rdquo; to get help.&lt;/h1&gt;

&lt;p&gt;#&lt;/p&gt;

&lt;p&gt;#&lt;/p&gt;

&lt;h1 id=&#34;the-following-results-may-also-be-obtained-via&#34;&gt;The following results may also be obtained via:&lt;/h1&gt;

&lt;h1 id=&#34;http-whois-arin-net-rest-nets-q-192-80-96-88-showdetails-true-showarin-false-ext-netref2&#34;&gt;&lt;a href=&#34;http://whois.arin.net/rest/nets;q=192.80.96.88?showDetails=true&amp;amp;showARIN=false&amp;amp;ext=netref2&#34;&gt;http://whois.arin.net/rest/nets;q=192.80.96.88?showDetails=true&amp;amp;showARIN=false&amp;amp;ext=netref2&lt;/a&gt;&lt;/h1&gt;

&lt;p&gt;#&lt;/p&gt;

&lt;p&gt;NetRange:       192.80.96.0 - 192.80.111.255
CIDR:           192.80.96.0/20
OriginAS:       AS10932
NetName:        UC2B-1
NetHandle:      NET-192-80-96-0-1
Parent:         NET-192-0-0-0-0
NetType:        Direct Allocation
RegDate:        2013-02-27
Updated:        2013-02-27
Ref:            &lt;a href=&#34;http://whois.arin.net/rest/net/NET-192-80-96-0-1&#34;&gt;http://whois.arin.net/rest/net/NET-192-80-96-0-1&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;OrgName:        UC2B
OrgId:          CCLAUBBC
Address:        102 North Neil Street
City:           Champaign
StateProv:      IL
PostalCode:     61820
Country:        US
RegDate:        2012-02-28
Updated:        2014-02-19
Ref:            &lt;a href=&#34;http://whois.arin.net/rest/org/CCLAUBBC&#34;&gt;http://whois.arin.net/rest/org/CCLAUBBC&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;OrgAbuseHandle: UCBTE-ARIN
OrgAbuseName:   uc2b-tech
OrgAbusePhone:  +1-217-265-4226
OrgAbuseEmail:  uc2b-tech@uc2b.net
OrgAbuseRef:    &lt;a href=&#34;http://whois.arin.net/rest/poc/UCBTE-ARIN&#34;&gt;http://whois.arin.net/rest/poc/UCBTE-ARIN&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;OrgNOCHandle: UCBTE-ARIN
OrgNOCName:   uc2b-tech
OrgNOCPhone:  +1-217-265-4226
OrgNOCEmail:  uc2b-tech@uc2b.net
OrgNOCRef:    &lt;a href=&#34;http://whois.arin.net/rest/poc/UCBTE-ARIN&#34;&gt;http://whois.arin.net/rest/poc/UCBTE-ARIN&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;OrgTechHandle: UCBTE-ARIN
OrgTechName:   uc2b-tech
OrgTechPhone:  +1-217-265-4226
OrgTechEmail:  uc2b-tech@uc2b.net
OrgTechRef:    &lt;a href=&#34;http://whois.arin.net/rest/poc/UCBTE-ARIN&#34;&gt;http://whois.arin.net/rest/poc/UCBTE-ARIN&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;#&lt;/p&gt;

&lt;h1 id=&#34;arin-whois-data-and-services-are-subject-to-the-terms-of-use-1&#34;&gt;ARIN WHOIS data and services are subject to the Terms of Use&lt;/h1&gt;

&lt;h1 id=&#34;available-at-https-www-arin-net-whois-tou-html-1&#34;&gt;available at: &lt;a href=&#34;https://www.arin.net/whois_tou.html&#34;&gt;https://www.arin.net/whois_tou.html&lt;/a&gt;&lt;/h1&gt;

&lt;p&gt;#&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre style=&#34;color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4&#34;&gt;&lt;code class=&#34;language-The first 7 lines of this are the most important. Here we can see that the address space is owned by an entity called [UC2B](http://www.uc2b.net), it is part of a /20 that the origin ASN is 10932 and that it is a direct allocation (as opposed to assigned space from an upstream provider).```&#34; data-lang=&#34;The first 7 lines of this are the most important. Here we can see that the address space is owned by an entity called [UC2B](http://www.uc2b.net), it is part of a /20 that the origin ASN is 10932 and that it is a direct allocation (as opposed to assigned space from an upstream provider).```&#34;&gt;NetRange:       192.80.96.0 - 192.80.111.255
CIDR:           192.80.96.0/20
OriginAS:       AS10932
NetName:        UC2B-1
NetHandle:      NET-192-80-96-0-1
Parent:         NET-192-0-0-0-0
NetType:        Direct Allocation&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;I could tell you some horror stories about getting this address space assigned. It took me 7 months to get that allocation from ARIN&amp;hellip;&amp;hellip;.but I digress.  From here we can query the ASN, also using whois, again, the first few lines are generally the most useful.```
(~) jumphost $ whois -h whois.arin.net 10932
ASNumber: 10932
ASName: UC2B
ASHandle: AS10932
RegDate: 2012-06-28
Updated: 2012-06-28
Ref: &lt;a href=&#34;http://whois.arin.net/rest/asn/AS10932&#34;&gt;http://whois.arin.net/rest/asn/AS10932&lt;/a&gt;&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre style=&#34;color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4&#34;&gt;&lt;code class=&#34;language-We can use this information to track down responsible parties, addresses, etc.  It&#39;s a great resource for knowing both technical and non-technical details about address space. [Team Cymru has an extremely powerful whois service](http://www.team-cymru.org/Services/ip-to-asn.html#whois) that allows for significantly more flexibility including time and date.```&#34; data-lang=&#34;We can use this information to track down responsible parties, addresses, etc.  It&#39;s a great resource for knowing both technical and non-technical details about address space. [Team Cymru has an extremely powerful whois service](http://www.team-cymru.org/Services/ip-to-asn.html#whois) that allows for significantly more flexibility including time and date.```&#34;&gt;(~) jumphost $ whois -h whois.cymru.com &amp;#34; -v 192.80.96.88&amp;#34;
AS      | IP               | BGP Prefix          | CC | Registry | Allocated  | AS Name
10932   | 192.80.96.88     | 192.80.96.0/20      | US | arin     | 2013-02-27 | UC2B - UC2B,US&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;As you can imagine, this can be a robust way to track changes and re-allocations of ASNs and address blocks, especially with the dwindling amounts of IPv4 and the re-assignment of ASNs.  One can see when ownership has changed and verify the correct origin of address blocks.  Great for validation and correlation. These services also work for IPv6. We can see if the V6 space is coming from the same ASN or if it&amp;rsquo;s a different entity (like a &lt;a href=&#34;http://www.tunnelbroker.net&#34;&gt;tunnel&lt;/a&gt; or a totally different provider).&lt;code&gt;
\[buraglio@local ~\]$ whois -h whois.cymru.com &amp;quot; -v 2607:dd00:8000:18::88&amp;quot;
\[Querying whois.cymru.com\]
\[whois.cymru.com\]
AS      | IP                                       | BGP Prefix          | CC | Registry | Allocated  | AS Name
10932   | 2607:dd00:8000:18::88                    | 2607:dd00::/32      | US | arin     | 2012-07-23 | UC2B - UC2B,US
&lt;/code&gt; &lt;/p&gt;

&lt;p&gt;This is really just the tip of the iceberg in this kind of toolset.  There are &lt;em&gt;countless&lt;/em&gt; scripts, binaries and  shell hacks to do no end of interesting and useful things and gather information.  Have some other, better uses or tools?  Post them in the comments!&lt;/p&gt;
</description>
    </item>
    
    <item>
      <title>Blending the Network; Pluribus ServerSwitch</title>
      <link>https://forwardingplane.net/post/blending-the-network-pluribus-serverswitch/</link>
      <pubDate>Mon, 21 Apr 2014 04:44:30 +0000</pubDate>
      
      <guid>https://forwardingplane.net/post/blending-the-network-pluribus-serverswitch/</guid>
      <description>

&lt;p&gt;I firmly believe that blending disciplines is the way of the future in IT. I&amp;rsquo;ve rambled about it here at &lt;a href=&#34;http://packetpushers.net/are-certifications-tests-still-worth-your-resources-in-the-day-of-hybrid-it/&#34;&gt;other venues&lt;/a&gt; and I&amp;rsquo;m vocal (some would probably say brash) about it on the &lt;a href=&#34;http://www.twitter.com/buraglio&#34;&gt;twitters&lt;/a&gt;.  Be it Networking and System, Systems and Security, Programming and Networking, most of us that have been around any length of time already do it but now it&amp;rsquo;s happening out in the open and &amp;ldquo;&lt;a href=&#34;http://en.wikipedia.org/wiki/DevOps&#34;&gt;DevOps&lt;/a&gt;&amp;rdquo;, a form of the hybrid IT worker, has seemingly become the BOTD (Buzzword of the day). With &amp;ldquo;&lt;em&gt;hybrid&lt;/em&gt;&amp;rdquo; in mind, it was very apt that &lt;a href=&#34;http://www.pluribusnetworks.com/&#34;&gt;Pluribus Networks&lt;/a&gt; presented an intriguing spin on &amp;ldquo;&lt;em&gt;hybrid&lt;/em&gt;&amp;rdquo; from the hardware point of view at &lt;a href=&#34;http://techfieldday.com/event/nfd7/&#34;&gt;Network Field Day 7&lt;/a&gt;.  Remember the days or routers &lt;em&gt;or&lt;/em&gt; switches? Sure you do. Then along came the L3 Switch and shook everything up.  Now you could do both on the same box simplifying OPEX and potentially CAPEX as well as maintenance fees. It became possible to simplify the architecture and even to to collapse it if so desired.  I certainly did not expect to see anything like that in Pluribus.  In fact, to be honest, I really was not sure what to expect.&lt;/p&gt;

&lt;p&gt;&lt;a href=&#34;http://www.forwardingplane.net/wp-content/uploads/2014/04/PBNet.png&#34;&gt;&lt;img src=&#34;http://www.forwardingplane.net/wp-content/uploads/2014/04/PBNet.png&#34; alt=&#34;PBNet&#34; /&gt;&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;What pluribus brings is merchant based hardware but it has a spin that I  didn&amp;rsquo;t see coming.  A pretty innovative one, too. What others began by creating flexible, programmable and highly resilient OSs and/or feature rich hardware without big name fuss (and prices to accompany said fuss), &lt;a href=&#34;http://www.pluribusnetworks.com/&#34;&gt;Pluribus&lt;/a&gt; has evolved one step further, added some serious steroids to the hardware and infused very flexible OS with many management vectors (CLI, API, GUI and even good &amp;lsquo;ol UNIX commands).  &lt;img src=&#34;http://www.forwardingplane.net/wp-content/uploads/2014/03/800px-1968_El_Camino.jpg&#34; alt=&#34;800px-1968_El_Camino&#34; /&gt; Like a Reese&amp;rsquo;s peanut butter cup, Pluribus has blended two things that seem to work well together: a &lt;a href=&#34;http://www.pluribusnetworks.com/products/freedom-server-switch-line/&#34;&gt;powerful server platform&lt;/a&gt; for processing and potentially acting on massive amounts of data and a merchant based silicon switch with a good number of fast interfaces.  It&amp;rsquo;s a software driven hardware solution.  A host router, but so much more.  I&amp;rsquo;ve long thought that host based routing and switching was a powerful tool, having worked on several &lt;a href=&#34;http://www.pfsense.org&#34;&gt;open source platforms&lt;/a&gt; that do just that.  However, the issues that inevitably came up were a lack of commercial hardware and software support, a structured, well defined market or the risk of the fracture of a community based product.  This provides answers to all of those concerns and offers a unique product to boot.&lt;/p&gt;

&lt;h2 id=&#34;swerver&#34;&gt;&lt;em&gt;&amp;ldquo;Swerver&amp;rdquo;  &lt;/em&gt;&lt;/h2&gt;

&lt;p&gt;That&amp;rsquo;s the word that jumps into my brain when I try to categorize this nifty hybrid.  It&amp;rsquo;s a server, no it&amp;rsquo;s a switch no it&amp;rsquo;s a server &amp;hellip;It&amp;rsquo;s like an &lt;a href=&#34;http://en.wikipedia.org/wiki/Chevrolet_El_Camino&#34;&gt;El Camino&lt;/a&gt; (or &lt;a href=&#34;http://en.wikipedia.org/wiki/Ford_Ranchero‎&#34;&gt;Ford Ranchero&lt;/a&gt;, depending on your persuasion), &amp;ldquo;Is it a car? Is it a Truck?&amp;rdquo; &amp;ldquo;Yes.&amp;rdquo; Pluribus presents some interesting questions about how we can blend the network and systems into a more flexible platform with their server switch platform, creating an &lt;em&gt;infrastructure&lt;/em&gt; fabric as opposed to a &amp;ldquo;series of tubes&amp;rdquo; that &amp;ldquo;servers&amp;rdquo; connect to.  Their software suite is quite robust, too.  Anything from NAS to CDN, NAT to L3.  Oh, and they can run VMs, too.  I&amp;rsquo;m thinking a Bro IDS node, a blackhole router and a perfsonar node running right in the network fabric.  Very thought provoking stuff. I like to see ideas, products and people that lay it all out there and try to transform, to evoke thoughts and try to foster change.  This does that.  You can check out the videos from NFD7 &lt;a href=&#34;http://techfieldday.com/appearance/pluribus-networks-presents-at-networking-field-day-7/&#34;&gt;here&lt;/a&gt;.  I &lt;strong&gt;&lt;em&gt;dare&lt;/em&gt;&lt;/strong&gt; you to tell me you can not think of a use for something like this. &lt;a href=&#34;http://commons.wikimedia.org/wiki/File:1968_El_Camino.jpg&#34;&gt;El Camino Image Reference via WikiPedia&lt;/a&gt; Freedom Line image source Pluribus Networks   &lt;a href=&#34;http://www.forwardingplane.net/about/disclaimer/&#34;&gt;Standard Disclaimer&lt;/a&gt;&lt;/p&gt;
</description>
    </item>
    
    <item>
      <title>BGP tools; troubleshooting and monitoring external routing in a nutshell</title>
      <link>https://forwardingplane.net/post/bgp-tools-troubleshooting-and-monitoring-external-routing-in-a-nutshell/</link>
      <pubDate>Fri, 21 Mar 2014 04:51:06 +0000</pubDate>
      
      <guid>https://forwardingplane.net/post/bgp-tools-troubleshooting-and-monitoring-external-routing-in-a-nutshell/</guid>
      <description>&lt;p&gt;Time to rewind from the new and shiny and get back to roots of networking. &lt;a href=&#34;http://en.wikipedia.org/wiki/Border_Gateway_Protocol&#34;&gt;BGP&lt;/a&gt; is one of those odd protocols that is foundational to the functioning of the internet but yet somewhat hard to get experience with.  Say what you will about this venerable protocol, it&amp;rsquo;s been here a while and it is not going anywhere any time soon. I&amp;rsquo;ve been doing BGP since around late 1999, and I completely fell into it by accident, having only the Cisco &lt;a href=&#34;http://www.amazon.com/Internet-Routing-Architectures-2nd-Edition/dp/157870233X&#34;&gt;Internet Routing Architectures&lt;/a&gt; book (which I literally read cover to cover) and the &lt;a href=&#34;http://www.amazon.com/IP-Routing-Protocols-OSPF-Cisco/dp/0130142484/ref=la_B001HCXUMA_1_1?s=books&amp;amp;ie=UTF8&amp;amp;qid=1395373752&amp;amp;sr=1-1&#34;&gt;Ulysses Black Routing Protocols Book&lt;/a&gt;  and whatever I could find on a random search engine to guide me, and that was only after having to learn on the CLI for the first 6-7 months. In actuality, that is how many of the folks of my vintage came into doing BGP. Someone needed to announce some routes that were allocated to them by an &lt;a href=&#34;https://www.arin.net/knowledge/rirs.html&#34;&gt;RIR&lt;/a&gt;, or bring up some multi-homing or whatever.  Whoever knew how to work on the border device (or was willing to touch arguably the most important device on the network) got to learn how to do it. In 15 years of configuring, monitoring, tweaking, tuning and generally just maintaining BGP across service provider, research, enterprise networks and in labs and test environments, here are the tools I had to find to either put out fires, prevent blazing flames or prove that there is/was no fire. Lets assume that you already have all of the appropriate prefix lists, policy options and route maps in place to filter correctly. You&amp;rsquo;re doing that, right? If not, go do that and then come back to this. It will make your life easier in the long run. All eBGP peerings should have inbound and outbound filters on them. No exceptions. Yes, it can be a pain to maintain but when someone leaks you a full table when you&amp;rsquo;re expecting directly connected, you&amp;rsquo;ll be glad that they&amp;rsquo;re there. See below about automating the filters programatically. Now on to the fun stuff. Look at what the router is sending and receiving.  You know what you&amp;rsquo;re announcing, right? Under Cisco IOS the appropriate commands to display this information will look like this:```
show ip bgp neighbor  received-routes&lt;/p&gt;

&lt;pre&gt;&lt;code&gt;show ip bgp neighbor  advertised-routes
```In JunOS it will look like this:```
show route rec protocol bgp &amp;lt;neighbor&amp;gt;
&lt;/code&gt;&lt;/pre&gt;

&lt;p&gt;show route adv protocol bgp &lt;neighbor&gt;&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre style=&#34;color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4&#34;&gt;&lt;code class=&#34;language-On an Alcatel-Lucent the command will look like this:```&#34; data-lang=&#34;On an Alcatel-Lucent the command will look like this:```&#34;&gt;show router bgp neighbor &amp;lt;neighbor&amp;gt; advertised-routes&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;Brocade has their methods too, it is &lt;em&gt;relatively&lt;/em&gt; similar to IOS. One important thing to note, JunOS requires no difference in the show command for IPv6. IOS and ALU has an additional command to display IPv6 information. IOS-XR may be different still, but I cannot confirm or recall since I have not used it since late 2012 (additions welcome in the comments).  For IPv6 on Cisco IOS and ALU respectively:```
show ipv6 bgp neighbors &lt;neighbor&gt; received-routes | advertised-routes&lt;/p&gt;

&lt;p&gt;show router bgp neighbor &lt;neighbor&gt; advertised-routes ipv6&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre style=&#34;color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4&#34;&gt;&lt;code class=&#34;language-This will provide a view from the street, it will display exactly what your router knows. [Route servers ](http://www.traceroute.org/#Route%20Servers)/ [Looking Glass](http://www.bgp4.as/looking-glasses) --This is your basic  external view. Log in and see what other ASNs know about your routes.  Critically important during those &#34;something is on fire&#34; times mentioned above.  They are maintained by a myriad of entities and positioned all over the globe. [BGPmon](http://www.bgpmon.org) --A project by [Andree Toonk](https://twitter.com/atoonk). Allows for the automatic discovery and monitoring of prefixes, alerting on many, many  attributes such as prefix hijacks.  Free and commercial plans available, but the commercial plans are far more feature rich and well worth it if you monitor large amounts og BGP. [Peermon](https://www.bgpmon.net/new-version-of-bgpmon-net/) --Part of the new and improved BGPmon.  Allows for the on-demand monitoring of prefixes within your network. Very useful for viewing as-path changes of destination networks for long term troubleshooting. [RouteViews](http://www.routeviews.org) -- Great project out of U of Oregon that was (is?) run by the groundbreaking [David Meyer](https://twitter.com/dmm613) of [OpenDaylight](http://www.opendaylight.org/) (and many other things) fame.  Peers with networks and records routing changes, allows for public query and has vast historical data. [bgplay](http://bgplay.routeviews.org/) - Great visualization tool for tracking routing, as-path and prefix announcement changes. This is part of the routeviews project and utilizes their vast historical data.  L=It currently acks IPv6 support and I;m unsure if it is maintained anymore. [Router Proxies](http://routerproxy.grnoc.iu.edu/internet2/) -- This has been a big thing int he R&amp;E world for quite some time.  Other entities may offer it, it&#39;s similar to a looking glass but more easily configured to allow or disallow different show commands.  The [code is open source](http://routerproxy.sourceforge.net/) and pretty easy to hack new commands into or adapt to new platforms (if I can do it anyone can). Lookup tools such as whois.  I find that looking uo ASNs and networks against the ARIN, RIPE and other RIRs is very handy as a starting point.  using CLI commands such as &#34;whois -h whois.arin.net 1224&#34; would display the following information:```&#34; data-lang=&#34;This will provide a view from the street, it will display exactly what your router knows. [Route servers ](http://www.traceroute.org/#Route%20Servers)/ [Looking Glass](http://www.bgp4.as/looking-glasses) --This is your basic  external view. Log in and see what other ASNs know about your routes.  Critically important during those &#34;something is on fire&#34; times mentioned above.  They are maintained by a myriad of entities and positioned all over the globe. [BGPmon](http://www.bgpmon.org) --A project by [Andree Toonk](https://twitter.com/atoonk). Allows for the automatic discovery and monitoring of prefixes, alerting on many, many  attributes such as prefix hijacks.  Free and commercial plans available, but the commercial plans are far more feature rich and well worth it if you monitor large amounts og BGP. [Peermon](https://www.bgpmon.net/new-version-of-bgpmon-net/) --Part of the new and improved BGPmon.  Allows for the on-demand monitoring of prefixes within your network. Very useful for viewing as-path changes of destination networks for long term troubleshooting. [RouteViews](http://www.routeviews.org) -- Great project out of U of Oregon that was (is?) run by the groundbreaking [David Meyer](https://twitter.com/dmm613) of [OpenDaylight](http://www.opendaylight.org/) (and many other things) fame.  Peers with networks and records routing changes, allows for public query and has vast historical data. [bgplay](http://bgplay.routeviews.org/) - Great visualization tool for tracking routing, as-path and prefix announcement changes. This is part of the routeviews project and utilizes their vast historical data.  L=It currently acks IPv6 support and I;m unsure if it is maintained anymore. [Router Proxies](http://routerproxy.grnoc.iu.edu/internet2/) -- This has been a big thing int he R&amp;E world for quite some time.  Other entities may offer it, it&#39;s similar to a looking glass but more easily configured to allow or disallow different show commands.  The [code is open source](http://routerproxy.sourceforge.net/) and pretty easy to hack new commands into or adapt to new platforms (if I can do it anyone can). Lookup tools such as whois.  I find that looking uo ASNs and networks against the ARIN, RIPE and other RIRs is very handy as a starting point.  using CLI commands such as &#34;whois -h whois.arin.net 1224&#34; would display the following information:```&#34;&gt;#
# The following results may also be obtained via:
# http://whois.arin.net/rest/asns;q=1224?showDetails=true&amp;amp;ext=netref2
#
``````
ASNumber: 1224
ASName: NCSA-AS
ASHandle: AS1224
RegDate: 1991-02-25
Updated: 1997-10-27
Ref: http://whois.arin.net/rest/asn/AS1224
``````
OrgName: National Center for Supercomputing Applications
OrgId: NCSA-3
Address: NCSA
Address: 1205 W. Clark St
City: Urbana
StateProv: IL
PostalCode: 61801
Country: US
RegDate: 1990-03-26
Updated: 2011-04-06
Ref: http://whois.arin.net/rest/org/NCSA-3
``````
OrgAbuseHandle: ND63-ORG-ARIN
OrgAbuseName: Network Development
OrgAbusePhone: +1-217-244-0714
OrgAbuseEmail: neteng @ ncsa.illinois.edu
OrgAbuseRef: http://whois.arin.net/rest/poc/ND63-ORG-ARIN
``````
OrgTechHandle: ND63-ORG-ARIN
OrgTechName: Network Development
OrgTechPhone: +1-217-244-0714
OrgTechEmail: neteng @ ncsa.illinois.edu
OrgTechRef: http://whois.arin.net/rest/poc/ND63-ORG-ARIN
``````
RTechHandle: ND63-ORG-ARIN
RTechName: Network Development
RTechPhone: +1-217-244-0714
RTechEmail: neteng @ ncsa.illinois.edu
RTechRef: http://whois.arin.net/rest/poc/ND63-ORG-ARIN
``````
#
# ARIN WHOIS data and services are subject to the Terms of Use
# available at: https://www.arin.net/whois\_tou.html
#&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;Very handy for prefixes and ASNs.  There are also service like the &lt;a href=&#34;https://www.team-cymru.org/Services/ip-to-asn.html&#34;&gt;Team Cymru whois server&lt;/a&gt; that can display date/time based information for forensics and to provide IP to ASN mappings. Also very handy.  I believe this code is also open source. &lt;a href=&#34;http://irrtoolset.isc.org/&#34;&gt;IRR Toolset&lt;/a&gt;.  Extremely handy for automation of routing policy configuration.  I found it a tad painful to set up but it is a useful toolkit. Notable Mention: &lt;a href=&#34;https://ring.nlnog.net/&#34;&gt;NLNog RING&lt;/a&gt;.  &amp;ndash; This is a trust based unix host that provides a &lt;a href=&#34;https://ring.nlnog.net/toolbox/&#34;&gt;large variety of services&lt;/a&gt; to those that qualify for participation.  Very handy when looking for an on-net perspective. Notable Mention / Shameless Plug: &lt;a href=&#34;http://psps.perfsonar.net/toolkit/&#34;&gt;perfSonar toolkit&lt;/a&gt;.  In addition to thewell known performance testing tools, PS provides things like reverse traceroute and other handy networking widgets.  It also has a far lower barrier of entry than the NLNog RING.   There are obviously more ways to do this and there are possibly better ones, too.  This is how I&amp;rsquo;ve done it for a long time and it has mostly worked for me.  I had to learn most of this by trial and error so I thought it maybe useful to throw it all together into one place for future reference.&lt;/p&gt;
</description>
    </item>
    
    <item>
      <title>Tail-F NCS: upsetting network management...in a good way.</title>
      <link>https://forwardingplane.net/post/tail-f-ncs-upsetting-network-management-in-a-good-way/</link>
      <pubDate>Thu, 27 Feb 2014 04:36:26 +0000</pubDate>
      
      <guid>https://forwardingplane.net/post/tail-f-ncs-upsetting-network-management-in-a-good-way/</guid>
      <description>

&lt;p&gt;&lt;em&gt;“Hopefully there are some things here that will make you really upset in a very good way”&lt;/em&gt; is how &lt;a href=&#34;https://twitter.com/cmoberg&#34;&gt;Carl Moberg&lt;/a&gt; of Swedish based company &lt;a href=&#34;http://www.tail-f.com/&#34;&gt;tail-f&lt;/a&gt; opened up to the crowd at &lt;a href=&#34;http://techfieldday.com/event/nfd7/&#34;&gt;Networking Field Day 7&lt;/a&gt; on &lt;a href=&#34;http://techfieldday.com/appearance/tail-f-systems-presents-at-networking-field-day-7/&#34;&gt;Feb 19, 2014&lt;/a&gt;.  Tail-f is a sleeper, I had actually never heard of them before NFD7, but they&amp;rsquo;ve got a very unique product in &lt;a href=&#34;http://www.tail-f.com/network-control-system/&#34;&gt;NCS&lt;/a&gt; and in my opinion it can change the way existing &lt;strong&gt;and&lt;/strong&gt; future networks are managed.  Right now.  It&amp;rsquo;s not a platform that is green, unpolished or unfinished.  &lt;a href=&#34;http://www.tail-f.com/network-control-system/&#34;&gt;NCS&lt;/a&gt; is in the ring and it brought its A-game.   Their site describes it better than I ever could: _&amp;ldquo;Tail-f Network Control System, or NCS, enables network operators to manage all of their services and network devices with a single tool.&amp;ldquo; _A bold statement, and I tend to be pretty skeptical of such statements. However, I was really intrigued by the NCS platform and as I discovered, it is not hype. Watching the demo of this got my brain racing, it was exciting to think about all of the things it could simplify; I was excited about networking.  So many things In fact, I&amp;rsquo;m really just going to scratch the surface of what this software toolkit can tool.&lt;/p&gt;

&lt;blockquote&gt;
&lt;h2 id=&#34;any-network-of-of-ambitious-size-that-needs-to-get-people-out-of-the-loop&#34;&gt;&lt;em&gt;&amp;ldquo;Any network of of ambitious size that needs to get people out of the loop”&lt;/em&gt;&lt;/h2&gt;
&lt;/blockquote&gt;

&lt;p&gt;The CTO says that NCS is for &amp;ldquo;_Any network of of ambitious size that needs to get people out of the loop_”, and I tend to agree, which is what makes this so powerful. In a world of openflow this and sdn that, most of which is still under heavy development, I can&amp;rsquo;t help but think of NCS as a &amp;ldquo;rosetta stone&amp;rdquo; of network management tools. It’s a controller, but in a different way. Its not openflow, but it knows openflow, so it is looking forward, but it also supports everything that is already there, an absolute necessity for 95% of networks that are not greenfield. From the &lt;a href=&#34;http://www.tail-f.com/network-control-system/#which-types-of&#34;&gt;NCS FAQ&lt;/a&gt;:&lt;/p&gt;

&lt;blockquote&gt;
&lt;h2 id=&#34;rose-lg-http-www-forwardingplane-net-wp-content-uploads-2014-02-rose-lg-jpg-http-www-forwardingplane-net-wp-content-uploads-2014-02-rose-lg-jpg-any-device-that-can-be-remotely-configured-can-be-managed-by-ncs-this-includes-routers-switches-load-balancers-firewalls-web-servers-and-a-whole-host-of-other-devices-both-virtual-and-physical-since-it-is-not-limited-to-one-type-of-device-or-particular-vendor-ncs-allows-for-management-of-the-entire-network-from-a-single-pane-of-glass&#34;&gt;_&lt;a href=&#34;http://www.forwardingplane.net/wp-content/uploads/2014/02/rose_lg.jpg&#34;&gt;&lt;img src=&#34;http://www.forwardingplane.net/wp-content/uploads/2014/02/rose_lg.jpg&#34; alt=&#34;rose_lg&#34; /&gt;&lt;/a&gt;&amp;ldquo;Any device that can be remotely configured can be managed by NCS. This includes, routers, switches, load-balancers, firewalls, web servers and a whole host of other devices (both virtual and physical). Since it is not limited to one type of device or particular vendor, NCS allows for management of the entire network from a single pane of glass.&amp;rdquo;_&lt;/h2&gt;
&lt;/blockquote&gt;

&lt;p&gt;Lets face it, network management is not exactly easy to do in a sane and robust way, there are always quirks, one-offs and proprietary goo. That&amp;rsquo;s probably never going to change.  From the open source to the commercial, I&amp;rsquo;ve used, evaluated or extended a wide swath of them in my time in the industry, and this one really shocked me in what it was able to do in such a demonstrably elegant way, which we all know is not an easy task since we all have odd, uncommon or sometimes unreasonable requirements. A few things are really compelling about NCS.  First, it&amp;rsquo;s all &lt;a href=&#34;http://en.wikipedia.org/wiki/YANG&#34;&gt;YANG&lt;/a&gt;, meaning it is an established standard for doing exactly this and it can be referenced by any number of protocols for obtaining or setting the desired data or parameters.  This also means that it can very quickly and easily be extended to support new products, software loads, communications mechanisms and features. Tail-F changed the way I was thinking about network management.  They&amp;rsquo;ve taken the religion out of equipment vendors, because you can choose how to interact with them.  They allow for management of a myriad of platforms from an operator-chosen, familiar CLI.  Have guys that like JunOS?  Great, no problem.  Team members that prefer IOS?  No worries.  They can manage the Alcatel-Lucent, Brocade, Extreme Networks or one of the many other CLI variants from their choice of IOS or JunOS-like command sets.   No longer is it important to understand a particular CLI.  I wish I could have had access to this product 5 years ago when, at a previous job, we introduced JunOS to a team that had been working on IOS and Foundry for the majority of their careers.  It would have solved so many issues and driven the learning curve to nil. The CLI translator is really just the icing.  The configuration validation is immensely powerful and I could easily see it preventing many typos and misconfigurations (you know you&amp;rsquo;ve done it, we all have).  It can also provide compliance reporting, service management and configuration reconciliation, all of which are generally in-house written tools or manually accmplished tasks in my experience. Standardize and deploy ACLs across a range of platforms in geographically diverse areas, provision BGP policy on huge numbers of peers very quickly, reconcile MTUs on interfaces of devices that have been neglected, &lt;a href=&#34;https://wiki.openstack.org/wiki/Neutron/ML2/Tail-f-NCS-neutron-ml2-driver&#34;&gt;interface with OpenStack Neutron&lt;/a&gt;.  The use cases are pretty open ended, really. Anything that needs to be done at scale can be, and it can be error checked in the process. Don&amp;rsquo;t take my word for it, I&amp;rsquo;m clearly excited about it and can&amp;rsquo;t wait to get my hands on it.  Watch the NCS demo: Tail-f Systems NCS Demo at Networking Field Day 7   All of the videos can be found &lt;a href=&#34;http://techfieldday.com/appearance/tail-f-systems-presents-at-networking-field-day-7/&#34;&gt;here&lt;/a&gt;. Rosetta Stone images courtesy of &lt;a href=&#34;http://www.ancientegypt.co.uk/writing/rosetta.html&#34;&gt;http://www.ancientegypt.co.uk/writing/rosetta.html&lt;/a&gt; and &lt;a href=&#34;http://taboodada.wordpress.com/&#34;&gt;http://taboodada.wordpress.com/&lt;/a&gt;&lt;/p&gt;
</description>
    </item>
    
    <item>
      <title>Inline-jflow on MX series Juniper</title>
      <link>https://forwardingplane.net/post/inline-jflow-on-mx-series-juniper/</link>
      <pubDate>Sun, 01 Sep 2013 15:40:29 +0000</pubDate>
      
      <guid>https://forwardingplane.net/post/inline-jflow-on-mx-series-juniper/</guid>
      <description>&lt;p&gt;One of the things that I&amp;rsquo;ve always lamented about using non-Cisco hardware is the lack of true 1:1 &lt;a href=&#34;http://en.wikipedia.org/wiki/Netflow&#34;&gt;netflow&lt;/a&gt; support.  Say what you will about jflow, cflow, sflow&amp;hellip;.there is no substitute for netflow, with sflow being the exception to that since it is a protocol that inherently supports ipv6 and &lt;a href=&#34;http://www.forwardingplane.net/2012/10/host-based-sflow-or-sflow-for-more-than-just-network-traffic/&#34; title=&#34;Host based sflow, or, sflow for more than just network traffic&#34;&gt;can transport far more than simple network information&lt;/a&gt; if configured in certain ways on certain devices. On newer MX series Juniper routers the game has changed.  One to one flow data export (in IPFIX format) is now available, in hardware, for IPv4 and IPv6.  Queue the service providers rejoice.  Configuring this on the MX is a tad more involved than a Cisco, but it&amp;rsquo;s still pretty straightforward. In set commands:```
 buraglio@mx480&amp;gt; show configuration forwarding-options | display set
 set forwarding-options sampling traceoptions file ipfix.log
 set forwarding-options sampling traceoptions file size 10k
 set forwarding-options sampling instance 1to1 input rate 1
 set forwarding-options sampling instance 1to1 family inet output flow-server &lt;br /&gt;
 10.16.120.204 port 9995
 set forwarding-options sampling instance 1to1 family inet output flow-server &lt;br /&gt;
 10.16.120.204 version-ipfix template ipv4
 set forwarding-options sampling instance 1to1 family inet output \
 inline-jflow source-address 10.16.120.1
 set forwarding-options sampling instance 1to1 family inet6 output flow-server \
 10.16.120.204 port 9995
 set forwarding-options sampling instance 1to1 family inet6 output flow-server \
 10.16.120.204 version-ipfix template ipv6
 set forwarding-options sampling instance 1to1 family inet6 output inline-jflow \
 source-address 10.16.120.1&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre style=&#34;color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4&#34;&gt;&lt;code class=&#34;language-Once the forwarding-options are set the chassis hardware has to be told what it can do.  Lets say you want to configure the inline-jflow on interfaces that exist on fpc0 (MPC0):```&#34; data-lang=&#34;Once the forwarding-options are set the chassis hardware has to be told what it can do.  Lets say you want to configure the inline-jflow on interfaces that exist on fpc0 (MPC0):```&#34;&gt;buraglio@ur1rtr&amp;gt; show configuration chassis fpc 0 | display set
set chassis fpc 0 pic 0 tunnel-services bandwidth 1g
set chassis fpc 0 pic 1 tunnel-services bandwidth 1g
set chassis fpc 0 sampling-instance 1to1
set chassis fpc 0 inline-services flow-table-size ipv4-flow-table-size 5
set chassis fpc 0 inline-services flow-table-size ipv6-flow-table-size 5&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;Notice we&amp;rsquo;re referencing the sampling instance we created in the forwarding-options.  This tells the MPC (FPC) and MIC (PIC) that you want a traceoptions file (deactivate this after the setup is all working; I generaly keep a traceoptions section configured but deactivated in nearly every protocol for quick debugging.)  Enables the sampling instance we jut added to the forwarding options and sets the flow collector address and port.  It also sets the protocol as &lt;a href=&#34;http://en.wikipedia.org/wiki/IP_Flow_Information_Export&#34;&gt;IPFIX&lt;/a&gt; (Essentially netflow v9).  Now that we have the framework set up, we need to add the bits to the interface that tell it to sample the traffic```
buraglio@ur1rtr&amp;gt; show configuration interfaces xe-0/0/1 | display set
set interfaces xe-0/0/1 description &amp;ldquo;trib port 1&amp;rdquo;
set interfaces xe-0/0/1 flexible-vlan-tagging
set interfaces xe-0/0/1 encapsulation flexible-ethernet-services
set interfaces xe-0/0/1 unit 105 description &amp;ldquo;Trib peering #1&amp;rdquo;
set interfaces xe-0/0/1 unit 105 vlan-id 1005
set interfaces xe-0/0/1 unit 105 family inet mtu 9000
set interfaces xe-0/0/1 unit 105 family inet sampling input
set interfaces xe-0/0/1 unit 105 family inet address 10.17.120.&lt;sup&gt;1&lt;/sup&gt;&amp;frasl;&lt;sub&gt;30&lt;/sub&gt;
set interfaces xe-0/0/1 unit 105 family inet6 mtu 9000
set interfaces xe-0/0/1 unit 105 family inet6 sampling input
set interfaces xe-0/0/1 unit 105 family inet6 address 2001:DB8:1:dead:beef::&lt;sup&gt;1&lt;/sup&gt;&amp;frasl;&lt;sub&gt;64&lt;/sub&gt;&lt;/p&gt;

&lt;pre&gt;&lt;code&gt;
Point this at your favorite flow collector and reap the benefits of having flow data. As far as collectors there are a lot of options, I prefer [nfdump](http://nfdump.sourceforge.net/)/[nfsen](http://nfsen.sourceforge.net/) because it&#39;s FOSS, very flexible, has [plugins](http://sourceforge.net/apps/trac/nfsen-plugins/) and is well supported, but there are fantastic commercial options for every flavor.  I&#39;ve used the Arbor Peakflow and like it but it has a very expensive licensing model so it is generally deployed in larger environments.   I&#39;ve also heard good things about the [SolarWinds Netflow Analyzer](http://www.solarwinds.com/netflow-traffic-analyzer.aspx) but I&#39;ve never used it. Caveats: On the older ichip platform with the MS-DPC you can view the actual flows on the box itself using the command &amp;lt;command&amp;gt;  much like show cef on a cisco.  I cannot find a way to do that on in the inline-jflow configuration on the trio hardware. This was configured on JunOS 12.3R3.4 on MX480 hardware with MPC3/Trio hardware. I can&#39;t seem to get the IPv6 flow data from the flow records.  I suspect it&#39;s either not in there yet or I&#39;ve configured that part wrong. -----EDIT----- IPv6 flow data is working fine, flows are just being obfuscated by IPv4.  Using nfdump and singling out the IPv6 traffic shows what we expect:```
nfdump -M /home/netflow/profiles-data/testlab/rtr1  -T  -r \\ 
2013/09/03/nfcapd.201309030945 -n 20 -s ip/flows -6
nfdump filter:
inet6
Top 20 IP Addr ordered by flows:

---SNIP---

Summary: total flows: 19222, total bytes: 28.7 M, total packets: \\ 
45173, avg bps: 732, avg pps: 0, avg bpp: 636
Time window: 2013-07-15 16:42:57 - 2013-09-03 09:50:20
Total flows processed: 4134975, Blocks skipped: 0, Bytes read: 281643580
Sys: 1.235s flows/second: 3345958.0  Wall: 1.770s flows/second: 2335921.0
&lt;/code&gt;&lt;/pre&gt;
</description>
    </item>
    
    <item>
      <title>Fixing the dreaded &#34;error: could not open configuration database (juniper.data&#43;)&#34; problem.</title>
      <link>https://forwardingplane.net/post/fixing-the-dreaded-error-could-not-open-configuration-database-juniper-data-problem/</link>
      <pubDate>Wed, 07 Aug 2013 16:52:04 +0000</pubDate>
      
      <guid>https://forwardingplane.net/post/fixing-the-dreaded-error-could-not-open-configuration-database-juniper-data-problem/</guid>
      <description>&lt;p&gt;Working on some MX series routers recently I encountered a problem I&amp;rsquo;d never seen before, essentially preventing the configuration from being committed:```
buraglio@rtr# commit check
re0:
error: could not open configuration database (juniper.data+)&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre style=&#34;color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4&#34;&gt;&lt;code class=&#34;language-This is a very annoying problem and is terribly inconvenient as you can probably imagine. So, my first instinct is to drop down to the shell and starting hacking at it UNIX style.```&#34; data-lang=&#34;This is a very annoying problem and is terribly inconvenient as you can probably imagine. So, my first instinct is to drop down to the shell and starting hacking at it UNIX style.```&#34;&gt;buraglio@rtr&amp;gt;start shell&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;From there I wanted to see the file system and check out the stats of what it thinks we have.```
buraglio@rtr% df -h
Filesystem     Size    Used   Avail Capacity  Mounted on
/dev/ad0s1a    3.5G    313M    2.9G    10%    /
devfs          1.0K    1.0K      0B   100%    /dev
/dev/md0        63M     63M      0B   100%    /packages/mnt/jbase
/dev/md1        53M     53M      0B   100%    /packages/mnt/jkernel64-12.3R3.4
buraglio@rtr%    82M     82M      0B   100%    /packages/mnt/jpfe-X960-12.3R3.4
/dev/md3       5.0M    5.0M      0B   100%    /packages/mnt/jdocs-12.3R3.4
buraglio@rtr%   104M    104M      0B   100%    /packages/mnt/jroute-12.3R3.4
buraglio@rtr% clearM     28M      0B   100%    /packages/mnt/jcrypto64-12.3R3.4
/dev/md6        38M     38M      0B   100%    /packages/mnt/jpfe-common-12.3R3.4
/dev/md7        92K     92K      0B   100%    /packages/mnt/jplatform-12.3R3.4
/dev/md8       422M    422M      0B   100%    /packages/mnt/jruntime-12.3R3.4
/dev/md9       7.9G     16K    7.2G     0%    /tmp
/dev/md10      7.9G     11M    7.2G     0%    /mfs
/dev/ad0s1e    393M     36K    362M     0%    /config
procfs         4.0K    4.0K      0B   100%    /proc
/dev/ad1s1f     18G    4.2G     12G    26%    /var&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre style=&#34;color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4&#34;&gt;&lt;code class=&#34;language-... and check the mounted partitions.```&#34; data-lang=&#34;... and check the mounted partitions.```&#34;&gt;buraglio@rtr% mount
/dev/ad0s1a on / (ufs, local, noatime)
devfs on /dev (devfs, local, multilabel)
/dev/md0 on /packages/mnt/jbase (cd9660, local, noatime, read-only, verified)
/dev/md1 on /packages/mnt/jkernel64-12.3R3.4 (cd9660, local, noatime, read-only, verified)
/dev/md2 on /packages/mnt/jpfe-X960-12.3R3.4 (cd9660, local, noatime, read-only)
/dev/md3 on /packages/mnt/jdocs-12.3R3.4 (cd9660, local, noatime, read-only, verified)
/dev/md4 on /packages/mnt/jroute-12.3R3.4 (cd9660, local, noatime, read-only, verified)
/dev/md5 on /packages/mnt/jcrypto64-12.3R3.4 (cd9660, local, noatime, read-only, verified)
/dev/md6 on /packages/mnt/jpfe-common-12.3R3.4 (cd9660, local, noatime, read-only)
/dev/md7 on /packages/mnt/jplatform-12.3R3.4 (cd9660, local, noatime, read-only, verified)
/dev/md8 on /packages/mnt/jruntime-12.3R3.4 (cd9660, local, noatime, read-only, verified)
/dev/md9 on /tmp (ufs, asynchronous, local, noatime)
/dev/md10 on /mfs (ufs, asynchronous, local, noatime)
/dev/ad0s1e on /config (ufs, local, noatime)
procfs on /proc (procfs, local, noatime)
/dev/ad1s1f on /var (ufs, local, noatime)&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;I ran a fsck to get some stats and see what the problem could be since it appears that there is no free space even though the router reports that it has it.```
buraglio@rtr% fsck -y -f /dev/ad1s1f
** /dev/ad1s1f (NO WRITE)
** Last Mounted on /var
** Phase 1 - Check Blocks and Sizes
** Phase 2 - Check Pathnames
** Phase 3 - Check Connectivity
** Phase 4 - Check Reference Counts
** Phase 5 - Check Cyl groups
FREE BLK COUNT(S) WRONG IN SUPERBLK
SALVAGE? no&lt;/p&gt;

&lt;p&gt;605 files, 2202492 used, 7040218 free (786 frags, 879929 blocks, 0.0% fragmentation)&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre style=&#34;color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4&#34;&gt;&lt;code class=&#34;language-Playing around in the shell presented this error as well```&#34; data-lang=&#34;Playing around in the shell presented this error as well```&#34;&gt;/var: create/symlink failed, no inodes free&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;So, it appears as if the /var partition is the issue. On my router /var is mounted as /dev/ad1s1f, so lets unmount this partition and try to fix it. In my experience Juniper will shy away from telling you to do anything in the shell, so do this at your own risk. Rebooting the router would also fix this issue, but I&amp;rsquo;m a form believer that rebooting networking equipment to fix issues is a lazy way to fix problems and will only serve to atrophy any troubleshooting skills you may have.```&lt;/p&gt;

&lt;p&gt;buraglio@rtr% umount -f /var&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre style=&#34;color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4&#34;&gt;&lt;code class=&#34;language-Now run fsck again to repair the file system```&#34; data-lang=&#34;Now run fsck again to repair the file system```&#34;&gt;buraglio@rtr% fsck -y -f /dev/ad1s1f
\*\* /dev/ad1s1f
\*\* Last Mounted on /var
\*\* Phase 1 - Check Blocks and Sizes
\*\* Phase 2 - Check Pathnames
\*\* Phase 3 - Check Connectivity
\*\* Phase 4 - Check Reference Counts
\*\* Phase 5 - Check Cyl groups
FREE BLK COUNT(S) WRONG IN SUPERBLK
SALVAGE? yes

605 files, 2203376 used, 7039334 free (782 frags, 879819 blocks, 0.0% fragmentation)

\*\*\*\*\* FILE SYSTEM WAS MODIFIED \*\*\*\*\*&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;Now that the problematic bits have been repaired, we re-mount the partition```
buraglio@rtr% mount /dev/ad1s1f /var/&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre style=&#34;color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4&#34;&gt;&lt;code class=&#34;language-Verify the mount```&#34; data-lang=&#34;Verify the mount```&#34;&gt;buraglio@rtr% mount
/dev/ad0s1a on / (ufs, local, noatime)
devfs on /dev (devfs, local, multilabel)
/dev/md0 on /packages/mnt/jbase (cd9660, local, noatime, read-only, verified)
/dev/md1 on /packages/mnt/jkernel64-12.3R3.4 (cd9660, local, noatime, read-only, verified)
/dev/md2 on /packages/mnt/jpfe-X960-12.3R3.4 (cd9660, local, noatime, read-only)
/dev/md3 on /packages/mnt/jdocs-12.3R3.4 (cd9660, local, noatime, read-only, verified)
/dev/md4 on /packages/mnt/jroute-12.3R3.4 (cd9660, local, noatime, read-only, verified)
/dev/md5 on /packages/mnt/jcrypto64-12.3R3.4 (cd9660, local, noatime, read-only, verified)
/dev/md6 on /packages/mnt/jpfe-common-12.3R3.4 (cd9660, local, noatime, read-only)
/dev/md7 on /packages/mnt/jplatform-12.3R3.4 (cd9660, local, noatime, read-only, verified)
/dev/md8 on /packages/mnt/jruntime-12.3R3.4 (cd9660, local, noatime, read-only, verified)
/dev/md9 on /tmp (ufs, asynchronous, local, noatime)
/dev/md10 on /mfs (ufs, asynchronous, local, noatime)
/dev/ad0s1e on /config (ufs, local, noatime)
procfs on /proc (procfs, local, noatime)
/dev/ad1s1f on /var (ufs, local, noatime)&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;We should now be able to commit correctly.```
buraglio@rtr% cli
{master}
buraglio@rtr&amp;gt;&lt;/p&gt;

&lt;p&gt;{master}
buraglio@rtr&amp;gt; edit
Entering configuration mode
The configuration has been changed but not committed&lt;/p&gt;

&lt;p&gt;{master}[edit]
buraglio@rtr# commit check
re0:
configuration check succeeds
re1:
configuration check succeeds&lt;/p&gt;

&lt;p&gt;{master}[edit]
buraglio@rtr# commit
re0:
configuration check succeeds
re1:
commit complete
re0:
commit complete&lt;/p&gt;

&lt;p&gt;{master}[edit]
buraglio@rtr#
```And&amp;hellip;.you&amp;rsquo;re done. Hopefully this will help someone fight this problem, I only found a &lt;a href=&#34;http://www.gns3.net/labs/juniper/jncia-junos/operational-monitoring-and-maintenance/&#34;&gt;handful&lt;/a&gt; of &lt;a href=&#34;http://forums.juniper.net/t5/Junos-and-Junosphere/Commit-Errors/td-p/17615&#34;&gt;other references&lt;/a&gt; to it that was useful but it didn&amp;rsquo;t address my exact scenario.&lt;/p&gt;
</description>
    </item>
    
    <item>
      <title>Debugging Brocade MLX/XMR ip_rx CPU issues</title>
      <link>https://forwardingplane.net/post/debugging-brocade-mlxxmr-ip_rx-cpu-issues/</link>
      <pubDate>Mon, 17 Jun 2013 00:35:42 +0000</pubDate>
      
      <guid>https://forwardingplane.net/post/debugging-brocade-mlxxmr-ip_rx-cpu-issues/</guid>
      <description>&lt;p&gt;I recently had the need to debug a run away ip_rx process on an older Brocade MLX.  For anyone that has had to do any type of low level debugging on the Brocade (Foundry) platform, you know that there many somewhat deep level diagnostics that are possible.  The debug (like cisco debug) is a bit lacking, but the dm, LP and MP commands are very useful (and a tad scary). Regardless, I&amp;rsquo;ve had to utilize them a lot in the last few years so my aversion to using them has been pretty much completely callused over. So, when there was notification of CPU issues (common on the platform in environments I&amp;rsquo;m familiar with), I started poking around.  First off, the  &lt;a href=&#34;http://www.brocade.com/downloads/documents/product_manuals/B_NetIron/Brocade_XMRMLX_05200_DiagnosticGuide.pdf&#34;&gt;diagnostic documents&lt;/a&gt; are your friend.  They&amp;rsquo;re fairly deep and wide in scope.  After looking at the cpu, it was pretty clear what the culprit was. rtr4-2#sh cpu-utilization | e 0 &amp;hellip; Usage average for all tasks in the last 1 seconds  &amp;hellip; ========================================================== Name            us/sec        % idle                    68435           11 ip_rx                   724619          72 ospf                    36942           3 snmp                    82753           8 I needed to get info on that ip_rx process.  Google actually wasn&amp;rsquo;t terribly helpful, so I dig out what I wanted, except for the process for breaking into the management module monitor mode.  The golden ticket ended up being &amp;ldquo;ctrl+y m enter&amp;rdquo; from the console.  That drops you into the OS mode or management module monitor mode that looks like this.&lt;a href=&#34;http://www.forwardingplane.net/wp-content/uploads/2013/06/Screen-Shot-2013-06-16-at-7.04.20-PM.png&#34;&gt;&lt;img src=&#34;http://www.forwardingplane.net/wp-content/uploads/2013/06/Screen-Shot-2013-06-16-at-7.04.20-PM.png&#34; alt=&#34;Screen Shot 2013-06-16 at 7.04.20 PM&#34; /&gt;&lt;/a&gt;               Basically this is what I gathered for the Brocade TAC.```
MP-1 OS&amp;gt;set sample-task ip_rx
MP-1 OS&amp;gt;set sample-rate 5
MP-1 OS&amp;gt;show sample
CPU Sample: Trace&amp;hellip; (Repeat)
202e4eb8&lt;2021ec08&lt;202e5c18&lt;202e6238&lt;2030c2c4&lt;202ec2d8&lt;202eac00&lt;202eac74
 .....
MP-1 OS&gt;set sample-rate 0
MP-1 OS&amp;gt;exit
Back to Application console&amp;hellip;&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre style=&#34;color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4&#34;&gt;&lt;code class=&#34;language-Setting the task to sample is pretty simple:set sample-task &lt;task&gt;```&#34; data-lang=&#34;Setting the task to sample is pretty simple:set sample-task &lt;task&gt;```&#34;&gt;set sample-rate&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;to show the sample, simply```
show sample&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre style=&#34;color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4&#34;&gt;&lt;code class=&#34;language-and then to disable the sampling```&#34; data-lang=&#34;and then to disable the sampling```&#34;&gt;set sample-rate 0&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;This can be used to gather all kinds of disgnostic data for seemingly any running process for the brocade TAC to decipher.&lt;/p&gt;
</description>
    </item>
    
    <item>
      <title>MPLS Bootstrap</title>
      <link>https://forwardingplane.net/post/mpls-bootstrap/</link>
      <pubDate>Fri, 07 Jun 2013 13:04:02 +0000</pubDate>
      
      <guid>https://forwardingplane.net/post/mpls-bootstrap/</guid>
      <description>&lt;p&gt;I&amp;rsquo;ve been doing a lot of MPLS in the last 45 or so days (which is one of the reasons I have been absentee in the OpenFlow world lately). Having had almost no real world MPLS experience aside from a handful of pseudo-wires and a very small LDP signaled network, I had to spend some time reading, hacking at routers and essentially learning. In doing so, I found a few things.&lt;/p&gt;

&lt;ul&gt;
&lt;li&gt;MPLS isn&amp;rsquo;t that different than any other networking, it&amp;rsquo;s taking a criteria and moving data based on that criteria (duh?!?)&lt;/li&gt;
&lt;li&gt;Many of the concepts are familiar.  Frame Relay and ATM come to mind.  OpenFlow does as well in certain circumstances.&lt;/li&gt;
&lt;li&gt;There is a lot of documentation on the MPLS suite of protocols.&lt;/li&gt;
&lt;li&gt;I didn&amp;rsquo;t find a condensed set of data for the information I was looking for.  Jerely Stretch has some of it on his &lt;a href=&#34;http://media.packetlife.net/media/library/18/Frame_Mode_MPLS.pdf&#34;&gt;cheat sheet&lt;/a&gt;, but it&amp;rsquo;s not as complete as what I wanted and heavily vendor biased.  I was looking for conceptual information and not necessarily operational commands.&lt;/li&gt;
&lt;/ul&gt;

&lt;p&gt;&lt;a href=&#34;http://www.forwardingplane.net/wp-content/uploads/2013/06/Basic-Cloud.jpg&#34;&gt;&lt;img src=&#34;http://www.forwardingplane.net/wp-content/uploads/2013/06/Basic-Cloud.jpg&#34; alt=&#34;Basic Cloud&#34; /&gt;&lt;/a&gt; I spent some time coming up with a slide deck I could present to others that, in theory, would build a foundation to work from.  I understand that this may be incomplete and is mostly a compilation of data found elsewhere (there is a reference section).  Using this bootstrap I was able to pick up the concepts well enough to understand when to use what and where as well as build the foundational requirements for a fairly complex MPLS environment.  Feel free to correct anything that is blatantly wrong, send me an email and I&amp;rsquo;ll address it. The slide deck can be found as a PDF &lt;a href=&#34;http://www.forwardingplane.net/wp-content/uploads/2013/07/MPLS-101.pdf&#34;&gt;here&lt;/a&gt;.  If you want the pptx it is available &lt;a href=&#34;http://www.forwardingplane.net/wp-content/uploads/2013/07/MPLS-101.pptx&#34;&gt;here&lt;/a&gt;.   I will continue to update them as I hone the deck and / or find and correct errors.&lt;/p&gt;
</description>
    </item>
    
    <item>
      <title>MPLS PseudoWire (VLL) between JunOS and Brocade MLX/XMR</title>
      <link>https://forwardingplane.net/post/mpls-pseudowire-vll-between-junos-and-brocade-mlxxmr/</link>
      <pubDate>Sun, 19 May 2013 16:24:03 +0000</pubDate>
      
      <guid>https://forwardingplane.net/post/mpls-pseudowire-vll-between-junos-and-brocade-mlxxmr/</guid>
      <description>&lt;p&gt;I love to be the &amp;ldquo;uncola&amp;rdquo; of networking sites.  I like interop and I don&amp;rsquo;t do a lot with Cisco because I don&amp;rsquo;t have access to much of their gear anymore.  So, that being the case, I had a need to bring up a l2circuit (in JunOS speak), or VLL (in Brocade speak) between an MX480 and an MLX.  Since they are very different platforms, I had to do some digging and playing around to get it to work. You should have a rudimentary understanding of MPLS (which is about what I have) to do this. l2circuit / pseudowire / vll are all synonymous for the scope of this post. JunOS:```
set protocols l2circuit neighbor interface virtual-circuit-id
set protocols l2circuit neighbor interface encapsulation-type ethernet&lt;/p&gt;

&lt;p&gt;set interfaces xe-3/3/0 description
set interfaces xe-3/3/0 vlan-tagging
set interfaces xe-3/3/0 encapsulation flexible-ethernet-services
set interfaces xe-3/3/0 unit encapsulation vlan-ccc
set interfaces xe-3/3/0 unit vlan-id&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre style=&#34;color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4&#34;&gt;&lt;code class=&#34;language-Brocade:```&#34; data-lang=&#34;Brocade:```&#34;&gt;MLX1#show mpls config
router mpls
policy
no propagate-ttl

mpls-interface e1/1
ldp-enable

mpls-interface e1/4
ldp-enable

vll TEST-ICCN-VLL-1 raw-mode
vll-peer
vlan
tagged e 5/2&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;Some commands I found helpful for debugging while testing this out: JunOS: Useful for debugging connections that won&amp;rsquo;t come up:```
set protocols l2circuit traceoptions file l2-VLL
set protocols l2circuit traceoptions file size 20240
set protocols l2circuit traceoptions flag all
show log l2-VLL&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre style=&#34;color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4&#34;&gt;&lt;code class=&#34;language-Brocade:```&#34; data-lang=&#34;Brocade:```&#34;&gt;logging console
terminal monitor
debug mpls all
debug mpls ldp&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;Show commands that are very useful: JunOS: check end to end l2circuit / VLL connectivity```
ping mpls l2circuit interface  detail&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre style=&#34;color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4&#34;&gt;&lt;code class=&#34;language-Show detail of l2circuit / pseudowire / vll show interfaces extensive # or detail Brocade:```&#34; data-lang=&#34;Show detail of l2circuit / pseudowire / vll show interfaces extensive # or detail Brocade:```&#34;&gt;show VLL detail &lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;</description>
    </item>
    
    <item>
      <title>A missing link in small MPLS, 10G devices.</title>
      <link>https://forwardingplane.net/post/a-missing-link/</link>
      <pubDate>Fri, 29 Mar 2013 04:43:17 +0000</pubDate>
      
      <guid>https://forwardingplane.net/post/a-missing-link/</guid>
      <description>&lt;p&gt;Lately I&amp;rsquo;ve been lamenting the fact that there seems to be a lack of options in a very specific product level.  Lets say you have a network that looks like this:   &lt;a href=&#34;http://www.forwardingplane.net/wp-content/uploads/2013/03/10G-Bldg1.jpg&#34;&gt;&lt;img src=&#34;http://www.forwardingplane.net/wp-content/uploads/2013/03/10G-Bldg1.jpg&#34; alt=&#34;10G-Bldg&#34; /&gt;&lt;/a&gt;Right Away you&amp;rsquo;re limited since you need MPLS and more than 2 10G interfaces. Even more so if you require full support for IPv6 and ISIS. If budget is of any concern, you&amp;rsquo;re in real trouble. For many, Cisco pricing and smartnet is potentially going to exclude anything reasonable from them.  There are a substantial amount of non-enterprise folks out there that can&amp;rsquo;t afford the significant Cisco price tag but need the features.  I am here to say, this is a problem.  The attitude of &amp;ldquo;if you want the best you have to pay for it&amp;rdquo; doesn&amp;rsquo;t apply.  There is a real need for viable alternatives, not just because we need them, but because competition is a good thing for everyone. Juniper has the MX80, but it has a carrier grade price tag as well.  Juniper has limited MPLS support on the EX series, but the EX4200, which is arguably the most tried and true, has only 2 ports of 10G and, as mentioned, limited MPLS support.  The EX4500 is a tad better with its huge amount of 10G ports, but it has the same limited MPLS support and a crippled ARP and FIB table.  The 4550 with it&amp;rsquo;s single PFE sounds exciting but it has even less. Then you have the Brocade CES/R.  It is close.  The newer version has  4 x 10G ports, MPLS support (with a license), more appropriately priced support and, as a value add, very good OpenFlow support.  It is still limited as far as 10G scalability, so adding more access switches could be problematic. HP has some great products in the Procurve series.  They&amp;rsquo;re inexpensive, rock solid and packed with features. Unfortunately, the ones that meet the port density are fairly good sized chassis and none of them have MPLS.  Now, they do have an intriguing line up in the H3C series.  I believe there may be an option there, however, I have no idea on pricing and have yet to see one actually do MPLS (although they claim support).  I&amp;rsquo;m cautiously optimistic. Then you have Alcatel Lucent.   They do MPLS, they&amp;rsquo;re carrier devices.  They offer a 1U ( (&lt;a href=&#34;http://www.alcatel-lucent.com/products/7210-service-access-switch&#34;&gt;7210 Service Access Switch&lt;/a&gt;) device but I have no idea on cost and I&amp;rsquo;m still looking for 10G port density.  I suspect it is very reasonable.  Their &lt;a href=&#34;http://www.forwardingplane.net/2010/12/alcatel-lucent-rancid-scripts/&#34; title=&#34;Alcatel Lucent RANCID scripts&#34;&gt;CLI is a bit different&lt;/a&gt; but they&amp;rsquo;re very robust devices.  I&amp;rsquo;ve not used any but the 7750, so I cant comment as to how the smaller ones look.  It&amp;rsquo;s a possibility if it has the 10G ports. Arista is very close but they fall short on the MPLS support.   The primary take away from this commentary is that there are not a lot of options that meet the following criteria:&lt;/p&gt;

&lt;ul&gt;
&lt;li&gt;1-2U&lt;/li&gt;
&lt;li&gt;&amp;gt; 4 10G ports&lt;/li&gt;
&lt;li&gt;MPLS&lt;/li&gt;
&lt;li&gt;Dual power supplies&lt;/li&gt;
&lt;li&gt;&amp;gt; 16,000/4,000 IPv4/IPv6 routes&lt;/li&gt;
&lt;li&gt;IPv6 support&lt;/li&gt;
&lt;li&gt;ISIS&lt;/li&gt;
&lt;li&gt;40G uplink&lt;/li&gt;
&lt;li&gt;OpenFlow support or roadmap&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;Reasonably priced&lt;/strong&gt;&lt;/li&gt;
&lt;/ul&gt;

&lt;p&gt;I keep coming back to the old adage of &amp;ldquo;Cheap, Fast, Reliable.  Pick Two&amp;rdquo; and it drives me crazy.  We should have more options but I don&amp;rsquo;t think we do.  I would absolutely &lt;strong&gt;love&lt;/strong&gt; to be wrong, but every time I look at this I feel like I am picking out a cell phone plan.  The affordable ones are never quite enough and the plan above is overkill and too expensive.&lt;/p&gt;
</description>
    </item>
    
    <item>
      <title>Building a Bridge Domain on MX series JunOS</title>
      <link>https://forwardingplane.net/post/building-a-bridge-domain-on-mx-series-junos/</link>
      <pubDate>Sat, 09 Mar 2013 16:48:48 +0000</pubDate>
      
      <guid>https://forwardingplane.net/post/building-a-bridge-domain-on-mx-series-junos/</guid>
      <description>&lt;p&gt;I started working on Juniper equipment around 2002. At my employer, we had an M40 with the serial number 256.  We did Layer3 only.  I had no idea if the Juniper even did layer2.  It certainly wasn&amp;rsquo;t a layer3 switch like a 6500 like I was used to.  It was like a deliciously robust version of any Layer 3 router I&amp;rsquo;d worked on previously.  Over the years &lt;a href=&#34;http://www.juniper.net/us/en/&#34;&gt;Juniper&lt;/a&gt; has added a &lt;a href=&#34;http://www.juniper.net/us/en/products-services/switching/ex-series/&#34;&gt;switching line&lt;/a&gt; utilizing their FreeBSD based OS, &lt;a href=&#34;http://www.juniper.net/us/en/products-services/nos/junos/&#34;&gt;JunOS&lt;/a&gt;. All that being said, I&amp;rsquo;d never really messed with doing a layer2 transit VLAN on a JunOS routing platform.  Lets say we want to make 2 VLANs and transit them up through the WAN.  Here is how to make it work on an MX: Create the bridge domains:```
set bridge-domains vlan-123 domain-type bridge
set bridge-domains vlan-123 vlan-id 123
set bridge-domains vlan-124 domain-type bridge
set bridge-domains vlan-123 vlan-id 124&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre style=&#34;color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4&#34;&gt;&lt;code class=&#34;language-Configure the interfaces facing south (LAN) to nbe members of the VLAN:```&#34; data-lang=&#34;Configure the interfaces facing south (LAN) to nbe members of the VLAN:```&#34;&gt;set interfaces xe-1/0/0 description &amp;#34;SW1 xe-1/1/0&amp;#34;
set interfaces xe-1/0/0 mtu 9192
set interfaces xe-1/0/0 unit 0 description &amp;#34;Untagged VLAN 123&amp;#34;
set interfaces xe-1/0/0 unit 0 family bridge interface-mode access
set interfaces xe-1/0/0 unit 0 family bridge vlan-id 123

set interfaces xe-1/0/1 description &amp;#34;SW1 xe-1/1/1&amp;#34;
set interfaces xe-1/0/1 mtu 9192
set interfaces xe-1/0/1 unit 0 description &amp;#34;Untagged VLAN 123&amp;#34;
set interfaces xe-1/0/1 unit 0 family bridge interface-mode access
set interfaces xe-1/0/1 unit 0 family bridge vlan-id 123

set interfaces xe-1/0/2 description &amp;#34;SW2 xe-1/1/2&amp;#34;
set interfaces xe-1/0/2 mtu 9192
set interfaces xe-1/0/2 unit 0 description &amp;#34;Untagged VLAN 124&amp;#34;
set interfaces xe-1/0/2 unit 0 family bridge interface-mode access
set interfaces xe-1/0/2 unit 0 family bridge vlan-id 124

set interfaces xe-1/0/3 description &amp;#34;SW2 xe-1/1/3&amp;#34;
set interfaces xe-1/0/3 mtu 9192
set interfaces xe-1/0/3 unit 0 description &amp;#34;Untagged VLAN 124&amp;#34;
set interfaces xe-1/0/3 unit 0 family bridge interface-mode access
set interfaces xe-1/0/3 unit 0 family bridge vlan-id 124&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;Now add it to the uplink (that in this case has a layer3 instance on it as well):```
set interfaces et-5/0/0 description &amp;ldquo;100G North&amp;rdquo;
set interfaces et-5/0/0 vlan-tagging
set interfaces et-5/0/0 mtu 9192
set interfaces et-5/0/0 unit 123 description &amp;ldquo;L3 testing vlan 123&amp;rdquo;
set interfaces et-5/0/0 unit 123 family bridge interface-mode trunk
set interfaces et-5/0/0 unit 123 family bridge vlan-id-list 123
set interfaces et-5/0/0 unit 124 description &amp;ldquo;L3 testing vlan 124&amp;rdquo;
set interfaces et-5/0/0 unit 124 family bridge interface-mode trunk
set interfaces et-5/0/0 unit 124 family bridge vlan-id-list 124
set interfaces et-5/0/0 unit 100 description &amp;ldquo;VLAN100 Layer3 Peering&amp;rdquo;
set interfaces et-5/0/0 unit 100 vlan-id 100
set interfaces et-5/0/0 unit 100 family inet mtu 9000
set interfaces et-5/0/0 unit 100 family inet address 10.100.100.&lt;sup&gt;1&lt;/sup&gt;&amp;frasl;&lt;sub&gt;30&lt;/sub&gt;
set interfaces et-5/0/0 unit 100 family inet6 mtu 9000
set interfaces et-5/0/0 unit 10 family inet6 address 2001:fd8:a100:100::&lt;sup&gt;1&lt;/sup&gt;&amp;frasl;&lt;sub&gt;64&lt;/sub&gt;&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre style=&#34;color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4&#34;&gt;&lt;code class=&#34;language-Now check your bridge table:```&#34; data-lang=&#34;Now check your bridge table:```&#34;&gt;buraglio@mx480&amp;gt; show bridge domain    

Routing instance        Bridge domain            VLAN ID     Interfaces
default-switch          vlan-123                 123      
                                                             et-5/0/0.123
                                                             xe-1/0/0.0
                                                             xe-1/0/1.0
                                                            
default-switch          vlan-124                 124      
                                                             et-5/0/0.124
                                                             xe-1/0/2.0
                                                             xe-1/0/3.0
                                                        &lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;That&amp;rsquo;s it. Pretty straightforward.&lt;/p&gt;
</description>
    </item>
    
    <item>
      <title>Network Field Day 5 - Participate Remotely</title>
      <link>https://forwardingplane.net/post/network-field-day-5/</link>
      <pubDate>Wed, 06 Mar 2013 14:59:05 +0000</pubDate>
      
      <guid>https://forwardingplane.net/post/network-field-day-5/</guid>
      <description>&lt;p&gt;Last year, &lt;a href=&#34;http://techfieldday.com/event/nfd5/&#34;&gt;Networking Field Day&lt;/a&gt; was something that I&amp;rsquo;d heard of but wasn&amp;rsquo;t really aware of what is really was.  I occasionally looked at Twitter and saw the hash tags but did not know much about how it was set up or what it was about.  In fact, I actually thought it was supposed to be like the HAM radio field day stuff where you go out and build out an emergency network on the fly.  OK, I should have done more homework, admittedly. Fast forward 6 months. I&amp;rsquo;m working more and more with &lt;a href=&#34;http://www.networkstatic.com&#34;&gt;Brent Salisbury&lt;/a&gt; on day job stuff and he&amp;rsquo;s encouraging me to brush the dust off of my &lt;a href=&#34;http://www.forwardingplane.net&#34;&gt;old blog&lt;/a&gt; (which became this site). I&amp;rsquo;m working more on &lt;a href=&#34;http://www.forwardingplane.net/2013/02/building-a-floodlight-openflow-controller-on-centos-6/&#34; title=&#34;Building a Floodlight OpenFlow controller on CentOS 6&#34;&gt;OpenFlow&lt;/a&gt;,  virtualization stuff like &lt;a href=&#34;http://www.forwardingplane.net/2013/03/centos-kvm-install-quick-start-to-a-vm/&#34; title=&#34;CentOS KVM Install – Quick Start to a VM&#34;&gt;KVM&lt;/a&gt;, &lt;a href=&#34;http://www.forwardingplane.net/2013/01/headless-virtualbox-host-on-centos/&#34; title=&#34;Headless VirtualBox host on CentOS&#34;&gt;VirtualBox&lt;/a&gt; and &lt;a href=&#34;http://www.vmware.com&#34;&gt;VMware&lt;/a&gt; and bringing up 100G WAN links.  I even had the extremely cool opportunity to do a &lt;a href=&#34;http://packetpushers.net/show-131-golf-cart-in-my-fibre-tunnel/&#34;&gt;Packet Pushers Podcast&lt;/a&gt;. Many of these things are a direct result of becoming more engaged in the larger community, a networking community I had pretty much carved myself out of back in 2002 when I left the service provider world for R&amp;amp;E.  This self isolation was a bit of an oversight on my part. What I did not realize was that, as someone in R&amp;amp;E, I had a unique perspective on some of the industry products and direction and was often seeing things a lot sooner than the general enterprise world. As I got more and more engaged I realized that there were a &lt;strong&gt;lot&lt;/strong&gt; of great folks out there that like to collaborate, share and write about their professional experiences in our field of choice.  These same people were doing innovative and interesting things that I didn&amp;rsquo;t know about.  &lt;a href=&#34;http://techfieldday.com/event/nfd5/&#34;&gt;NFD&lt;/a&gt; was one of those things.  So, I started to write down more of the things I was thinking and doing.  I figured that at least someone would find them useful or interesting or at least fodder for solving insomnia.  When I was asked to participate and come out to NFD5, I was both ecstatic and humbled at the same time.  This was the place where the networking industry thought leaders go to convene and discuss directionality as well as current networking technologies. Just to relay the scale and scope of the folks involved, here is the list of delegates for NFD5:  &lt;/p&gt;

&lt;p&gt;&lt;a href=&#34;http://techfieldday.com/delegate/brandon-carroll/&#34;&gt;&lt;img src=&#34;http://techfieldday.com/wp-content/uploads/2012/08/Carroll-wpcf_60x60.jpeg&#34; alt=&#34;http://techfieldday.com/wp-content/uploads/2012/08/Carroll-wpcf_60x60.jpeg&#34; title=&#34;http://techfieldday.com/wp-content/uploads/2012/08/Carroll-wpcf_60x60.jpeg&#34; /&gt;&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;&lt;a href=&#34;http://techfieldday.com/delegate/brandon-carroll/&#34;&gt;Brandon Carroll&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;&lt;a href=&#34;http://twitter.com/BrandonCarroll&#34;&gt;@BrandonCarroll&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;CCIE Instructor, Blogger, and Technology Enthusiast&lt;/p&gt;

&lt;p&gt;&lt;a href=&#34;http://techfieldday.com/delegate/brent-salisbury/&#34;&gt;&lt;img src=&#34;http://techfieldday.com/wp-content/uploads/2012/08/brent-salisbury1-wpcf_60x60.jpeg&#34; alt=&#34;http://techfieldday.com/wp-content/uploads/2012/08/brent-salisbury1-wpcf_60x60.jpeg&#34; title=&#34;http://techfieldday.com/wp-content/uploads/2012/08/brent-salisbury1-wpcf_60x60.jpeg&#34; /&gt;&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;&lt;a href=&#34;http://techfieldday.com/delegate/brent-salisbury/&#34;&gt;Brent Salisbury&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;&lt;a href=&#34;http://twitter.com/NetworkStatic&#34;&gt;@NetworkStatic&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;Brent Salisbury works as a Network Architect, CCIE #11972.&lt;/p&gt;

&lt;p&gt;&lt;a href=&#34;http://techfieldday.com/delegate/colin-mcnamara/&#34;&gt;&lt;img src=&#34;http://techfieldday.com/wp-content/uploads/2012/08/cmcnamara-headshot-2011-color-scaled-wpcf_42x60.jpg&#34; alt=&#34;http://techfieldday.com/wp-content/uploads/2012/08/cmcnamara-headshot-2011-color-scaled-wpcf_42x60.jpg&#34; title=&#34;http://techfieldday.com/wp-content/uploads/2012/08/cmcnamara-headshot-2011-color-scaled-wpcf_42x60.jpg&#34; /&gt;&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;&lt;a href=&#34;http://techfieldday.com/delegate/colin-mcnamara/&#34;&gt;Colin McNamara&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;&lt;a href=&#34;http://twitter.com/ColinMcNamara&#34;&gt;@ColinMcNamara&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;Colin McNamara is a seasoned professional with over 15 years experience with network and systems technologies.&lt;/p&gt;

&lt;p&gt;&lt;a href=&#34;http://techfieldday.com/delegate/ethan-banks/&#34;&gt;&lt;img src=&#34;http://techfieldday.com/wp-content/uploads/2012/08/ethan-banks-headshot-500x667-wpcf_44x60.jpg&#34; alt=&#34;http://techfieldday.com/wp-content/uploads/2012/08/ethan-banks-headshot-500x667-wpcf_44x60.jpg&#34; title=&#34;http://techfieldday.com/wp-content/uploads/2012/08/ethan-banks-headshot-500x667-wpcf_44x60.jpg&#34; /&gt;&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;&lt;a href=&#34;http://techfieldday.com/delegate/ethan-banks/&#34;&gt;Ethan Banks&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;&lt;a href=&#34;http://twitter.com/ECBanks&#34;&gt;@ECBanks&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;Ethan Banks, CCIE #20655, is a hands-on networking practitioner who has designed, built and maintained networks for higher education, state government, financial institutions, and technology corporations.&lt;/p&gt;

&lt;p&gt;&lt;a href=&#34;http://techfieldday.com/delegate/greg-ferro/&#34;&gt;&lt;img src=&#34;http://techfieldday.com/wp-content/uploads/2012/08/Ferro-wpcf_60x39.jpg&#34; alt=&#34;http://techfieldday.com/wp-content/uploads/2012/08/Ferro-wpcf_60x39.jpg&#34; title=&#34;http://techfieldday.com/wp-content/uploads/2012/08/Ferro-wpcf_60x39.jpg&#34; /&gt;&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;&lt;a href=&#34;http://techfieldday.com/delegate/greg-ferro/&#34;&gt;Greg Ferro&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;&lt;a href=&#34;http://twitter.com/EtherealMind&#34;&gt;@EtherealMind&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;Over the last twenty odd years, Greg has worked Sales, Technical and IT Management but mostly he delivers Network Architecture and Design. Today he works as a Freelance Consultant for F100 companies in the UK &amp;amp; Europe focussing on Data Centres, Security and Operational Automation.&lt;/p&gt;

&lt;p&gt;&lt;a href=&#34;http://techfieldday.com/delegate/john-herbert/&#34;&gt;&lt;img src=&#34;http://techfieldday.com/wp-content/uploads/2012/09/johnherbert-wpcf_60x60.jpeg&#34; alt=&#34;http://techfieldday.com/wp-content/uploads/2012/09/johnherbert-wpcf_60x60.jpeg&#34; title=&#34;http://techfieldday.com/wp-content/uploads/2012/09/johnherbert-wpcf_60x60.jpeg&#34; /&gt;&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;&lt;a href=&#34;http://techfieldday.com/delegate/john-herbert/&#34;&gt;John Herbert&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;&lt;a href=&#34;http://twitter.com/MrTugs&#34;&gt;@MrTugs&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;John has worked in the networking industry for 14 years, and obtained his CCIE Routing &amp;amp; Switching in early 2001.&lt;/p&gt;

&lt;p&gt;&lt;a href=&#34;http://techfieldday.com/delegate/jon-langemak/&#34;&gt;&lt;img src=&#34;http://techfieldday.com/wp-content/uploads/2013/02/profile_picture-wpcf_52x60.jpg&#34; alt=&#34;http://techfieldday.com/wp-content/uploads/2013/02/profile_picture-wpcf_52x60.jpg&#34; title=&#34;http://techfieldday.com/wp-content/uploads/2013/02/profile_picture-wpcf_52x60.jpg&#34; /&gt;&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;&lt;a href=&#34;http://techfieldday.com/delegate/jon-langemak/&#34;&gt;Jon Langemak&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;&lt;a href=&#34;http://twitter.com/blinken_lichten&#34;&gt;@blinken_lichten&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;Jon Langemak is a Network Engineer, tech blogger, and dedicated tech enthusiast.&lt;/p&gt;

&lt;p&gt;&lt;a href=&#34;http://techfieldday.com/delegate/josh-obrien/&#34;&gt;&lt;img src=&#34;http://techfieldday.com/wp-content/uploads/2012/08/OBrien-wpcf_60x60.jpeg&#34; alt=&#34;http://techfieldday.com/wp-content/uploads/2012/08/OBrien-wpcf_60x60.jpeg&#34; title=&#34;http://techfieldday.com/wp-content/uploads/2012/08/OBrien-wpcf_60x60.jpeg&#34; /&gt;&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;&lt;a href=&#34;http://techfieldday.com/delegate/josh-obrien/&#34;&gt;Josh O’Brien&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;&lt;a href=&#34;http://twitter.com/JoshOBrien77&#34;&gt;@JoshOBrien77&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;Josh has worked in the industry for 14 years and is now serving as CTO in the Telemedicine sector.&lt;/p&gt;

&lt;p&gt;&lt;a href=&#34;http://techfieldday.com/delegate/paul-stewart/&#34;&gt;&lt;img src=&#34;http://techfieldday.com/wp-content/uploads/2012/08/IMG_0264-002-wpcf_60x60.jpg&#34; alt=&#34;http://techfieldday.com/wp-content/uploads/2012/08/IMG_0264-002-wpcf_60x60.jpg&#34; title=&#34;http://techfieldday.com/wp-content/uploads/2012/08/IMG_0264-002-wpcf_60x60.jpg&#34; /&gt;&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;&lt;a href=&#34;http://techfieldday.com/delegate/paul-stewart/&#34;&gt;Paul Stewart&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;&lt;a href=&#34;http://twitter.com/PacketU&#34;&gt;@PacketU&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;Paul Stewart is a Network and Security Engineer, Trainer and Blogger who enjoys understanding how things really work.&lt;/p&gt;

&lt;p&gt;&lt;a href=&#34;http://techfieldday.com/delegate/pete-welcher/&#34;&gt;&lt;img src=&#34;http://techfieldday.com/wp-content/uploads/2013/02/DSC6539smaller2-wpcf_60x47.jpg&#34; alt=&#34;http://techfieldday.com/wp-content/uploads/2013/02/DSC6539smaller2-wpcf_60x47.jpg&#34; title=&#34;http://techfieldday.com/wp-content/uploads/2013/02/DSC6539smaller2-wpcf_60x47.jpg&#34; /&gt;&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;&lt;a href=&#34;http://techfieldday.com/delegate/pete-welcher/&#34;&gt;Pete Welcher&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;&lt;a href=&#34;http://twitter.com/pjwelcher&#34;&gt;@pjwelcher&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;Pete is a 15+ year CCIE who loves network design, and is currently avidly learning various datacenter technologies.&lt;/p&gt;

&lt;p&gt;&lt;a href=&#34;http://techfieldday.com/delegate/terry-slattery/&#34;&gt;&lt;img src=&#34;http://techfieldday.com/wp-content/uploads/2012/08/Slattery-wpcf_60x50.jpg&#34; alt=&#34;http://techfieldday.com/wp-content/uploads/2012/08/Slattery-wpcf_60x50.jpg&#34; title=&#34;http://techfieldday.com/wp-content/uploads/2012/08/Slattery-wpcf_60x50.jpg&#34; /&gt;&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;&lt;a href=&#34;http://techfieldday.com/delegate/terry-slattery/&#34;&gt;Terry Slattery&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;Terry Slattery, CCIE #1026, is a senior network engineer with decades of experience in the internetworking industry.&lt;/p&gt;

&lt;p&gt;&lt;a href=&#34;http://techfieldday.com/delegate/tom-hollingsworth/&#34;&gt;&lt;img src=&#34;http://techfieldday.com/wp-content/uploads/2012/08/bwry5mviq6ss0pe6m517-wpcf_46x60.png&#34; alt=&#34;http://techfieldday.com/wp-content/uploads/2012/08/bwry5mviq6ss0pe6m517-wpcf_46x60.png&#34; title=&#34;http://techfieldday.com/wp-content/uploads/2012/08/bwry5mviq6ss0pe6m517-wpcf_46x60.png&#34; /&gt;&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;&lt;a href=&#34;http://techfieldday.com/delegate/tom-hollingsworth/&#34;&gt;Tom Hollingsworth&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;&lt;a href=&#34;http://twitter.com/NetworkingNerd&#34;&gt;@NetworkingNerd&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;Tom Hollingsworth, CCIE #29213, is a Senior Solutions Architect for a small VAR focusing primarily on K-12 education.&lt;/p&gt;

&lt;p&gt;In addition to the above folks, &lt;a href=&#34;http://blog.fosketts.net&#34;&gt;Steven Foskett&lt;/a&gt;, who is as prolific of a tech writer as he is experienced in the industry holds it all together and brings it to the public. The list of vendor participants is also deep.  &lt;a href=&#34;http://www.cisco.com&#34;&gt;Cisco&lt;/a&gt;, &lt;a href=&#34;http://www.juniper.net&#34;&gt;Juniper&lt;/a&gt;, &lt;a href=&#34;http://www.ruckuswireless.com&#34;&gt;Ruckus Wireless&lt;/a&gt;, &lt;a href=&#34;www.plexxi.com/&#34;&gt;Plexxi&lt;/a&gt;, &lt;a href=&#34;www.brocade.com/&#34;&gt;Brocade&lt;/a&gt; and &lt;a href=&#34;http://www.solarwinds.com&#34;&gt;SolarWinds&lt;/a&gt; are all on the docket. Unfortunately for me, I was not able to attend due to work scheduling and coordination of family stuff, something I truly lament.  To think that I was even considered to be on that list is truly humbling and something I&amp;rsquo;m very proud of. Not being able to attend, I wanted to participate as much as I could, so I started looking around and talking to folks and found the link to the live feed as well as the Twitter hashtag. It seems like a good idea to put this out there to as many folks as possible to not only bring attention to the fact that this is happening, but that you can participate from wherever you are.  I would encourage anyone who reads this and is interested in Networking as a profession, or is already in our industry, to pay attention to the Tech Field Day events.  Watch the live stream.  Ask questions and make comments on Twitter via the hashtag &lt;a href=&#34;https://twitter.com/search?q=%23NFD5&#34;&gt;#NFD5&lt;/a&gt;.  Get involved. During the event you should be able to do a live stream from right inside this post or from the &lt;a href=&#34;http://techfieldday.com/event/nfd5/&#34;&gt;NFD5 page&lt;/a&gt;.&lt;/p&gt;
</description>
    </item>
    
    <item>
      <title>Tuning BGP installed IPv6 routes</title>
      <link>https://forwardingplane.net/post/tuning-bgp-installed-ipv6-routes/</link>
      <pubDate>Sat, 02 Mar 2013 13:15:37 +0000</pubDate>
      
      <guid>https://forwardingplane.net/post/tuning-bgp-installed-ipv6-routes/</guid>
      <description>&lt;p&gt;I&amp;rsquo;ve recently run into a situation where there was no longer enough space in the FIB to handle both the full IPv4 global table and the full IPv6 global table.  We prefer to run a default-free network within this particular SP network, but in this case, until a hardware refresh can happen, we&amp;rsquo;ll need to adjust that.  Given what we knew about the size of both tables, it made more sense to take a default IPv6 route from one transit provider and filter the rest.  How we did this isn&amp;rsquo;t a groundbreaking marvel by any means, but it&amp;rsquo;s probably worth writing down for someone else to reference since it also applies to IPv4. Since we already have global tables, a request to add IPv6 default to our existing full IPv6 table was made to one transit provider.  After that request was fulfilled, filter adjustments were made.  It should be note that all of these configs were generated off of Brocade MLX routers, so they may look a tad different than an IOS device. Create a prefix list to reference that will allow default:```
ipv6 prefix-list V6-PERMIT-DEFAULT seq 5 permit ::/0&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre style=&#34;color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4&#34;&gt;&lt;code class=&#34;language-Create the route map:```&#34; data-lang=&#34;Create the route map:```&#34;&gt;route-map IPv6-TRANSIT-DEFAULT-IN permit 100
match ipv6 address prefix-list IPv6-PERMIT-DEFAULT&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;Add the route-map to the peer:```
neighbor 2001:fd8:e00::2 route-map in IPv6-TRANSIT-DEFAULT-IN&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre style=&#34;color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4&#34;&gt;&lt;code class=&#34;language-Before:```&#34; data-lang=&#34;Before:```&#34;&gt;Neighbor Address AS#  State Time  Rt:Accepted Filtered Sent ToSend
2001:fd8:e00::2 65001 ESTAB 15d10h34m  12003    0       14    0&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;After:```
Neighbor Address AS#  State Time  Rt:Accepted Filtered Sent ToSend
2001:fd8:e00::2 65001 ESTAB 15d10h34m     1    12002     14    0&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre style=&#34;color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4&#34;&gt;&lt;code class=&#34;language-Now we&#39;ll need to filter the prefixes of every other peer to allow for only IPv6 routes sized /32 or larger:```&#34; data-lang=&#34;Now we&#39;ll need to filter the prefixes of every other peer to allow for only IPv6 routes sized /32 or larger:```&#34;&gt;route-map IPv6-BILAT-IN permit 100
 match ipv6 address prefix-list IPv6-PERMIT-ANY-32
 set community 65403:1425
 set local-preference 200 

ipv6 prefix-list IPv6-PERMIT-ANY-32 seq 5 permit ::/0 le 32&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;Once applied to the peers this will limit the routes installed into the FIB. Install them by adding the route-map to the appropriate peers:&lt;code&gt;
neighbor 2001:db8:0:300e::1 route-map in IPv6-BILAT-IN
&lt;/code&gt;```
SSH@RTR7#sh ipv6 bgp summary
  BGP4 Summary
  Router ID: 10.6.16.10   Local AS Number: 65403
  Confederation Identifier: not configured
  Confederation Peers:
  Maximum Number of IP ECMP Paths Supported for Load Sharing: 1
  Number of Neighbors Configured: 16, UP: 16
  Number of Routes Installed: 15297, Uses 1315542 bytes
  Number of Routes Advertising to All Neighbors: 50641 (5632 entries), Uses 270336 bytes
  Number of Attribute Entries Installed: 26036, Uses 2343240 bytes
  Neighbor Address  AS#         State     Time     Rt:Accepted Filtered Sent     ToSend&lt;/p&gt;

&lt;p&gt;2001:db8:1900:b::2
                      65531       ESTAB    56d 8h52m    14       0        2        0&lt;br /&gt;
  2001:db8:f000:213a::1
                      65164       ESTAB     3d19h31m    4187     4535     2        0&lt;br /&gt;
  2001:db8:0:300e::1
                      65381       ESTAB    56d 8h35m    5087     6532     2        0&lt;br /&gt;
  2001:db8:5fff:1::1
                      65237       ESTAB   149d16h18m    11       0        2        0&lt;br /&gt;
  2001:db8:1:102::1
                      65100       ESTAB    24d16h55m    3        0        2        0&lt;br /&gt;
  2001:db8:f10:1::1   65403       ESTAB   453d12h42m    3        0        5625     0&lt;br /&gt;
  2001:db8:f10:1::2   65403       ESTAB   101d21h24m    2        0        5625     0&lt;br /&gt;
  2001:db8:f10:1::3   65403       ESTAB   453d11h29m    1        0        5625     0&lt;br /&gt;
  2001:db8:f10:1::4   65403       ESTAB   453d11h 8m    1        0        5625     0&lt;br /&gt;
  2001:db8:f10:1::5   65403       ESTAB   453d12h17m    1        0        5625     0&lt;br /&gt;
  2001:db8:f10:1::6   65403       ESTAB   453d12h 3m    1        0        5625     0&lt;br /&gt;
  2001:db8:f10:1::7   65403       ESTAB   453d11h36m    1        0        5625     0&lt;br /&gt;
  2001:db8:f10:1::8   65403       ESTAB   160d17h52m    5078     0        5625     0&lt;br /&gt;
  2001:db8:f10:1::9   65403       ESTAB   453d11h 3m    1        0        5625     0&lt;br /&gt;
  2001:db8:f10:6013::2
                      65532       ESTAB    15d19h50m    904      3        2        0&lt;br /&gt;
  2001:db8:f10:6016::2
                      65527       ESTAB   126d15h29m    1        0        2        0
```As you can see, peers on AS65164 and AS65381 are both filtering a large amount of traffic that is smaller than /32. Couple that with the inclusion of a default route and the traffic has a good deal of best path and a default for everything else. Its not exactly the most elegant, but it does solve a problem that folks may be seeing on aging equipment with limited resources.&lt;/p&gt;
</description>
    </item>
    
    <item>
      <title>Identify and remedy problem IKE and eventd processes on Juniper SRX</title>
      <link>https://forwardingplane.net/post/identify-and-remedy-problem-ike-and-eventd-processes-on-juniper-srx/</link>
      <pubDate>Mon, 04 Feb 2013 12:45:18 +0000</pubDate>
      
      <guid>https://forwardingplane.net/post/identify-and-remedy-problem-ike-and-eventd-processes-on-juniper-srx/</guid>
      <description>&lt;p&gt;Recently we encountered a very strange behavior on an SRX 5800 cluster.  The cluster, which is in active/active mode, started dropping OSPF adjacencies to it&amp;rsquo;s neighboring routing equipment, in this case, Juniper MX480 and Brocade/Foundry MLX8.  Strange behavior indeed, since for us, these had been rock solid for around 2 years and we&amp;rsquo;d never seen this odd behavior before. Honestly, we started looking at the routers first since this was something the SRX has never done before.  After noticing that it was actually link dropping and not just OSPF having issues, we dug deeper into logs (as an aside, this is an &lt;strong&gt;excellent&lt;/strong&gt; reason to centrally syslog everything.  And I do mean &lt;strong&gt;everything&lt;/strong&gt;).  To our surprise and dismay, it was actually the SRX node0 actually rebooting all of its interface line cards. &amp;ldquo;&lt;em&gt;show chassis routing-engine&lt;/em&gt;&amp;rdquo; showed that User was taking up a very significant amount of CPU.  This is a problem.&lt;/p&gt;

&lt;p&gt;&lt;a href=&#34;http://www.forwardingplane.net/wp-content/uploads/2013/02/Screen-Shot-2013-02-01-at-10.37.27-AM.png&#34;&gt;&lt;img src=&#34;http://www.forwardingplane.net/wp-content/uploads/2013/02/Screen-Shot-2013-02-01-at-10.37.27-AM.png&#34; alt=&#34;Screen Shot 2013-02-01 at 10.37.27 AM&#34; /&gt;&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;  As you can probably guess, this isn&amp;rsquo;t a good state.  So, in order to drill down what was causing User to be so abnormally high, we had to do a little sleuthing.  Running &amp;ldquo;&lt;em&gt;show system processes extensive | except 0.00&lt;/em&gt;&amp;rdquo; will display any process that isn&amp;rsquo;t zero.  From here it was pretty obvious what was eating the CPU.&lt;/p&gt;

&lt;p&gt;&lt;a href=&#34;http://www.forwardingplane.net/wp-content/uploads/2013/02/Screen-Shot-2013-02-01-at-10.43.50-AM.png&#34;&gt;&lt;img src=&#34;http://www.forwardingplane.net/wp-content/uploads/2013/02/Screen-Shot-2013-02-01-at-10.43.50-AM.png&#34; alt=&#34;Screen Shot 2013-02-01 at 10.43.50 AM&#34; /&gt;&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;  &amp;ldquo;kmd&amp;rdquo; and &amp;ldquo;eventd&amp;rdquo;, as you can see, are chewing up an abnormally high amount of CPU.  First things first, make sure no traceoptions are on. &amp;ldquo;&lt;em&gt;show conf | display set | match traceoptions&lt;/em&gt;&amp;rdquo;  We had some on so we disabled them.  Next, lets make sure we know what &amp;ldquo;kid&amp;rdquo; and &amp;ldquo;eventd&amp;rdquo; are. &lt;a href=&#34;http://www.juniper.net/techpubs/software/junos/junos94/syslog-messages/kmd-system-log-messages.html&#34;&gt;KMD&lt;/a&gt; is the key management process. It provides IP Security (IPSec) authentication services for encryption Physical Interface Cards (PICs). &lt;a href=&#34;http://www.juniper.net/techpubs/en_US/junos10.1/information-products/topic-collections/syslog-messages/jd0e22130.html&#34;&gt;eventd&lt;/a&gt; is the event policy process. It performs configured actions in response to events on a routing platform that trigger system log messages. It&amp;rsquo;s all starting to add up.  I&amp;rsquo;ll bet there are a LOT of IPsec messeges in the log. &amp;ldquo;&lt;em&gt;show log messages&lt;/em&gt;&amp;rdquo; confirms this.  There are a LOT of KMD messages, which is likely causing events to eat even more resources to generate them. &lt;em&gt;Jan 29 12:02:53 fw1 (FPC Slot 11, PIC Slot 0) init: kmd1 (PID 176) started&lt;/em&gt; _Jan 29 12:02:53 _fw1&lt;em&gt; (FPC Slot 11, PIC Slot 0) init: kmd2 (PID 177) started&lt;/em&gt; _Jan 29 12:02:53 _fw1&lt;em&gt; (FPC Slot 11, PIC Slot 0) init: kmd3 (PID 178) started&lt;/em&gt; _Jan 29 12:02:53 _fw1&lt;em&gt; (FPC Slot 11, PIC Slot 0) init: kmd4 (PID 179) started&lt;/em&gt; _Jan 29 12:02:54 _fw1&lt;em&gt; (FPC Slot 11, PIC Slot 1) init: kmd1 (PID 176) started&lt;/em&gt; _Jan 29 12:02:55 _fw1&lt;em&gt; (FPC Slot 11, PIC Slot 1) init: kmd2 (PID 177) started&lt;/em&gt; _Jan 29 12:02:55 _fw1&lt;em&gt; (FPC Slot 11, PIC Slot 1) init: kmd3 (PID 178) started&lt;/em&gt; _Jan 29 12:02:55 _fw1&lt;em&gt; (FPC Slot 11, PIC Slot 1) init: kmd4 (PID 180) started&lt;/em&gt; _Jan 29 12:03:13 _fw1&lt;em&gt; (FPC Slot 4, PIC Slot 0) init: kmd1 (PID 176) started&lt;/em&gt; _Jan 29 12:03:13 _fw1&lt;em&gt; (FPC Slot 4, PIC Slot 0) init: kmd2 (PID 177) started&lt;/em&gt; _Jan 29 12:03:13 _fw1&lt;em&gt; (FPC Slot 4, PIC Slot 0) init: kmd3 (PID 178) started&lt;/em&gt; _Jan 29 12:03:13 _fw1&lt;em&gt; (FPC Slot 4, PIC Slot 0) init: kmd4 (PID 179) started&lt;/em&gt; _Jan 29 12:03:14 _fw1&lt;em&gt; (FPC Slot 5, PIC Slot 0) init: kmd1 (PID 176) started&lt;/em&gt; _Jan 29 12:03:14 _fw1&lt;em&gt; (FPC Slot 5, PIC Slot 0) init: kmd2 (PID 177) started&lt;/em&gt; _Jan 29 12:03:14 _fw1&lt;em&gt; (FPC Slot 5, PIC Slot 0) init: kmd3 (PID 178) started&lt;/em&gt; _Jan 29 12:03:15 _fw1&lt;em&gt; (FPC Slot 5, PIC Slot 0) init: kmd4 (PID 179) started&lt;/em&gt;   Check the security log to verify &amp;ldquo;&lt;em&gt;show log kmed&lt;/em&gt;&amp;rdquo; &lt;em&gt;Dec 27 05:58:05 KMD_INTERNAL_ERROR: iked_re_ipc_err_handler: status: 1: usp_ipc_client_open: failed to connect to the server after 5 retries Dec 27 05:58:05 KMD_INTERNAL_ERROR: iked_re_send_msg_to_spu: failed to connect to iked_spu on SPU - Connection refused. Dec 27 05:58:05 KMD_INTERNAL_ERROR: iked_re_ipc_err_handler: status: 1: usp_ipc_client_open: failed to connect to the server after 5 retries Dec 27 05:58:05 KMD_INTERNAL_ERROR: iked_re_send_msg_to_spu: failed to connect to iked_spu on SPU - Connection refused. Dec 27 05:58:05 KMD_INTERNAL_ERROR: iked_re_ipc_err_handler: status: 1: usp_ipc_client_open: failed to connect to the server after 5 retries Dec 27 05:58:05 KMD_INTERNAL_ERROR: iked_re_send_msg_to_spu: failed to connect to iked_spu on SPU - Connection refused. Dec 27 05:58:05 KMD_INTERNAL_ERROR: iked_re_ipc_err_handler: status: 1: usp_ipc_client_open: failed to connect to the server after 5 retries Dec 27 05:58:05 KMD_INTERNAL_ERROR: iked_re_send_msg_to_spu: failed to connect to iked_spu on SPU - Connection refused. Dec 27 05:58:05 KMD_INTERNAL_ERROR: iked_re_ipc_err_handler: status: 1: usp_ipc_client_open: failed to connect to the server after 5 retries&lt;/em&gt;   Yeah, looks suspicious.  Lets restart ipsec-key-management and see if that helps. &amp;ldquo;&lt;em&gt;restart ipsec-key-management&amp;rdquo;.  &lt;/em&gt; &lt;strong&gt;&lt;em&gt;Note: If this does not work, you may have to drop to the shell and kill it like a unix process.  &lt;/em&gt;&lt;/strong&gt; &lt;em&gt;&amp;ldquo;start shell&amp;rdquo;&lt;/em&gt; &amp;ldquo;kill -9 kmd&amp;rdquo; Idle process should now be back to normal.&lt;/p&gt;

&lt;p&gt;&lt;a href=&#34;http://www.forwardingplane.net/wp-content/uploads/2013/02/Screen-Shot-2013-02-02-at-12.24.11-PM.png&#34;&gt;&lt;img src=&#34;http://www.forwardingplane.net/wp-content/uploads/2013/02/Screen-Shot-2013-02-02-at-12.24.11-PM.png&#34; alt=&#34;Screen Shot 2013-02-02 at 12.24.11 PM&#34; /&gt;&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;  CPU&amp;rsquo;s were at a &amp;ldquo;normal&amp;rdquo; state in our environment has the idle process near 90% (+/-).  In the future this will be monitored so that this problem does sneak up on us. Now, the right way to remedy this is to disable those services if you don&amp;rsquo;t need them.  If you do not plan to terminate VPN tunnels, there is no reason to run the services (on by default) to do so.  We opted to both disable and do a more inclusive loopback filter which seems to have taken care of the problem. Take aways from this is multi faceted.  The SRX is a weird beast. It&amp;rsquo;s JunOS, so the inclination is to treat it like a router, but it &amp;rsquo;s not.  It&amp;rsquo;s a firewall.  And an IPS. And a router. I&amp;rsquo;m planning to write up an &amp;ldquo;SRX command cheat sheet&amp;rdquo; for this because it&amp;rsquo;s got enough different pieces and commands that I believe it warrants one.  Secondly, there are a lot of intricacies in monitoring these devices since they arent just routers.  I&amp;rsquo;m hoping to come up with a best practice for monitoring an SRX cluster in a carrier type environment as well.  I&amp;rsquo;m sure they&amp;rsquo;ll both be living documents.&lt;/p&gt;
</description>
    </item>
    
    <item>
      <title>Using a Brocade MLXe as a replicator to an IDS</title>
      <link>https://forwardingplane.net/post/using-a-brocade-mlxe-as-a-replicator-to-an-ids/</link>
      <pubDate>Sun, 25 Nov 2012 17:26:00 +0000</pubDate>
      
      <guid>https://forwardingplane.net/post/using-a-brocade-mlxe-as-a-replicator-to-an-ids/</guid>
      <description>&lt;p&gt;Have you ever needed to replicate a lot of data transparently to an IDS without the use of a rack of optical taps?  Not enough budget for a Gigamon or cPacket?  Have a spare MLXe laying around?  you&amp;rsquo;re in luck, we were in that boat too. Let me first preface this by saying that this would be fairly trivial using OpenFlow / SDN.  That being said, we didn&amp;rsquo;t have the time to set that up, so this is what we came with.&lt;/p&gt;

&lt;p&gt;&lt;a href=&#34;http://3.bp.blogspot.com/-dkBh5cQqBtc/UKPe167KFsI/AAAAAAABbFY/5DP_E2YVWgg/s1600/TransHWFlood.jpg&#34;&gt;&lt;img src=&#34;http://3.bp.blogspot.com/-dkBh5cQqBtc/UKPe167KFsI/AAAAAAABbFY/5DP_E2YVWgg/s640/TransHWFlood.jpg&#34; alt=&#34;&#34; /&gt;&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;This would also work using an input interface of 100G, but of course the flows would be limited to 10G. How this works is pretty simple, it just uses a policy based route to direct the flow of traffic out of the desired aggregate interface.  In this real world use case that this was built for, the destination was a Bro cluster, consuming as much of the data as possible.  The config on a brocade is pretty similar to Cisco IOS if you&amp;rsquo;re not familiar, but the VLAN bits are a tad different (actually more intuitive in my opinion).  Here are the bits to make all of this work: Create the vlans and tag them appropriately&lt;/p&gt;

&lt;p&gt;mlxe8# conf t mlxe8(config)# vlan 100 mlxe8(config-vlan-100)# untag ethernet 1/1 mlxe8(config-vlan-100)# transparent-hw-flooding mlxe8(config-vlan-100)# router-interface ve 100 mlxe8(config)# vlan 101 mlxe8(config-vlan-101)# untag ethernet 4/1 &amp;hellip; mlxe8(config-vlan-101)# untag ethernet 4/10 mlxe8(config-vlan-101)# router-interface ve 101 mlxe8(config-vlan-101)#exit mlxe8(config)#interface ve 100 mlxe8(config-vlan-100)#ip policy route-map PBR-TRAFFIC mlxe8(config-vlan-100)#ip access-group pbr-traffic-acl&lt;/p&gt;

&lt;p&gt;mlxe8(config-vlan-101)#exit&lt;/p&gt;

&lt;p&gt;mlxe8(config)#interface ve 101&lt;/p&gt;

&lt;p&gt;mlxe8(config)#ip address 10.101.101.&lt;sup&gt;1&lt;/sup&gt;&amp;frasl;&lt;sub&gt;24&lt;/sub&gt;&lt;/p&gt;

&lt;p&gt;Enable all of the interfaces.&lt;/p&gt;

&lt;p&gt;mlxe8(config)#interface ethernet 4/1&lt;/p&gt;

&lt;p&gt;mlxe8(config)#enable&lt;/p&gt;

&lt;p&gt;&amp;hellip;&lt;/p&gt;

&lt;p&gt;mlxe8(config)#interface ethernet 4/10&lt;/p&gt;

&lt;p&gt;mlxe8(config)#enable&lt;/p&gt;

&lt;p&gt;Create the LAG.&lt;/p&gt;

&lt;p&gt;mlxe8(config)# lag “IDS” static&lt;/p&gt;

&lt;p&gt;   mlxe8(config)#ports ethernet 4/1 to &lt;sup&gt;4&lt;/sup&gt;&amp;frasl;&lt;sub&gt;10&lt;/sub&gt;&lt;/p&gt;

&lt;p&gt;   mlxe8(config)#primary-port &lt;sup&gt;4&lt;/sup&gt;&amp;frasl;&lt;sub&gt;1&lt;/sub&gt;&lt;/p&gt;

&lt;p&gt;   mlxe8(config)#deploy&lt;/p&gt;

&lt;p&gt;s&lt;/p&gt;

&lt;p&gt;     Create the PBR ACL bits. This can also be done to filter types of traffic using more complex ACLs  if so desired&lt;/p&gt;

&lt;p&gt;  mlxe8(config)#access-list pbr-traffic-acl permit ip any any&lt;/p&gt;

&lt;p&gt;mlxe8(config)#exit&lt;/p&gt;

&lt;p&gt;mlxe8(config)#route-map PBR-TRAFFIC permit 1&lt;/p&gt;

&lt;p&gt;mlxe8(config)#matchipaddress pbr-traffic-acl&lt;/p&gt;

&lt;p&gt;mlxe8(config)#set ip next-hop 10.101.101.1&lt;/p&gt;

&lt;p&gt;Create a static ARP entry to tie it all together. &lt;/p&gt;

&lt;p&gt;arp 10.101.101.1 c0ff.eec0.ffee ethernet 1/1&lt;/p&gt;

&lt;p&gt;That&amp;rsquo;s it, let the security folks drink from the firehose.  =)&lt;/p&gt;

&lt;p&gt;[[ This is a content summary only. Visit my website for full links, other content, and more! ]]&lt;/p&gt;
</description>
    </item>
    
    <item>
      <title>VDXrancid contrib scripts</title>
      <link>https://forwardingplane.net/post/vdxrancid-contrib-scripts/</link>
      <pubDate>Wed, 14 Nov 2012 16:50:00 +0000</pubDate>
      
      <guid>https://forwardingplane.net/post/vdxrancid-contrib-scripts/</guid>
      <description>&lt;p&gt;   For the &lt;a href=&#34;http://www.supercomputing.org/&#34;&gt;Supercomputing 2012&lt;/a&gt; show, as in years past, I was &amp;ldquo;the guy who installed and maintained &lt;a href=&#34;http://www.google.com/url?sa=t&amp;amp;rct=j&amp;amp;q=&amp;amp;esrc=s&amp;amp;source=web&amp;amp;cd=3&amp;amp;ved=0CEsQFjAC&amp;amp;url=http%3A%2F%2Fwww.shrubbery.net%2Francid%2F&amp;amp;ei=tcWjUOG2AeLCigK4qIGwBw&amp;amp;usg=AFQjCNGsMF1HpROC2BrtIXWL8thUtOKFLQ&amp;amp;sig2=CYLx8RCrdMSiuRuBjPrnaQ&#34;&gt;RANCID&lt;/a&gt;&amp;rdquo; as part of my duties for the &lt;a href=&#34;http://scinet.supercomputing.org/&#34;&gt;SCinet&lt;/a&gt; routing team.   If you don&amp;rsquo;t know about RANCID for change management and config back up, check the link.  It&amp;rsquo;s ree and works on a huge amount of gear.  Every year there is a new and interesting platform, this year is was &lt;a href=&#34;http://www.juniper.net/us/en/products-services/switching/qfx-series/&#34;&gt;Juniper qfabric&lt;/a&gt; and &lt;a href=&#34;http://www.google.com/url?sa=t&amp;amp;rct=j&amp;amp;q=&amp;amp;esrc=s&amp;amp;source=web&amp;amp;cd=2&amp;amp;ved=0CGIQFjAB&amp;amp;url=http%3A%2F%2Fwww.brocade.com%2Flaunch%2Fcloud-clarity%2Fsolutions-technology-innovation.html&amp;amp;ei=J8ajUOD3Ga3riQLpz4A4&amp;amp;usg=AFQjCNFpE2c-kkCHlqabJFwWu7opXzFiSg&amp;amp;sig2=fEcSzMl2PcCa4ajD-YnMvQ&#34;&gt;Brocade VDX&lt;/a&gt;.  The Juniper qFabric just worked with the existing jrancid pieces.&lt;/p&gt;

&lt;p&gt;&lt;a href=&#34;http://2.bp.blogspot.com/-BtfOWZ0KMHc/TyxvtyBEBYI/AAAAAAAAHc8/xue7_Nqj0DE/s400/Rancid+Urgg.jpg&#34;&gt;&lt;img src=&#34;http://2.bp.blogspot.com/-BtfOWZ0KMHc/TyxvtyBEBYI/AAAAAAAAHc8/xue7_Nqj0DE/s200/Rancid+Urgg.jpg&#34; alt=&#34;&#34; /&gt;&lt;/a&gt;&lt;a href=&#34;http://webobjects2.cdw.com/is/image/CDW/2273816?$product_large$&#34;&gt;&lt;img src=&#34;http://webobjects2.cdw.com/is/image/CDW/2273816?$product_large$&#34; alt=&#34;&#34; /&gt;&lt;/a&gt;&lt;a href=&#34;http://upload.wikimedia.org/wikipedia/commons/3/35/Plus_sign.jpg&#34;&gt;&lt;img src=&#34;http://upload.wikimedia.org/wikipedia/commons/3/35/Plus_sign.jpg&#34; alt=&#34;&#34; /&gt;&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;    The brocade VDX is different enough that it doesn&amp;rsquo;t work with francid, but was very similar to IOS.  I did some very minor modifications to the original rancid to make it work with the VDX.  The google code page is available &lt;a href=&#34;http://bit.ly/vdxrancid&#34;&gt;here&lt;/a&gt; and the source code is available &lt;a href=&#34;http://bit.ly/vdxrancid-source&#34;&gt;here&lt;/a&gt;.  &lt;/p&gt;

&lt;p&gt;  You&amp;rsquo;ll have to modify the rancid-fe script to make it work, or use the included one with the source.  It&amp;rsquo;s still very rudimentary, no VCS or platform information is being collected, just the config as of 11/14/2012.&lt;/p&gt;

&lt;p&gt;[[ This is a content summary only. Visit my website for full links, other content, and more! ]]&lt;/p&gt;
</description>
    </item>
    
    <item>
      <title>Juniper EX 4200 ARP / NDP problem; or things I&#39;d like to see in a TAC</title>
      <link>https://forwardingplane.net/post/juniper-ex-4200-arp-ndp-problem-or-things-id-like-to-see-in-a-tac/</link>
      <pubDate>Tue, 06 Nov 2012 03:58:00 +0000</pubDate>
      
      <guid>https://forwardingplane.net/post/juniper-ex-4200-arp-ndp-problem-or-things-id-like-to-see-in-a-tac/</guid>
      <description>&lt;p&gt;    Recently we&amp;rsquo;ve run into an odd issue while routing on an EX4200 series.  These little JunOS boxes are a nice alternative for an entry level building router, they support L2/L3 functionality, a PVST+-ish protocol and, with advanced licensing, IPv6, ISIS and BGP. They have multi 10G interface options and come in a pluggable fiber option.  We use them all over for light layer 3.  They can also be stacked via stacking cables and fiber, which is very handy and makes them extremely versatile but not really applicable for the purpose of this entry.  Anyway, one of our buildings had some odd issues that popped up from time to time, normally over the course of several months.  How is manifests itself is an apparent corrupted ARP / NDP table.  Clearing both fixed their respective traffic&amp;hellip;.for a while.  While this problem in and of itself is moderately interesting, the real issue arose when, after an extensive JTAC experience, I couldn&amp;rsquo;t find any reference to the PR that they said was causing this issue (slow memory leak). PR664807.  Even looking through the &lt;a href=&#34;http://www.juniper.net/techpubs/en_US/junos10.4/information-products/topic-collections/release-notes/10.4/index.html?topic-51158.html&#34;&gt;techpub notes for the JunOS version 10.4R3&lt;/a&gt;, I can&amp;rsquo;t find any reference to this PR.&lt;/p&gt;

&lt;p&gt;    What I did find was multi-facited.  Either the JTAC engineer was just incorrect and mistyped, or the site is not efficiently relaying information.&lt;/p&gt;

&lt;p&gt;    It&amp;rsquo;s no secret that I&amp;rsquo;m hyper-critical of support engineers.  I don&amp;rsquo;t call any TAC very often, if anyone in my group calls a TAC, it&amp;rsquo;s an &amp;ldquo;oh sh!t&amp;rdquo; moment or we&amp;rsquo;ve exhausted all other resources.  We take a lot of pride, myself included, in being good at our jobs.  That being said, lets give the benefit of the doubt and make an assumption that the JTAC engineer gave us the correct PR.&lt;/p&gt;

&lt;p&gt;    The PR search that jtac offers is pretty awful.  It&amp;rsquo;s hard to find, can&amp;rsquo;t seem to find known PRs and is generally clunky and yuckie.  In their defense, most TAC KBs are not good.  However, and try doing a google search for this and you&amp;rsquo;ll find links to &lt;a href=&#34;https://www.juniper.net/prsearch/simplesearch.jsp&#34;&gt;https://www.juniper.net/prsearch/simplesearch.jsp&lt;/a&gt;, which doesn&amp;rsquo;t work.  You&amp;rsquo;ll also find a lot of reference to that URL when searching the JTAC KB, as noted &lt;a href=&#34;http://kb.juniper.net/InfoCenter/index?page=content&amp;amp;id=KB17924&amp;amp;actp=search&amp;amp;viewlocale=en_US&amp;amp;searchid=1352170024537&#34;&gt;here&lt;/a&gt; under the heading &amp;ldquo;Where can I search known Junos bugs?&amp;rdquo;.&lt;/p&gt;

&lt;p&gt;    I&amp;rsquo;m going to make a [giant] assumption that this is &lt;strong&gt;not&lt;/strong&gt; user error on my part.  This is a problem that needs fixed.  I&amp;rsquo;m into making lists lately, so here is another one:&lt;/p&gt;

&lt;p&gt;Things I would like to see in a TAC&lt;/p&gt;

&lt;ul&gt;
&lt;li&gt;&lt;p&gt;Competent first level engineers.  &lt;/p&gt;&lt;/li&gt;

&lt;li&gt;&lt;p&gt;Know when to escalate, there is no shame in asking for help. &lt;/p&gt;&lt;/li&gt;

&lt;li&gt;&lt;p&gt;Engineers that have at least some &lt;strong&gt;soft&lt;/strong&gt; skills. &lt;/p&gt;&lt;/li&gt;

&lt;li&gt;&lt;p&gt;People skills are nearly as important as tech chops, especially in a TAC&lt;/p&gt;&lt;/li&gt;

&lt;li&gt;&lt;p&gt;Efficient troubleshooting process.&lt;/p&gt;&lt;/li&gt;

&lt;li&gt;&lt;p&gt;This can be taught, come on guys, get to it.&lt;/p&gt;&lt;/li&gt;

&lt;li&gt;&lt;p&gt;A decent knowledge base.&lt;/p&gt;&lt;/li&gt;

&lt;li&gt;&lt;p&gt;Quit moving crap around or make the old links forward, this is web programming 101&lt;/p&gt;&lt;/li&gt;

&lt;li&gt;&lt;p&gt;Make searches work easily&lt;/p&gt;&lt;/li&gt;

&lt;li&gt;&lt;p&gt;Allow for multi-faceted searches&lt;/p&gt;&lt;/li&gt;

&lt;li&gt;&lt;p&gt;STOP ASKING FOR INFORMATION YOU ALREADY HAVE&lt;/p&gt;&lt;/li&gt;

&lt;li&gt;&lt;p&gt;We sent in the &amp;ldquo;show tech&amp;rdquo;, &amp;ldquo;request support info&amp;rdquo;, etc.  It&amp;rsquo;s in the file.  If it&amp;rsquo;s not a P1 case, read the freaking notes.  &lt;/p&gt;&lt;/li&gt;

&lt;li&gt;&lt;p&gt;Make sure you follow up with the next engineer.&lt;/p&gt;&lt;/li&gt;

&lt;li&gt;&lt;p&gt;We understand shifts change, please make sure hand off of cases is done correctly&lt;/p&gt;&lt;/li&gt;
&lt;/ul&gt;

&lt;p&gt;These would seem like easy things to accomplish, and I have seen them in the past, but they aren&amp;rsquo;t the norm.  They should be. &lt;/p&gt;

&lt;p&gt;[[ This is a content summary only. Visit my website for full links, other content, and more! ]]&lt;/p&gt;
</description>
    </item>
    
    <item>
      <title>ISIS or OSPFv2/3; a caveman case study</title>
      <link>https://forwardingplane.net/post/isis-or-ospfv23-a-caveman-case-study/</link>
      <pubDate>Thu, 01 Nov 2012 00:18:00 +0000</pubDate>
      
      <guid>https://forwardingplane.net/post/isis-or-ospfv23-a-caveman-case-study/</guid>
      <description></description>
    </item>
    
    <item>
      <title>Juniper to IOS conversion chart</title>
      <link>https://forwardingplane.net/post/juniper-to-ios-conversion-chart/</link>
      <pubDate>Sat, 27 Oct 2012 20:17:00 +0000</pubDate>
      
      <guid>https://forwardingplane.net/post/juniper-to-ios-conversion-chart/</guid>
      <description>&lt;p&gt;    Moving to JunOS from IOS can be a daunting task.  It&amp;rsquo;s a completely different command structure and the config, by default, looks like a programming language.  I was fortunate enough to have gotten in on using JunOS very early in my career, &lt;sup&gt;1&lt;/sup&gt;&amp;frasl;&lt;sub&gt;3&lt;/sub&gt; in to be exact (as of this writing).  Not to mention that wen I got started, IOS wasn&amp;rsquo;t the only game in town.  Remember Xylan?  Gandalf?  OpenRoute? How about Ascend?&lt;/p&gt;

&lt;p&gt;    That being said, a conversion chart is a useful thing.&lt;/p&gt;

&lt;p&gt;    These are everywhere on the net.  Recently I was asked to provide some of this for my job, so I took most of what I could find on the net and compiled it together using my favorite one as a template adding this and that from my own bag of what I thought was useful, which was very little since the initial one was pretty complete.  I suspect this may migrate to a &amp;ldquo;page&amp;rdquo; and not just a post, and will likely be a bit of a living document as I find more and more useful bits and pieces.&lt;/p&gt;

&lt;p&gt;&lt;strong&gt;Basic CLI and Systems Management Commands&lt;/strong&gt;&lt;/p&gt;

&lt;p&gt;Junos Command&lt;/p&gt;

&lt;p&gt;IOS Command&lt;/p&gt;

&lt;p&gt;set date&lt;/p&gt;

&lt;p&gt;clock set&lt;/p&gt;

&lt;p&gt;ping&lt;/p&gt;

&lt;p&gt;ping&lt;/p&gt;

&lt;p&gt;request system reboot&lt;/p&gt;

&lt;p&gt;reload&lt;/p&gt;

&lt;p&gt;request message&lt;/p&gt;

&lt;p&gt;send&lt;/p&gt;

&lt;p&gt;show system uptime&lt;/p&gt;

&lt;p&gt;show clock&lt;/p&gt;

&lt;p&gt;show chassis environment&lt;/p&gt;

&lt;p&gt;show environment&lt;/p&gt;

&lt;p&gt;show cli history&lt;/p&gt;

&lt;p&gt;show history&lt;/p&gt;

&lt;p&gt;show system statistics&lt;/p&gt;

&lt;p&gt;show ip traffic&lt;/p&gt;

&lt;p&gt;show logshow log &lt;em&gt;file name&lt;/em&gt;&lt;/p&gt;

&lt;p&gt;show logging&lt;/p&gt;

&lt;p&gt;show system processes&lt;/p&gt;

&lt;p&gt;show processes&lt;/p&gt;

&lt;p&gt;show configuration&lt;/p&gt;

&lt;p&gt;show running config&lt;/p&gt;

&lt;p&gt;request support information&lt;/p&gt;

&lt;p&gt;show tech-support&lt;/p&gt;

&lt;p&gt;show system users&lt;/p&gt;

&lt;p&gt;show users&lt;/p&gt;

&lt;p&gt;show version | show chassis hardware&lt;/p&gt;

&lt;p&gt;show version&lt;/p&gt;

&lt;p&gt;traceroute&lt;/p&gt;

&lt;p&gt;trace&lt;/p&gt;

&lt;p&gt;&lt;strong&gt;Switching Commands&lt;/strong&gt;&lt;/p&gt;

&lt;p&gt;Junos Command&lt;/p&gt;

&lt;p&gt;IOS Command&lt;/p&gt;

&lt;p&gt;show ethernet-switching interfaces&lt;/p&gt;

&lt;p&gt;No equivalent command&lt;/p&gt;

&lt;p&gt;show spanning-tree bridge&lt;/p&gt;

&lt;p&gt;show spanning-tree&lt;/p&gt;

&lt;p&gt;show ethernet-switching table&lt;/p&gt;

&lt;p&gt;show mac address-table&lt;/p&gt;

&lt;p&gt;show log messages&lt;/p&gt;

&lt;p&gt;show logging&lt;/p&gt;

&lt;p&gt;&lt;strong&gt;Interface Commands&lt;/strong&gt;&lt;/p&gt;

&lt;p&gt;Junos Command&lt;/p&gt;

&lt;p&gt;IOS Command&lt;/p&gt;

&lt;p&gt;clear interface statistics&lt;/p&gt;

&lt;p&gt;clear counters&lt;/p&gt;

&lt;p&gt;show interfaces&lt;br /&gt;
show interfaces detail&lt;br /&gt;
show interfaces extensive&lt;/p&gt;

&lt;p&gt;show interfaces&lt;/p&gt;

&lt;p&gt;show interfaces&lt;br /&gt;
show interfaces detail&lt;br /&gt;
show interfaces extensive&lt;/p&gt;

&lt;p&gt;show ip interface&lt;/p&gt;

&lt;p&gt;show interfaces terse&lt;/p&gt;

&lt;p&gt;show ip interface brief&lt;/p&gt;

&lt;p&gt;&lt;strong&gt;Routing Protocol Commands&lt;/strong&gt;&lt;/p&gt;

&lt;p&gt;Junos Command&lt;/p&gt;

&lt;p&gt;IOS Command&lt;/p&gt;

&lt;p&gt;clear arp&lt;/p&gt;

&lt;p&gt;clear arp-cache&lt;/p&gt;

&lt;p&gt;show arp&lt;/p&gt;

&lt;p&gt;show arp&lt;/p&gt;

&lt;p&gt;show route&lt;/p&gt;

&lt;p&gt;show ip route&lt;/p&gt;

&lt;p&gt;show route summary&lt;/p&gt;

&lt;p&gt;show ip route summary&lt;/p&gt;

&lt;p&gt;show policy&lt;br /&gt;
show policy &lt;em&gt;policy-name&lt;/em&gt;&lt;/p&gt;

&lt;p&gt;show route-map&lt;/p&gt;

&lt;p&gt;show system connections&lt;/p&gt;

&lt;p&gt;show tcp&lt;/p&gt;

&lt;p&gt;show ospf database&lt;/p&gt;

&lt;p&gt;show ip ospf database&lt;/p&gt;

&lt;p&gt;show ospf interface&lt;/p&gt;

&lt;p&gt;show ip ospf interface&lt;/p&gt;

&lt;p&gt;show ospf neighbor&lt;/p&gt;

&lt;p&gt;show ip ospf neighbor&lt;/p&gt;

&lt;p&gt;clear bgp neighbor&lt;/p&gt;

&lt;p&gt;clear ip bgp&lt;/p&gt;

&lt;p&gt;clear bgp damping&lt;/p&gt;

&lt;p&gt;clear ip bgp dampening&lt;/p&gt;

&lt;p&gt;show route protocol bgp&lt;/p&gt;

&lt;p&gt;show ip bgp&lt;/p&gt;

&lt;p&gt;show route community&lt;/p&gt;

&lt;p&gt;show ip bgp community&lt;/p&gt;

&lt;p&gt;show route damping decayed&lt;/p&gt;

&lt;p&gt;show ip bgp dampened paths&lt;/p&gt;

&lt;p&gt;show bgp neighbor&lt;/p&gt;

&lt;p&gt;show ip bgp neighbors&lt;/p&gt;

&lt;p&gt;show route advertising-protocol bgp&lt;em&gt;neighbor-address&lt;/em&gt;&lt;/p&gt;

&lt;p&gt;show ip bgp neighbors _address_ advertised-routes&lt;/p&gt;

&lt;p&gt;show route receive-protocol bgp&lt;em&gt;neighbor-address&lt;/em&gt;&lt;/p&gt;

&lt;p&gt;show ip bgp neighbors _address_ received-routes&lt;/p&gt;

&lt;p&gt;show bgp group&lt;/p&gt;

&lt;p&gt;show ip bgp peer-group&lt;/p&gt;

&lt;p&gt;show route aspath-regex&lt;/p&gt;

&lt;p&gt;show ip bgp regexp&lt;/p&gt;

&lt;p&gt;show bgp summary&lt;/p&gt;

&lt;p&gt;show ip bgp summary&lt;/p&gt;

&lt;p&gt;&lt;strong&gt;Other Useful JunOS commands&lt;/strong&gt;&lt;/p&gt;

&lt;p&gt;&lt;em&gt;show conf | display set&lt;/em&gt; &amp;ndash;display the configuration in a single line per command syntax, useful for cut and paste&lt;br /&gt;
&lt;em&gt;show conf | display xml&lt;/em&gt;--display the configuration as XML, useful for programming to the XMLRPC interface&lt;br /&gt;
Adding &lt;em&gt;| no-more&lt;/em&gt; to a command such as:&lt;br /&gt;
&lt;em&gt;request support information | no-more&lt;/em&gt; &amp;ndash;removes the need to space bar through long output.  Can also be used for piping to a file like&lt;br /&gt;
&lt;em&gt;request support information | no-more | save&lt;/em&gt;&lt;/p&gt;

&lt;p&gt;[[ This is a content summary only. Visit my website for full links, other content, and more! ]]&lt;/p&gt;
</description>
    </item>
    
    <item>
      <title>SDN, the disjointed project we all need to know about</title>
      <link>https://forwardingplane.net/post/sdn-the-disjointed-project-we-all-need-to-know-about/</link>
      <pubDate>Sat, 27 Oct 2012 08:48:00 +0000</pubDate>
      
      <guid>https://forwardingplane.net/post/sdn-the-disjointed-project-we-all-need-to-know-about/</guid>
      <description></description>
    </item>
    
    <item>
      <title>Host based sflow, or, sflow for more than just network traffic</title>
      <link>https://forwardingplane.net/post/host-based-sflow-or-sflow-for-more-than-just-network-traffic/</link>
      <pubDate>Sat, 27 Oct 2012 02:33:00 +0000</pubDate>
      
      <guid>https://forwardingplane.net/post/host-based-sflow-or-sflow-for-more-than-just-network-traffic/</guid>
      <description>&lt;p&gt;I&amp;rsquo;m an awful sysadmin.  Running services permanently isn&amp;rsquo;t really my forte, I tend to lean more on the &amp;ldquo;I&amp;rsquo;ll get this proof of concept all working, prove that it works or doesn&amp;rsquo;t, then roll it on for polishing by someone else&amp;rdquo; kinda guy.  That final 15% is something I&amp;rsquo;m constantly working to refine and better myself at accomplishing.   I&amp;rsquo;m decent at debugging network services, and can be handy in a &amp;ldquo;oh crap, it&amp;rsquo;s down!&amp;rdquo; scamerio, but day to day sysadmin&amp;hellip;not really my speciality.&lt;br /&gt;
I know enough programming to be dangerous and have enough experience to know how to set up or fix pretty much any OS with nearly any service on it.  15 years as a slash and burn Network Engineer will often lend itself to that.  That being said, I do enjoy playing with new options, software packages and and LOVE instrumentation.  Then I came across &lt;a href=&#34;http://host-sflow.sourceforge.net/&#34;&gt;this&lt;/a&gt;.     &lt;a href=&#34;http://blog.sflow.com/2012/01/host-sflow-distributed-agent.html&#34;&gt;Host based sflow&lt;/a&gt;&amp;hellip;..for more than just network traffic.&lt;br /&gt;
This idea is &lt;strong&gt;fantastic&lt;/strong&gt;.&lt;br /&gt;
&lt;strong&gt;Why&lt;/strong&gt; did I never think of it?!?!?!?&lt;/p&gt;

&lt;p&gt;Essentially it&amp;rsquo;s &lt;a href=&#34;http://en.wikipedia.org/wiki/SFlow&#34;&gt;sflow&lt;/a&gt;, a mechanism for monitoring network traffic, or thats at least how I thought of it being from the network side.  It&amp;rsquo;s a lot like Netflow, but an open standard.  Many network devices support it for sampling transit routed packets.  It never occured to me to run it on hosts for other things like&amp;hellip;..http hits, disk utilization&amp;hellip;.memory usage.  This seems perfect for a cloud environment, or for a VM farm&amp;hellip;.or anywhere you don&amp;rsquo;t want to run snmpd or some weird commercial agent on a host.&lt;br /&gt;
I already have an &lt;a href=&#34;http://nfsen.sourceforge.net/&#34;&gt;nfsen&lt;/a&gt;/&lt;a href=&#34;http://nfdump.sourceforge.net/&#34;&gt;nfdump&lt;/a&gt; instance, but it should work with any open source or commercial collector that supports sflow, which is a huge number.  Intermapper flow, inmon, there is a long list.&lt;/p&gt;

&lt;p&gt;I had to see this work, since we had just discussed this type of monitoring in our new [broadband project of the year award winning] ISP, &lt;a href=&#34;http://www.uc2b.net/&#34;&gt;UC2B&lt;/a&gt; that I am heavily involved in.&lt;br /&gt;
So, on to the meat and potato..&lt;br /&gt;
I grabbed the dpkg and installed it on my personal ubuntu server.&lt;/p&gt;

&lt;p&gt;&lt;em&gt;sudo dpkg -i hsflowd_1.22.2-1_x86_64.deb &lt;/em&gt;&lt;br /&gt;
From there I needed to edit the conf file to point it my test flow collector, which happens to reside on the same box.  Use your favorite editor, I like vi personally but I&amp;rsquo;ve been using it for 15 years. &lt;br /&gt;
&lt;em&gt;sudo vi /etc/hsflowd.conf&lt;/em&gt;&lt;br /&gt;
Change the following lines:&lt;/p&gt;

&lt;p&gt;&lt;em&gt;DNSSD = off&lt;/em&gt;&lt;/p&gt;

&lt;p&gt;  &lt;em&gt;polling = 30&lt;/em&gt;&lt;br /&gt;
&lt;em&gt;  sampling.http = 10&lt;/em&gt;&lt;br /&gt;
&lt;em&gt;  sampling.memcache = 500&lt;/em&gt;&lt;/p&gt;

&lt;p&gt;&lt;em&gt; collector {&lt;/em&gt;&lt;/p&gt;

&lt;p&gt;&lt;em&gt;    ip = 127.0.0.1&lt;/em&gt;&lt;/p&gt;

&lt;p&gt;&lt;em&gt;     udpport = 6997&lt;/em&gt;&lt;/p&gt;

&lt;p&gt;&lt;em&gt;  }&lt;/em&gt;&lt;/p&gt;

&lt;p&gt;Close out the file.  I chose to tweak a few of the defaults to see what it&amp;rsquo;d yield.  &lt;/p&gt;

&lt;p&gt;Now edit your nfsen.conf file&lt;/p&gt;

&lt;p&gt;&lt;em&gt;%sources = (&lt;/em&gt;&lt;br /&gt;
&lt;em&gt;    &amp;lsquo;home&amp;rsquo;    =&amp;gt; { &amp;lsquo;port&amp;rsquo; =&amp;gt; &amp;lsquo;6996&amp;rsquo;, &amp;lsquo;col&amp;rsquo; =&amp;gt; &amp;lsquo;#0000ff&amp;rsquo;, &amp;lsquo;type&amp;rsquo; =&amp;gt; &amp;lsquo;netflow&amp;rsquo; },&lt;/em&gt;&lt;br /&gt;
&lt;em&gt;    &amp;lsquo;cupcake&amp;rsquo;    =&amp;gt; { &amp;lsquo;port&amp;rsquo; =&amp;gt; &amp;lsquo;6997&amp;rsquo;, &amp;lsquo;col&amp;rsquo; =&amp;gt; &amp;lsquo;#0000ff&amp;rsquo;, &amp;lsquo;type&amp;rsquo; =&amp;gt; &amp;lsquo;sflow&amp;rsquo; },&lt;/em&gt;&lt;br /&gt;
&lt;em&gt;);&lt;/em&gt;&lt;/p&gt;

&lt;p&gt;&lt;em&gt;sudo /services/netflow/bin/nfsen reconfig&lt;/em&gt;&lt;br /&gt;
This should yield at the very least network data and provide a proof of concept. other services can be monitored by using the json options, but that&amp;rsquo;s beyond the scope of this writing.  I could see a big win from this in a home brew cloud environment or a large VM farm since it can provide a very straightforward way to generate very useful data in a standard format that can be very simply monitored, queried and archived.    &lt;br /&gt;
_&lt;a href=&#34;http://gan.doubleclick.net/gan_click?lid=41000000028007181&amp;amp;pid=UBM9786132095695&amp;amp;adurl=http%3A%2F%2Fwww.cdsbooksdvds.com%2Fproduct.jhtm%3Fsku%3DUBM9786132095695&amp;amp;usg=AFHzDLucmjq8niDqbnNmvyDzFPVpDnuqQQ&amp;amp;pubid=590157&#34;&gt;Paessler Router Traffic Grapher&lt;/a&gt;_&lt;/p&gt;

&lt;p&gt;[[ This is a content summary only. Visit my website for full links, other content, and more! ]]&lt;/p&gt;
</description>
    </item>
    
    <item>
      <title>MicroFlow policing on Cisco Sup2T</title>
      <link>https://forwardingplane.net/post/microflow-policing-on-cisco-sup2t/</link>
      <pubDate>Fri, 19 Oct 2012 07:21:00 +0000</pubDate>
      
      <guid>https://forwardingplane.net/post/microflow-policing-on-cisco-sup2t/</guid>
      <description>&lt;p&gt;Let me save you some time&amp;hellip;.Microflow Policing on the Catalyst 6500 / Sup2TXL doesn&amp;rsquo;t yet work. Inbound it &amp;ldquo;kinda works&amp;rdquo;.  You can configure it and it applies as a service policy, but even though outbound is &amp;ldquo;supported in hardware on the Supervisor2TXL&amp;rdquo;, there is no software support for it in either the 15.0SY or 12.2(50)SY.  It took me a month to suss this out&amp;hellip;..&lt;br /&gt;
Yes, I should have suspected.  I dont work on Cisco every day, I have Juniper MX, Brocade MLX and a multitude of other platforms to work on daily, so it took a bit.&lt;br /&gt;
The short answer is that the capability won&amp;rsquo;t be there until 15.1&amp;hellip;.something I&amp;rsquo;m not looking forward to since 15.x is very different, and, if you use any of the MLS features, get ready to re-learn them all.  I still have a strong belief that 15.0SY is missing half of the MLS knobs I need to turn.&lt;/p&gt;

&lt;p&gt;Please, someone correct me.  I&amp;rsquo;d be &lt;strong&gt;extremely&lt;/strong&gt; happy to be wrong about this one.  &lt;/p&gt;

&lt;p&gt;[[ This is a content summary only. Visit my website for full links, other content, and more! ]]&lt;/p&gt;
</description>
    </item>
    
    <item>
      <title>A tale of two ISPs...</title>
      <link>https://forwardingplane.net/post/a-tale-of-two-isps/</link>
      <pubDate>Thu, 18 Oct 2012 11:24:00 +0000</pubDate>
      
      <guid>https://forwardingplane.net/post/a-tale-of-two-isps/</guid>
      <description>&lt;p&gt;     I&amp;rsquo;ve been doing research, carrier and service provider networking for a long time.  I my first real service provider experience was beta testing DSL for GTE back in the 1990s, I prototyped and proposed a CLEC for an employer in 1998 and went to work for the only ISP in the area rolling it&amp;rsquo;s own DSL over ATM in early 2000.&lt;br /&gt;
    Everything seems to come full circle, though, given enough time.  Right now I&amp;rsquo;m working on many projects, but two of them jumped out as particularly interesting when contrasted against each other.  Alone they&amp;rsquo;re interesting but not anything never done before.  When compared, however, they become are polar opposites in case studies.&lt;br /&gt;
    The first, a smaller mom-and-pop ISP that is now pretty much a WISP for only rural customers, was originally part of the ISP I rebuilt back in 2000.  They had not employed a network engineer after I left in 2002, but retained a good tech who had great skill with RF but not enough time to really learn the ins and outs of routing.&lt;br /&gt;
The infrastructure was mostly stagnant for about 10 years, adding a new switch or a box to do some traffic shaping, but it was, in essence, a very large layer 2 network with one router at the border.&lt;br /&gt;
    The other ISP is a bleeding edge winner of the broadband project of the year award, heavily funded and very innovative in nature, offering 1GBps fiber to the home and unlimited access to all local resources that want to connect.  &lt;br /&gt;
    I was the senior network engineer for the ISP 10 years ago and was appointed lead network engineer for the fiber ISP project.  It&amp;rsquo;s interesting that both came to my circle of view at the same time, as I work on the fiber ISP in my &amp;ldquo;day job&amp;rdquo; and rebuild the WISP at night in my spare time as a consultant.&lt;/p&gt;

&lt;p&gt;A few take aways that I&amp;rsquo;ve [re-]discovered are:&lt;/p&gt;

&lt;p&gt;A pfsense box makes a fantastic router for a smaller operation.  It also makes a completely acceptable replacement for a Cisco for far less money.&lt;br /&gt;
Even spending half a million dollars with Cisco does &lt;strong&gt;not&lt;/strong&gt; entitle you to any features that may be available in the SUP2T hardware (and not yet in the software).  Lame, cisco, lame.&lt;br /&gt;
HP procurve makes very nice Layer2 boxes with lifetime warranties.&lt;br /&gt;
Cutting over an ISP live really is not a lot of fun.&lt;br /&gt;
Not having PI address space is &lt;strong&gt;very&lt;/strong&gt; inconvenient.&lt;br /&gt;
Traffic shaping, rate limiting or QoS are possibly my least favorite thing to do now.&lt;br /&gt;
End users don&amp;rsquo;t care about IPv6 (boo! hiss!)&lt;/p&gt;

&lt;p&gt;More to come, including:&lt;/p&gt;

&lt;p&gt;How the Cisco Sup2T doesn&amp;rsquo;t actually have software support for microflow policing yet&lt;br /&gt;
How to provision IPv6 RA through an Adtran TA5000&lt;br /&gt;
How to alias an overlay network on pfSense&lt;/p&gt;

&lt;p&gt;I guess I can sleep when I&amp;rsquo;m dead =)&lt;/p&gt;

&lt;p&gt;[[ This is a content summary only. Visit my website for full links, other content, and more! ]]&lt;/p&gt;
</description>
    </item>
    
    <item>
      <title>conditional route advertisement</title>
      <link>https://forwardingplane.net/post/conditional-route-advertisement/</link>
      <pubDate>Sun, 06 May 2012 02:42:00 +0000</pubDate>
      
      <guid>https://forwardingplane.net/post/conditional-route-advertisement/</guid>
      <description>&lt;p&gt;I&amp;rsquo;ve recently been tasked with bringing up a tertiary path into a multi-building research facility.&lt;/p&gt;
</description>
    </item>
    
    <item>
      <title>NSR and ISSU on Juniper MX series with logical routers.</title>
      <link>https://forwardingplane.net/post/nsr-and-issu-on-juniper-mx-series-with-logical-routers/</link>
      <pubDate>Fri, 27 Apr 2012 22:15:00 +0000</pubDate>
      
      <guid>https://forwardingplane.net/post/nsr-and-issu-on-juniper-mx-series-with-logical-routers/</guid>
      <description>&lt;p&gt;Lets just say, for instance, that you have an MX series router at somewhere on your network. Lets also say that said router is carved into more than just the main logical system. For the sake of this writing, lets say that your eBGP sessions are in the default logical system and your IGP is in the logical system, lets call it &amp;ldquo;internal&amp;rdquo;.&lt;br /&gt;
 JunOS has some wonderful mechanisms for keeping things running, one is called &lt;a href=&#34;http://www.juniper.net/techpubs/en_US/junos9.5/information-products/topic-collections/swconfig-high-availability/nsr-overview.html&#34;&gt;NSR&lt;/a&gt; (Non Stop Routing), the other is called ISSU (In Service Software Upgrade). Typically these are really, really useful for performing non-impacting RE fail overs and software upgrades. Heck, I&amp;rsquo;ve upgraded an MX960 in the middle of the day with no impact whatsoever. Thats right, I was that guy. It should be noted, that the MX960s in question didn&amp;rsquo;t have any logical systems configured, which brings us to why I jotted this down into this web page.&lt;/p&gt;

&lt;p&gt;Now, it&amp;rsquo;s no secret that I am a fan of Juniper gear, and &lt;a href=&#34;http://tech.buraglio.com/2010/12/junos-issu.html&#34;&gt;I&amp;rsquo;ve talked about this before&lt;/a&gt;. But frankly, our MX series that have logical systems need upgraded so infrequently, I actually forgot about this little tidbit.  For whatever reason, it really surprised me during the last upgrade I did even though it makes perfect sense and I knew about it already. What that time comes that you need to upgrade JunOS, you&amp;rsquo;ll have to keep one very important thing in mind:&lt;/p&gt;

&lt;p&gt;&lt;strong&gt;You can&amp;rsquo;t take advantage of NSR in any logical system that isn&amp;rsquo;t the default. &lt;/strong&gt;&lt;/p&gt;

&lt;p&gt;Additionally, You can&amp;rsquo;t choose the protocol or the logical system that NSR works on, it&amp;rsquo;s on for all protocols on the default logical system if you enable it.&lt;/p&gt;

&lt;p&gt;What does this actually mean?  Well, it means that if I do an ISSU (which you should still do even with logical systems), anything outside of my default logical system will re-converge.  If my eBGP sessions are outside, they&amp;rsquo;ll drop and have to re-establish.  This isn&amp;rsquo;t really that great of an idea if you peer with folks that keep dampen-happy.  Personally, I don;t like my BGP sessions to drop if they don&amp;rsquo;t need to.  I&amp;rsquo;d rather deal with an IGP adjacency change than a bunch of BGP sessions having to re-establish and churn through potentially a handful of full tables.&lt;/p&gt;

&lt;p&gt;How do we get around the interruption this causes?  Well, the way we&amp;rsquo;ve solved it is to have 2 MX480&amp;rsquo;s connected redundantly.  That way, even if ISSU is going to cause an interruption due to a peering or adjacency change, the alternate path still exists.  Why do we have this setup?  Well, ideally we&amp;rsquo;d have 4 MX480s and wouldn&amp;rsquo;t need the logical systems, but hey, they&amp;rsquo;re expensive.&lt;/p&gt;

&lt;p&gt;So, what it the take away from this episode of &amp;ldquo;as the packet turns&amp;rdquo;?&lt;/p&gt;

&lt;p&gt;If you must configure logical systems, know that NSR and ISSU doesn&amp;rsquo;t really work as you may think in the non default.  Plan for some interruption, adjacency changes and or BGP sessions to drop.&lt;/p&gt;

&lt;p&gt;Or buy more routers.&lt;/p&gt;

&lt;p&gt;[[ This is a content summary only. Visit my website for full links, other content, and more! ]]&lt;/p&gt;
</description>
    </item>
    
    <item>
      <title>Black Hole routing</title>
      <link>https://forwardingplane.net/post/black-hole-routing/</link>
      <pubDate>Tue, 04 Oct 2011 01:00:00 +0000</pubDate>
      
      <guid>https://forwardingplane.net/post/black-hole-routing/</guid>
      <description>&lt;p&gt;It&amp;rsquo;s no secret or ground breaking area to do black hole routing.&lt;/p&gt;

&lt;p&gt;ISPs and NSPs have been doing it forever to allow for a very low cost, very scriptable and very effective way to wholesale block a layer3 address. However, it can seem like a bit of a black box to anyone who has never done it.&lt;/p&gt;

&lt;p&gt;I recently did some work spinning this up in a good sized network that it didn&amp;rsquo;t currently exist, and remembered how monumentally useful (and simple) it actually is.&lt;/p&gt;

&lt;p&gt;There are lots of ways to do this. There are a lot of different &lt;a href=&#34;http://packetlife.net/blog/2009/jul/6/remotely-triggered-black-hole-rtbh-routing/&#34;&gt;articles&lt;/a&gt; written about how to do it. Cisco includes it in their CCIE Security track.&lt;/p&gt;

&lt;p&gt;The idea is a pretty simple one. Run &lt;a href=&#34;http://en.wikipedia.org/wiki/Reverse_path_forwarding#Unicast_RPF_.28uRPF.29&#34;&gt;uRPF&lt;/a&gt; on your eBGP speakers. Create a peering with a router on the inside. For my purposes I used a private ASN and peered it with eBGP to my border devices. Create a static route to null0 on the BHR (Black Hole Router), which then sends the route (possibly tagged with a community) to the eBGP speakers. They see an internal route for this external host, so any packets that come from that host on the outside get dropped on the floor by uRPF. In theory it&amp;rsquo;s all handled in hardware so the overhead is minimal and the blocks are as fast as a BGP route advertisement/withdrawal.&lt;/p&gt;

&lt;p&gt;There are, of course, lots of caveats to this, like, what if you are taking default on your eBGP speakers? How is that handled. One of the places I recently set this up takes default, one takes full tables. I suggest reading &lt;a href=&#34;http://www.cisco.com/web/about/security/intelligence/unicast-rpf.html&#34;&gt;this page&lt;/a&gt; if you aren&amp;rsquo;t experienced with uRPF, it explains how cissco handles it and is a decent primer on uRPF in general.&lt;/p&gt;

&lt;p&gt;I&amp;rsquo;m a simple guy and I like things to be easy to support, so my designs tend to be those that can easily be maintained by someone that !=me and not so overly complicated that they can be reverse engineered in case of emergency or replicated if need be.&lt;/p&gt;

&lt;p&gt;That said, I&amp;rsquo;ve chosen to do it in a pocketbook friendly way. It probably stems from cutting my teeth at a decent sized mom and pop ISP that had a very small operating budget so we did things in creative and cost savings ways while still keeping them simple and supportable. I&amp;rsquo;m not sure why, but it makes more sense to me to run a software router like &lt;a href=&#34;http://www.blogger.com/www.quagga.net&#34;&gt;Quagga&lt;/a&gt; or &lt;a href=&#34;http://www.openbgpd.org/&#34;&gt;OpenBGPd&lt;/a&gt; that I can run as a VM and connect to my IGP and EGP, scripting the adds and removal of the routes we want to blackhole. It can also be done with an actual router, but I personally prefer to drop it in as a software router.&lt;/p&gt;

&lt;p&gt;The use of a linux box allows for a bunch of neat options. You can use the iproute2 package to watch changes to the routing table, you can run it in a virtual machine, it can be done in a very economical way, etc.&lt;/p&gt;

&lt;p&gt;Using Quagga has its pros and its cons. Quagga is a great platform, but it is an open source project. Their ISISd support is a bit lacking, so if your IGP is ISIS, it will work, but it feels half baked to me (and there is zero documentation that I could find). The ospf[v2 and v3] versions work fine. BGPd works well enough. It can be put into RANCID for configuration management and it is easily scriptable using vtysh and its IOS-like interface.&lt;/p&gt;

&lt;p&gt;Here is a basic design for a black hole router running inside a network with an external peering with something like a bogon route server:&lt;/p&gt;

&lt;p&gt;&lt;a href=&#34;http://4.bp.blogspot.com/-5lZmt2zsQ3Y/T3oMBMHyysI/AAAAAAABIS4/T5lzIgb0I2I/s1600/BHR+Example.jpg&#34;&gt;&lt;img src=&#34;http://4.bp.blogspot.com/-5lZmt2zsQ3Y/T3oMBMHyysI/AAAAAAABIS4/T5lzIgb0I2I/s320/BHR+Example.jpg&#34; alt=&#34;&#34; /&gt;&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;This just shows a basic setup, one site border router and a black hole box. In this example, the BHR is also peered with an external &amp;ldquo;service&amp;rdquo; like a bogon route server. This is a value-add, and not required.&lt;/p&gt;

&lt;p&gt;Any traffic that comes in can be routed to null0 on the bhr. This, in turn, sends a routes to the SBR. The SBR then installs it as an internal route. Now, any traffic that comes in from this route outside will looked like spoofed traffic and uRPF will discard it.&lt;/p&gt;

&lt;p&gt;Very simple, very effective.&lt;/p&gt;

&lt;p&gt;[[ This is a content summary only. Visit my website for full links, other content, and more! ]]&lt;/p&gt;
</description>
    </item>
    
    <item>
      <title>alurancid and pfrancid</title>
      <link>https://forwardingplane.net/post/alurancid-and-pfrancid/</link>
      <pubDate>Thu, 30 Jun 2011 20:12:00 +0000</pubDate>
      
      <guid>https://forwardingplane.net/post/alurancid-and-pfrancid/</guid>
      <description>&lt;p&gt;I did some minor tweaking to the Alcatel Lucent RANCID scripts and some modifications to make RANCID work under my pfsense environment (originally m0n0rancid code from John Skopis). Since I don&amp;rsquo;t really do much dev work and am not interested in maintaing a box do be an SVN server for the public, I threw it up onto google code.&lt;br /&gt;
I&amp;rsquo;ll be adding a brief how-to on making RANCID work with pfSense as soon as I get some time.&lt;/p&gt;

&lt;p&gt;The scripts can be found here:&lt;/p&gt;

&lt;p&gt;&lt;a href=&#34;http://code.google.com/p/alurancid/&#34;&gt;Alcatel-Lucent RANCID&lt;/a&gt;&lt;br /&gt;
&lt;a href=&#34;http://code.google.com/p/pfrancid/&#34;&gt;pfSense RANCID&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;[[ This is a content summary only. Visit my website for full links, other content, and more! ]]&lt;/p&gt;
</description>
    </item>
    
    <item>
      <title>Juniper interface type naming convention</title>
      <link>https://forwardingplane.net/post/juniper-interface-type-naming-convention/</link>
      <pubDate>Wed, 13 Apr 2011 01:04:00 +0000</pubDate>
      
      <guid>https://forwardingplane.net/post/juniper-interface-type-naming-convention/</guid>
      <description>&lt;p&gt;I found most of this on a web page somewhere tha tI can&amp;rsquo;t seem to find again. Below are some common useful junos tidbits regarding routing tables and interface types/names:&lt;/p&gt;

&lt;p&gt;JunOS CLI supports the basic grep command (like | include) so any show commands can be grepped. I believe the grep command implies the -i flag for case insensitivity.&lt;/p&gt;

&lt;p&gt;The routing table is presented in such a way to group types of routes.&lt;/p&gt;

&lt;p&gt;**inet.0 is the ipv4 unicast routing table&lt;/p&gt;

&lt;p&gt;**&lt;/p&gt;

&lt;p&gt;**inet.1 is the ipv4 multicast routing table&lt;/p&gt;

&lt;p&gt;**&lt;/p&gt;

&lt;p&gt;**inet.3 is the MPLS routing table&lt;/p&gt;

&lt;p&gt;**&lt;/p&gt;

&lt;p&gt;&lt;strong&gt;inet6.0 is the ipv6 routing table&lt;/strong&gt;&lt;/p&gt;

&lt;p&gt;Juniper interface types&lt;/p&gt;

&lt;p&gt;Most common ones you&amp;rsquo;ll probably see:&lt;/p&gt;

&lt;p&gt;**fe: Fast Ethernet 100Base-TX (Fast Ethernet, 100 Mbps).&lt;/p&gt;

&lt;p&gt;fxp0: Management and internal Ethernet The management Ethernet interface is an out-of-band management interface within the routing platform.&lt;/p&gt;

&lt;p&gt;fxp1: Interface that connects the routing engine and packet forwarding engine.&lt;/p&gt;

&lt;p&gt;xe: 1GE optical interface on ex switches&lt;/p&gt;

&lt;p&gt;ge: Gigabit and 10gigabit Ethernet. Includes Gigabit Ethernet IQ interfaces.&lt;/p&gt;

&lt;p&gt;me0: - out of band management interface on ex switches&lt;/p&gt;

&lt;p&gt;lo: Loopback This interface is internally generated. The logical interface lo0.16383 is a non-configurable interface for routing platform control traffic.&lt;/p&gt;

&lt;p&gt;vcp: - virtual chassis interface (EX4200 only)&lt;/p&gt;

&lt;p&gt;Other ones you may run into:&lt;/p&gt;

&lt;p&gt;ae: Aggregated Ethernet A virtual aggregated link.&lt;/p&gt;

&lt;p&gt;**&lt;/p&gt;

&lt;p&gt;**as: Aggregated SONET/SDH A virtual aggregated link.&lt;/p&gt;

&lt;p&gt;**&lt;/p&gt;

&lt;p&gt;**at: ATM1 or ATM2 IQ Asynchronous Transfer Mode&lt;/p&gt;

&lt;p&gt;**&lt;/p&gt;

&lt;p&gt;**cau4: Channelized AU-4 IQ Configured on the Channelized STM-1 IQ PIC.&lt;/p&gt;

&lt;p&gt;**&lt;/p&gt;

&lt;p&gt;**coc1: Channelized OC-1 IQ Configured on the Channelized OC-12 IQ PIC.&lt;/p&gt;

&lt;p&gt;**&lt;/p&gt;

&lt;p&gt;**coc12: Channelized OC-12 IQ Configured on the Channelized OC-12 IQ PIC.&lt;/p&gt;

&lt;p&gt;**&lt;/p&gt;

&lt;p&gt;**cstm1: Channelized STM-1 IQ Configured on the Channelized STM-1 IQ PIC.&lt;/p&gt;

&lt;p&gt;**&lt;/p&gt;

&lt;p&gt;**ce1: Channelized E1 IQ Configured on the Channelized E1 IQ PIC or Channelized STM-1 IQ PIC.&lt;/p&gt;

&lt;p&gt;**&lt;/p&gt;

&lt;p&gt;**ct1: Channelized T1 IQ Configured on the Channelized DS-3 IQ PIC or Channelized OC-12 IQ PIC.&lt;/p&gt;

&lt;p&gt;**&lt;/p&gt;

&lt;p&gt;**ct3: Channelized T3 IQ Configured on the Channelized DS-3 IQ PIC or Channelized OC-12 IQ PIC.&lt;/p&gt;

&lt;p&gt;**&lt;/p&gt;

&lt;p&gt;**cp: Collector Configured on the Monitoring Services II PIC.&lt;/p&gt;

&lt;p&gt;**&lt;/p&gt;

&lt;p&gt;**ds: DS-0 Configured on the Channelized DS-3 to DS-0 PIC, Channelized E1 PIC, Channelized OC-12 IQ PIC,&lt;/p&gt;

&lt;p&gt;**&lt;/p&gt;

&lt;p&gt;**dsc: Discard Allows you to identify the ingress point of a denial-of-service (DoS) attack.&lt;/p&gt;

&lt;p&gt;**&lt;/p&gt;

&lt;p&gt;**e1: E1 Includes the channelized STM-1 to E1 interfaces.&lt;/p&gt;

&lt;p&gt;**&lt;/p&gt;

&lt;p&gt;**e3: E3 Includes the E3 IQ interfaces.&lt;/p&gt;

&lt;p&gt;**&lt;/p&gt;

&lt;p&gt;**es: Encryption, Allows you to configure a security association (SA) name with a logical interface.&lt;/p&gt;

&lt;p&gt;**&lt;/p&gt;

&lt;p&gt;**gr: Generic Route Encapsulation tunnel Allows you to configure a unicast tunnel using GRE encapsulation.&lt;/p&gt;

&lt;p&gt;**&lt;/p&gt;

&lt;p&gt;**gre: Internally generated This interface is internally generated and is not configurable.&lt;/p&gt;

&lt;p&gt;**&lt;/p&gt;

&lt;p&gt;**ip: IP-over-IP encapsulation tunnel Allows you to configure a unicast tunnel using IP-IP encapsulation.&lt;/p&gt;

&lt;p&gt;**&lt;/p&gt;

&lt;p&gt;**ipip: Internally generated This interface is internally generated and is not configurable.&lt;/p&gt;

&lt;p&gt;**&lt;/p&gt;

&lt;p&gt;**ls: Link services Supports bundles that contain links.&lt;/p&gt;

&lt;p&gt;**&lt;/p&gt;

&lt;p&gt;**lsi: Internally generated This interface is internally generated and is not configurable.&lt;/p&gt;

&lt;p&gt;**&lt;/p&gt;

&lt;p&gt;**ml: Multilink Includes Multilink Frame Relay and Multilink PPP.&lt;/p&gt;

&lt;p&gt;**&lt;/p&gt;

&lt;p&gt;**mo: Monitoring services Includes the monitoring services and monitoring services&lt;br /&gt;
II interfaces: The logical interface mo-fpc/pic/port.16383 is an internally generated, non-configurable interface for routing platform control traffic.&lt;/p&gt;

&lt;p&gt;**&lt;/p&gt;

&lt;p&gt;**mt: Multicast tunnel Internal routing platform interface for VPNs.&lt;/p&gt;

&lt;p&gt;**&lt;/p&gt;

&lt;p&gt;**mtun: Internally generated This interface is internally generated and is not configurable.&lt;/p&gt;

&lt;p&gt;**&lt;/p&gt;

&lt;p&gt;**oc3: OC-3 IQ Configured on the Channelized OC-12 IQ PIC.&lt;/p&gt;

&lt;p&gt;**&lt;/p&gt;

&lt;p&gt;**pe: This interface is present on the first-hop routing platform. Encapsulates packets destined for the rendezvous point (RP) routing platform.&lt;/p&gt;

&lt;p&gt;**&lt;/p&gt;

&lt;p&gt;**pd: This interface is present on the RP De-encapsulates packets at the RP.&lt;/p&gt;

&lt;p&gt;**&lt;/p&gt;

&lt;p&gt;**pimd: Internally generated This interface is internally generated and is not configurable.&lt;/p&gt;

&lt;p&gt;**&lt;/p&gt;

&lt;p&gt;**pime: Internally generated This interface is internally generated and is not configurable.&lt;/p&gt;

&lt;p&gt;**&lt;/p&gt;

&lt;p&gt;**rlsq: - a redundant bundle interface, made of two or more lsq interface. If you have redundant AS Pics.&lt;/p&gt;

&lt;p&gt;**&lt;/p&gt;

&lt;p&gt;**se: Serial Includes the EIA-530, V.35, and X.21 interfaces.&lt;/p&gt;

&lt;p&gt;**&lt;/p&gt;

&lt;p&gt;**so: SONET/SDH Both are widely used methods for very high speed transmission of voice and data signals across the numerous world-wide fiber-optic networks.&lt;/p&gt;

&lt;p&gt;**&lt;/p&gt;

&lt;p&gt;**sp: Adaptive services The logical interface sp-fpc/pic/port.16383 is an internally generated, non-configurable interface for routing platform control traffic.&lt;/p&gt;

&lt;p&gt;**&lt;/p&gt;

&lt;p&gt;**t1: T1 Includes the channelized DS-3 to DS-1 interfaces.&lt;/p&gt;

&lt;p&gt;**&lt;/p&gt;

&lt;p&gt;**t3: T3 Includes the channelized OC-12 to DS-3 interfaces.&lt;/p&gt;

&lt;p&gt;**&lt;/p&gt;

&lt;p&gt;**tap: Internally generated This interface is internally generated and is not configurable.&lt;/p&gt;

&lt;p&gt;**&lt;/p&gt;

&lt;p&gt;**vsp: Voice services, The Adaptive Services (AS) Physical Interface Card (PIC) supports the compressed real-time transport protocol (RTP) on this interface.&lt;/p&gt;

&lt;p&gt;**&lt;/p&gt;

&lt;p&gt;**vt: Virtual loopback tunnel On routing platforms equipped with a Tunnel PIC, enables egress filtering.&lt;br /&gt;
**&lt;br /&gt;
Other interesting terminology regarding the juniper architecture is the module layout:&lt;/p&gt;

&lt;p&gt;**RE: Routing Engine, Like a cisco supervisor module. Central brains of the system&lt;/p&gt;

&lt;p&gt;**&lt;/p&gt;

&lt;p&gt;**PFE: Packet forwarding Engine. Controls the data packet forwarding of the system.&lt;/p&gt;

&lt;p&gt;**&lt;/p&gt;

&lt;p&gt;**SCB: Switch control board. Contains ASICs that handle route lookups and memory management.&lt;/p&gt;

&lt;p&gt;**&lt;/p&gt;

&lt;p&gt;**PIC: Physical interface card. Sort of like a port, but can contain multiple interfaces.&lt;/p&gt;

&lt;p&gt;**&lt;/p&gt;

&lt;p&gt;&lt;strong&gt;FPC: Flexible PIC concentrator. Like a linecard that has module slots. Can handle different types of PICs&lt;/strong&gt;&lt;/p&gt;

&lt;p&gt;[[ This is a content summary only. Visit my website for full links, other content, and more! ]]&lt;/p&gt;
</description>
    </item>
    
    <item>
      <title>JunOS ISSU</title>
      <link>https://forwardingplane.net/post/junos-issu/</link>
      <pubDate>Thu, 30 Dec 2010 00:26:00 +0000</pubDate>
      
      <guid>https://forwardingplane.net/post/junos-issu/</guid>
      <description>&lt;p&gt;I recently needed to upgrade a few MX480 routers and decided that it would be a good opportunity to get some experience with Juniper&amp;rsquo;s in service software upgrade.&lt;br /&gt;
I&amp;rsquo;d read a bit about it but I&amp;rsquo;d not had the chance to really use it. It&amp;rsquo;s pretty straightforward and it does what it claims. The following are my notes from rolling through this on my test lab MX480.&lt;/p&gt;

&lt;p&gt;A few things are necessary to get going with ISSU, first and foremost, you need to have a box with two routing engines. Check.&lt;br /&gt;
Second, some configuration is necessary to make this all work.&lt;br /&gt;
The boxes need to be running nonstop-routing, they need to be syncronizing the configs, and they need to have graceful-switchover enabled.&lt;/p&gt;

&lt;p&gt;Here are the steps I went through on my vanilla test box to make this work:&lt;/p&gt;

&lt;p&gt;root# set chassis redundancy graceful-switchover&lt;br /&gt;
root# set routing-options nonstop-routing&lt;br /&gt;
root# set system commit synchronize&lt;/p&gt;

&lt;p&gt;If you already have those options set then you don&amp;rsquo;t need to enter those commands.&lt;/p&gt;

&lt;p&gt;With those options set, you&amp;rsquo;re ready to do the ISSU.&lt;/p&gt;

&lt;p&gt;root&amp;gt; request system software in-service-upgrade /var/tmp/jinstall-10.3R2.11-domestic-signed.tgz&lt;br /&gt;
Chassis ISSU Check Done&lt;br /&gt;
ISSU: Validating Image&lt;br /&gt;
Checking compatibility with configuration&lt;br /&gt;
Initializing&amp;hellip;&lt;br /&gt;
Using jbase-10.1R1.8&lt;br /&gt;
vn_read_compressed_block: invalid block index 550&lt;br /&gt;
Verified manifest signed by PackageProduction_10_1_0&lt;br /&gt;
Verified jbase-10.1R1.8 signed by PackageProduction_10_1_0&lt;br /&gt;
Using /var/tmp/jinstall-10.3R2.11-domestic-signed.tgz&lt;br /&gt;
&amp;hellip;.&lt;/p&gt;

&lt;p&gt;This takes a LONG time and generates a lot of scroll.&lt;/p&gt;

&lt;p&gt;You&amp;rsquo;ll see long pauses and more text like&lt;/p&gt;

&lt;p&gt;Saving package file in /var/sw/pkg/jinstall-10.3R2.11-domestic-signed.tgz &amp;hellip;&lt;br /&gt;
Saving state for rollback &amp;hellip;&lt;br /&gt;
Backup upgrade done&lt;br /&gt;
Rebooting Backup RE&lt;/p&gt;

&lt;p&gt;Rebooting re1&lt;br /&gt;
ISSU: Backup RE Prepare Done&lt;br /&gt;
Waiting for Backup RE reboot&lt;/p&gt;

&lt;p&gt;Then interesting thing start to show up:&lt;/p&gt;

&lt;p&gt;GRES operational&lt;br /&gt;
Initiating Chassis In-Service-Upgrade&lt;br /&gt;
Chassis ISSU Started&lt;br /&gt;
ISSU: Preparing Daemons&lt;br /&gt;
ISSU: Daemons Ready for ISSU&lt;br /&gt;
ISSU: Starting Upgrade for FRUs&lt;br /&gt;
ISSU: Preparing for Switchover&lt;/p&gt;

&lt;p&gt;This is where the magic starts. The nonstop-routing and hitless failover come into play as the route engines switch over. Very cool.&lt;/p&gt;

&lt;p&gt;On the console of the backup RE (now the master) you&amp;rsquo;ll see messages like&lt;/p&gt;

&lt;p&gt;Message from syslogd@ at Dec 29 19:11:57 &amp;hellip;&lt;br /&gt;
fpc0 RDP: Remote side reset connection: rdp.(fpc0:22528).(serverRouter:ppm)&lt;/p&gt;

&lt;p&gt;Message from syslogd@ at Dec 29 19:11:57 &amp;hellip;&lt;br /&gt;
fpc1 RDP: Remote side reset connection: rdp.(fpc1:4096).(serverRouter:ppm)&lt;/p&gt;

&lt;p&gt;these are normal.&lt;/p&gt;

&lt;p&gt;Some things that I didn&amp;rsquo;t expect, but probably should have:&lt;/p&gt;

&lt;p&gt;The old master stays the backup route engine after the ISSU&lt;br /&gt;
The old master does NOT reboot into the new code, instead it stays on the original code requiring a manual reboot (unless, I asume, you add the &amp;ldquo;reboot&amp;rdquo; command on to the original upgrade command).&lt;br /&gt;
On routers that have logical systems configured on them, only the master logical system supports nonstop active routing.&lt;/p&gt;

&lt;p&gt;I did the reboot manually&lt;/p&gt;

&lt;p&gt;root&amp;gt; request system reboot&lt;br /&gt;
Reboot the system ? [yes,no] (no) yes&lt;/p&gt;

&lt;p&gt;*** FINAL System shutdown message from root@ ***&lt;br /&gt;
System going down IMMEDIATELY&lt;/p&gt;

&lt;p&gt;Shutdown NOW!&lt;br /&gt;
Reboot consistency check bypassed - jinstall 10.3R2.11 will complete installation upon reboot&lt;br /&gt;
[pid 65006]&lt;/p&gt;

&lt;p&gt;and then did a failover to the old master.&lt;/p&gt;

&lt;p&gt;root&amp;gt; request chassis routing-engine master switch&lt;/p&gt;

&lt;p&gt;&amp;hellip;.and thats pretty much it. Upgrade complete.&lt;/p&gt;

&lt;p&gt;This is a really useful tool that allows for very minimal interruption during software upgrades. I&amp;rsquo;d recommend reading &lt;a href=&#34;http://www.juniper.net/us/en/local/pdf/whitepapers/2000280-en.pdf&#34;&gt;this&lt;/a&gt; white paper on ISSU if you&amp;rsquo;re interested into diving into deeper details.&lt;/p&gt;

&lt;p&gt;Basically what ISSU does is to install junos on the backup route engine (re1) as normal, reboot it, validate and switch over to re1 and do the upgrade on the primary (now backup) route engine. The entire process took about 40 minutes on my mx480.&lt;/p&gt;

&lt;p&gt;[[ This is a content summary only. Visit my website for full links, other content, and more! ]]&lt;/p&gt;
</description>
    </item>
    
    <item>
      <title>Alcatel Lucent RANCID scripts</title>
      <link>https://forwardingplane.net/post/alcatel-lucent-rancid-scripts/</link>
      <pubDate>Mon, 06 Dec 2010 07:06:00 +0000</pubDate>
      
      <guid>https://forwardingplane.net/post/alcatel-lucent-rancid-scripts/</guid>
      <description>&lt;p&gt;At the &lt;a href=&#34;https://scinet.supercomputing.org/&#34;&gt;2010 Supercomputing conference&lt;/a&gt; this year, one of my tasks was to get &lt;a href=&#34;http://shrubbery.net/rancid/&#34;&gt;RANCID&lt;/a&gt; working on the Alcatel Lucent 77xx series. for some this may have been a simple task, but for me, a self taught and inefficient programmer, it was something that took some time.&lt;br /&gt;
The Alcatel Lucent boxes were good performers, but their CLI is pretty awful. The prompt changes based on having unsaved configuration items, and can contain things liks an asterisk. The configuration file also displays the # symbol, a very common &amp;ldquo;enabled&amp;rdquo; router prompt, making the config a bit different to parse. I&amp;rsquo;m happy to report that the &lt;a href=&#34;http://shrubbery.net/rancid/&#34;&gt;RANCID&lt;/a&gt; scripts work for the ALU boxes now. for anyone that wants to use them (since I dont know if they&amp;rsquo;ll be added to the base distribution), they can be found &lt;a href=&#34;http://www.buraglio.com/scripts/alurancid/&#34;&gt;here&lt;/a&gt;.&lt;br /&gt;
SVN of this and some other things I hacked into RANCID for the Nexus and the CRS can be found &lt;a href=&#34;http://buraglio.com/dev/&#34;&gt;here&lt;/a&gt;.&lt;/p&gt;

&lt;p&gt;[[ This is a content summary only. Visit my website for full links, other content, and more! ]]&lt;/p&gt;
</description>
    </item>
    
    <item>
      <title>Multicast through Juniper SRX 5800</title>
      <link>https://forwardingplane.net/post/multicast-through-juniper-srx-5800/</link>
      <pubDate>Sun, 17 Oct 2010 23:56:00 +0000</pubDate>
      
      <guid>https://forwardingplane.net/post/multicast-through-juniper-srx-5800/</guid>
      <description>&lt;p&gt;We&amp;rsquo;ve been working toward a more simplified model for our network path, and in doing so, we desired a congruent path for IPv6, IPv4 Multicast and IPv4 Unicast.&lt;br /&gt;
However, this is actually pretty hard when dealing with the link speeds, amounts of traffic and flows that we do, in conjunction with Firewall&amp;hellip;..and IDP/IPS&amp;hellip;&lt;br /&gt;
Lots of research, reading and testing was done.&lt;br /&gt;
Juniper SRX series has full support for 90% of this, with IPv6 IDP coming in Q2 of 2011.&lt;/p&gt;

&lt;p&gt;IPv4 Multicast is that unpleasant, poorly understood beast that most folks try to ignore. Nevertheless, we need it. So, we had to make this work through our SRX (in the past IPv4 multicast took a different path in/out of our network.&lt;/p&gt;

&lt;p&gt;I&amp;rsquo;m going to glaze over the multicast bits on our Juniper MX routers, if you&amp;rsquo;re doing multicast already, this should already be working and Juniper has well documented and well implemented multicast capabilities.&lt;/p&gt;

&lt;p&gt;On the SRX, luckily, it&amp;rsquo;s pretty similar.&lt;/p&gt;

&lt;p&gt;buraglio@srx5800&amp;gt; show configuration protocols pim&lt;/p&gt;

&lt;p&gt;rib-group inet multicast-rpf-rib;&lt;/p&gt;

&lt;p&gt;rp {&lt;/p&gt;

&lt;p&gt;static {&lt;/p&gt;

&lt;p&gt;address 10.16.0.145;&lt;/p&gt;

&lt;p&gt;}&lt;/p&gt;

&lt;p&gt;}&lt;/p&gt;

&lt;p&gt;interface xe-1/1/0.0;&lt;/p&gt;

&lt;p&gt;interface xe-2/1/0.0;&lt;/p&gt;

&lt;p&gt;interface xe-10/1/0.0;&lt;/p&gt;

&lt;p&gt;interface xe-13/1/0.0;&lt;/p&gt;

&lt;p&gt;{primary:node0}&lt;/p&gt;

&lt;p&gt;Make sure you are importing the routes into the tables by configuring your RIB groups&lt;/p&gt;

&lt;p&gt;buraglio@srx5800&amp;gt; show configuration routing-options rib-groups&lt;/p&gt;

&lt;p&gt;igp-rib {&lt;/p&gt;

&lt;p&gt;import-rib [ inet.0 inet.2 ];&lt;/p&gt;

&lt;p&gt;}&lt;/p&gt;

&lt;p&gt;multicast-rpf-rib {&lt;/p&gt;

&lt;p&gt;export-rib inet.2;&lt;/p&gt;

&lt;p&gt;import-rib inet.2;&lt;/p&gt;

&lt;p&gt;}&lt;/p&gt;

&lt;p&gt;You&amp;rsquo;ll need to make sure that there is a firewall policy to permit your multicast to actually flow. For arguments sake, I&amp;rsquo;m assuming you have an outbound policy that is less than or equal to this in terms of policy allowed.&lt;/p&gt;

&lt;p&gt;{primary:node0}&lt;/p&gt;

&lt;p&gt;buraglio@srx5800&amp;gt; show configuration security policies from-zone Untrust to-zone Trust policy Multicast-permit&lt;/p&gt;

&lt;p&gt;match {&lt;/p&gt;

&lt;p&gt;source-address any;&lt;/p&gt;

&lt;p&gt;destination-address multicast_224_0_0_0_4;&lt;/p&gt;

&lt;p&gt;application junos-udp-any;&lt;/p&gt;

&lt;p&gt;}&lt;/p&gt;

&lt;p&gt;then {&lt;/p&gt;

&lt;p&gt;permit;&lt;/p&gt;

&lt;p&gt;log {&lt;/p&gt;

&lt;p&gt;session-init;&lt;/p&gt;

&lt;p&gt;}&lt;/p&gt;

&lt;p&gt;}&lt;/p&gt;

&lt;p&gt;Thats pretty much it as far as the SRX goes (assuming I&amp;rsquo;m remembering correctly, it&amp;rsquo;s been a while since we did it and I don&amp;rsquo;t know multicast as well as I&amp;rsquo;d like). Using the &lt;a href=&#34;http://globalnoc.iu.edu/i2network/multicast-cookbook.html&#34;&gt;cookbook from Internet2&lt;/a&gt; one should be enough to get Multicast working with your SRX as long as you have your policy set to allow it.&lt;/p&gt;

&lt;p&gt;buraglio@srx5800&amp;gt; show multicast statistics&lt;/p&gt;

&lt;p&gt;&amp;hellip;snip&amp;hellip;&lt;/p&gt;

&lt;p&gt;Interface: xe-10/1/0.0&lt;/p&gt;

&lt;p&gt;Routing protocol: PIM Mismatch error: 0&lt;/p&gt;

&lt;p&gt;Mismatch: 8 Mismatch no route: 0&lt;/p&gt;

&lt;p&gt;Kernel resolve: 287 Routing notify: 0&lt;/p&gt;

&lt;p&gt;Resolve no route: 0 Resolve error: 0&lt;/p&gt;

&lt;p&gt;Resolve filtered: 0 Notify filtered: 0&lt;/p&gt;

&lt;p&gt;In kbytes: 4273 In packets: 45042&lt;/p&gt;

&lt;p&gt;Out kbytes: 18014398509409554 Out packets: 18446744073709258616&lt;/p&gt;

&lt;p&gt;Interface: xe-1/1/0.0&lt;/p&gt;

&lt;p&gt;Routing protocol: PIM Mismatch error: 0&lt;/p&gt;

&lt;p&gt;Mismatch: 11786 Mismatch no route: 3&lt;/p&gt;

&lt;p&gt;Kernel resolve: 323210 Routing notify: 0&lt;/p&gt;

&lt;p&gt;Resolve no route: 0 Resolve error: 0&lt;/p&gt;

&lt;p&gt;Resolve filtered: 0 Notify filtered: 0&lt;/p&gt;

&lt;p&gt;In kbytes: 100127811 In packets: 1164651571&lt;/p&gt;

&lt;p&gt;Out kbytes: 10827919 Out packets: 80039321&lt;/p&gt;

&lt;p&gt;&amp;hellip;snip&amp;hellip;&lt;/p&gt;

&lt;p&gt;[[ This is a content summary only. Visit my website for full links, other content, and more! ]]&lt;/p&gt;
</description>
    </item>
    
    <item>
      <title>RADIUS and AAA on IOS</title>
      <link>https://forwardingplane.net/post/radius-and-aaa-on-ios/</link>
      <pubDate>Thu, 02 Sep 2010 00:44:00 +0000</pubDate>
      
      <guid>https://forwardingplane.net/post/radius-and-aaa-on-ios/</guid>
      <description>&lt;p&gt;I&amp;rsquo;m not the greatest at AAA on Cisco&amp;rsquo;s IOS. I always have to think about how to order things, and to test fallback (which you should do anyway). One of the caveats that I always overlook, no matter how many times I set this up, is that Cisco IOS software attempts authentication with the next listed authentication method only when there is no response from the previous method. If authentication fails at any point in this cycle—meaning that the security server or local username database responds by denying the user access—the authentication process stops and no other authentication methods are attempted&lt;a href=&#34;http://www.cisco.com/en/US/docs/ios/12_2/security/configuration/guide/scfaaa.html&#34;&gt;*&lt;/a&gt;.  But, as I&amp;rsquo;ve said many, many times before, being able to look for documentation and knowing where to find information is just as valuable as having great retention.&lt;/p&gt;

&lt;p&gt;I almost always have to go and look for documentation for IOS references.    &lt;/p&gt;

&lt;p&gt;What I want, really, is for radius to be consulted for all ssh logins, no login on console (this is controlled by a console server that requires other credentials that are not network dependent and maintained separately), and in the event of a RADIUS failure, for the authentication to fall back to the enable password.  For this to work, I had to do the following:&lt;/p&gt;

&lt;p&gt;aaa new-model&lt;/p&gt;

&lt;p&gt;aaa authentication login default local group radius enable&lt;/p&gt;

&lt;p&gt;aaa authentication login console none&lt;/p&gt;

&lt;p&gt;aaa authentication enable default enable&lt;/p&gt;

&lt;p&gt;aaa authorization exec console none &lt;/p&gt;

&lt;p&gt;aaa session-id common&lt;/p&gt;

&lt;p&gt;ip radius source-interface Loopback0 &lt;/p&gt;

&lt;p&gt;radius-server host auth-port 1812 acct-port 1813 key 0&lt;/p&gt;

&lt;p&gt;radius-server source-ports 1645-1646&lt;/p&gt;

&lt;p&gt;What this does is cause the lines to use  aaa authentication login default local group radius enable for their authentication, expect for console, which uses aaa authentication login console none.&lt;/p&gt;

&lt;p&gt;The rest of the commands will allow the enable password to work, etc.  I tested and verified this as well. Adding a local user to the box also works for those that are adverse to waiting for RADIUS to timeout to enter the enable password (although I really don&amp;rsquo;t see the point).  &lt;/p&gt;

&lt;p&gt;Some other good reference material for this is available over at the &lt;a href=&#34;http://blog.ioshints.info/2007/03/configure-local-authentication-with-aaa.html&#34;&gt;IOS hints blog&lt;/a&gt;.&lt;/p&gt;

&lt;p&gt;[[ This is a content summary only. Visit my website for full links, other content, and more! ]]&lt;/p&gt;
</description>
    </item>
    
  </channel>
</rss>
