<rss version="2.0" xmlns:atom="http://www.w3.org/2005/Atom">
  <channel>
    <title>Posts on ForwardingPlane.net</title>
    <link>https://forwardingplane.net/post/</link>
    <description>Recent content in Posts on ForwardingPlane.net</description>
    <generator>Hugo -- gohugo.io</generator>
    <language>en-us</language>
    <copyright>Copyright (c) 2019, all rights reserved.</copyright>
    <lastBuildDate>Sat, 02 Nov 2019 18:11:58 +0000</lastBuildDate>
    
        <atom:link href="https://forwardingplane.net/post/index.xml" rel="self" type="application/rss+xml" />
    
    
    <item>
      <title>Packet Pushers Weekend Edition Number 1</title>
      <link>https://forwardingplane.net/post/packet-pushers-weekend-edition-no1/</link>
      <pubDate>Sat, 02 Nov 2019 18:11:58 +0000</pubDate>
      
      <guid>https://forwardingplane.net/post/packet-pushers-weekend-edition-no1/</guid>
      <description>&lt;p&gt;We all know the &lt;a href=&#34;https://www.packetpushers.net&#34;&gt;Packet Pushers&lt;/a&gt;. Recently, I had the pleasure of sitting in on the inagural &lt;a href=&#34;https://www.youtube.com/watch?v=goQ9ppGwrEo&amp;amp;t=1668s&#34;&gt;&amp;ldquo;Packet Pushers Weekend Edition&amp;rdquo;&lt;/a&gt; - an informal, video round table where we discuss fun and relevant topics in the space of networking and other related IT topics. Much discussion was had on SR-MPLS, Service providers, SD-WAN, and Cloud. I hope to participate again, as I found the experience both entertaining and informative, I hope you will too.&lt;/p&gt;

&lt;p&gt;Tune in here:&lt;/p&gt;

&lt;iframe width=&#34;560&#34; height=&#34;315&#34; src=&#34;https://www.youtube.com/embed/goQ9ppGwrEo&#34; frameborder=&#34;0&#34; allow=&#34;accelerometer; autoplay; encrypted-media; gyroscope; picture-in-picture&#34; allowfullscreen&gt;&lt;/iframe&gt;
</description>
    </item>
    
    <item>
      <title>ElastiFlow Template VM</title>
      <link>https://forwardingplane.net/post/elastiflow-template-vm/</link>
      <pubDate>Sun, 08 Sep 2019 18:11:58 +0000</pubDate>
      
      <guid>https://forwardingplane.net/post/elastiflow-template-vm/</guid>
      <description>&lt;p&gt;Flow data is a critical piece of understanding how your network works what what it is actively doing. It also provides a great baseline and capacity planning tool. However, some of the more feature rich NetFlow and/or sFlow collectors can be quite daunting in their cost and/or complexity to install. &lt;a href=&#34;https://github.com/robcowart/elastiflow&#34;&gt;ElastiFlow&lt;/a&gt; is a great alternative for flow analytics and is built on the well traveled and robust &lt;a href=&#34;https://www.elastic.co/start?ultron=[EL]-[B]-[AMER]-US+CA-Exact&amp;amp;blade=adwords-s&amp;amp;Device=c&amp;amp;thor=elastic%20stack&amp;amp;gclid=EAIaIQobChMIuKC5xefB5AIVCYnICh0wEg5lEAAYASAAEgIp_fD_BwE&#34;&gt;ElasticStack&lt;/a&gt;, meaning, its back end is well documented, well supported, and scales exceptionally well. For those that would like to play around with this but don&amp;rsquo;t want to take the time to install it (see below for the instruction set I used), I have provided a simple VM to toy around with.&lt;/p&gt;

&lt;p&gt;&lt;img src=&#34;http://www.forwardingplane.net/wp-content/uploads/2019/09/Screen-Shot-2019-09-07-at-11.00.35-PM-1024x704.png&#34; alt=&#34;&#34; /&gt;&lt;/p&gt;

&lt;p&gt;Included here is a vanilla Ubuntu 18 LTS VM with a basic &lt;a href=&#34;https://github.com/robcowart/elastiflow&#34;&gt;Elastiflow&lt;/a&gt; install. This includes all of the components of an ElasticStack plus the front end pieces of the ElastiFlow project. Most of the install is based on &lt;a href=&#34;https://www.catapultsystems.com/blogs/install-elastiflow-on-ubuntu-18-04-part-1/&#34;&gt;this&lt;/a&gt; how-to. &lt;/p&gt;

&lt;p&gt;Included in the image is also a base install of NGINX and certbot so that you can reverse proxy the access and have a valid SSL certificate. There are a plethora of guides on how to accomplish that task on the internet.&lt;/p&gt;

&lt;p&gt;This was build and validated on Proxmox 6.0.6 but should be able to run on VMWare as well with a bit of qemu-img conversion. As expected, ElastiFlow (and ElasticStack) are fairly resource hungry. 16G of Memory and a handful of CPU cores is the bare minimum to run this with any real efficiency. Additionally, Ubuntu 18 has changed how the networking is setup - it is all located in /etc/netplan/ now.   &lt;/p&gt;

&lt;p&gt;Login Information:&lt;/p&gt;

&lt;pre&gt;&lt;code&gt;User Name: root
Password: elastiflow
Privileged user: elastiflow
Password: elastiflow  

&lt;/code&gt;&lt;/pre&gt;

&lt;p&gt;Default IP addresses:&lt;/p&gt;

&lt;pre&gt;&lt;code&gt;10.255.255.5/27
2001:db8:ffff:2::5/64
&lt;/code&gt;&lt;/pre&gt;

&lt;p&gt;Download the image &lt;a href=&#34;https://drive.google.com/open?id=1ga_Pj2j6h1ce9rcT7jQjncpVjLIC4X4t&#34;&gt;here&lt;/a&gt;.&lt;/p&gt;
</description>
    </item>
    
    <item>
      <title>Basic automation for WISPs and small to medium ISPs</title>
      <link>https://forwardingplane.net/post/basic-automation-for-wisps-and-small-to-medium-isps/</link>
      <pubDate>Mon, 29 Jul 2019 09:39:35 +0000</pubDate>
      
      <guid>https://forwardingplane.net/post/basic-automation-for-wisps-and-small-to-medium-isps/</guid>
      <description>&lt;p&gt;Small to medium ISPs are an interesting phenomenon. Early in my career I was pretty heavily involved in that space, so much of my current thought processes and methodologies are heavily informed by that experience. Something that never ceases to amaze me today is that the practice of scripting and “automating” things seems to have become somewhat of a lost art, or at the very least it is not part of an initial deployment plan. As I learned to operate a network at scale and with efficiency, we used a significant amount of perl to automate repetitive tasks such as user creation for ppp profiles, provisioning DSL CPE, checking status of PRI and ATM VPCs, etc. In the many years that have passed since my introduction to ISP architecture and operation, the internet has gone from a luxury item to a required utility. In this lapsed time, specialization in networking has become far more prevalent and the generalist role has been significantly diminished. With that specialization and commoditization of IT, the prevalence of the network engineer that could write code became more and more uncommon. Then came “automation”. As we realized that the ubiquitous nature of IT systems and services was only going to increase, automation platforms and companies operating those platforms started to spring up. No longer was there a need to learn hardcore perl, python, shell programming. There were frameworks such as &lt;a href=&#34;https://cfengine.com/&#34;&gt;cfengine&lt;/a&gt;, &lt;a href=&#34;https://puppet.com/&#34;&gt;puppet&lt;/a&gt;, &lt;a href=&#34;https://www.saltstack.com/&#34;&gt;salt&lt;/a&gt;, and &lt;a href=&#34;https://www.ansible.com/&#34;&gt;ansible&lt;/a&gt; that could abstract some of that away and provide significant functionality in addition. I did extensive work with cfengine and did production deployments of salt. In addition, I was around for production deployments of puppet, but it wasn’t until I played with Ansible a few years ago that I got really interested in the automation space - but not really automation, per se. It was far more interesting to me to work on orchestrating workflows. Ansible was perfect for this due to its extreme flexibility and its ability to natively talk to network hardware. So I wrote some Ansible. Then I was informed that my ansible was poor form (which it definitely was). At that point I spent some time learning and playing. Then other things came along and I set it aside for a few years. Well, this past month my interest has ben re-ignited (mainly due to the inclusion of a &lt;a href=&#34;https://docs.ansible.com/ansible/latest/network/user_guide/platform_routeros.html&#34;&gt;mikrotik routeos ansible module&lt;/a&gt;). I spent some time with my &lt;a href=&#34;https://twitter.com/samoehlert&#34;&gt;local ansible guru&lt;/a&gt; and he taught me the best practices and from there I was off to the races. After a bit of re-education, I have compiled a few very simple ansible roles and playbooks focused mostly on the WISP world (because I have a lot of this type of gear in my lab), but I fully expect to expand on them greatly as they are all part of a larger bunch of orchestration parts that I have been writing at night and in my free time. Until then, please feel free to use, modify, or provide patches / input for what I have published thus far. &lt;img src=&#34;https://www.forwardingplane.net/wp-content/uploads/2019/07/transparent-ansible-logo.png&#34; alt=&#34;Transparent ansible logo&#34; title=&#34;transparent-ansible-logo.png&#34; /&gt; &lt;a href=&#34;https://github.com/buraglio/mikrotik-armor&#34;&gt;mikrotik-armor&lt;/a&gt; Simple Ansible role and playbook to harden a Mikrotik RouterOS device &lt;a href=&#34;https://github.com/buraglio/upgrade-mikrotik-routeros&#34;&gt;upgrade-mikrotik-routeros&lt;/a&gt; Simple Ansible playbook and role for setting a software channel and upgrading RouterOS on mikrotik devices &lt;a href=&#34;https://github.com/buraglio/ubnt-airos-tshaper&#34;&gt;ubnt-airos-tshaper&lt;/a&gt; Ansible playbooks to enable and configure the traffic shaper on Ubiquity AirOS CPE&lt;/p&gt;
</description>
    </item>
    
    <item>
      <title>The BGP conundrum</title>
      <link>https://forwardingplane.net/post/the-bgp-conundrum/</link>
      <pubDate>Sun, 30 Jun 2019 02:15:32 +0000</pubDate>
      
      <guid>https://forwardingplane.net/post/the-bgp-conundrum/</guid>
      <description>&lt;p&gt;BGP. It’s that magical protocol that runs the internet. For for as much as BGP is a fundamental, critical, irreplaceable part of the core functioning of the internet, it is a protocol that has not aged well as far as security is concerned. See, BGP was born when the internet was really still an academic experiment. Handshakes and loose agreements were totally fine for connecting a new site. &lt;/p&gt;

&lt;p&gt;Then came the awakening. &lt;img src=&#34;https://www.forwardingplane.net/wp-content/uploads/2019/06/Awakening.jpg&#34; alt=&#34;Awakening&#34; title=&#34;Awakening.jpg&#34; /&gt;&lt;/p&gt;

&lt;p&gt;Once the internet was used for more critical things, security was obviously more important. But BGP did not really evolve at the same rate - and more importantly, the security model surrounding it was mostly left behind. The reasons aren&amp;rsquo;t really important, but the fallout absolutely is. Retrofitting security into an externally exposed protocol is demonstrably difficult. It has been &lt;a href=&#34;https://tools.ietf.org/html/rfc8205&#34;&gt;tried&lt;/a&gt; and &lt;a href=&#34;https://tools.ietf.org/html/rfc6810&#34;&gt;tried&lt;/a&gt; and &lt;a href=&#34;https://tools.ietf.org/id/draft-sa-grow-maxprefix-00.html&#34;&gt;tried&lt;/a&gt; and &lt;a href=&#34;https://www.radb.net/&#34;&gt;tried&lt;/a&gt;. The real limit in this space exists because of the nature of the protocol itself - it is external in nature, thereby requiring coordination between multiple parties. The mechanics of this are two fold: personal interaction to agree on the peering, and technical compliance for the protocol to adhere to the agreed upon policy.&lt;/p&gt;

&lt;p&gt;Technical limitations imposed by vendors and hardware limits have plagued this space for decades. However, the real problem, as with most things technical, is actually the people. A reluctance to agree on methodology, a refusal to spend the time to work out the procedures, an inability or lack of resources for understanding the steps necessary, an unwillingness (intentional or unintentional) to help the community further the progress. None of this really matters other than knowing where we can improve. So, to that end, I humbly recommend that all BGP operators read and implement best practices. Much of this is spelled out clearly in the &lt;a href=&#34;https://www.manrs.org/isps/&#34;&gt;MANRS project&lt;/a&gt;, and it should be used as a shining example of community based action that can produce actual demonstrable results. If you’re interested in tools for troubleshooting BGP or better understanding the scope and scale of the DFZ (Default Free Zone), check out a past post I did on &lt;a href=&#34;https://www.forwardingplane.net/2014/03/bgp-tools-troubleshooting-and-monitoring-external-routing-in-a-nutshell/&#34;&gt;BGP tools,&lt;/a&gt; &lt;a href=&#34;https://www.forwardingplane.net/2016/05/bgp-rpki-why-arent-we-using-it/&#34;&gt;RPKI&lt;/a&gt;, and &lt;a href=&#34;https://www.forwardingplane.net/2018/02/strategy-series-view-outside-network/&#34;&gt;visibility outside of your network.&lt;/a&gt; &lt;/p&gt;

&lt;p&gt;As a follow on to the last global BGP blunder, &lt;a href=&#34;https://twitter.com/bcjordo?lang=en&#34;&gt;Jordan Martin&lt;/a&gt; and I talk about the how and the what of the event in this quick &lt;a href=&#34;https://thenetworkcollective.com/2019/06/bgp-blunder/&#34;&gt;Network Collective short take&lt;/a&gt;.&lt;/p&gt;
</description>
    </item>
    
    <item>
      <title>Building a dynamic security infrastructure [in a box - with SDN]</title>
      <link>https://forwardingplane.net/post/building-a-dynamic-security-infrastructure-in-a-box-with-sdn/</link>
      <pubDate>Wed, 29 May 2019 18:17:13 +0000</pubDate>
      
      <guid>https://forwardingplane.net/post/building-a-dynamic-security-infrastructure-in-a-box-with-sdn/</guid>
      <description>&lt;p&gt;Years ago I wrote about building a &lt;a href=&#34;https://www.forwardingplane.net/2013/07/building-a-secured-network-in-a-box/&#34;&gt;secure network in a box&lt;/a&gt;. Over a weekend I decided to revisit this concept thanks to a colleague at work wanting to do something similar. It got me thinking “a lot has changed since I last did this” and it felt like time to revisit it. Well, disappointment wasn’t in the cards because it’s easier, smarter, and more flexible now that it was back then. As I noted back in 2013 when I wrote that last post, OVS was a lot less well traveled and, frankly, there was not a reasonable controller that I could use in production for OpenFlow integration. I’ve since standardized on &lt;a href=&#34;https://www.proxmox.com/en/&#34;&gt;ProxMox&lt;/a&gt; for my lab and production virtualization and have espoused on every available occasion the usefulness of the &lt;a href=&#34;https://www.faucet.nz&#34;&gt;Faucet SDN controller&lt;/a&gt;. Both play fundamental roles in this project. This is significantly easier than I expected - primarily due to the use of faucet for controlling the OVS switch. It’s fairly straightforward, so I won’t go into the step by step details here since the projects have good install and support docs. Proxmox has support for OVS, so just install it using apt and create an OVS switch in the GUI interface. Faucet has &lt;a href=&#34;https://docs.faucet.nz/en/latest/&#34;&gt;amazingly complete documentation&lt;/a&gt; and even a &lt;a href=&#34;https://docs.faucet.nz/en/latest/installation.html#installing-on-raspberry-pi&#34;&gt;raspberry pi image&lt;/a&gt; (if you’re still thinking “OpenFlow is dead, isn’t it?”, have a listen to &lt;a href=&#34;https://blog.ipspace.net/2019/04/using-faucet-to-build-sc18-network-with.html&#34;&gt;this podcast&lt;/a&gt; I did with Ivan Pepelnjak). From there, install a &lt;a href=&#34;https://securityonion.net/&#34;&gt;security option VM&lt;/a&gt; (or any other tool you want to capture data with). Once you have the OVS switch, the controller, and the VM up and running getting data to it is as simple as issuing the comments to configure a controller. I my case the command was:```
sudo ovs-vsctl set-controller vmbr4 tcp:10.16.9.12:6653 tcp:10.16.9.12:6654&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre style=&#34;color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4&#34;&gt;&lt;code class=&#34;language-In my lab design the architecture was as such ![Faucet OVS Proxmox Security](https://www.forwardingplane.net/wp-content/uploads/2019/05/Faucet-OVS-Proxmox-Security.jpg &#34;Faucet OVS Proxmox Security.jpg&#34;) The two switches on the right are physical and span all uplink data via two physical ports into my proxmox host. Everything else is done virtually in OVS. Once you have the controller setup, the data coming in, and the host listening, you can validate you have the correct controller, interfaces and ports in ovs.```&#34; data-lang=&#34;In my lab design the architecture was as such ![Faucet OVS Proxmox Security](https://www.forwardingplane.net/wp-content/uploads/2019/05/Faucet-OVS-Proxmox-Security.jpg &#34;Faucet OVS Proxmox Security.jpg&#34;) The two switches on the right are physical and span all uplink data via two physical ports into my proxmox host. Everything else is done virtually in OVS. Once you have the controller setup, the data coming in, and the host listening, you can validate you have the correct controller, interfaces and ports in ovs.```&#34;&gt;root@pve1:~# ovs-vsctl show
75b4bc7f-4e00-45c2-8919-b043cbaf509d
Bridge &amp;#34;vmbr4&amp;#34;
Controller &amp;#34;tcp:10.16.9.12:6654&amp;#34;
Controller &amp;#34;tcp:10.16.9.12:6653&amp;#34;
is\_connected: true
Port &amp;#34;enx00051ba65ece&amp;#34;
Interface &amp;#34;enx00051ba65ece&amp;#34;
Port &amp;#34;tap115i1&amp;#34;
Interface &amp;#34;tap115i1&amp;#34;
Port &amp;#34;vmbr4&amp;#34;
Interface &amp;#34;vmbr4&amp;#34;
type: internal
Port &amp;#34;eno2&amp;#34;
Interface &amp;#34;eno2&amp;#34;
ovs\_version: “2.7.0&amp;#34;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;Listing interfaces in OVS can be a helpful way to aid in building the faucet configuration```
root@pve1:~# ovs-vsctl &amp;ndash;columns=ofport,name list interface
ofport : 65534
name : &amp;ldquo;vmbr4&amp;rdquo;&lt;/p&gt;

&lt;p&gt;ofport              : 1
name : &amp;ldquo;eno2&amp;rdquo;&lt;/p&gt;

&lt;p&gt;ofport              : 4
name : &amp;ldquo;tap115i1&amp;rdquo;&lt;/p&gt;

&lt;p&gt;ofport              : 2
name : &amp;ldquo;enx00051ba65ece&amp;rdquo;&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre style=&#34;color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4&#34;&gt;&lt;code class=&#34;language-For spanning the data into the VM, the basic configuration within faucet looks like this and should reside in /etc/faucet/faucet.yaml. The real meat here is the mirror statement on port 4.```&#34; data-lang=&#34;For spanning the data into the VM, the basic configuration within faucet looks like this and should reside in /etc/faucet/faucet.yaml. The real meat here is the mirror statement on port 4.```&#34;&gt;dps:
    proxovs1:
        dp\_id: 0x51ba65ece
        hardware: &amp;#34;Open vSwitch&amp;#34;
        interfaces:
            65534:
                name: &amp;#34;vmbr4&amp;#34;
                description: &amp;#34;ProxMox OVS vmbr4&amp;#34;
                native\_vlan: servernet
            1:
                name: &amp;#34;eno2&amp;#34;
                description: &amp;#34;Span from sw1&amp;#34;
                native\_vlan: servernet
            2:
                name: &amp;#34;enx00051ba65ece&amp;#34;
                description: &amp;#34;Span from sw2&amp;#34;
                native\_vlan: servernet
            4:
                name: &amp;#34;tap115i1&amp;#34;
                description: &amp;#34;ProxMox OVS vmbr4&amp;#34;
                output\_only: True
                mirror: \[1,2\]&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;This can be fairly easily adjusted to mirror all internal, east-west traffic in a virtualization farm.&lt;/p&gt;
</description>
    </item>
    
    <item>
      <title>Renaming interfaces under linux</title>
      <link>https://forwardingplane.net/post/renaming-interfaces-under-linux/</link>
      <pubDate>Tue, 28 May 2019 13:23:50 +0000</pubDate>
      
      <guid>https://forwardingplane.net/post/renaming-interfaces-under-linux/</guid>
      <description>&lt;p&gt;There are many of us that learned Linux in the very early days, and with that history comes habits. One habit I have is to look for spec interface names. In particular, I prefer to have my interfaces named eth* (with some notables exceptions here). Modern linux systems seem to have adopted the BSD methodology of naming the interfaces based on what it is - and while I did do a fair amount of work in BSD, I still prefer the eth naming scheme. &lt;a href=&#34;https://www.zerotier.com/&#34;&gt;ZeroTier&lt;/a&gt; has the inconsistency of using zt* on some platforms and ztublkahlah on others. I am sure there is a reason, but I prefer consistency. Here are two ways to rename the interfaces. This is on a Debuntu system. Temporarily rename an interface:```
ifconfig ztukuxzo4f down
ip link set ztukuxzo4f name zt0
ifconfig zt0 up&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre style=&#34;color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4&#34;&gt;&lt;code class=&#34;language-Rename an interface persistently:```&#34; data-lang=&#34;Rename an interface persistently:```&#34;&gt;vi /etc/udev/rules.d/70-persistent-net.rules&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;Append:&lt;code&gt;
SUBSYSTEM==&amp;quot;net&amp;quot;, ACTION==&amp;quot;add&amp;quot;, ATTR{address}==&amp;quot;96:3c:ee:c0:ff:ee&amp;quot;, NAME=&amp;quot;zt0&amp;quot;
&lt;/code&gt;Reboot.&lt;/p&gt;
</description>
    </item>
    
    <item>
      <title>Rant: toolexplodeaphobia</title>
      <link>https://forwardingplane.net/post/1672/</link>
      <pubDate>Fri, 03 May 2019 13:58:55 +0000</pubDate>
      
      <guid>https://forwardingplane.net/post/1672/</guid>
      <description>&lt;p&gt;It’s kinda like having RouteExplorer and Arbor Peakflow. They have a decent overlap but *just* enough difference to want both&lt;/p&gt;
</description>
    </item>
    
    <item>
      <title>The value of measurements: Network Latency</title>
      <link>https://forwardingplane.net/post/the-value-of-measurements-network-latency/</link>
      <pubDate>Mon, 29 Apr 2019 10:23:32 +0000</pubDate>
      
      <guid>https://forwardingplane.net/post/the-value-of-measurements-network-latency/</guid>
      <description>&lt;p&gt;There is no shortage of network telemetry data that can be collected, recorded, graphed, and stored for cross reference and triage. Not one to be underestimated, latency at a can be incredibly powerful when leveraged for baseline and deviation notification. As I have &lt;a href=&#34;https://www.forwardingplane.net/2018/02/strategy-series-view-outside-network/&#34;&gt;eluded to in the past,&lt;/a&gt; there are many tools in this space. &lt;a href=&#34;https://netbeez.net/blog/how-to-leverage-latency-testing-and-long-term-trend-collection/&#34;&gt;I have written about a few of them in detail&lt;/a&gt; and touched on others in passing. Regardless of the tool, the data is powerful and the instrumentation they provide will only serve to make your network more robust and easier to work on. One tool that is particularly easy to set up and utilize is &lt;a href=&#34;https://oss.oetiker.ch/smokeping/&#34;&gt;smokeping&lt;/a&gt;. From the authors site: &lt;em&gt;SmokePing keeps track of your network latency:&lt;/em&gt;&lt;/p&gt;

&lt;ul&gt;
&lt;li&gt;&lt;em&gt;Best of breed latency visualisation.&lt;/em&gt;&lt;/li&gt;
&lt;li&gt;&lt;em&gt;Interactive graph explorer.&lt;/em&gt;&lt;/li&gt;
&lt;li&gt;&lt;em&gt;Wide range of latency measurement plugins.&lt;/em&gt;&lt;/li&gt;
&lt;li&gt;&lt;em&gt;Master/Slave System for distributed measurement.&lt;/em&gt;&lt;/li&gt;
&lt;li&gt;&lt;em&gt;Highly configurable alerting system.&lt;/em&gt;&lt;/li&gt;
&lt;li&gt;&lt;em&gt;Live Latency Charts with the most &amp;lsquo;interesting&amp;rsquo; graphs.&lt;/em&gt;&lt;/li&gt;
&lt;li&gt;&lt;em&gt;Free and OpenSource Software written in Perl written by Tobi Oetiker, the creator of MRTG and RRDtool &lt;/em&gt;&lt;/li&gt;
&lt;/ul&gt;

&lt;p&gt;&lt;img src=&#34;https://www.forwardingplane.net/wp-content/uploads/2019/04/download_Comcast_Chicago_last_864000.png&#34; alt=&#34;Download Comcast Chicago last 864000&#34; title=&#34;download_Comcast_Chicago_last_864000.png&#34; /&gt; &lt;em&gt;Comcast SpeedTest.net graph for home network&lt;/em&gt; Now, you may be asking _“why do I need to track latency?_”, well, the data is incredibly powerful and can be indicators of anything from a failing optic to a network compromise. This is especially useful in small to medium sized ISPs (and especially WISPs), where cost of software and operational overhead is at a premium, and customer satisfaction is the currency that is dealt. In fact, I was able to use smokeqping to help diagnose a functional denial of service of a commonly deployed cable CPE as detailed &lt;a href=&#34;https://forums.businesshelp.comcast.com/t5/IPV6/Reproducible-denial-of-service-of-Netgear-CPE-running-native/m-p/31597#M787&#34;&gt;here&lt;/a&gt;. &lt;strong&gt;I can’t emphasize enough how useful long term trend data is.&lt;/strong&gt; Smokeping can be used to monitor more than just ping RTT, it supports a myriad of plugins allowing for application latency of protocols such as DNS queries, http get, ssh daemon response, speed test results, the list of plugins - or as smokeping calls them, probes - goes on and can be found &lt;a href=&#34;https://oss.oetiker.ch/smokeping/probe/index.en.html&#34;&gt;here&lt;/a&gt;. Where this is particularly useful is in simulating customer experience.  As with most things in life, perspective is paramount. To address this, smokeping can also be deployed as a distributed model. Deploying it with installations more local to a customer or in a far flung site, say on a raspberry pi, located in remote POP sides or pedestal locations will provide a closer perspective to what the customer actually sees. In the past I have deployed remote raspberry pi devices in an actual FTTH pedestal connected to an ONT to provide the exact customer point of view and it provided a wealth of information I would not otherwise be able to see. There are a myriad of different instal guides for Smokeping, my recommended starting point is by &lt;a href=&#34;https://github.com/magicdude4eva&#34;&gt;Gerd Naschenweng&lt;/a&gt; and can be found &lt;a href=&#34;https://github.com/magicdude4eva/docker-smokeping&#34;&gt;here&lt;/a&gt;. It provides a docker instance but also has a very good set of configuration files to build examples from. Don’t discount latency data - it’s a powerful set of information for any working network. For anyone interested in seeing a working smokeping installation, mine is public and available to view. It provides a few things such as DNS latency, RTT for v4 and v6, RTT for ZeroTier hosts and RIPE ATLAS probes, etc. It’s a powerful toolkit. My public cloud instance is hosted at &lt;a href=&#34;http://www.prgmr.com&#34;&gt;prgmr.com&lt;/a&gt; and can be found &lt;a href=&#34;https://watcher.forwardingplane.net/smokeping/smokeping.cgi&#34;&gt;here&lt;/a&gt;.&lt;/p&gt;
</description>
    </item>
    
    <item>
      <title>Soap Box: Mikrotik &#34;IPv6 Apocalypse&#34;, or maybe not.</title>
      <link>https://forwardingplane.net/post/soap-box-mikrotik-ipv6-apocalypse-or-maybe-not/</link>
      <pubDate>Sun, 31 Mar 2019 17:35:10 +0000</pubDate>
      
      <guid>https://forwardingplane.net/post/soap-box-mikrotik-ipv6-apocalypse-or-maybe-not/</guid>
      <description>

&lt;p&gt;Over the last few days there has been a &lt;em&gt;&lt;strong&gt;huge&lt;/strong&gt;&lt;/em&gt; amount of FUD and panic surrounding two as-yet-to-be-published CVEs (found &lt;a href=&#34;https://cve.mitre.org/cgi-bin/cvename.cgi?name=CVE-2018-19298&#34;&gt;here&lt;/a&gt; and &lt;a href=&#34;https://cve.mitre.org/cgi-bin/cvename.cgi?name=CVE-2018-19299&#34;&gt;here&lt;/a&gt;) related to Mikrotik&amp;rsquo;s IPv6 implementation.It is my opinion that this entire process has been poorly handled, and that the community involved tends to be fairly sensitive to issues such as, and the cloak and dagger nature of the two issues has only exacerbated it. Mikrotik, as a company, is well known for being terse in their responses and tight lipped with their internal workings and dealings with these kinds of issues. I take that as a given, that’s their business and realistically we’re entitled to know exactly none of that information, even if it would be nice to have it. The history behind this is discouraging, the original discovery was quite some time ago with reports dating back to 2013, and the person who originally uncovered the issues did so upwards of a year ago, bringing them to Mikrotik at that time, as can be seen in this &lt;a href=&#34;https://forum.mikrotik.com/viewtopic.php?f=2&amp;amp;t=125841&amp;amp;p=654116&amp;amp;hilit=ndpexhaust26#p654116&#34;&gt;thread&lt;/a&gt;. Now, anyone with a passing knowledge of pen testing or IPv6 device load testing can trivially put together the information needed to decipher the problem and replicate it, neither are exactly complicated or &lt;a href=&#34;https://insinuator.net/2013/03/ipv6-neighbor-cache-exhaustion-attacks-risk-assessment-mitigation-strategies-part-1/&#34;&gt;new&lt;/a&gt;. Both can be done in literally one line of &lt;a href=&#34;https://tools.kali.org/information-gathering/thc-ipv6&#34;&gt;common, open source toolkits.&lt;/a&gt; The issues are not magical and are not even esoteric or cryptic. They are very straightforward, and by reading the threads and understanding how things like route caches and &lt;a href=&#34;https://en.wikipedia.org/wiki/Neighbor_Discovery_Protocol&#34;&gt;neighbor discovery&lt;/a&gt; work, they become very clear. Since this is IPv6 related I am very interested in it because I feel that WISPs and emerging markets are an excellent environment for moving IPv6 forward, and the equipment and mindset involved makes that fairly straightforward. Reverse engineering these given the information available is pretty straightforward, and &lt;a href=&#34;https://www.iparchitechs.com/&#34;&gt;folks other than me have done it&lt;/a&gt; too. I personally do not consider either of these a security vulnerability or a bug, per se. They’re both the result of a short sighted protocol implementation resulting in a very acute, unfortunate event. With the benefit of hindsight, and as an outsider, I can only wonder if this had been handled differently (i.e. not framed as a critical security vulnerability but rather a broken protocol), if the hysteria that resulted could have been quelled. On a &lt;a href=&#34;https://forum.mikrotik.com/viewtopic.php?f=2&amp;amp;t=147048&amp;amp;start=50&#34;&gt;particular forum thread,&lt;/a&gt; this was likened to the discovery of the “ping of death”, and that feels like a good analogy to me.  It probably should have been handled that way. So, I will post my .02 as to how this kind of even can be handled in the future, in case there is no better process to work with: 1. Involve the vendor early. 2. Involve a trusted third party to validate the result. It’s very easy to miss trees when you’re stuck in a forest. 3rd party validation is pretty important either way as it proves a problem can be repeated independently. 3. Disclose the environment hardware, in detail, that was used to test and confirm the the issue in. 4. Have both validated it with said trusted, embargoed outside source(s). Again, ideally one is the vendor. 5. If unable to define and at least indicate that there is a remediation, leverage outside trusted source to &lt;strong&gt;make sure that’s not possible&lt;/strong&gt;. In this case, that seems to be kept between the person who discovered it and the vendor, which as discussed above has a track record of being pretty closed off. For this particular issue and platform, one can monitor the IPv6 route-cacheing near real-time, here is the command to do it at 1 second intervals```
[buraglio@gw] &amp;gt; /ipv6 route cache print interval=1
cache-size: 190max-cache-size: 1024000&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre style=&#34;color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4&#34;&gt;&lt;code class=&#34;language-The ND issue can be mitigated with the following command (obviously adjusted for your own environment).```&#34; data-lang=&#34;The ND issue can be mitigated with the following command (obviously adjusted for your own environment).```&#34;&gt;/ipv6 firewall filter
add action=drop chain=forward connection-mark=drop connection-state=new
/ipv6 firewall mangle
add action=accept chain=prerouting connection-state=new dst-address=\\
2001:db8:3::/64 limit=2,5:packet
add action=mark-connection chain=prerouting connection-state=new dst-address=\\
2001:db8:3::/64 new-connection-mark=drop passthrough=yes&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;And for those more interested in the actual process, here is a video demonstrating the basic route-cache issue (commands, although very easy to figure out are obfuscated)&lt;/p&gt;

&lt;p&gt;Mikrotik has released a fix as of this morning (4/1/2019), although it is currently beta. ROS 6.45 addresses both the route cache and the neighbor table issue. More details on the discovery will be &lt;a href=&#34;https://indico.uknof.org.uk/event/46/contributions/speakers&#34;&gt;disclosed at the UKNOF conference&lt;/a&gt;.&lt;/p&gt;

&lt;h4 id=&#34;my-take&#34;&gt;My take:&lt;/h4&gt;

&lt;p&gt;A problem like this that is as egregious as described needs to be independently validated and ideally a remediation found before disclosure. If a mitigation strategy does not exist, the $vendor takes responsibility by default and realistically, nothing can be done until they fix it. It may also be disclosed as a zero-day-style, weaponized tactic. Obviously that is the worst case. The real point is that we’re a community, and we need to build the trust frameworks to work together on issues such as this without pointing fingers or running around with our hands waving. This behavior is, sadly, pretty easy to re-create. There is an old thread that implies some of this was triggered by &amp;ldquo;real traffic&amp;rdquo;, and I have definitely seen an uptick in ipv6 scanning that impacts major vendor router platforms to the point that they get salty about traffic flows and spike CPUs. This feels pretty darned similar, but not the catastrophic event horizon it&amp;rsquo;s being played out to be. It&amp;rsquo;s still bad, it stinks, and it&amp;rsquo;s definitely been handled in a way that is less than optimal. I would also like to point out a few things since there has been a fair amount of hair on fire panic. I realize I am being a tad pedantic, but it&amp;rsquo;s important to identify things correctly in order to handle them in the correct manner. This is not a security vulnerability as I would describe it. There is no remote or local execution of code, no raised privileges, no mechanism of compromise. I don&amp;rsquo;t think this is a software bug, either. It&amp;rsquo;s close, but in reality what this is is a poorly implemented protocol that had what I can only believe was a poverty of testing before release and as such allows for a remotely triggered denial of service. Denial of service isn&amp;rsquo;t necessarily malicious, it just means exactly what it says: service is denied. As mentioned earlier in the thread, this is like the old ping of death issue: a poorly executed stack. I&amp;rsquo;d like to know who has executed this in the wild and how far back this goes in their code train, references go back as far as 2013, but I suspect they go back to the original support.&lt;/p&gt;

&lt;h4 id=&#34;update&#34;&gt;-&amp;mdash; UPDATE&lt;/h4&gt;

&lt;p&gt;Mikrotik has addressed this issue with the release of ROS 6.44.2. The prior methodologies no longer exhaust resources and reload devices, as can be seen here&lt;/p&gt;
</description>
    </item>
    
    <item>
      <title>ISC dhcp and dhcpv6 relay</title>
      <link>https://forwardingplane.net/post/dhcp-and-dhcpv6-relay/</link>
      <pubDate>Sat, 16 Mar 2019 16:00:52 +0000</pubDate>
      
      <guid>https://forwardingplane.net/post/dhcp-and-dhcpv6-relay/</guid>
      <description>&lt;p&gt;When deploying dual stack, dhcpv6 is a crucial piece of the puzzle.  I personally prefer to run the dhcp process on a linux system and relay it for both v4 and v6. &lt;/p&gt;

&lt;p&gt;Assuming you are installing isc-dhcpd, the following configurations can be used to delegate host addresses for both IPv4 and IPv6&lt;/p&gt;

&lt;pre&gt;&lt;code&gt;#  
\# Sample configuration file for ISC dhcpd for Debian / Ubuntu  
\# Examples provided without support by buraglio@forwardingplane.net  
\# Use at your own risk  
\# https://www.forwardingplane.net  
#  
\# Attention: If /etc/ltsp/dhcpd.conf exists, that will be used as  
\# configuration file instead of this file.  
#  
#  
  
\# The ddns-updates-style parameter controls whether or not the server will  
\# attempt to do a DNS update when a lease is confirmed. We default to the  
\# behavior of the version 2 packages (&#39;none&#39;, since DHCP v2 didn&#39;t  
\# have support for DDNS.)  
ddns-update-style none;  
  
  
default-lease-time 259200;  
max-lease-time 345600;  
  
\# If this DHCP server is the official DHCP server for the local  
\# network, the authoritative directive should be uncommented.  
authoritative;  
  
\# Use this to send dhcp log messages to a different log file (you also  
\# have to hack syslog.conf to complete the redirection).  
log-facility local7;  
  
\# No service will be given on this subnet, but declaring it helps the   
\# DHCP server to understand the network topology. Errors will occur if not set,   
\# but functionality will remain intact  
  
#subnet 10.152.187.0 netmask 255.255.255.0 {  
#}  
  
\# Primary LAN Scope  
  
subnet 10.254.209.0 netmask 255.255.255.192 {  
range 10.254.209.30 10.254.209.57;  
option routers 10.254.209.1;  
#option domain-name-servers resolver.anycast.my-isp.net, resolver2.dc1.my-isp.net;  
option domain-name-servers resolver.anycast.my-isp.net;  
#option domain-name-servers 10.254.209.14;  
option domain-name &amp;quot;dhcp.my-isp.net&amp;quot;;  
}  
  
\# LAN scope 1  
subnet 10.254.3.0 netmask 255.255.255.224 {  
range 10.254.3.10 10.254.3.25;  
option routers 10.254.3.1;  
option domain-name-servers resolver.anycast.my-isp.net;  
option domain-name &amp;quot;dhcp.my-isp.net&amp;quot;;  
}  
  
\# POP scope 1  
subnet 10.254.5.0 netmask 255.255.255.224 {  
range 10.254.5.10 10.254.5.25;  
option routers 10.254.5.1;  
option domain-name-servers resolver.anycast.my-isp.net;  
option domain-name &amp;quot;dhcp.my-isp.net&amp;quot;;  
}  
  
\# POP Scope 2  
subnet 10.254.6.0 netmask 255.255.255.224 {  
range 10.254.6.5 10.254.6.27;  
option routers 10.254.6.1;  
option domain-name-servers resolver.anycast.my-isp.net;  
option domain-name &amp;quot;dhcp.my-isp.net&amp;quot;;  
}  
  
\# POP Scope 3  
subnet 10.254.7.0 netmask 255.255.255.224 {  
range 10.254.7.10 10.254.7.25;  
option routers 10.254.7.1;  
#option domain-name-servers resolver1.opendns.com, resolver1.ipv6-sandbox.opendns.com;  
option domain-name-servers resolver.anycast.my-isp.net;  
option domain-name &amp;quot;dhcp.my-isp.net&amp;quot;;  
}  
  
\# POP Scope 4  
subnet 10.254.4.0 netmask 255.255.255.224 {  
range 10.254.4.10 10.254.4.25;  
option routers 10.254.4.1;  
option domain-name-servers resolver.anycast.my-isp.net;  
option domain-name &amp;quot;dhcp.my-isp.net&amp;quot;;  
}  
  
\# POP Scope 5  
subnet 10.254.8.0 netmask 255.255.255.224 {  
range 10.254.8.3 10.254.8.30;  
option routers 10.254.8.1;  
option domain-name-servers resolver.anycast.my-isp.net;  
option domain-name &amp;quot;dhcp.my-isp.net&amp;quot;;  
}  
  
\# POP Scope 6  
subnet 10.254.9.0 netmask 255.255.255.224 {  
range 10.254.9.10 10.254.9.25;  
option routers 10.254.9.1;  
option domain-name-servers resolver.anycast.my-isp.net;  
option domain-name &amp;quot;dhcp.my-isp.net&amp;quot;;  
}  
  
\# Static IPv4 addresses  
  
host business-customer1 {  
hardware ethernet ff:ff:ff:f3:3d:9f;  
fixed-address 10.254.4.9;  
}  
  
host business-customer2 {  
hardware ethernet ff:ff:ff:f3:3d:90;  
fixed-address 10.254.4.11;  
}  
  
host business-customer3 {  
hardware ethernet ff:ff:ff:f3:3d:9a;  
fixed-address 10.254.209.5;  
}  
  
host wap1 {  
hardware ethernet ff:ff:ff:40:d6:b0;  
fixed-address 10.254.209.4;  
}  
  
host wap2 {  
hardware ethernet ff:ff:ff:46:76:DC;  
fixed-address 10.254.209.7;  
}  
  
host wap3 {  
hardware ethernet ff:ff:ff:1d:d1:6a;  
fixed-address 10.254.209.3;  
}  
  
  

&lt;/code&gt;&lt;/pre&gt;

&lt;p&gt;For IPv6, this configuration will provide host addresses to any devices requesting them&lt;/p&gt;

&lt;pre&gt;&lt;code&gt;  
#  
\# Sample configuration file for ISC dhcpd for Debian / Ubuntu  
\# Examples provided without support by buraglio@forwardingplane.net  
\# Use at your own risk  
\# https://www.forwardingplane.net  
#  
  
default-lease-time 600;  
max-lease-time 7200;   
log-facility local7;   
authoritative;  
  
  
\# Primary LAN IPv6 Scope  
  
option dhcp6.name-servers 2001:db8:f00d::e9::a;  
option dhcp6.domain-search &amp;quot;dhcp.my-isp.net&amp;quot;;  
  
option dhcp6.info-refresh-time 21600;  
  
\# The subnet where the server is attached  
subnet6 2001:db8:f00d::e9::/64 {  
range6 2001:db8:f00d::e9:d::2 2001:db8:f00d::e9:d::ffff;  
}  
  
\# Other Nets  
  
\# Primary LAN Scope  
option dhcp6.name-servers 2001:db8:f00d::e9::a;  
option dhcp6.domain-search &amp;quot;dhcp.my-isp.net&amp;quot;;  
option dhcp6.info-refresh-time 21600;  
  
subnet6 2001:db8:f00d::e0::/64 {  
range6 2001:db8:f00d::e0:d::2 2001:db8:f00d::e0:d::ffff;  
}  
  
\# Pop scope 4  
option dhcp6.name-servers 2001:db8:f00d::e9::a;  
option dhcp6.domain-search &amp;quot;dhcp.my-isp.net&amp;quot;;  
option dhcp6.info-refresh-time 21600;  
  
subnet6 2001:db8:f00d::e4::/64 {  
range6 2001:db8:f00d::e4:d::2 2001:db8:f00d::e4:d::ffff;  
}  
  
\# Pop Scope 5  
  
option dhcp6.name-servers 2001:db8:f00d::e9::a;  
option dhcp6.domain-search &amp;quot;dhcp.my-isp.net&amp;quot;;  
option dhcp6.info-refresh-time 21600;  
subnet6 2001:db8:f00d::e8::/64 {  
range6 2001:db8:f00d::e8:d::2 2001:db8:f00d::e8:d::ffff;  
}  
  
\# Pop Scope 2  
option dhcp6.name-servers 2001:db8:f00d::e9::a;  
option dhcp6.domain-search &amp;quot;dhcp.my-isp.net&amp;quot;;  
option dhcp6.info-refresh-time 21600;  
subnet6 2001:db8:f00d::e6::/64 {  
range6 2001:db8:f00d::e6:d::2 2001:db8:f00d::e6:d::ffff;  
}  
  
\# Pop scope 3  
option dhcp6.name-servers 2001:db8:f00d::e9::a;  
option dhcp6.domain-search &amp;quot;dhcp.my-isp.net&amp;quot;;  
option dhcp6.info-refresh-time 21600;  
subnet6 2001:db8:f00d::e7::/64 {  
range6 2001:db8:f00d::e7:d::2 2001:db8:f00d::e7:d::ffff;  
}  
  
\# Fixed host section  
  
\# this needs fixed  
#host host1 {  
\# #host-identifier option dhcp6.client-id &amp;quot;\\000\\000\\000\\000\\000\\001\\000\\001 ;\\232\\351h\[5\\204\\270\\024&amp;quot;;  
\# host-identifier option dhcp6.client-id &amp;quot;00010001 203b9ae9 685b3584 b814&amp;quot;;  
\# fixed-address6 2001:db8:f00d::e0:0:d::9;  
\# }  
  
#}
&lt;/code&gt;&lt;/pre&gt;

&lt;p&gt;# For most ISPs, you&amp;rsquo;ll want to delegate prefixes. ARIN recommends a /48 but in most cases the de facto standard is a /59 or /56. These are significantly more sane # # prefixes. A single /64 is not sufficient, and basic IPv6 connectivity should *never* be a revenue generating option.&lt;/p&gt;

&lt;pre&gt;&lt;code&gt;\# dhcpv6-pd - this needs to match the ipv6 scope of the interface, given here as a poor example that needs adjusted  
\# delegate /56&#39;s from this /40 block (65K /56&#39;s, a /56 is 256 /64&#39;s)  
prefix6 2001:db8:f00d::  2001:db8:ff00:: /56;  
}
&lt;/code&gt;&lt;/pre&gt;

&lt;p&gt;This linux configuration can be leveraged by any modern router, below is the Mikrotik configuration.&lt;/p&gt;

&lt;p&gt;For IPv6, please note that the managed flag must be set for relay, and that you may not want to set that flag for all interfaces depending on your environment&lt;/p&gt;

&lt;pre&gt;&lt;code&gt;/ipv6 dhcp-relay  
add dhcp-server=2001:db8:f00d:e9::a interface=sfpplus1.4 name=vlan4-dhcpv6  
add dhcp-server=2001:db8:f00d:e9::a interface=sfpplus1 name=vlan0-dhcpv6  
add dhcp-server=2001:db8:f00d:e9::a interface=sfpplus1.6 name=vlan6-dhcpv6  
add dhcp-server=2001:db8:f00d:e9::a interface=sfpplus1.5 name=vlan5-dhcpv6  
add dhcp-server=2001:db8:f00d:e9::a interface=sfpplus1.7 name=vlan7-dhcpv6  
add dhcp-server=2001:db8:f00d:e9::a interface=sfpplus1.9 name=vlan9-dhcpv6  
add dhcp-server=2001:db8:f00d:e9::a interface=sfpplus1.8 name=vlan8-dhcpv6  
  
/ipv6 nd  
set \[ find default=yes \] managed-address-configuration=yes
&lt;/code&gt;&lt;/pre&gt;

&lt;p&gt;For IPv4:&lt;/p&gt;

&lt;pre&gt;&lt;code&gt;/ip dhcp-relay  
add dhcp-server=10.254.9.10 disabled=no interface=sfpplus1.9 local-address=10.254.9.1 name=dhcp-vlan9  
add dhcp-server=10.254.9.10 disabled=no interface=sfpplus1.8 local-address=10.254.8.1 name=dhcp-vlan8  
add dhcp-server=10.254.9.10 disabled=no interface=sfpplus1.6 local-address=10.254.6.1 name=dhcp-vlan6  
add dhcp-server=10.254.9.10 disabled=no interface=sfpplus1.4 local-address=10.254.4.1 name=dhcp-vlan4  
add dhcp-server=10.254.9.10 disabled=no interface=sfpplus1.7 local-address=10.254.7.1 name=dhcp-vlan7  
add dhcp-server=10.254.9.10 disabled=no interface=sfpplus1 local-address=10.254.209.1 name=dhcp-vlan209
&lt;/code&gt;&lt;/pre&gt;
</description>
    </item>
    
    <item>
      <title>Enabling LLDP</title>
      <link>https://forwardingplane.net/post/enabling-lldp/</link>
      <pubDate>Thu, 07 Mar 2019 02:00:11 +0000</pubDate>
      
      <guid>https://forwardingplane.net/post/enabling-lldp/</guid>
      <description>&lt;p&gt;Enabling LLDP can aid in understanding network and system topologies, I am very much in favor of running it and largely dismiss the perceived security issues surrounding it, when done correctly and with full knowledge of what it is being enabled.&lt;/p&gt;

&lt;p&gt;Enable LLDP on a SROS based Nokia (formerly Alcatel-Lucent). It is per physical port, so replace 1/1/1 with your physical port and replicate on every port you want it to run on&lt;/p&gt;

&lt;pre&gt;&lt;code&gt;/configure port 1/1/1 ethernet lldp dest-mac nearest-bridge tx-mgmt-address system   
/configure port 1/1/1 ethernet lldp dest-mac nearest-bridge tx-tlvs port-desc sys-name sys-cap sys-desc   
/configure port 1/1/1 ethernet lldp dest-mac nearest-bridge admin-status tx-rx 
&lt;/code&gt;&lt;/pre&gt;

&lt;p&gt;Enable LLDP on a Juniper is by interface or global&lt;/p&gt;

&lt;pre&gt;&lt;code&gt;set protocols lldp advertisement-interval 30   
set protocols lldp interface all   

&lt;/code&gt;&lt;/pre&gt;

&lt;p&gt;Mikrotik switch to LLDP as the discovery protocol in 6.something. MNDP/LLDP is on by default but can be changed by configuring the discover-interface-list&lt;/p&gt;

&lt;pre&gt;&lt;code&gt;/ip neighbor discover-interface-list
&lt;/code&gt;&lt;/pre&gt;

&lt;p&gt;Brocade VDX. This is a little dated but I suspect it&amp;rsquo;s still correct.&lt;/p&gt;

&lt;pre&gt;&lt;code&gt;conf t   
protocol lldp   
 hello 180   
 advertise dcbx-tlv   
 advertise optional-tlv management-address   
 advertise optional-tlv port-description   
 advertise optional-tlv system-capabilities   
 advertise optional-tlv system-description   
 advertise optional-tlv system-name   
 system-name dnoc960-sw1-mgmt   
 system-description Brocade VDX switch   
exit  
copy running-config startup-config 
&lt;/code&gt;&lt;/pre&gt;

&lt;p&gt;Ubuntu / Debian Linux&lt;/p&gt;

&lt;pre&gt;&lt;code&gt;apt install lldpd  
service lldpd start
&lt;/code&gt;&lt;/pre&gt;
</description>
    </item>
    
    <item>
      <title>FreeRouter as a test environment</title>
      <link>https://forwardingplane.net/post/freertr-as-a-lab-environment/</link>
      <pubDate>Sat, 02 Mar 2019 17:03:18 +0000</pubDate>
      
      <guid>https://forwardingplane.net/post/freertr-as-a-lab-environment/</guid>
      <description>&lt;p&gt;A few months ago &lt;a href=&#34;https://www.stubarea51.net/about-me/&#34;&gt;Kevin Myers&lt;/a&gt; of &lt;a href=&#34;https://www.iparchitechs.com/&#34;&gt;IP Architechs&lt;/a&gt; introduced me to a really interesting project called &lt;a href=&#34;http://freerouter.nop.hu/&#34;&gt;FreeRouter&lt;/a&gt;. Being that I absolutely love alternative routing platforms and feature complete simulation environments, this really got me going. I tend to define &amp;ldquo;feature complete&amp;rdquo; in a routing platform as something that can do both IS-IS and MPLS. Given that there aren&amp;rsquo;t many platforms that do both correctly or within a reasonable budget, and offer simulation options, I was pretty excited. I spent a fair amount of time pounding through it. I recommend spending some time with this if you have even remote interest in any of the above technologies. It costs nothing but your time. The project was written and is maintained by a Cisco CCIE and was built (according to his site) as a mechanism to learn. However, the feature list is incredibly complete, and extremely impressive, as seen below:&lt;/p&gt;

&lt;pre&gt;&lt;code&gt;forwarding: ipv4, ipv6, ipx, mpls, nsh, layer2, irb, atom, eompls, vpls, evpn  
routing protocols: ospf, isis, bgp, rip, eigrp, babel, olsr, pim, msdp  
lsp support: p2p, p2mp, mp2mp built by ldp, rsvp-te, sr, sr-te, bier  
crypto: macsec, ipsec, ikev1, ikev2, tls, dtls, ssh, openvpn  
tunnel: gre, ipip, l2tp, pptp, lisp, geneve, nvgre, vxlan, etherip  
encapsulation: ethernet, vlan, nsh, ppp, framerelay, pwether, virtppp, hairpin  
misc: acl, hqos, nat, pbr, srv6, vrrp, hsrp, transproxy, 6to4, rpl, tunnel, vpdn 
&lt;/code&gt;&lt;/pre&gt;

&lt;p&gt;&lt;a href=&#34;https://www.forwardingplane.net/configuration-archive/freertr-basic-configurations/&#34;&gt;My configurations&lt;/a&gt; can be found in the &lt;a href=&#34;https://www.forwardingplane.net/configuration-archive/&#34;&gt;Configuration Archive&lt;/a&gt; section of this site. It is definitely worth your time to check out.&lt;/p&gt;
</description>
    </item>
    
    <item>
      <title>FreeRTR basic configurations</title>
      <link>https://forwardingplane.net/post/freertr-basic-configurations/</link>
      <pubDate>Sat, 02 Mar 2019 17:00:49 +0000</pubDate>
      
      <guid>https://forwardingplane.net/post/freertr-basic-configurations/</guid>
      <description>&lt;p&gt;From the &lt;a href=&#34;http://freerouter.nop.hu/&#34;&gt;freertr&lt;/a&gt; website:&lt;/p&gt;

&lt;pre&gt;&lt;code&gt;freeRouter is a free, open source router os process  
it speaks routing protocols, and (re)encapsulates packets on interfaces (a huge list of encapsulation and routing test cases can be found under self-test page)since it handles packets itself, it is independent of underlaying os capabilities(optionally, it can export forwarding tables through openflow to external switch)since it is an unprivilegized process, it receives and sends packets through socketsthere are external, privileged processes that place traffic to these sockets(it means that internet can be used as backplane for router processes) the command line tries to mimic the industry standards with one exception: no global routing table: every routedinterface must be in a virtual routing table positive side effect: there are no vrf-awareness questions
&lt;/code&gt;&lt;/pre&gt;

&lt;p&gt;As notes in my &lt;a href=&#34;https://www.forwardingplane.net/2019/03/freertr-as-a-lab-environment/&#34;&gt;FreeRTR post&lt;/a&gt;, FreeRTR is a wonderful alternative to labbing up protocols and provides an incredible array of protocol support. Below are my three router test configurations from a basic setup. They should be enough to get you started.&lt;/p&gt;

&lt;p&gt;RTR1&lt;/p&gt;

&lt;pre&gt;&lt;code&gt;  
   
hostname rtr1   
buggy   
!   
!   
vrf definition host   
exit   
!   
vrf definition vrf1   
rd 1:1   
exit   
!   
router isis4 1   
vrf vrf1   
net-id 48.1111.0000.1111.00   
traffeng-id ::   
is-type both   
redistribute connected   
exit   
!   
router isis6 1   
vrf vrf1   
net-id 48.1111.0000.1111.00   
traffeng-id ::   
is-type both   
segrout 10   
level2 segrout   
level1 segrout   
redistribute connected   
exit   
!   
!   
interface loopback0   
no description   
vrf forwarding vrf1   
ipv4 address 10.99.99.1 255.255.255.255   
ipv6 address 2001:db8:1111::1 ffff:ffff:ffff:ffff:ffff:ffff:ffff:ffff   
router isis6 1 enable   
router isis6 1 circuit both   
router isis6 1 segrout index 1   
router isis6 1 segrout node   
no shutdown   
no log-link-change   
exit   
!   
interface loopback1   
no description   
no shutdown   
no log-link-change   
exit   
!   
interface ethernet1   
no description   
lldp enable   
vrf forwarding vrf1   
ipv4 address 10.1.1.1 255.255.255.252   
ipv6 address 2001:db8:1111::2 ffff:ffff:ffff:ffff:ffff:ffff:ffff:fffe   
mpls enable   
router isis6 1 enable   
router isis6 1 circuit both   
no shutdown   
no log-link-change   
exit   
!   
interface ethernet2   
no to\_rt2\_ether2   
lldp enable   
vrf forwarding vrf1   
ipv4 address 10.1.4.1 255.255.255.252   
ipv6 address 2001:db8:1114::2 ffff:ffff:ffff:ffff:ffff:ffff:ffff:fffe   
mpls enable   
router isis6 1 enable   
router isis6 1 circuit both   
no shutdown   
no log-link-change   
exit   
!   
interface ethernet20001   
no description   
vrf forwarding host   
ipv4 address 10.255.255.254 255.255.255.0   
no shutdown   
no log-link-change   
exit   
!   
line tty1   
no login authentication   
exit   
!   
!   
!   
!   
!   
!   
!   
!   
!   
!   
!   
!   
!   
!   
!   
!   
!   
!   
!   
!   
!   
!   
!   
!   
!   
!   
!   
alias test bash command attach shell1 socat - exec:sh,ctty,pty,stderr   
alias test bash description   
alias test bash parameter optional   
!   
server telnet host   
security protocol telnet   
no login authentication   
vrf host   
exit   
!   
!   
end 
&lt;/code&gt;&lt;/pre&gt;

&lt;p&gt;RTR2&lt;/p&gt;

&lt;pre&gt;&lt;code&gt;hostname rtr2   
buggy   
!   
!   
vrf definition host   
exit   
!   
vrf definition vrf1   
rd 1:1   
exit   
!   
router isis4 1   
no vrf   
exit   
!   
router isis6 1   
vrf vrf1   
net-id 48.2222.0000.2222.00   
traffeng-id ::   
is-type both   
segrout 10   
level2 segrout   
level1 segrout   
redistribute connected   
exit   
!   
  
  
interface loopback0   
no description   
vrf forwarding vrf1   
ipv4 address 10.99.99.2 255.255.255.255   
ipv6 address 2001:db8:2222::1 ffff:ffff:ffff:ffff:ffff:ffff:ffff:ffff   
router isis6 1 enable   
router isis6 1 circuit both   
router isis6 1 segrout index 1   
router isis6 1 segrout node   
no shutdown   
no log-link-change   
exit   
!   
interface ethernet1   
description to\_rtr3\_ether2   
lldp enable   
vrf forwarding vrf1   
ipv4 address 10.1.3.2 255.255.255.252   
ipv6 address 2001:db8:1112::2 ffff:ffff:ffff:ffff:ffff:ffff:ffff:fffe   
mpls enable   
router isis6 1 enable   
router isis6 1 circuit both   
no shutdown   
no log-link-change   
exit   
!   
interface ethernet2   
no to\_rt1\_ether2   
lldp enable   
vrf forwarding vrf1   
ipv4 address 10.1.4.2 255.255.255.252   
ipv6 address 2001:db8:1114::3 ffff:ffff:ffff:ffff:ffff:ffff:ffff:fffe   
mpls enable   
router isis6 1 enable   
router isis6 1 circuit both   
no shutdown   
no log-link-change   
exit   
  
  
!   
interface ethernet20001   
no description   
vrf forwarding host   
ipv4 address 10.255.255.254 255.255.255.0   
no shutdown   
no log-link-change   
exit   
!   
line tty1   
no login authentication   
exit   
!   
!   
!   
!   
!   
!   
!   
!   
!   
!   
!   
!   
!   
!   
alias test bash command attach shell1 socat - exec:sh,ctty,pty,stderr   
alias test bash description   
alias test bash parameter optional   
!   
server telnet host   
security protocol telnet   
no login authentication   
vrf host   
exit   
!   
!   
end 
&lt;/code&gt;&lt;/pre&gt;

&lt;p&gt;RTR3&lt;/p&gt;

&lt;pre&gt;&lt;code&gt;hostname rtr3   
buggy   
!   
!   
vrf definition host   
exit   
!   
vrf definition vrf1   
rd 1:1   
exit   
!   
router isis4 1   
vrf vrf1   
net-id 48.3333.0000.3333.00   
traffeng-id ::   
is-type both   
redistribute connected   
exit   
!   
router isis6 1   
vrf vrf1   
net-id 48.3333.0000.3333.00   
traffeng-id ::   
is-type both   
segrout 10   
level2 segrout   
level1 segrout   
redistribute connected   
exit   
!   
interface loopback0   
no description   
vrf forwarding vrf1   
ipv4 address 10.99.99.3 255.255.255.255   
ipv6 address 2001:db8:3333::1 ffff:ffff:ffff:ffff:ffff:ffff:ffff:ffff   
router isis6 1 enable   
router isis6 1 circuit both   
router isis6 1 segrout index 1   
router isis6 1 segrout node   
no shutdown   
no log-link-change   
exit   
!   
interface loopback1   
no description   
no shutdown   
no log-link-change   
exit   
!   
!   
interface ethernet1   
description to\_rtr2\_ether1   
lldp enable   
vrf forwarding vrf1   
ipv4 address 10.1.3.1 255.255.255.252   
ipv6 address 2001:db8:1112::3 ffff:ffff:ffff:ffff:ffff:ffff:ffff:fffe   
mpls enable   
router isis6 1 enable   
router isis6 1 circuit both   
no shutdown   
no log-link-change   
exit   
!   
interface ethernet2   
description to\_rtr1\_ether1   
lldp enable   
vrf forwarding vrf1   
ipv4 address 10.1.1.2 255.255.255.252   
ipv6 address 2001:db8:1111::3 ffff:ffff:ffff:ffff:ffff:ffff:ffff:fffe   
mpls enable   
router isis6 1 enable   
router isis6 1 circuit both   
no shutdown   
no log-link-change   
exit   
!   
interface ethernet20001   
no description   
vrf forwarding host   
ipv4 address 10.255.255.254 255.255.255.0   
no shutdown   
no log-link-change   
exit   
!   
line tty1   
no login authentication   
exit   
!   
!   
!   
!   
!   
!   
!   
!   
!   
!   
!   
!   
!   
!   
!   
!   
!   
!   
!   
!   
!   
!   
!   
!   
!   
!   
!   
alias test bash command attach shell1 socat - exec:sh,ctty,pty,stderr   
alias test bash description   
alias test bash parameter optional   
!   
server telnet host   
security protocol telnet   
no login authentication   
vrf host   
exit   
!   
!   
end 
&lt;/code&gt;&lt;/pre&gt;

&lt;p&gt;Helpful show commands for this basic setup&lt;/p&gt;

&lt;pre&gt;&lt;code&gt; sh ipv4 route vrf1  
 sh ipv6 route vrf1 
&lt;/code&gt;&lt;/pre&gt;
</description>
    </item>
    
    <item>
      <title>Enable Telnet access on MacOS High Sierra</title>
      <link>https://forwardingplane.net/post/enable-telnet-access-on-macos-high-sierra/</link>
      <pubDate>Sat, 02 Mar 2019 16:11:38 +0000</pubDate>
      
      <guid>https://forwardingplane.net/post/enable-telnet-access-on-macos-high-sierra/</guid>
      <description>&lt;p&gt;Lots of things changed under the hood in MacOS high sierra. One of those was to enable a sandbox like environment and to remove insecure communication protocols. This breaks things like console communication to the network modeling and virtualization platform &lt;a href=&#34;https://www.eve-ng.net/&#34;&gt;Eve-NG&lt;/a&gt;. It&amp;rsquo;s fairly trivial to re-enable it, however. This can be accomplished by doing the following steps.&lt;/p&gt;

&lt;p&gt;Install &lt;a href=&#34;http://www.homebrew.sh&#34;&gt;Homebrew&lt;/a&gt;. Open your favorite terminal application (I like to use &lt;a href=&#34;https://www.iterm2.com/&#34;&gt;iTerm2&lt;/a&gt; (also installable via homebrew), but Terminal works fine.)&lt;/p&gt;

&lt;pre&gt;&lt;code&gt;1\. Reboot your Mac and hold the CMD + R keys   
2\. When presented with the recovery options, click Utilities at the top and choose Terminal   
3\. Type; csrutil disable   
4\. Reboot as normal   
6\. terminal and type;   
brew install telnet   
sudo ln -s /usr/local/bin/telnet /usr/bin/telnet   
7\. Again, Reboot your Mac and hold the CMD + R keys   
8\. When presented with the recovery options, click Utilities at the top and choose Terminal   
9\. Type; csrutil enable   
10\. Reboot as normal 
&lt;/code&gt;&lt;/pre&gt;

&lt;p&gt;You&amp;rsquo;re done. You can have telnet for your internal communication to Eve-NG consoles. &lt;strong&gt;Don&amp;rsquo;t use it to talk to production network gear, because it&amp;rsquo;s not 1998.&lt;/strong&gt;&lt;/p&gt;
</description>
    </item>
    
    <item>
      <title>Basic IOS-XR command cheat sheet</title>
      <link>https://forwardingplane.net/post/basic-ios-xr-command-cheat-sheet/</link>
      <pubDate>Wed, 20 Feb 2019 20:05:58 +0000</pubDate>
      
      <guid>https://forwardingplane.net/post/basic-ios-xr-command-cheat-sheet/</guid>
      <description>&lt;p&gt;Some basic commands that I have found useful in managing an ASR9K / IOS-XR device. This page is likely to grow and change over time.&lt;/p&gt;

&lt;p&gt;Clear ARP&lt;/p&gt;

&lt;pre&gt;&lt;code&gt;clear arp-cache &amp;lt;interface&amp;gt; &amp;lt;IPv4 addr&amp;gt; location all 
&lt;/code&gt;&lt;/pre&gt;

&lt;p&gt;BGP&lt;/p&gt;

&lt;pre&gt;&lt;code&gt;show bgp all unicast summary 
&lt;/code&gt;&lt;/pre&gt;

&lt;p&gt;BGP Routes&lt;/p&gt;

&lt;pre&gt;&lt;code&gt;  
show bgp ipv\[4/6\] unicast neighbors &amp;lt;neighbor&amp;gt; received route  
show bgp ipv\[4/6\] unicast advertised neighbor &amp;lt;neighbor&amp;gt;   
show bgp ipv\[4/6\] unicast summary  
show bgp ipv\[4/6\] unicast summary  
clear bgp ipv\[4/6\] unicast &amp;lt;neighbor&amp;gt; soft in  
show bgp all unicast summary  
show bgp ipv\[4/6\] unicast bestpath-compare
&lt;/code&gt;&lt;/pre&gt;

&lt;p&gt;NetFlow&lt;/p&gt;

&lt;pre&gt;&lt;code&gt;show flow exporter _&amp;lt;exporter&amp;gt;_ location 0/RSP0/CPU0 
&lt;/code&gt;&lt;/pre&gt;

&lt;p&gt;Show all hardware linecards&lt;/p&gt;

&lt;pre&gt;&lt;code&gt;show hw-module fpd location all
&lt;/code&gt;&lt;/pre&gt;
</description>
    </item>
    
    <item>
      <title>Upgrade Single ASR9k hw-module</title>
      <link>https://forwardingplane.net/post/upgrade-an-asr9k-hardware-module/</link>
      <pubDate>Wed, 20 Feb 2019 19:58:08 +0000</pubDate>
      
      <guid>https://forwardingplane.net/post/upgrade-an-asr9k-hardware-module/</guid>
      <description>&lt;p&gt;ASR9k is a powerful device but management may be daunting to anyone not familiar with IOS-XR. Inserting new line cards in may require a manual upgrade of the module to match the current running code on the chassis&lt;/p&gt;

&lt;p&gt;Show all slow and firmware details:&lt;/p&gt;

&lt;pre&gt;&lt;code&gt;show hw-module fpd location _rack/slot/subslot_
&lt;/code&gt;&lt;/pre&gt;

&lt;p&gt;In the admin prompt:&lt;/p&gt;

&lt;pre&gt;&lt;code&gt;upgrade hw-module fpd all location 0/RSP1/CPU0
&lt;/code&gt;&lt;/pre&gt;

&lt;p&gt;During the upgrade, this is the output, it will take a bit of time to perform the update. You may also need to upgrade things like fan trays, etc.&lt;/p&gt;

&lt;pre&gt;&lt;code&gt;RP/0/RSP0/CPU0:core-9k(admin)#upgrade hw-module fpd all location 0/RSP1/CPU0Mon Feb 18 09:56:49.201 CST  
\*\*\*\*\* UPGRADE WARNING MESSAGE: \*\*\*\*\*    
\*  This upgrade operation has a maximum timout of 90 minutes.  \*    
\*  If you are executing the cmd for one specific location and  \*    
\*  card in that location reloads or goes down for some reason  \*    
\*  you can press CTRL-C to get back the RP&#39;s prompt.           \*    
\*  If you are executing the cmd for \_all\_ locations and a node \*    
\*  reloads or is down please allow other nodes to finish the   \*    
\*  upgrade process before pressing CTRL-C.                     \*  
% RELOAD REMINDER:   
 - The upgrade operation of the target module will not interrupt its normal    operation. However, for the changes to take effect, the target module    will need to be manually reloaded after the upgrade operation. This can    be accomplished with the use of &amp;quot;hw-module &amp;lt;target&amp;gt; reload&amp;quot; command.    
\- If automatic reload operation is desired after the upgrade, please use    the &amp;quot;reload&amp;quot; option at the end of the upgrade command.    
\- The output of &amp;quot;show hw-module fpd location&amp;quot; command will not display    correct version information after the upgrade if the target module is    not reloaded.  
  
NOTE: Chassis CLI will not be accessible while upgrade is in progress.
&lt;/code&gt;&lt;/pre&gt;
</description>
    </item>
    
    <item>
      <title>Nokia SROS useful commands</title>
      <link>https://forwardingplane.net/post/nokia-sros-useful-commands/</link>
      <pubDate>Tue, 19 Feb 2019 14:30:08 +0000</pubDate>
      
      <guid>https://forwardingplane.net/post/nokia-sros-useful-commands/</guid>
      <description>&lt;p&gt;Nokia (formerly Alcatel-Lucent, formerly Timetra) have an extremely robust routing platform, but it has some notable differences if you&amp;rsquo;re coming from a vendor such as Cisco or Juniper (or any vendor platform in the enterprise space, really). Things like &amp;ldquo;VLANs&amp;rdquo; don&amp;rsquo;t really exist, as this is more of a metro / carrier / customer provisioning style device, so modular concepts are expected and baked into the OS at the deepest layers, unlike many of the other vendor platforms that support it but it feels like an add-in or addendum to the base routing instance. Here are a few useful commands that I threw together when I was learning SROS. As Nokia has begun rebuilding the SROS CLI to be less of a one-off, these will become less important, but until SROS is totally gone, someone will need to know them.&lt;/p&gt;

&lt;p&gt;Show all installed line cards&lt;/p&gt;

&lt;pre&gt;&lt;code&gt;show card
&lt;/code&gt;&lt;/pre&gt;

&lt;p&gt;Contextual configuration display. From anywhere in the hierarchy, to show that sections configuration simply type&lt;/p&gt;

&lt;pre&gt;&lt;code&gt;info
&lt;/code&gt;&lt;/pre&gt;

&lt;p&gt;To ascertain the service ID of a given SAP (service access point)&lt;/p&gt;

&lt;pre&gt;&lt;code&gt;show service sap-using
&lt;/code&gt;&lt;/pre&gt;

&lt;p&gt;Similar to a juniper rollback compare, the SROS environment keeps candidate configurations and they can by compared, or diff&amp;rsquo;d to the running configuration. This is super useful.&lt;/p&gt;

&lt;pre&gt;&lt;code&gt;admin rollback compare active-cfg to latest-rb
&lt;/code&gt;&lt;/pre&gt;

&lt;p&gt;Also similar to juniper, it is possible to monitor the statistics of a given port in near real time&lt;/p&gt;

&lt;pre&gt;&lt;code&gt;monitor port 3/2/1 interval 3 repeat 999 rate
&lt;/code&gt;&lt;/pre&gt;

&lt;p&gt;SROS is an MPLS powerhouse, knowing how to look at the LSPs is pretty critical&lt;/p&gt;

&lt;pre&gt;&lt;code&gt;show router mpls lsp terminate   
show router mpls lsp transit   
show router mpls lsp  
show service id &amp;lt;vpls-id&amp;gt; all  
show service id &amp;lt;vpls-id&amp;gt; fdb detail 
&lt;/code&gt;&lt;/pre&gt;

&lt;p&gt;VPRN commands&lt;/p&gt;

&lt;pre&gt;&lt;code&gt;show port &amp;lt;port&amp;gt; associations   
show service id &amp;lt;vprn-id&amp;gt; all   
show router &amp;lt;vprn-id&amp;gt; interface   
show router &amp;lt;vprn-id&amp;gt; bgp summary   
show router &amp;lt;vprn-id&amp;gt; route-table   
show router &amp;lt;vprn-id&amp;gt; route-table protocol bgp-vpn   
show router &amp;lt;vprn-id&amp;gt; route-table &amp;lt;ip-address&amp;gt;   
show router &amp;lt;vprn-id&amp;gt; bgp routes &amp;lt;ip-prefix&amp;gt;/&amp;lt;net-size&amp;gt; detail   
show router &amp;lt;vprn-id&amp;gt; bgp next-hop   
show router &amp;lt;vprn-id&amp;gt; bgp neighbor &amp;lt;ip-address&amp;gt; received-routes   
show router &amp;lt;vprn-id&amp;gt; bgp neighbor &amp;lt;ip-address&amp;gt; advertised-routes   
oam vprn-ping &amp;lt;vprn-id&amp;gt; source &amp;lt;ip-address&amp;gt; destination &amp;lt;ip-address&amp;gt;   
oam vprn-trace &amp;lt;vprn-id&amp;gt; source &amp;lt;ip-address&amp;gt; destination &amp;lt;ip-address&amp;gt;   

&lt;/code&gt;&lt;/pre&gt;

&lt;p&gt;Useful BGP commands&lt;/p&gt;

&lt;pre&gt;&lt;code&gt;show router bgp summary    
show router bgp neighbor &amp;lt;neighbor&amp;gt; received-routes &amp;lt;ipv6&amp;gt;  
&lt;/code&gt;&lt;/pre&gt;

&lt;p&gt;Showing logs&lt;/p&gt;

&lt;pre&gt;&lt;code&gt;show log log-id &amp;lt;id&amp;gt;  
show log log-id 99  
show log event-control  

&lt;/code&gt;&lt;/pre&gt;

&lt;p&gt;Showing environmentals&lt;/p&gt;

&lt;pre&gt;&lt;code&gt;show chassis environment \[power-supply\]  
show router interface \[detail\]   
show port &amp;lt;port&amp;gt; optical
&lt;/code&gt;&lt;/pre&gt;

&lt;p&gt;Showing and saving the configuration&lt;/p&gt;

&lt;pre&gt;&lt;code&gt;admin display-config  
admin save  
admin save rollback
&lt;/code&gt;&lt;/pre&gt;
</description>
    </item>
    
    <item>
      <title>Mikrotik OpenVPN server</title>
      <link>https://forwardingplane.net/post/mikrotik-openvpn-example/</link>
      <pubDate>Mon, 18 Feb 2019 20:14:40 +0000</pubDate>
      
      <guid>https://forwardingplane.net/post/mikrotik-openvpn-example/</guid>
      <description>&lt;p&gt;Mikrotik is one of my favorite routing and MPLS platforms for doing lab and small ISP work. This one is pretty darned easy if you&amp;rsquo;re willing to use self-signed certificates, and pretty trivial to add legitimate certificates if you are so inclined.&lt;/p&gt;

&lt;pre&gt;&lt;code&gt;/certificate add name=ca common-name=ca key-usage=key-cert-sign,crl-sign  
/certificate sign ca ca-crl-host=10.255.255.4 name=ca  
/certificate export-certificate ca  
/certificate add name=gw-dsl common-name=gw.yourcompany.com  
/certificate add name=vpnclient1 common-name=client1  
/certificate sign gw-dsl ca=ca name=gw.yourcompany.com  
/certificate sign vpnclient1 ca=ca name=client1   
/ip pool add name=ovpn-pool range=10.2.98.2-10.2.98.19  
/ppp profile add name=ovpn local-address=10.2.98.1 remote-address=ovpn-pool  
/ppp secret add name=buraglio profile=ovpn password=ExamplePasswordDude  
/interface ovpn-server server set enabled=yes certificate=server auth=sha1 cipher=aes256 port=1194 netmask=24 require-client-certificate=yes mode=ip  
/certificate export-certificate client1  export-passphrase=ExamplePasswordDude
&lt;/code&gt;&lt;/pre&gt;

&lt;p&gt;Largely based on &lt;a href=&#34;https://delphinus.qns.net/xwiki/bin/view/Blog/Mikrotik%20OpenVPN%20in%2090%20seconds&#34;&gt;this example&lt;/a&gt;&lt;/p&gt;
</description>
    </item>
    
    <item>
      <title>EdgeOS OpenVPN</title>
      <link>https://forwardingplane.net/post/edgeos-openvpn/</link>
      <pubDate>Mon, 18 Feb 2019 20:05:37 +0000</pubDate>
      
      <guid>https://forwardingplane.net/post/edgeos-openvpn/</guid>
      <description>&lt;p&gt;OpenVPN is a great technology but can be a bit of a bear to configure. A large part of the complexity with OpenVPN is the certificates, many are put off my them and for good reason. They can be confusing and hard to follow. The certificates can be generated off box pretty easily and that&amp;rsquo;s how I tend to do it. This configuration should work on both &lt;a href=&#34;https://www.ui.com/products/#edgemax&#34;&gt;EdgeMAX&lt;/a&gt; and &lt;a href=&#34;https://www.ui.com/unifi-routing/unifi-security-gateway-pro-4/&#34;&gt;Unifi USG&lt;/a&gt; devices, although the latter will require some additional work to make it persist across provisioning events.&lt;/p&gt;

&lt;p&gt;On the linux/mac/unix host:&lt;/p&gt;

&lt;pre&gt;&lt;code&gt;cd /usr/share/easy-rsa   
./build-ca
&lt;/code&gt;&lt;/pre&gt;

&lt;p&gt;The following is the output from a test run, you will need some information or be willing to make it up.&lt;/p&gt;

&lt;pre&gt;&lt;code&gt; Generating a 2048 bit RSA private key  
 ……………+++++  
 …………………+++++  
 writing new private key to &#39;ca.key&#39;  
 You are about to be asked to enter information that will be incorporated  
 into your certificate request.  
 What you are about to enter is what is called a Distinguished Name or a DN.  
 There are quite a few fields but you can leave some blank  
 For some fields there will be a default value,  
 If you enter &#39;.&#39;, the field will be left blank.  
 Country Name (2 letter code) \[US\]:US  
 State or Province Name (full name) \[CA\]:IL  
 Locality Name (eg, city) \[SanFrancisco\]:Champaign  
 Organization Name (eg, company) \[Fort-Funston\]:Your ORG Name  
 Organizational Unit Name (eg, section) \[MyOrganizationalUnit\]:Network engineering  
 Common Name (eg, your name or your server&#39;s hostname) \[Fort-Funston CA\]:gw.yourcompany.com  
 Name \[EasyRSA\]:OpenVPN CA  
 Email Address \[me@myhost.mydomain\]:yourgroupemail@yourcompany.com
&lt;/code&gt;&lt;/pre&gt;

&lt;p&gt;Now build the next pieces:&lt;/p&gt;

&lt;pre&gt;&lt;code&gt; ./build-key-server server   
Generating a 2048 bit RSA private key  
 …..+++++  
 ……………………+++++  
 writing new private key to &#39;server.key&#39;  
 You are about to be asked to enter information that will be incorporated  
 into your certificate request.  
 What you are about to enter is what is called a Distinguished Name or a DN.  
 There are quite a few fields but you can leave some blank  
 For some fields there will be a default value,  
 If you enter &#39;.&#39;, the field will be left blank.  
 Country Name (2 letter code) \[US\]:  
 State or Province Name (full name) \[CA\]: IL  
 Locality Name (eg, city) \[SanFrancisco\]:Champaign  
 Organization Name (eg, company) \[Fort-Funston\]:Your ORG Name  
 Organizational Unit Name (eg, section) \[MyOrganizationalUnit\]:Network engineering  
 Common Name (eg, your name or your server&#39;s hostname) \[server\]:  
 Name \[EasyRSA\]:OpenVPN Server  
 Email Address \[me@myhost.mydomain\]:yourgroupemail@yourcompany.com  
 Please enter the following &#39;extra&#39; attributes  
 to be sent with your certificate request  
 A challenge password \[\]:  
 An optional company name \[\]:  
 Using configuration from /usr/share/easy-rsa/openssl.cnf  
 Can&#39;t open /usr/share/easy-rsa/keys/index.txt.attr for reading, No such file or directory  
 139640007534336:error:02001002:system library:fopen:No such file or directory:../crypto/bio/bss\_file.c:72:fopen(&#39;/usr/share/easy-rsa/keys/index.txt.attr&#39;,&#39;r&#39;)  
 139640007534336:error:2006D080:BIO routines:BIO\_new\_file:no such file:../crypto/bio/bss\_file.c:79:  
 Check that the request matches the signature  
 Signature ok  
 The Subject&#39;s Distinguished Name is as follows  
 countryName           :PRINTABLE:&#39;US&#39;  
 stateOrProvinceName   :PRINTABLE:&#39;IL&#39;  
 localityName          :PRINTABLE:&#39;Champaign&#39;  
 organizationName      :PRINTABLE:&#39;Your ORG Name&#39;  
 organizationalUnitName:PRINTABLE:&#39;Network engineering&#39;  
 commonName            :PRINTABLE:&#39;server&#39;  
 name                  :PRINTABLE:&#39;OpenVPN Server&#39;  
 emailAddress          :IA5STRING:&#39;yourgroupemail@yourcompany.com&#39;  
 Certificate is to be certified until Feb 15 19:49:14 2029 GMT (3650 days)  
 Sign the certificate? \[y/n\]:y  
 1 out of 1 certificate requests certified, commit? \[y/n\]y  
 Write out database with 1 new entries  
 Data Base Updated
&lt;/code&gt;&lt;/pre&gt;

&lt;p&gt;Now build the client certificates&lt;/p&gt;

&lt;pre&gt;&lt;code&gt;./build-key client1  
 Generating a 2048 bit RSA private key  
 .+++++  
 ……………………………………………………………………….+++++  
 writing new private key to &#39;client1.key&#39;  
 You are about to be asked to enter information that will be incorporated  
 into your certificate request.  
 What you are about to enter is what is called a Distinguished Name or a DN.  
 There are quite a few fields but you can leave some blank  
 For some fields there will be a default value,  
 If you enter &#39;.&#39;, the field will be left blank.  
 Country Name (2 letter code) \[US\]:  
 State or Province Name (full name) \[CA\]:IL  
 Locality Name (eg, city) \[SanFrancisco\]:Champaign  
 Organization Name (eg, company) \[Fort-Funston\]:Your ORG Name  
 Organizational Unit Name (eg, section) \[MyOrganizationalUnit\]:Network Engineering  
 Common Name (eg, your name or your server&#39;s hostname) \[client1\]:  
 Name \[EasyRSA\]:OpenVPN Client  
 Email Address \[me@myhost.mydomain\]:yourgroupemail@yourcompany.com  
 Please enter the following &#39;extra&#39; attributes  
 to be sent with your certificate request  
 A challenge password \[\]:  
 An optional company name \[\]:  
 Using configuration from /usr/share/easy-rsa/openssl.cnf  
 Check that the request matches the signature  
 Signature ok  
 The Subject&#39;s Distinguished Name is as follows  
 countryName           :PRINTABLE:&#39;US&#39;  
 stateOrProvinceName   :PRINTABLE:&#39;IL&#39;  
 localityName          :PRINTABLE:&#39;Champaign&#39;  
 organizationName      :PRINTABLE:&#39;Your ORG Name&#39;  
 organizationalUnitName:PRINTABLE:&#39;Network Engineering&#39;  
 commonName            :PRINTABLE:&#39;client1&#39;  
 name                  :PRINTABLE:&#39;OpenVPN Client&#39;  
 emailAddress          :IA5STRING:&#39;yourgroupemail@yourcompany.com&#39;  
 Certificate is to be certified until Feb 15 19:53:55 2029 GMT (3650 days)  
 Sign the certificate? \[y/n\]:y  
 1 out of 1 certificate requests certified, commit? \[y/n\]y  
 Write out database with 1 new entries  
 Data Base Updated  
  
  

&lt;/code&gt;&lt;/pre&gt;

&lt;p&gt;Generate the last piece:&lt;/p&gt;

&lt;pre&gt;&lt;code&gt;./build-dh  
 Generating DH parameters, 2048 bit long safe prime, generator 2  
 This is going to take a long time  
 …………………………………………………………………+…………………………………………………………………..+…………………….+……………………………………………………………………………….+……………………………………..+………..+………………………………………………………………….+…………………………..+…………………………………………..+……………………………………………………………..+…………………………………….+…………………………………..+……………………………+…………………………………………………..+……………………………………+……………………………………………………………………………………..+………………………………………………………………………………………………………………………………………………………………………………+……+…………………………………………………………………………………………………………………………………………….+……………………………….+……………………………….+………………………………………………………………………………………………………………………………………….+………………………………………………………………….+…+……………………………………………+……………………………………………………………………………………………………….+…………………………………………………………………..+…………………………………………………………………………………………………………………..+……………………………..+….+……………………………………………………………………………………………………………………………………………………………………………………………………………………………………………..+…………………………………………………………………………………………………………………………………………………………………………+………………..++_++_++_++_  

&lt;/code&gt;&lt;/pre&gt;

&lt;p&gt;On the UBNT:&lt;/p&gt;

&lt;pre&gt;&lt;code&gt;mkdir /config/auth/keys/  

&lt;/code&gt;&lt;/pre&gt;

&lt;p&gt;Now that you have all of the files and directory structure, head back to your host and scp them over to the ubiquity into /config/auth/keys&lt;/p&gt;

&lt;pre&gt;&lt;code&gt;cd /usr/share/easy-rsa/keys  
scp  \* username@ubnt.net:/config/auth/keys/  

&lt;/code&gt;&lt;/pre&gt;

&lt;p&gt;Now that the keys are all created and safe, head back over to the UBNT and start configuring the device to support what you just made&lt;/p&gt;

&lt;pre&gt;&lt;code&gt;set interfaces openvpn vtun0 mode server   
set interfaces openvpn vtun0 server subnet 172.16.61.0/27   
set interfaces openvpn vtun0 tls ca-cert-file /config/auth/keys/ca.crt   
set interfaces openvpn vtun0 tls cert-file /config/auth/keys/server.crt   
set interfaces openvpn vtun0 tls key-file /config/auth/keys/server.key   
set interfaces openvpn vtun0 tls dh-file /config/auth/keys/dh2048.pem   
set interfaces openvpn vtun0 encryption aes192   
  
set interfaces openvpn vtun0 openvpn-option &amp;quot;--keepalive 8 30&amp;quot;   
set interfaces openvpn vtun0 openvpn-option &amp;quot;--comp-lzo&amp;quot;   
set interfaces openvpn vtun0 openvpn-option &amp;quot;--duplicate-cn&amp;quot;   
set interfaces openvpn vtun0 openvpn-option &amp;quot;--user nobody - group nogroup&amp;quot;   
set interfaces openvpn vtun0 openvpn-option &amp;quot;--verb 1&amp;quot;   
set interfaces openvpn vtun0 openvpn-option &amp;quot;--proto udp6&amp;quot;   
set interfaces openvpn vtun0 openvpn-option &amp;quot;--port 1194&amp;quot;   
set interfaces openvpn vtun0 server push-route 10.2.0.0/16   
set interfaces openvpn vtun0 server name-server 10.2.9.10   
set firewall name WAN\_LOCAL rule 20 action accept   
set firewall name WAN\_LOCAL rule 20 description &amp;quot;Allow OpenVPN clients in&amp;quot;   
set firewall name WAN\_LOCAL rule 20 destination port 1194   
set firewall name WAN\_LOCAL rule 20 log disable   
set firewall name WAN\_LOCAL rule 20 protocol udp   
set service nat rule 5010 description &amp;quot;Masquerade for WAN&amp;quot;   
set service nat rule 5010 outbound-interface eth0   
set service nat rule 5010 type masquerade 
&lt;/code&gt;&lt;/pre&gt;

&lt;p&gt;I recommend &lt;a href=&#34;https://www.sparklabs.com/viscosity/&#34;&gt;Viscosity&lt;/a&gt; as the client - it&amp;rsquo;s inexpensive and very reliable.&lt;/p&gt;

&lt;p&gt;My configuration was largely based on the reference &lt;a href=&#34;https://medium.com/server-guides/how-to-setup-an-openvpn-server-on-a-unifi-usg-e33ea2f6725d&#34;&gt;here&lt;/a&gt;.&lt;/p&gt;
</description>
    </item>
    
    <item>
      <title>Mikrotik IPv6 DHCPv6-PD configuration</title>
      <link>https://forwardingplane.net/post/mikrotik-ipv6-dhcpv6-pd-configuration/</link>
      <pubDate>Mon, 18 Feb 2019 19:26:52 +0000</pubDate>
      
      <guid>https://forwardingplane.net/post/mikrotik-ipv6-dhcpv6-pd-configuration/</guid>
      <description>&lt;p&gt;For a small to medium ISPs (especially WISPs) looking to move to IPv6 dual-stack, the right way to deploy is to use DHCPv6 prefix delegation. Here is an example of how to do this in-skin (i.e. on the mikrotik itself rather than a relay).&lt;/p&gt;

&lt;pre&gt;&lt;code&gt;/ipv6 dhcp-server  
 add address-pool=vl100-v6-pd-pool interface=ether5.100 name=vl100-v6-pd  
 add address-pool=vl101-v6-pd-pool interface=ether3.101 name=vl101-v6-pd  
 add address-pool=vl102-v6-pd-pool interface=ether2.102 name=vl102-v6-pd  
 add address-pool=vl106-v6-pd-pool interface=ether1.106 name=vl106-v6-pd  
 add address-pool=vl108-v6-pd-pool interface=ether4.108 name=vl108-v6-pd
``````
/ipv6 pool  
add comment=&amp;quot;VLAN103 IPv6 prefix delegation pool&amp;quot; name=vl103-v6-pd-pool prefix=2001:db8:1a:b000::/48 prefix-length=59  
add comment=&amp;quot;VLAN100 IPv6 prefix delegation pool&amp;quot; name=vl100-v6-pd-pool prefix=2001:db8:1a:8800::/48 prefix-length=59  
add comment=&amp;quot;VLAN101 IPv6 prefix delegation pool&amp;quot; name=vl101-v6-pd-pool prefix=2001:db8:1a:9000::/48 prefix-length=59  
add comment=&amp;quot;VLAN106 IPv6 prefix delegation pool&amp;quot; name=vl106-v6-pd-pool prefix=2001:db8:1a:9800::/48 prefix-length=59  
add comment=&amp;quot;VLAN108 IPv6 prefix delegation pool&amp;quot; name=vl108-v6-pd-pool prefix=2001:db8:1a:a000::/48 prefix-length=59  
add comment=&amp;quot;VLAN102 IPv6 prefix delegation pool&amp;quot; name=vl102-v6-pd-pool prefix=2001:db8:1a:a800::/48 prefix-length=59
``````
/ipv6 address  
add address=2001:db8:1a:103::1 disabled=yes interface=bridge.103  
add address=2001:db8:1a:106::1 interface=ether1.106  
add address=2001:db8:1a:102::1 interface=ether2.102  
add address=2001:db8:1a:101::1 interface=ether3.101  
add address=2001:db8:1a:108::1 interface=ether4.108  
add address=2001:db8:1a:100::1 interface=ether5.100  
add address=2001:db8:1a:ffff::1/128 advertise=no comment=loopback0 interface=loopback.0  
add address=2001:db8:1a:fffe::2/127 advertise=no comment=&amp;quot;point to point to tower1-gw&amp;quot; interface=ether7
&lt;/code&gt;&lt;/pre&gt;

&lt;p&gt;Adjust firewall filters for IPv6 as policy dictates. Do not filter ICMP&lt;/p&gt;

&lt;pre&gt;&lt;code&gt; /ipv6 firewall filter  
 add action=accept chain=forward comment=&amp;quot;Allow all IPv6&amp;quot;
``````
/ipv6 nd  
add interface=ether5.100 managed-address-configuration=yes other-configuration=yes  
add interface=ether3.101 managed-address-configuration=yes other-configuration=yes  
add interface=ether2.102 managed-address-configuration=yes other-configuration=yes  
add interface=ether1.106 managed-address-configuration=yes other-configuration=yes  
add interface=ether4.108 managed-address-configuration=yes other-configuration=yes
``````
/ipv6 nd prefix  
add autonomous=no disabled=yes interface=ether5.100  
add autonomous=no disabled=yes interface=ether3.101  
add autonomous=no disabled=yes interface=ether2.102  
add autonomous=no disabled=yes interface=ether1.106  
add autonomous=no disabled=yes interface=ether4.108
``````
/ipv6 route  
add comment=&amp;quot;IPv6 Default Route for static deployments&amp;quot; distance=1 gateway=fe80::2a7:42ff:fe2d:3574%bridge.10
&lt;/code&gt;&lt;/pre&gt;

&lt;p&gt;Tunable based on deployment model&lt;/p&gt;

&lt;pre&gt;&lt;code&gt; /ipv6 settings  
 set max-neighbor-entries=1024
&lt;/code&gt;&lt;/pre&gt;
</description>
    </item>
    
    <item>
      <title>Comcast Business IPv6 Prefix Delegation</title>
      <link>https://forwardingplane.net/post/comcast-business-ipv6-prefix-delegation/</link>
      <pubDate>Mon, 18 Feb 2019 18:58:29 +0000</pubDate>
      
      <guid>https://forwardingplane.net/post/comcast-business-ipv6-prefix-delegation/</guid>
      <description>&lt;p&gt;Comcast Business class service has some quirks when using the Cisco branded business gateway. Essentially, the prefix delegation will not work without very specific configuration options on the client. In order to run your own network border (i.e. not using their device as the first hop router for your LAN(s)), the following is required. In addition, with static IP addresses also comes with a static IPv6 prefix delegation.&lt;/p&gt;

&lt;p&gt;For Ubiquity EdgeOS (or a derivative like a Unifi USG) the following needs to be set (eth2 is the port facing the comcast router)&lt;/p&gt;

&lt;pre&gt;&lt;code&gt;set interfaces ethernet eth2 dhcpv6-pd prefix-only   
set interfaces ethernet eth2 dhcpv6-pd rapid-commit disable 
&lt;/code&gt;&lt;/pre&gt;

&lt;p&gt;Mikrotik RouterOS&lt;/p&gt;

&lt;pre&gt;&lt;code&gt;/ipv6 dhcp-client  
add add-default-route=yes comment=&amp;quot;Native Comcast IPv6 External&amp;quot; interface=ether2 pool-name=comcast-ipv6 pool-prefix-length=59 request=prefix use-peer-dns=no
&lt;/code&gt;&lt;/pre&gt;

&lt;p&gt;Essentially, the trick is make sure you do the following:&lt;/p&gt;

&lt;p&gt;disable rapid-commit&lt;/p&gt;

&lt;p&gt;request a prefix-length of exactly 59&lt;/p&gt;

&lt;p&gt;It won&amp;rsquo;t work any other way. Requesting an address (as opposed to an address+prefix or a different prefix hint essentially breaks the request.&lt;/p&gt;
</description>
    </item>
    
    <item>
      <title>Mikrotik Routed VLANs (non-CRS)</title>
      <link>https://forwardingplane.net/post/mikrotik-routed-vlans-non-crs/</link>
      <pubDate>Mon, 18 Feb 2019 17:57:21 +0000</pubDate>
      
      <guid>https://forwardingplane.net/post/mikrotik-routed-vlans-non-crs/</guid>
      <description>&lt;p&gt;Add a simple set of VLANs to a CCR or other non-CRS RouterBoard.&lt;/p&gt;

&lt;pre&gt;&lt;code&gt;/interface vlan   
add interface=sfpplus1 name=sfpplus1.4 vlan-id=4 comment=&amp;quot;VLAN ID 4&amp;quot;  
add interface=sfpplus1 name=sfpplus1.5 vlan-id=5 comment=&amp;quot;VLAN ID 5&amp;quot;  
add interface=sfpplus1 name=sfpplus1.6 vlan-id=6 comment=&amp;quot;VLAN ID 6&amp;quot;  
add interface=sfpplus1 name=sfpplus1.7 vlan-id=7 comment=&amp;quot;VLAN ID 7&amp;quot;  
add interface=sfpplus1 name=sfpplus1.8 vlan-id=8 comment=&amp;quot;VLAN ID 8&amp;quot;  
add interface=sfpplus1 name=sfpplus1.9 vlan-id=9 comment=&amp;quot;VLAN ID 9&amp;quot;
&lt;/code&gt;&lt;/pre&gt;

&lt;p&gt;Add IP addressing to each VLAN&lt;/p&gt;

&lt;pre&gt;&lt;code&gt;/ipv6 address   
add address=2001:db8:c33e:f0::1/64 advertise=no  
add address=2001:db8:c:f4::1/64 advertise=yes interface=sfpplus1.4   
add address=2001:db8:c:f5::1/64 advertise=yes interface=sfpplus1.5 add address=2001:db8:c:f6::1/64 advertise=yes interface=sfpplus1.6   
add address=2001:db8:c:f7::1/64 advertise=yes interface=sfpplus1.7   
add address=2001:db8:c:f8::1/64 advertise=yes interface=sfpplus1.8   
add address=2001:db8:c:f9::1/64 advertise=yes interface=sfpplus1.9 
&lt;/code&gt;&lt;/pre&gt;

&lt;p&gt;Add legacy IPv4 addressing for each VLAN&lt;/p&gt;

&lt;pre&gt;&lt;code&gt;/ip address  
add address=10.2.200.1/26 interface=sfpplus1 comment=&amp;quot;Native VLAN&amp;quot;  
add address=10.2.4.1/25 interface=sfpplus1.4   
add address=10.2.5.1/25 interface=sfpplus1.5    
add address=10.2.6.1/25 interface=sfpplus1.6    
add address=10.2.7.1/25 interface=sfpplus1.7   
add address=10.2.8.1/25 interface=sfpplus1.8   
add address=10.2.9.1/25 interface=sfpplus1.9 
&lt;/code&gt;&lt;/pre&gt;
</description>
    </item>
    
    <item>
      <title>EdgeOS weighted load balance</title>
      <link>https://forwardingplane.net/post/edgeos-weighted-load-balance/</link>
      <pubDate>Mon, 18 Feb 2019 17:37:39 +0000</pubDate>
      
      <guid>https://forwardingplane.net/post/edgeos-weighted-load-balance/</guid>
      <description>&lt;pre&gt;&lt;code&gt;set load-balance group LoadBalance\_WAN interface  route-test initial-delay 15  
set load-balance group LoadBalance\_WAN interface  route-test interval 5  
set load-balance group LoadBalance\_WAN interface  route-test type ping target   
set load-balance group LoadBalance\_WAN interface  weight 95 # weight based on more bandwidth   
set load-balance group LoadBalance\_WAN interface  route-test initial-delay 15  
set load-balance group LoadBalance\_WAN interface  route-test interval 5  
set load-balance group LoadBalance\_WAN interface  route-test type ping target   
set load-balance group LoadBalance\_WAN interface  weight 5 # weight based on less bandwidth
&lt;/code&gt;&lt;/pre&gt;
</description>
    </item>
    
    <item>
      <title>Configuration Archive</title>
      <link>https://forwardingplane.net/post/configuration-archive/</link>
      <pubDate>Mon, 18 Feb 2019 16:15:48 +0000</pubDate>
      
      <guid>https://forwardingplane.net/post/configuration-archive/</guid>
      <description>&lt;p&gt;This section contains various configuration examples that I have built or found otherwise useful.&lt;/p&gt;

&lt;p&gt;[child_pages]&lt;/p&gt;
</description>
    </item>
    
    <item>
      <title>Eve-NG on proxmox for network virtualization</title>
      <link>https://forwardingplane.net/post/1575/</link>
      <pubDate>Wed, 16 Jan 2019 15:03:37 +0000</pubDate>
      
      <guid>https://forwardingplane.net/post/1575/</guid>
      <description>&lt;p&gt;CPU type “host” for proper nested virtualization&lt;/p&gt;

&lt;p&gt;&lt;a href=&#34;https://pve.proxmox.com/wiki/Nested_Virtualization&#34;&gt;https://pve.proxmox.com/wiki/Nested_Virtualization&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;Converting images&lt;/p&gt;

&lt;p&gt;qemu-img convert -f vmdk -O qcow2 vmx-nested-18.2R1.9-4.vmdk vmx-18.2R1.9-4/hda.qcow2&lt;/p&gt;
</description>
    </item>
    
    <item>
      <title>Internal Faucet Graphs</title>
      <link>https://forwardingplane.net/post/home-openflow-faucet-graphs/</link>
      <pubDate>Wed, 09 Jan 2019 21:48:21 +0000</pubDate>
      
      <guid>https://forwardingplane.net/post/home-openflow-faucet-graphs/</guid>
      <description>&lt;p&gt;OpenFlow statistics from my home installation powered by a 48 port, PoE &lt;a href=&#34;https://www.alliedtelesis.com/products/switches/x930-series&#34;&gt;Allied Telesis x930&lt;/a&gt; and a minimal linux container running &lt;a href=&#34;https://www.faucet.nz/&#34;&gt;Faucet&lt;/a&gt;. This installation runs my home, my home office, and my rack of lab gear.&lt;/p&gt;
</description>
    </item>
    
    <item>
      <title>IPv6 Q&amp;A for ISPs</title>
      <link>https://forwardingplane.net/post/ipv6-qa-for-isps/</link>
      <pubDate>Sat, 15 Dec 2018 01:21:09 +0000</pubDate>
      
      <guid>https://forwardingplane.net/post/ipv6-qa-for-isps/</guid>
      <description>&lt;p&gt;As a follow on to my post on &lt;a href=&#34;https://www.forwardingplane.net/2018/09/as-a-small-to-medium-isp-why-you-should-deploy-ipv6/&#34;&gt;why small to medium ISPs should deploy IPv6&lt;/a&gt; and the associated &lt;a href=&#34;https://blog.apnic.net/2018/12/13/three-reasons-why-ipv6-is-worth-the-effort/&#34;&gt;APNIC blog post,&lt;/a&gt; I have begun to compile a list of commonly asked questions IPv6 and their answers in relation to how a small to medium sized ISP can (and should) deploy IPv6. Expect this list to change and grow over time. &lt;/p&gt;

&lt;p&gt;-&amp;mdash;&amp;ndash;&lt;br /&gt;
&lt;strong&gt;Q: Is there DHCP in IPv6? &lt;/strong&gt;&lt;br /&gt;
-&amp;mdash;&amp;ndash;&lt;/p&gt;

&lt;p&gt;A:  There are &lt;a href=&#34;https://en.wikipedia.org/wiki/DHCPv6&#34;&gt;multiple DHCPv6 implementations&lt;/a&gt;, the one I like to use is isc-dhcpd as it tends to have the best standard support, is incredibly feature rich and well documented and is very scalable, but there are multiple options. &lt;br /&gt;
-&amp;mdash;&amp;mdash;&lt;br /&gt;
&lt;strong&gt;Q: How does one know what IP address the CPE has?&lt;/strong&gt;&lt;br /&gt;
-&amp;mdash;&amp;ndash;&lt;br /&gt;
A: DUID (DHCP Unique Identifier), PPPoE, etc. There are several ways. &lt;br /&gt;
-&amp;mdash;&amp;mdash;&lt;br /&gt;
&lt;strong&gt;Q: How does one perform traffic shaping for the entire /64 (or /48, or other nibble boundary block) assigned to the customer?&lt;/strong&gt;&lt;br /&gt;
-&amp;mdash;&amp;ndash;&lt;br /&gt;
A: Don’t shape on L3, it doesn’t scale. Shape on L2 at the CPE or use PPPoE. &lt;br /&gt;
-&amp;mdash;&amp;ndash;&lt;br /&gt;
&lt;strong&gt;Q) Can a dynamic CPE environment where devices can pull addresses with minimal input and work from the provider still work?&lt;/strong&gt;&lt;br /&gt;
-&amp;mdash;&amp;ndash;&lt;br /&gt;
A: Yes, DHCPv6 and &lt;a href=&#34;https://en.wikipedia.org/wiki/Prefix_delegation&#34;&gt;DHCPv6-PD&lt;/a&gt; handle these functions. There are well traveled and well vetted how-to’s for this. It is how the large incumbent providers work, regardless of delivery last mile (DSL, DOCSIS, Fixed wireless, etc.) &lt;/p&gt;

&lt;p&gt;-&amp;mdash;&amp;mdash;&lt;br /&gt;
&lt;strong&gt;Q: How does the host configure a host address? &lt;/strong&gt;&lt;br /&gt;
-&amp;mdash;&amp;mdash;&lt;/p&gt;

&lt;p&gt;A: Most devices will use what is called SLAAC. Addresses are auto-generated based on a MAC. A given host will have multiple IPv6 addresses and this is normal. There will also be the following on a HOST:&lt;br /&gt;
A link local address on every interface (starts with fe80: and is used for any communication on the same L2 segment)&lt;br /&gt;
A privacy address that rotates which much of the traffic will be worked from&lt;br /&gt;
An EUI-64 address (the auto configured address)&lt;br /&gt;
Potentially, but only when configured:&lt;br /&gt;
A DHCPv6 assigned address. &lt;br /&gt;
A Static Address&lt;/p&gt;

&lt;p&gt;On the ISP side, you’ll see any or all of the following:&lt;br /&gt;
A link local address (starts with fe80:)&lt;br /&gt;
An EUI-64 address&lt;br /&gt;
A static address&lt;br /&gt;
A prefix delegated prefix&lt;/p&gt;

&lt;p&gt;———&lt;br /&gt;
Other commonly questions and advice&lt;/p&gt;

&lt;p&gt;Come up with a reasonable IPv6 address plan before you start - work through it as you can. Start with your backbone&lt;br /&gt;
You will no longer memorize addresses (which you should not do anyway), instead, do two things:&lt;/p&gt;

&lt;p&gt;Think of all prefixes like you would consider a unique IPv4 address 4.2.2.&lt;sup&gt;2&lt;/sup&gt;&amp;frasl;&lt;sub&gt;32&lt;/sub&gt; ==2001:db8:44:22::/64&lt;br /&gt;
IPv6 addresses are written with the CIDR prefix (see above)&lt;/p&gt;

&lt;p&gt;Use DNS for everything you can - an IPAM like NetBox is your friend&lt;br /&gt;
It’s ok if your customers prefix delegation does not have reverse DNS&lt;br /&gt;
It’s ok to publicly address your infrastructure with IPv6. Use a single /48 dedicated for all infrastructure and then create an ACL at the network border to limit access&lt;br /&gt;
Public addresses for your customers are ok. &lt;br /&gt;
There is no NAT as in the IPv4 world, and there should not be NAT for IPv6. Period. &lt;br /&gt;
Yes, you want to dual-stack. It’s ok to have RFC1918 space plus public IPv6. In fact, that’s the most prevalent model (look at your cell phone)&lt;br /&gt;
You will have devices that won’t do IPv6. That’s expected. &lt;br /&gt;
Yes, you can do IPv6 only, but it’s significantly harder to manage than a standard dual stack network.&lt;/p&gt;
</description>
    </item>
    
    <item>
      <title>DNS - the treasure trove of information your ISP can see</title>
      <link>https://forwardingplane.net/post/dns-the-treasure-trove-of-information-your-isp-can-see/</link>
      <pubDate>Mon, 10 Dec 2018 10:23:42 +0000</pubDate>
      
      <guid>https://forwardingplane.net/post/dns-the-treasure-trove-of-information-your-isp-can-see/</guid>
      <description>&lt;p&gt;In recent years, the nature of &lt;a href=&#34;http://fortune.com/2017/11/23/net-neutrality-explained-what-it-means-and-why-it-matters/&#34;&gt;privacy on the internet&lt;/a&gt; has become a very important topic amongst those concerned with the now lack of &lt;a href=&#34;https://www.theverge.com/2017/12/14/16776154/fcc-net-neutrality-vote-results-rules-repealed&#34;&gt;net neutrality&lt;/a&gt;. The de-facto mechanism for dealing with privacy has been to &amp;ldquo;&lt;a href=&#34;https://letsencrypt.org/&#34;&gt;SSL all the things&lt;/a&gt;&amp;rdquo;, which I am very much in favor of. What many do not realize, though, is that simply using SSL for the traffic that transits a given ISP still leaves a wealth of thick, rich, delicious personal data still easily available to your ISP to harvest, sell, and do with as they please. This data comes in the form of DNS queries. DNS is the nearly-always-forgotten, crucial aspect of how the internet functions. Without DNS, nothing works. Everything appears broken and manifest as what appears to be a networking problem. ISPs typically provide what is called a &lt;a href=&#34;https://umbrella.cisco.com/blog/2014/07/16/difference-authoritative-recursive-dns-nameservers/&#34;&gt;recursive resolver&lt;/a&gt;, which for most people is handed down by a local provider to the customer premise equipment (CPE; usually a modem or optical terminal of some kind) that they install at a residence. This CPE then hands that resolver to your clients that use it to - you guessed it - recursively resolve DNS queries. These queries can be logged and then mined for browsing habits, etc. Anyone that has ever done any network forensics will know straight away that the value of the information contained in DNS query logs is very, very high. &lt;/p&gt;

&lt;p&gt;What this means is that even though a privacy conscious individual is hiding the bulk of their content in SSL, meaning the bulk of what they’re reading, searching for, and doing, is encrypted, the requests for that content or activity is not. For example, an ISP can potentially see that a client is making many, many queries for $onlineshopping.com and begin selling that data to advertisers. If you think they’re not doing this now, &lt;a href=&#34;https://www.wired.com/story/can-verizon-build-a-strong-brand-from-the-bones-of-yahoo-and-aol/&#34;&gt;think again&lt;/a&gt;. &lt;/p&gt;

&lt;p&gt;Great, so $bigbadprovider can see your queries. There are a number of pretty good ways to work around this, and &lt;a href=&#34;https://pi-hole.net/&#34;&gt;one of my favorite projects&lt;/a&gt; handily deals with one of them with great simplicity. What I am referring to is the newly popular &lt;a href=&#34;https://scotthelme.co.uk/securing-dns-across-all-of-my-devices-with-pihole-dns-over-https-1-1-1-1/&#34;&gt;DNS over HTTPS&lt;/a&gt;, which is supported by the &lt;a href=&#34;https://one.one.one.one/&#34;&gt;cloudflare 1.1.1.1 service&lt;/a&gt;. &lt;/p&gt;

&lt;p&gt;So, as a thought experiment I decided to play Reeses Peanut butter and chocolate with two of my favorite technological creations: the aforementioned PiHole, and &lt;a href=&#34;https://zerotier.com/&#34;&gt;ZeroTier&lt;/a&gt;. Now anyone that isn’t familiar with ZeroTier, you should acquaint yourself - Packet Pushers did a good &lt;a href=&#34;https://packetpushers.net/podcast/pq-134-meet-zerotier-open-source-networking/&#34;&gt;podcast on it back in November of 2017&lt;/a&gt;. It’s functionally an encrypted overlay supporting dual stack networking with auto configuration and gateway capabilities, and it runs on almost everything. I love this overlay technology and have been using it for a while - highly recommended.&lt;/p&gt;

&lt;p&gt;Back to my peanut butter and chocolate experiment. So, given that I had an existing ZeroTier network and an existing PiHole setup at home, I went over to &lt;a href=&#34;https://www.vultr.com/?ref=7692870&#34;&gt;Vultr.com&lt;/a&gt; and spun up a small VM for $3.50/mo, integrated it into my fleet with my Ansible and Salt tools, and installed ZeroTier and Pihole. From there I set up this DNS hierarchy. &lt;/p&gt;

&lt;p&gt;&lt;img src=&#34;https://docs.google.com/drawings/d/e/2PACX-1vS-DsmzNWvE335KZtNo6AHX3SySG-VQWhK7i9sNgT6mFMHC5VzRWtMuJg5JraU2dJTFQT4QIGnfaMFP/pub?w=960&amp;amp;h=720&#34; alt=&#34;&#34; /&gt;&lt;/p&gt;

&lt;p&gt;What this buys me is a fully encrypted DNS path up through the Vultr.com VM host without modifying the underlying DNS transport. And it works surprisingly well. I ran SmokePing from two hosts - both leveraging ZeroTier to do their testing, one on my local network and one in the cloud - to measure latency for a few days before I did this and kept that running after the deployment. Now, it’s not perfect but my family and I have been using this for about a month with minimal issues. Once in a great while we’ll see some slow DNS resolution time, but overall it works fairly well. &lt;/p&gt;

&lt;p&gt;&lt;img src=&#34;https://www.forwardingplane.net/wp-content/uploads/2018/12/Resolver-Queries.png&#34; alt=&#34;Resolver Queries&#34; title=&#34;Resolver Queries.png&#34; /&gt;&lt;/p&gt;

&lt;p&gt;&lt;strong&gt;My take &lt;/strong&gt;&lt;/p&gt;

&lt;p&gt;The idea of using a public resolver kinda bothers me, I realize it’s probably unfounded, but I know how to and have run resolvers for ISPs and organizations for like 20 years, so I have the burden of knowledge about what is in the logs and how to run my own. Using a secured recursive resolver is simply trading transit privacy for lack of query privacy somewhere else. Then there is the issue of content networks that use DNS queries to take you to the best / topologically closest cache of their content [NOTE: this, along with the forensics data for debugging potential security issues is a &lt;strong&gt;top&lt;/strong&gt; reason that all ISPs should run their own resolvers]. I fully realize that a normal end user running their own resolver is unlikely and that this deployment is a bit overkill. However, as I can demonstrably prove, it works. And it works pretty well. It also has the added bonus of allowing me to have internal DNS resolution of my own hosts and any mobile ZeroTier client. Is it for everyone? No way. Does it prove viability for low/medium traffic use? Sure. The point is really just to get folks thinking about information leaking that they may not have considered. The nature of the internet makes true privacy pretty much impossible, but there are a few ways to make your data a little harder to for companies to compile and capitalize on if you truly don’t want them to.&lt;/p&gt;
</description>
    </item>
    
    <item>
      <title>Faucet: Enterprise OpenFlow in production</title>
      <link>https://forwardingplane.net/post/faucet-enterprise-openflow-in-production/</link>
      <pubDate>Mon, 05 Nov 2018 10:56:21 +0000</pubDate>
      
      <guid>https://forwardingplane.net/post/faucet-enterprise-openflow-in-production/</guid>
      <description>

&lt;p&gt;Remember OpenFlow? It was the media and marketing darling for the better part of 5 years as “the machine” conflated OpenFlow with SDN and SDN with - almost literally - everything. &amp;ldquo;Still Does Nothing&amp;rdquo; was a common phrase uttered around those of us that had run large scale, complex networks for a long time. Quietly, &lt;a href=&#34;https://faucet-sdn.blogspot.com/&#34;&gt;and mostly&lt;/a&gt;, out of the fickle media and blogosphere eye, a scrappy little SDN project called &lt;a href=&#34;https://github.com/faucetsdn/faucet&#34;&gt;faucet&lt;/a&gt; has been &lt;a href=&#34;https://github.com/faucetsdn/faucet&#34;&gt;diligently plugging away&lt;/a&gt; &amp;ndash; making easy to use, production quality, well documented, and very stable code that runs OpenFlow networks quite happily in production and at scale. Oh, did I mention that it&amp;rsquo;s also got a very small footprint? Did I also mention that we&amp;rsquo;ve built a multi-terabit network that scales, transiting IPv4, IPv6, L2/L3 switching as well as routing? Or that faucet can control switches from multiple vendors, including P4 vendors who provide a P4-to-OF bridge, and interoperates with non-SDN networks? Or (and possibly most importantly) that faucet provides automated integration tests, allowing many bugs to be caught early (sometimes even by the switch vendor) before shipping new releases? Well, I should probably mention those things. I&amp;rsquo;ve been lucky enough to have been involved in SDN off and on since around 2009, and I can emphatically say that of the production SDN and OpenFlow networks that I have been intimately involved in, this combination of hardware, software and people has been, hands down, the most rewarding and most supportable. In fact, this has been so supportable and great to work with, we migrated our production branch office over to a set of faucet controlled SDN switches, and will soon migrate first hop routing over to our robust faucet system. &amp;ldquo;However did you do this?!?!&amp;rdquo; you might be inclined to say. Well, I&amp;rsquo;m glad you asked, because I am going to tell you.    First, though, there should be some design goals. As many of the naysayers of SDN will happy point out, &amp;ldquo;what problem are you trying to solve?&amp;rdquo; to that end, here is what our design goals were:&lt;/p&gt;

&lt;ul&gt;
&lt;li&gt;Run all layer 2 in via faucet&lt;/li&gt;
&lt;li&gt;Remove need to log into any network elements after deployment (other than firmware updates)&lt;/li&gt;
&lt;li&gt;Centralize management&lt;/li&gt;
&lt;li&gt;Stretch goal to NFV BGP, do first hop L3&lt;/li&gt;
&lt;/ul&gt;

&lt;p&gt;Easy enough, right? It really is. For our deployment we leveraged Aruba 2930F switches giving us a wealth of 1G copper ports and a handful of 10G SFP+ ports. Luckily, we already had this gear because as so many that have tried to deploy openflow in the past have seen, all hardware is not created equally. Luckily, the &lt;a href=&#34;https://www.faucet.org.nz/&#34;&gt;faucet foundation&lt;/a&gt; has published a list of requirements for support, and there are a reasonable number of vendors that actually conform. The real key that I learned in this process is that without proper vendor support (which had been several lacking in the past), and without multi-table, OpenFlow is not positioned for success. It comes down to using the right tools for the job, and OpenFlow (as well as SDN) is no different. Originally this post was to detail the process of building this network, much like posts in the past where there has been a “do this, then do that” how-to, it’s more or less unnecessary here. Why? The faucet project is serious, well documented and generally here to work. The expectation is that this is not an enclave, or a science experiment, or a lab. It’s a production network with real people and real traffic. Read that again. The expectation is that this is stable, supportable, and can do in ready to use day-to-day. And it doesn’t disappoint. Installing is a snap, the &lt;a href=&#34;https://docs.faucet.nz/en/latest/tutorials/first_time.html&#34;&gt;documentation&lt;/a&gt; for faucet is fantastic and complete. If there is something missing or a question, the developers are incredibly responsive and very quick to answer and address any issues that may arise. It’s extremely low footprint - it runs very well on a raspberry pi and does not tax a raspberry pi series 2, even with the gauge telemetry interface (there is a &lt;a href=&#34;https://docs.faucet.nz/en/latest/installation.html#installing-on-raspberry-pi&#34;&gt;pre-built pi OS&lt;/a&gt; for anyone that would prefer a more turnkey option). You may be thinking “_But Nick, I need my CLI!!!_” You’re covered - and here is why: the developers use this system. They run real networks with it. Every day. They know what is necessary to manage and maintain a real production network and sometimes that means troubleshooting. Like many engineers that learned on traditional network equipment, most of us prefer a CLI to troubleshoot, so the inclusion of this feature from the controller is not really a surprise. The fctl command provides a reasonable visibility into the operations of the controller and can be augmented and scripted.```
buraglio@faucet:~ $ /usr/bin/fctl &amp;ndash;help&lt;/p&gt;

&lt;p&gt;usage:&lt;/p&gt;

&lt;p&gt;MACs learned on a DP.&lt;/p&gt;

&lt;p&gt;/usr/bin/fctl -n &amp;ndash;endpoints=&lt;a href=&#34;http://172.17.0.1:9302&#34;&gt;http://172.17.0.1:9302&lt;/a&gt; &amp;ndash;metrics=learned_macs &amp;ndash;labels=dp_id:0xb827eb608918&lt;/p&gt;

&lt;p&gt;Status of all DPs&lt;/p&gt;

&lt;p&gt;/usr/bin/fctl -n &amp;ndash;endpoints=&lt;a href=&#34;http://172.17.0.1:9302&#34;&gt;http://172.17.0.1:9302&lt;/a&gt; &amp;ndash;metrics=dp_status&lt;/p&gt;

&lt;p&gt;Retrieve FAUCET/Gauge state using Prometheus variables.&lt;/p&gt;

&lt;p&gt;optional arguments:&lt;/p&gt;

&lt;p&gt;-h, &amp;ndash;help            show this help message and exit&lt;/p&gt;

&lt;p&gt;-n, &amp;ndash;nonzero         nonzero results only&lt;/p&gt;

&lt;p&gt;-e ENDPOINTS, &amp;ndash;endpoints ENDPOINTS&lt;/p&gt;

&lt;p&gt;list of endpoint URLs to query&lt;/p&gt;

&lt;p&gt;-m METRICS, &amp;ndash;metrics METRICS&lt;/p&gt;

&lt;p&gt;list of metrics to query&lt;/p&gt;

&lt;p&gt;-l LABELS, &amp;ndash;labels LABELS&lt;/p&gt;

&lt;p&gt;list of labels that must be present&lt;/p&gt;

&lt;p&gt;&amp;ndash;display-labels DISPLAY_LABELS&lt;/p&gt;

&lt;p&gt;list of labels to filter display by (default all)
```Monitoring is also taken into account in the form of the gauge interface, which provides a nearly-real-time telemetry stream of important and useful information. Leveraging both the wealth of topological information that the controller has at its disposal and a familiar &lt;a href=&#34;https://github.com/prometheus&#34;&gt;prometheus&lt;/a&gt; / &lt;a href=&#34;https://grafana.com/&#34;&gt;grafana&lt;/a&gt; back / front end interface, the oft-touted notion of streaming telemetry is fully - and quite capably - realized. From the perspective of a networking monitoring and statistics geek, this is the cat’s meow. Very, very data rich. &lt;a href=&#34;http://www.forwardingplane.net/wp-content/uploads/2018/11/grafana-screencap.png&#34;&gt;&lt;img src=&#34;http://www.forwardingplane.net/wp-content/uploads/2018/11/grafana-screencap-1024x275.png&#34; alt=&#34;&#34; /&gt;&lt;/a&gt; A simple diagram of our office network pretty well explains the decoupled control plane architecture. Keep it simple, architect for success. Fundamentally SDN networks should be designed like other networks, redundant systems, good monitoring, out of band access. A good design principle is that if you wouldn’t do it on a traditional network, you probably shouldn’t do it for an SDN based network.   &lt;a href=&#34;http://www.forwardingplane.net/wp-content/uploads/2018/11/faunet-office.png&#34;&gt;&lt;img src=&#34;http://www.forwardingplane.net/wp-content/uploads/2018/11/faunet-office.png&#34; alt=&#34;&#34; /&gt;&lt;/a&gt;   Don’t trust me? Fair enough, check out the &lt;a href=&#34;https://www.waikato.ac.nz/research/units/wand.shtml&#34;&gt;University of Waikato&lt;/a&gt; interface &lt;a href=&#34;https://grafana.redcables.wand.nz/d/000000003/redcables-bgp?orgId=1&#34;&gt;here&lt;/a&gt;. For more interface on the deployment at &lt;a href=&#34;https://wand.net.nz/&#34;&gt;WAND&lt;/a&gt;, check &lt;a href=&#34;https://redcables.wand.nz/&#34;&gt;this link&lt;/a&gt;. You won’t be disappointed.    &lt;/p&gt;

&lt;h2 id=&#34;my-take&#34;&gt;My take&lt;/h2&gt;

&lt;h3 id=&#34;building-and-running-it&#34;&gt;Building and running it&lt;/h3&gt;

&lt;p&gt;The &lt;a href=&#34;https://docs.faucet.nz/en/latest/&#34;&gt;documentation for faucet&lt;/a&gt; is indescribably better than any other SDN project I have worked with over the span of nearly 10 years. &lt;strong&gt;It’s also supportable.&lt;/strong&gt; My office has been running the enterprise network off of faucet for a while now, without issue, and it meets our design goals [stretch goal of BGP NFV is still in process - testing is successful]). It is easy to manage and very information rich. I can see security minded folks being very interested in the ACLs and other such options available.&lt;/p&gt;

&lt;h3 id=&#34;telemetry-and-analytics&#34;&gt;Telemetry and analytics    &lt;/h3&gt;

&lt;p&gt;   Where so many others in this space are talking about their Telemetry solution, this one is already here, complete, and usable. Frankly, I am fully comfortable running a production network on this technology, operationally it is truly easier. From a security perspective, the options added scale well and deliver on their promise. Where OpenFlow was once touted as the networking silver bullet (without a lot of real stick time to prove or disprove it), it has now fallen comfortable into a nice, supportable model.&lt;/p&gt;

&lt;h3 id=&#34;up-next&#34;&gt;Up next….    &lt;/h3&gt;

&lt;p&gt;If you think this is cool, wait until &lt;a href=&#34;https://sc18.supercomputing.org/&#34;&gt;SuperComputing 18&lt;/a&gt;, where we’re deploying a &lt;a href=&#34;https://www.linkedin.com/feed/update/urn:li:activity:6461072411969363968/&#34;&gt;first-of-it’s kind network&lt;/a&gt;, all controlled by FAUCET.&lt;/p&gt;
</description>
    </item>
    
    <item>
      <title>DDoS mitigation podcast, black hole routing</title>
      <link>https://forwardingplane.net/post/ddos-mitigation-podcast-black-hole-routing/</link>
      <pubDate>Thu, 01 Nov 2018 10:53:08 +0000</pubDate>
      
      <guid>https://forwardingplane.net/post/ddos-mitigation-podcast-black-hole-routing/</guid>
      <description>&lt;p&gt;As an often-security-engineer and an individual that has been working on large networks for quite a while, dealing with DDoS, or the threat of DDoS is a well traveled path. Recently I was invited to discuss some of the basics of DDoS mitigation on the Network Collective Podcast. This was a really fun and insightful chat with a wealth of great information for engineers and operators of any skill level.   &lt;a href=&#34;https://vimeo.com/298146825&#34;&gt;Ep38 - DDoS Mitigation&lt;/a&gt; from &lt;a href=&#34;https://vimeo.com/networkcollective&#34;&gt;Network Collective&lt;/a&gt; on &lt;a href=&#34;https://vimeo.com&#34;&gt;Vimeo&lt;/a&gt;.   As mentioned in the cast, there are some good, free resources out there for black hole routing. &lt;a href=&#34;https://fod.grnet.gr/welcome?next=/&#34;&gt;GRnet firewall on Demand&lt;/a&gt; &lt;a href=&#34;http://www.forwardingplane.net/2011/10/black-hole-routing/&#34;&gt;BlackHole Routing Basics&lt;/a&gt; &lt;a href=&#34;https://www.nanog.org/sites/default/files/tuesday_general_ddos_ryburn_63.16.pdf&#34;&gt;Using BGP FlowSpec slides from NANOG&lt;/a&gt;&lt;/p&gt;
</description>
    </item>
    
    <item>
      <title>The rush to automation and the IT pendulum</title>
      <link>https://forwardingplane.net/post/the-rush-to-automation-and-the-it-pendulum/</link>
      <pubDate>Thu, 18 Oct 2018 14:20:52 +0000</pubDate>
      
      <guid>https://forwardingplane.net/post/the-rush-to-automation-and-the-it-pendulum/</guid>
      <description>

&lt;p&gt;Recently, the venerable &lt;a href=&#34;https://blog.ipspace.net&#34;&gt;Ivan Pepelnjak&lt;/a&gt; published a very insightful article about &lt;a href=&#34;https://blog.ipspace.net/2018/10/why-is-network-automation-such-hot-topic.html&#34;&gt;automation becoming such a popular topic&lt;/a&gt; that was spawned by an email from one of his readers. I found this article to be spot on, and wanted to add a bit of my own opinion into the automation pie, as I have been spending a lot of time on automation as it related to existing networks as well as into SDN based environments. There is a link, and I wanted to explore it a bit more whilst adding a healthy dose of my opinion. A very large part of the automation push is the IT pendulum swing. Like those of us that worked in the burgeoning ISP world, automating was born of necessity. Except - we didn&amp;rsquo;t call it automation. Most of us didn&amp;rsquo;t call it anything, it was sysadmin scripting at worst and full blown orchestration at best. And there were even commercial platforms (see broadband provisioning tools). However, like many of us that were in the early ISP days, at the very least we had some rudimentary programming and scripting skills because we either had to develop them to stay afloat or we came from an early applied computer science background. Those skills, like a lot of other things, also have the pendulum swing.&lt;/p&gt;

&lt;h2 id=&#34;https-media-giphy-com-media-tttkr0wqcuct2-giphy-gif&#34;&gt;&lt;img src=&#34;https://media.giphy.com/media/ttTKR0wqCUCt2/giphy.gif&#34; alt=&#34;&#34; /&gt;&lt;/h2&gt;

&lt;h2 id=&#34;the-pendulum&#34;&gt;The pendulum.&lt;/h2&gt;

&lt;p&gt;Think of the pendulum in terms of computing, as it&amp;rsquo;s the easiest to quantify. Computing went from centralized (i.e. the mainframe) to decentralized (i.e. the desktop PC). Now we&amp;rsquo;re moving back into the &amp;ldquo;centralized&amp;rdquo; model in the push to cloud (ok, that may be a tad different, but conceptually it&amp;rsquo;s the same - work with me). Moving computationally expensive operations out of a single, personal system into a larger resource while reducing the overhead of the end station. Think &lt;a href=&#34;https://www.amazon.com/Google-Pixelbook-RAM-128GB-GA00122-US/dp/B075JSK7TR/ref=sr_1_4_acs_osp_osp19-42c2a08e-2d_2?s=pc&amp;amp;ie=UTF8&amp;amp;qid=1539871559&amp;amp;sr=1-4-acs&amp;amp;keywords=chromebook&amp;amp;tag=crverifiedexp-20&amp;amp;ascsubtag=42c2a08e-2d48-4a89-8acb-841bc830f277&amp;amp;linkCode=oas&amp;amp;cv_ct_id=amzn1.osp.42c2a08e-2d48-4a89-8acb-841bc830f277&amp;amp;cv_ct_pg=search&amp;amp;cv_ct_wn=osp-search&amp;amp;pf_rd_s=desktop-sx-inline&amp;amp;pd_rd_w=qgIuG&amp;amp;pf_rd_i=chromebook&amp;amp;pd_rd_wg=OLHr0&amp;amp;pf_rd_p=53b688eb-671a-4acd-886f-dc89fa36d3d2&amp;amp;pf_rd_t=301&amp;amp;pd_rd_r=4d4ed571-35bf-4be9-860c-7deaa1ce8cc4&amp;amp;pf_rd_r=QNRHZW6VWAWZ13HMDGF7&amp;amp;pf_rd_m=ATVPDKIKX0DER&amp;amp;creativeASIN=B075JSK7TR&amp;amp;pf_rd_p=53b688eb-671a-4acd-886f-dc89fa36d3d2&amp;amp;pd_rd_wg=OLHr0&amp;amp;pd_rd_i=B075JSK7TR&amp;amp;pf_rd_s=desktop-sx-inline&amp;amp;pf_rd_t=301&amp;amp;pf_rd_i=chromebook&amp;amp;pf_rd_m=ATVPDKIKX0DER&amp;amp;pd_rd_w=qgIuG&amp;amp;pf_rd_r=QNRHZW6VWAWZ13HMDGF7&amp;amp;pd_rd_r=4d4ed571-35bf-4be9-860c-7deaa1ce8cc4&#34;&gt;Chromebook&lt;/a&gt; or VDI thin client. Dramatic changes do not happen quickly in the networking world, and there are a number of simple reasons why&lt;/p&gt;

&lt;ol&gt;
&lt;li&gt;Mean time to replacement is somewhere between 5 and 10 years depending on the environment&lt;/li&gt;
&lt;li&gt;Standards for networking take &lt;strong&gt;For-ev-er&lt;/strong&gt;&lt;/li&gt;
&lt;/ol&gt;

&lt;p&gt;So, even if the time to replace lifecycle is short, the windows for new tech standards, vendor implementation, and knowledge dissemination to occur rarely, if ever, line up. What this means is that new tech is very slow to adopt in the network world. Even I make the mistake of being far too impatient with this process sometimes, as &lt;a href=&#34;https://twitter.com/bcjordo?lang=en&#34;&gt;Jordan Marti&lt;/a&gt;n called me out on in a &lt;a href=&#34;https://thenetworkcollective.com/2018/02/otc-nfd17/&#34;&gt;Network Collective podcast&lt;/a&gt; a few months ago (p.s., it&amp;rsquo;s a fun listen - check it out). Back to automation. As IT changed in non-service providers from a questionable money sink to a potentially critical revenue generating business and communications environment the generalist IT workers slowly morphed into the specialists. Developers, Network Engineers, Systems Engineers, phone system admins, etc. As this occurred, the disciplines fractured and the skillsets refined, and in many cases lost the generalist foundation in trade for a deeply focused skill set.&lt;/p&gt;

&lt;h2 id=&#34;the-sdn&#34;&gt;The SDN&lt;/h2&gt;

&lt;p&gt;After a decade or two of this shift, SDN blows onto the scene. SDN, as it emerges and becomes the new marketing darling of many a start up and huge company alike, promises to destroy boundaries and obsolete basically everything - equipment, skill sets, people, cars, dogs, cats, water, air&amp;hellip;&amp;hellip;.everything. The issue is that from a few research products that had ground breaking ideas came a monster. As over-hyped, over-marketed, and under developed juggernaut that had a different meaning to anyone you asked. Whole some folks plugged away quietly on &lt;a href=&#34;https://faucet.nz/&#34;&gt;projects that actually wor&lt;/a&gt;k, and &lt;a href=&#34;http://www.forwardingplane.net/2012/11/sdn-across-domains-in-the-wan-a-novice-look/&#34;&gt;experimented&lt;/a&gt; with &lt;a href=&#34;https://esnetupdates.wordpress.com/2015/11/03/esnets-nick-buraglio-leading-scinets-first-sdn-effort-at-sc15/&#34;&gt;deployments meant to function in production&lt;/a&gt;, the marketing machines created more and more hype and delivered only a few promises. This is the far out pendulum swing. Many operators recoiled. Enterprises said &amp;ldquo;why?&amp;rdquo;, and folks trying to push boundaries with new deployments were saying &amp;ldquo;&lt;em&gt;wait, let&amp;rsquo;s figure out &amp;ldquo;what&amp;rdquo; before we ask &amp;ldquo;why?&amp;rdquo;&lt;/em&gt;&amp;rdquo;. Then the pendulum started swinging back. Automation is back, and now there are &lt;a href=&#34;https://www.ansible.com/&#34;&gt;products&lt;/a&gt; and tools, and &lt;a href=&#34;https://www.ipspace.net/Hands-On_Network_Automation&#34;&gt;resources&lt;/a&gt;. We&amp;rsquo;re centering on a safer alternative that conservative enterprises can deploy safely and without event. We&amp;rsquo;re back to the fundamentals and the basics of what worked long ago - but now we have help.&lt;/p&gt;

&lt;h2 id=&#34;my-take&#34;&gt;My take&lt;/h2&gt;

&lt;p&gt;Make no mistake, I am still believer in the fundamentals that something resembling SDN brings to the table and have been working on &lt;a href=&#34;https://sc18.supercomputing.org/blog/&#34;&gt;significant SDN projects even recently&lt;/a&gt;, including moving our entire office over to FAUCET controlled switches (more on this soon), and a fair amount of work in the segment routing / PCE space. However, I am not a fan of the marketing machine, especially when there is a poverty of useful data to build said marketing from, and said marketing contains an &lt;a href=&#34;https://www.forwardingplane.net/2013/03/my-sdn-soapbox-now-with-ipv6/&#34;&gt;overabundance of sensational FUD&lt;/a&gt;. New technology needs to be supportable to be deployed, and it happens, very, very slowly. Much like IPv4 to IPv6, Frame Relay to ATM, and circuit switched to packet switched, as SDN technologies become more and more exposed and easier to use, they become &amp;ldquo;just another thing&amp;rdquo;, and that takes time.&lt;/p&gt;
</description>
    </item>
    
    <item>
      <title>As a small to medium ISP, why you should deploy IPv6</title>
      <link>https://forwardingplane.net/post/as-a-small-to-medium-isp-why-you-should-deploy-ipv6/</link>
      <pubDate>Sat, 01 Sep 2018 16:47:23 +0000</pubDate>
      
      <guid>https://forwardingplane.net/post/as-a-small-to-medium-isp-why-you-should-deploy-ipv6/</guid>
      <description>

&lt;p&gt;IPv6 has been a crusade of mine for well over a decade. Wether it is teaching IPv6 workshops, offering advice to new users, answering questions, or evangelizing it ad nauseam, it is an important topic to me. The ISP world holds a special place in my heart since a good deal of my early experience came from building or assisting regional ISPs. Recently I had a fun opportunity to talk about deploying IPv6 on &lt;a href=&#34;http://thebrotherswisp.com/&#34;&gt;The Brothers WISP podcast&lt;/a&gt;. This was a really fun experience, and if you&amp;rsquo;re looking at deploying v6, take a listen (or watch) to this - it should give you the basics or at the very least a place to start.  &lt;/p&gt;

&lt;h3 id=&#34;links-to-discussed-topics&#34;&gt;Links to discussed topics&lt;/h3&gt;

&lt;p&gt;IPv4/IPv6 subnetting tool: &lt;a href=&#34;https://github.com/sii/sipcalc&#34;&gt;sipcalc&lt;/a&gt; &lt;a href=&#34;http://sipcalc.tools.uebi.net/&#34;&gt;Online version&lt;/a&gt; Great, Free training for IPv6, plus a free T-Shirt if you complete it. &lt;a href=&#34;https://ipv6.he.net/certification/&#34;&gt;HE IPv6 certification&lt;/a&gt; &lt;a href=&#34;https://en.wikipedia.org/wiki/Comparison_of_DHCP_server_software&#34;&gt;DHCPv6 alternatives&lt;/a&gt; (YES, it exists) Looking to see if folks are tunneling using &lt;a href=&#34;https://tools.ietf.org/html/rfc3068&#34;&gt;6to4&lt;/a&gt; or &lt;a href=&#34;https://en.wikipedia.org/wiki/Teredo_tunneling&#34;&gt;Teredo&lt;/a&gt; in your network? Do netflow searches for these anycast addresses: 192.88.99.0/24 (6to4) 65.54.227.120 (Teredo) &lt;a href=&#34;https://howdoesinternetwork.com/2013/slaac&#34;&gt;Information on SLAAC&lt;/a&gt; (Auto-configuration) You might also be interested in a &lt;a href=&#34;https://www.youtube.com/watch?v=c8m2Sjre6t4&amp;amp;feature=youtu.be&#34;&gt;DNS podcast&lt;/a&gt; I did with Brothers WISP a while ago.&lt;/p&gt;
</description>
    </item>
    
    <item>
      <title>Trouble with Tribbles .....errr NAT</title>
      <link>https://forwardingplane.net/post/trouble-with-tribbles-errr-nat/</link>
      <pubDate>Mon, 16 Jul 2018 10:24:00 +0000</pubDate>
      
      <guid>https://forwardingplane.net/post/trouble-with-tribbles-errr-nat/</guid>
      <description>

&lt;p&gt;As a follow up to my &lt;a href=&#34;https://www.forwardingplane.net/2018/06/nat-discussions/&#34;&gt;last post&lt;/a&gt;, I wanted to dive a little deeper into the world of address translation and to suss out some of the more compelling details.&lt;/p&gt;

&lt;p&gt;As I&amp;rsquo;ve said on many occasions, it pains me to see NAT referenced as a security mechanism. That said, where PNAT can be beneficial is in an overall privacy strategy, however, even that is comparatively low value and given the current state of global IPv4 allocations, arguably a detriment to usability - we’ll get to that - before we do, it is important to understand what ’NAT” as we call it today actually is, and to do that we need to explain all of the types of address translation (yes, there are several). When what was designed&lt;/p&gt;

&lt;p&gt;&lt;strong&gt;Static, or one-to-one NAT&lt;/strong&gt; This is the original and most simple. It is comprised of an internal and corresponding external IP address. Every machine on the network still needs a public IP address for external mapping with this model. It was originally designed to solve the problem NAT was built to address: address translation between two networks.&lt;/p&gt;

&lt;p&gt;&lt;strong&gt;Dynamic NAT&lt;/strong&gt; This is a bit of a hybrid of static and the next type, NAPT. In this model, a NAT router maintains a set of external IPv4 address and cynically allocates one to internal addressed for outbound communication.&lt;/p&gt;

&lt;p&gt;&lt;strong&gt;Network Address port translation (NAPT)&lt;/strong&gt; This is what most folks will mean when they say “NAT”. Really, this is address masquerading with port translation. This is what is often confused with a security tool, given that it provides a low level of obfuscation from external scanning and “hides” the hosts behind an externally facing address. This mechanism is typically conflated with stateful firewall implementation, which is not inclusive of this implementation.&lt;/p&gt;

&lt;p&gt;Because of the enterprise expectation of a modern UTM, NAPT is unfortunately used interchangeably by many security professionals. What NAPT actually buys is a mechanism for obfuscating many hosts to a smaller number of addresses, typically on the same device. By removing a single data reconnaissance vector (scanning of ipv4) you’re actually providing a new one that’s much easier to exploit (state table exhaustion). While it does work to prevent inbound scanning, that’s really all it does other than allow for network and port translation, it should not be expected to provide anything more than simple obscuring of the internal data. NAPT as security is primarily predicated on the notion that your source address is critically important and should be obscured. While this is true to a certain extent, this believe is somewhat antiquated and should be treated as such. Tracking via source address is still completely doable with simple tools, and geolocation is completely available (assuming it is correctly registered) based on the NAPT address. This is true of IPv4 and IPv6. What NAT does accomplish is prevention of scanning and external recon of potentially sensitive systems. That’s it. I would also assert that this over-stated sense of usefulness users a false sense of protection and encourages a relaxed diligence on hardening end hosts. The same level of protection can very easily be accomplished on a public IPv4 or IPv6 prefix with a simple stateful firewall or host based firewall. What NAPT buys is two fold:&lt;/p&gt;

&lt;ul&gt;
&lt;li&gt;&lt;p&gt;Extension of IPv4 resources&lt;/p&gt;&lt;/li&gt;

&lt;li&gt;&lt;p&gt;A poor shortcut to resource protection&lt;/p&gt;&lt;/li&gt;
&lt;/ul&gt;

&lt;p&gt;If sized appropriately, the expense of this is a very under-stated price tag&lt;/p&gt;

&lt;ul&gt;
&lt;li&gt;&lt;p&gt;A sizable cost for right-sized UTM&lt;/p&gt;&lt;/li&gt;

&lt;li&gt;&lt;p&gt;Acceptance of the risk of a state table exhaustion DoS event&lt;/p&gt;&lt;/li&gt;

&lt;li&gt;&lt;p&gt;Insecure internal resources, IoT devices, or BYOD nodes that are compromised or vulnerable.&lt;/p&gt;&lt;/li&gt;
&lt;/ul&gt;

&lt;p&gt;Without proper east-west filtering and a tight egress policy, this sheen of protection becomes significantly less useful. Add in the likelihood of &lt;a href=&#34;https://en.wikipedia.org/wiki/Carrier-grade_NAT&#34;&gt;carrier grade NAT (CGNAT)&lt;/a&gt; due to extreme &lt;a href=&#34;https://en.wikipedia.org/wiki/IPv4_address_exhaustion&#34;&gt;exhaustion of IPv4 resource&lt;/a&gt;, and you compound the limits with additional operational and troubleshooting overhead. IPv6, while the correct next step, does solve a large part of the issues, but not without it’s own [mostly one-time] costs, and given the large uptake in IPv6 from both the client and content perspectives, it would behoove every organization to get their IPv6 strategy sorted and underway.&lt;/p&gt;

&lt;h3 id=&#34;my-take&#34;&gt;&lt;strong&gt;My take&lt;/strong&gt;&lt;/h3&gt;

&lt;p&gt;In the olden times of winnuke, providing a layer of confusion between the delicious caramel center of your network resource and the dragons of the internet was pretty important. The tracking mechanisms and scanning was mostly thwarted by the thin candy shell of the NAPT device. While this is still a very important aspect in your network architecture and defense in depth strategy, understanding the real risks and true value is important. The belief that NAPT provides your security (or that it is even a security tool at all) is somewhat misguided. With regard to privacy, the real threats lie in the metadata collection, and unless you are high profile or have a highly targeted business or personal footprint, the security incidents are far more nuanced and often happen at higher layers. In addition, lets not forget that a very, very real threat is not from random poking at our externally facing network resources, but in the social engineering attacks that are readily let right in the door. In addition, there are a number of significant risks that NAPT beings to bear based on it’s use of a state table to track IP to port mappings. All of these details need to be considered and continually revisited for relevance.&lt;/p&gt;

&lt;h3 id=&#34;further-study&#34;&gt;&lt;strong&gt;Further study&lt;/strong&gt;&lt;/h3&gt;

&lt;p&gt;Understanding that this is a very high profile, sensitive, and polarizing subject, additional reading and research is important. A few good white papers detailing shortcomings and misconceptions surrounding NAPT can be found &lt;a href=&#34;https://www.google.com/amp/s/www.calyptix.com/top-threats/ddos-attacks-101-types-targets-motivations/amp/&#34;&gt;here&lt;/a&gt; and &lt;a href=&#34;https://f5.com/resources/white-papers/the-myth-of-network-address-translation-as-security&#34;&gt;here&lt;/a&gt;. In addition, &lt;a href=&#34;https://thenetworkcollective.com/&#34;&gt;The Network Collective&lt;/a&gt; invited me back to discuss privacy in networking. What resulted was a very spicy podcasts that really highlights the complexity of privacy as a concept in today&amp;rsquo;s internet.&lt;/p&gt;

&lt;p&gt;&lt;a href=&#34;https://vimeo.com/272381393&#34;&gt;Ep28 - For The Love Of NAT&lt;/a&gt; from &lt;a href=&#34;https://vimeo.com/networkcollective&#34;&gt;Network Collective&lt;/a&gt; on &lt;a href=&#34;https://vimeo.com&#34;&gt;Vimeo&lt;/a&gt;.&lt;/p&gt;
</description>
    </item>
    
    <item>
      <title>NAT discussions, fact checking, and debate</title>
      <link>https://forwardingplane.net/post/nat-discussions/</link>
      <pubDate>Mon, 11 Jun 2018 09:41:15 +0000</pubDate>
      
      <guid>https://forwardingplane.net/post/nat-discussions/</guid>
      <description>&lt;p&gt;I’ve been very vocal about the misinterpretation of NAT for many, many years. Since it&amp;rsquo;s inception, NAT has been slowly perverted into what many now believe to be a security mechanism. While I do see a reasonable use of IP masquerading in a larger security strategy, this is not the original intent (or implementation) of NAT. What mosts network engineers call &amp;ldquo;NAT&amp;rdquo; is actually &lt;a href=&#34;https://www.tldp.org/HOWTO/IP-Masquerade-HOWTO/ipmasq-background2.1.html&#34;&gt;one to many network port address translation&lt;/a&gt; - or taking one public address and &amp;ldquo;hiding&amp;rdquo; a number of private (likely &lt;a href=&#34;https://tools.ietf.org/html/rfc1918&#34;&gt;RFC1918&lt;/a&gt;) addresses &amp;ldquo;behind&amp;rdquo; it, using ports to translate traffic and keeping the state of those connections. Given my&amp;hellip;.vigor for debating the details of NAT, I was invited to discuss this on &lt;a href=&#34;https://thenetworkcollective.com/2018/05/ep28-for-the-love-of-nat/&#34;&gt;an episode of The Network Collective Podcast.&lt;/a&gt; We get to some of the grimy details with some technical heavy hitters, so if you&amp;rsquo;re into the debate, it is certainly worth a watch.&lt;/p&gt;
</description>
    </item>
    
    <item>
      <title>Field Area Networking</title>
      <link>https://forwardingplane.net/post/field-area-networking/</link>
      <pubDate>Fri, 04 May 2018 13:38:15 +0000</pubDate>
      
      <guid>https://forwardingplane.net/post/field-area-networking/</guid>
      <description>

&lt;p&gt;It&amp;rsquo;s no secret that RF technologies and what like to call &amp;ldquo;specialty networking&amp;rdquo; are two of my favorite things in the networking space. &lt;strong&gt;Put them together and it is like chocolate and peanut butter!&lt;/strong&gt; Now, some may not consider Field Area Networking (FAN) to be &amp;ldquo;unconventional&amp;rdquo;, but it certainly falls well outside of the space of what is typically traditional enterprise networking. That said, Cisco&amp;rsquo;s FAN briefing at &lt;a href=&#34;http://techfieldday.com/event/nfd17/&#34;&gt;Network Field Day 17&lt;/a&gt; really got me excited and thinking about the alternatives for the IoT space. Other than cellular LTE or &lt;a href=&#34;https://www.link-labs.com/blog/what-is-lte-m&#34;&gt;LTE-M&lt;/a&gt;, there are few options for remote IoT devices with limited power draw and bandwidth requirements. So I went down the twisted path of investigating that space, and recently, I recorded a &lt;a href=&#34;https://thenetworkcollective.com/&#34;&gt;Network Collective&lt;/a&gt; short take on the subject, available below. The NFD 17 Cisco FAN briefing that this is based around is also worth a watch - this is really innovative stuff that many of us probably don&amp;rsquo;t think about. &lt;a href=&#34;https://vimeo.com/253197120&#34;&gt;Cisco Innovations for the Field Area Network with Rupak Chandra&lt;/a&gt; from &lt;a href=&#34;https://vimeo.com/sfoskett&#34;&gt;Stephen Foskett&lt;/a&gt; on &lt;a href=&#34;https://vimeo.com&#34;&gt;Vimeo&lt;/a&gt;.  &lt;/p&gt;

&lt;h3 id=&#34;nick-s-take&#34;&gt;Nick&amp;rsquo;s take:&lt;/h3&gt;

&lt;p&gt;As we talk about things like cloud migration, automation, orchestration, and security architectures, lets consider the sheer scale of not just IoT networking but the sensor and other industrial networking _&lt;strong&gt;outside&lt;/strong&gt; _of the enterprise space. The sheer number of devices to be managed in these spaces is stupefying, and the transport of the data created by these networks as well as the management of the devices and network elements is a non-trivial detail. Building out networks such as a sensor network has a completely different scope and scale than a stereotypical enterprise or even a carrier service provider network. Keeping in mind just the number of hosts things like addressing schema become a critical part of the architecture (spoiler: you&amp;rsquo;re probably not going to be able to scale IPv4). Power and environmental considerations are also not nearly as squishy as they can be in a nice, controlled data center. Considering those data points, it&amp;rsquo;s pretty clear that there is plenty of interesting stuff happening in both the engineering and security areas.&lt;/p&gt;
</description>
    </item>
    
    <item>
      <title>Strategy Series: Build vs. Buy (sorta)</title>
      <link>https://forwardingplane.net/post/strategy-series-build-vs-buy-sorta/</link>
      <pubDate>Mon, 19 Feb 2018 22:53:03 +0000</pubDate>
      
      <guid>https://forwardingplane.net/post/strategy-series-build-vs-buy-sorta/</guid>
      <description>

&lt;p&gt;Build vs. buy is an often lamented and always hotly debated question in all aspects of IT, however, if one is able to truly look at all angles the answer is typically straightforward and can be rooted in one simple strategy: don&amp;rsquo;t reinvent the wheel.&lt;/p&gt;

&lt;h1 id=&#34;don-t-reinvent-the-wheel&#34;&gt;Don&amp;rsquo;t reinvent the wheel&lt;/h1&gt;

&lt;p&gt;Too many times we as an industry don&amp;rsquo;t do our homework - we are all guilty of it - and we reinvent a wheel. Make no mistake, there are true reasons to revisit, revise and reinvent. Lets use an example that &lt;a href=&#34;https://github.com/buraglio/pfrancid&#34;&gt;I&lt;/a&gt; &lt;a href=&#34;https://github.com/buraglio/vdxrancid&#34;&gt;am&lt;/a&gt; &lt;a href=&#34;https://github.com/buraglio/alurancid&#34;&gt;fairly&lt;/a&gt; &lt;a href=&#34;https://github.com/buraglio/sonrancid&#34;&gt;familiar&lt;/a&gt; &lt;a href=&#34;https://github.com/buraglio/cienarancid&#34;&gt;with&lt;/a&gt;: RANCID &lt;a href=&#34;http://shrubbery.net/rancid/&#34;&gt;RANCID&lt;/a&gt; code is 20+ years old and pretty messy. RANCID3 is a rewrite that in my opinion makes the already confusing ball of Perl, Expect, and shell even more confusing. &lt;a href=&#34;https://github.com/ytti/oxidized&#34;&gt;Oxidized&lt;/a&gt; made that process more elegant and arguably more flexible and extensible. That was a good call. Build vs buy is a tough question and as an industry we tend to think about resources in a lopsided way, which further increases that complexity. Resources have always been and will always be finite, and no matter if you build or buy, you are expending your resources. Lets break down the resources:&lt;/p&gt;

&lt;ul&gt;
&lt;li&gt;Time&lt;/li&gt;
&lt;/ul&gt;

&lt;p&gt;That&amp;rsquo;s pretty much the extent of it. Everything else is driven by this. Time coasts money. It costs money in the form of salaries, overtime, downtime, etc. In IT we describe things in terms of uptime. Five 9&amp;rsquo;s is the uptime we strive for. When we have downtime, it costs money in the form of lost income or expense to repair and often both. Salaries are paid based on time, hourly, weekly, monthly, yearly. Employes trade their time for that salary regardless of how it is structured. You pay for resources that make more efficient use of time. Employers often fall into one of two buckets:&lt;/p&gt;

&lt;ul&gt;
&lt;li&gt;Able to hire FTE (OPEX)&lt;/li&gt;
&lt;li&gt;Able to pay vendors (CAPEX)&lt;/li&gt;
&lt;/ul&gt;

&lt;p&gt;Obviously this isn&amp;rsquo;t always the case, but it&amp;rsquo;s very common - and if we conveniently overlook those environments that are jut to conservative to consider OPEX (i.e. they always choose buy and generally fall into the &amp;ldquo;able to pay vendors&amp;rdquo; category), it&amp;rsquo;s fairly easy to map build vs buy into those models. Can you support running open source or white box solutions, operationally? Will the OPEX actually save you money when compared to the CAPEX changes they require to make happen? Should you pay for an off the shelf solution and hope that the support you buy can address the issues you&amp;rsquo;ll have? [&lt;em&gt;My strong opinion is that they almost never can, but the comfort that they provide to legal departments and C level execs is what they actually purchase&lt;/em&gt;] It is important to note that different environments introduce very different edge cases, and with many highly technical people, these edge cases have a tendency to creep in and drive a large part of our architectures, but it also gives us a veneer over our needs and requirements process that makes it easier to say &amp;ldquo;we&amp;rsquo;re special and we have hard requirements for not only A and B but also C, D, E and F&amp;rdquo;. C, D, E, and F are likely so edge case that we really don&amp;rsquo;t *need* them. This is where It gets messy and where the hyperscalers have done it right: Say no.&lt;/p&gt;

&lt;p&gt;&lt;a href=&#34;https://giphy.com/gifs/reactionseditor-3o7btT1T9qpQZWhNlK&#34;&gt;via GIPHY&lt;/a&gt; Interdomain multicast? Nope. Requirements for full global tables on every device? Nope. If we really ask ourselves if the requirements are actually requirements or if they are simply desirable because they may make things easier or may satisfy a 5-10% use use case, then maybe we should revisit how we&amp;rsquo;re actually developing our needs and requirements. Mapping business (or other strategic) requirements into technology can be difficult, especially if there is no direct correlation to profit or loss. We are a culture of wheel inventors and we embrace it, but 80-85% of the time our wheels can be dead simple and still roll us where we need to go. &lt;strong&gt;&lt;em&gt;What we get &amp;ldquo;for free&amp;rdquo; with that is standardization and ease of management&lt;/em&gt;&lt;/strong&gt; (lower CAPEX). If we look back at history as an example, no sane person wants to run a network that routes AppleTalk, IPX, IPv4, IPv6 and transits DECNet. that sucked. It was too complicated. It was buggy. We simplified it down to IPv[&lt;sup&gt;4&lt;/sup&gt;&amp;frasl;&lt;sub&gt;6&lt;/sub&gt;] and low and behold most of the gear got more stable, configurations got simpler, and networks got easier to run. We should learn from that. Make no mistake, I realize that reinventing wheels to make them roll faster, longer, etc. is called innovation. However, along with our needs and requirements we need to put serious consideration into our business strategy. Is our business to innovate? Are we going to see direct or indirect improvements to CAPEX or OPEX if we &lt;em&gt;do&lt;/em&gt; innovate. Are we factoring in the &lt;em&gt;cost&lt;/em&gt; of the innovation? Where this starts to get even more fuzzy is in the opensource world. In this space &amp;ldquo;build&amp;rdquo; can be defined as self supporting, meaning &amp;ldquo;use of opensource products with no formal or contractual support structure&amp;rdquo;, which a very large amount of organizations are very wary of (and many actively avoid). These are all important questions that must be addresses when deciding on the strategy of build vs buy - it&amp;rsquo;s not as straight forward and simple of a question as &amp;ldquo;build or buy&amp;rdquo;, it seems. If you&amp;rsquo;re looking for a different perspective on a very similar topic, check &lt;a href=&#34;https://rule11.tech&#34;&gt;Russ White&lt;/a&gt;&amp;rsquo;s (yes, &lt;a href=&#34;https://www.linkedin.com/in/riw777/&#34;&gt;THAT Russ White&lt;/a&gt;) post on &lt;a href=&#34;https://rule11.tech/enterprise-versus-provider/&#34;&gt;Enterprise vs. Provider&lt;/a&gt;. While not entirely similar, it points out that we have problems and solutions, and that knowing what both of those are is critical to success regardless of their ecosystem. This is key. We need to look at the whole picture. &lt;em&gt;My take: We need to look at the entire picture. It&amp;rsquo;s not as simple as one question. Personally I tend to lean more toward build, but for the majority of my career I was in environments that had extremely clued engineers and support staff. Is this for everyone? Nope. Is it a viable option, absolutely. You invest in people or you invest in contracts. I&amp;rsquo;d rather invest in really, really good people. &lt;/em&gt; &lt;em&gt;When it comes down to innovation, it&amp;rsquo;s a little more complicated:&lt;/em&gt; &lt;em&gt;1. if wheel exists don&amp;rsquo;t build wheel.&lt;/em&gt; &lt;em&gt;2. If the wheels aren&amp;rsquo;t exactly the shape or size you need, augment the wheels and contribute your augmentations back for review and inclusion in the wheel plans and inventory where possible and appropriate.&lt;/em&gt; &lt;em&gt;3. If the wheels don&amp;rsquo;t exist, build a wheel and share the plans for the wheel whenever you can.&lt;/em&gt;```
#!/usr/bin/python&lt;/p&gt;

&lt;p&gt;if wheel == &amp;lsquo;yes&amp;rsquo;:
 print(&amp;lsquo;use existing wheel&amp;rsquo;)
 elseif &amp;lsquo;yes, but incomplete&amp;rsquo;:
 print(&amp;ldquo;augment wheel, contribute wheel changes&amp;rdquo;)
 elseif no:
 print(&amp;ldquo;build wheel, share plans&amp;rdquo;)
 print &amp;ldquo;Miller Time&amp;rdquo;
```* Code is provided as-is and is likely incorrect, we take no responsibility for poor code or fallout from running said code&lt;/p&gt;
</description>
    </item>
    
    <item>
      <title>Strategy Series: How do you view outside of your network?</title>
      <link>https://forwardingplane.net/post/strategy-series-view-outside-network/</link>
      <pubDate>Sat, 10 Feb 2018 16:58:28 +0000</pubDate>
      
      <guid>https://forwardingplane.net/post/strategy-series-view-outside-network/</guid>
      <description>

&lt;p&gt;In the tradition of my &lt;a href=&#34;https://www.forwardingplane.net/topics/nix4neteng/&#34;&gt;NIX4NetEng&lt;/a&gt; series I&amp;rsquo;m going to dive deep into the world of strategy, and specifically into the strategy of how we look at and operate our networks, the data they generate and the analytics that are available (and often overlooked) in how networks are managed both long term and day-to-day. So, in the spirit of visibility, lets think about how typical networks are monitored. My guess is that you either already know, or will soon realize that v&lt;em&gt;isibility and testing across disparate networks is hard.&lt;/em&gt; This is a &lt;strong&gt;big&lt;/strong&gt; topic, so sit back, relax, get your feet up and prepare for a magical journey into the fun and fantastical world of network visibility!&lt;/p&gt;

&lt;p&gt;&lt;a href=&#34;https://giphy.com/gifs/magic-krhB8ydCQiYZq&#34;&gt;via GIPHY&lt;/a&gt; I&amp;rsquo;m going to glaze over the low hanging fruit of SNMP monitoring - you have all of that right? Yes? Good. No?!?! Shame on you&amp;hellip;I&amp;rsquo;l do another post of some of my &lt;a href=&#34;https://www.librenms.org/&#34;&gt;favorite tools&lt;/a&gt; soon and you can shamefully download them and set them up, head hung low (until they&amp;rsquo;re up monitoring and alerting, at which point you can raise your head up high!). Lets make a very, very bold assumption that you totally understand how your internal network works, you have graphing, up/down statistics, traffic baselines and visibility into &lt;a href=&#34;http://www.forwardingplane.net/2017/12/what-is-your-netflow-strategy/&#34;&gt;traffic flow&lt;/a&gt; and &lt;a href=&#34;http://www.forwardingplane.net/2017/10/configuration-backups-opportunity-automation-management/&#34;&gt;configurations&lt;/a&gt;. Don&amp;rsquo;t worry, if you don&amp;rsquo;t have those things you can link to a few options here or wait and I&amp;rsquo;ll circle back around to them in later topics.&lt;/p&gt;

&lt;h1 id=&#34;visibility-and-testing-across-diverse-networks-is-hard&#34;&gt;&lt;em&gt;&amp;ldquo;Visibility and testing across diverse networks is hard.&amp;rdquo;&lt;/em&gt;&lt;/h1&gt;

&lt;p&gt;OK, so visibility. &lt;img src=&#34;http://www.nickburaglio.com/wp-content/uploads/2015/09/day7.jpg&#34; alt=&#34;&#34; /&gt; Any network engineer with some experience under their belt has gotten the problem report of &amp;ldquo;the internet is down&amp;rdquo; or &amp;ldquo;the internet is slow&amp;rdquo;. Yup, we all know them, we all love them. We even had an internal joke at a previous employer of mine that we could &amp;ldquo;ping the internet&amp;rdquo;, in that we created a CNAME of &amp;ldquo;theinternet&amp;rdquo; for a host that had high uptime.&lt;code&gt;
(~) heelflip $ ping theinternet
PING theinternet (10.142.143.167): 56 data bytes
64 bytes from 10.14.143.167: icmp\_seq=0 ttl=54 time=0.794 ms
64 bytes from 10.14.143.167: icmp\_seq=1 ttl=54 time=0.768 ms
64 bytes from 10.14.143.167: icmp\_seq=2 ttl=54 time=0.734 ms
64 bytes from 10.14.143.167: icmp\_seq=3 ttl=54 time=0.732 ms
64 bytes from 10.14.143.167: icmp\_seq=4 ttl=54 time=0.758 ms
64 bytes from 10.14.143.167: icmp\_seq=5 ttl=54 time=0.761 ms
&lt;/code&gt;Right, so you get the internal network. What about when you get to the part that you don&amp;rsquo;t control and can&amp;rsquo;t see into? That&amp;rsquo;s harder, but rest easy - there are a number of ways to go about gathering the necessary details. What should those data sources be? Let me throw down what I think are important to track to really understand what the heck is going on outside of your AS or sphere of influence.&lt;/p&gt;

&lt;ol&gt;
&lt;li&gt;Paths to common destinations (&lt;a href=&#34;https://google.com&#34;&gt;google&lt;/a&gt;, &lt;a href=&#34;https://www.servicenow.com&#34;&gt;servicenow&lt;/a&gt;, &lt;a href=&#34;https://www.salesforce.com&#34;&gt;SalesForce)&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;Route table for all peerings (if taking more than default and are using eBGP)&lt;/li&gt;
&lt;li&gt;Latency statistics from your site to common destinations (see 1.)&lt;/li&gt;
&lt;li&gt;Latency statistics from outside of your network to your site&lt;/li&gt;
&lt;li&gt;Latency (and possibly throughput) statistics to intermediary points across your typical paths&lt;/li&gt;
&lt;li&gt;External route table and path statistics&lt;/li&gt;
&lt;li&gt;Packet loss statistics&lt;/li&gt;
&lt;/ol&gt;

&lt;p&gt;That&amp;rsquo;s a decent amount of data. How can this be done? Well, let me tell you, there are a few ways but drawing them all together can be a daunting task. This can be accomplished by looking at data produced by &lt;a href=&#34;https://oss.oetiker.ch/smokeping/&#34;&gt;smokeping&lt;/a&gt; or &lt;a href=&#34;https://github.com/perfsonar/owamp&#34;&gt;owamp&lt;/a&gt; with an SNMP graphing tool for interface stats and &lt;a href=&#34;https://bgpmon.net/&#34;&gt;BGPMon&lt;/a&gt; and Peermon for BGP information. An opensource product called &lt;a href=&#34;https://www.perfsonar.net/&#34;&gt;perfSonar&lt;/a&gt; rolls a lot of this together, but there are commercial packages such as &lt;a href=&#34;https://www.thousandeyes.com/&#34;&gt;ThousandEyes&lt;/a&gt; that offer these types of statistics across a large swath of the internet as well. &lt;a href=&#34;https://atlas.ripe.net/&#34;&gt;RIPE ATLAS&lt;/a&gt; has a great deal of statistics that can be easily queried  and has a large install base too. If you are a savvy coder you can grab some good information from the &lt;a href=&#34;https://atlas.ripe.net/docs/api/v2/manual/&#34;&gt;RIPE ATLAS API&lt;/a&gt;. If you don&amp;rsquo;t have the resources, capability, or time to do that then there is an option for a turnkey solution. &lt;a href=&#34;https://www.thousandeyes.com&#34;&gt;ThousandEyes&lt;/a&gt; has a strong offering and there is a great deal of information that they gather. They also have very good presence and availability of information about their product, most recently presenting at &lt;a href=&#34;http://techfieldday.com/appearance/thousandeyes-presents-at-networking-field-day-17/&#34;&gt;Network Field Day 17&lt;/a&gt; (and historically at &lt;a href=&#34;http://techfieldday.com/appearance/thousandeyes-presents-at-networking-field-day-6/&#34;&gt;NFD 6&lt;/a&gt;, &lt;a href=&#34;http://techfieldday.com/appearance/thousandeyes-presents-at-networking-field-day-8/&#34;&gt;NFD 8&lt;/a&gt;, and &lt;a href=&#34;http://techfieldday.com/appearance/thousandeyes-presents-at-networking-field-day-12/&#34;&gt;NFD 12).&lt;/a&gt;I was a delegate at NFD 17 and was pleased to see another tool that provides visibility into BGP, a very often overlooked and yet unbelievablycritical and useful viewpoint which has historically been difficult to see outside of tools like &lt;a href=&#34;http://www.forwardingplane.net/2015/03/opendns-acquires-bgpmon-and-the-future-of-route-monitoring/&#34;&gt;BGPMon&lt;/a&gt;. (see my previous &lt;a href=&#34;https://www.forwardingplane.net/topics/nix4neteng/&#34;&gt;NIX4NetEng&lt;/a&gt; &lt;a href=&#34;http://www.forwardingplane.net/2014/03/bgp-tools-troubleshooting-and-monitoring-external-routing-in-a-nutshell/&#34;&gt;post about BGP visibility&lt;/a&gt;). &lt;a href=&#34;http://techfieldday.com/appearance/netbeez-presents-at-networking-field-day-9/&#34;&gt;NetBeez&lt;/a&gt; also has a reasonable offering but last I have looked it doesn&amp;rsquo;t really do much outside of a network (admittedly I may be behind the curve with their product). If you&amp;rsquo;re interested in seeing or hearing some more about these products, I did a packet pushers podcast on perfSonar a few years ago which is dated as far as feeds and speeds, but still very relevant today, you can read the show notes and listen &lt;a href=&#34;http://packetpushers.net/podcast/podcasts/show-163-open-source-perfsonar-finds-the-flaws-impacting-the-flows/&#34;&gt;here.&lt;/a&gt; For more info on ThousandEyes you can check out the latest &lt;a href=&#34;http://techfieldday.com/event/nfd17/&#34;&gt;NFD17&lt;/a&gt; videos.   The real point is that to really see the performance of your network and to fully understand the true user experience you need to have total visibility into the entire ecosystem, not just the pieces that you can control.&lt;/p&gt;

&lt;h6 id=&#34;for-anyone-wigged-out-about-the-eyeball-pic-those-are-my-eyes-7-days-after-lasik-http-www-nickburaglio-com-2015-09-02-eg-html&#34;&gt;*For anyone wigged out about the eyeball pic, those are my eyes &lt;a href=&#34;http://www.nickburaglio.com/2015/09/02/eg-html/&#34;&gt;7 days after Lasik&lt;/a&gt;.&lt;/h6&gt;
</description>
    </item>
    
    <item>
      <title>Strategy Series: What is your netflow strategy?</title>
      <link>https://forwardingplane.net/post/what-is-your-netflow-strategy/</link>
      <pubDate>Mon, 18 Dec 2017 11:15:30 +0000</pubDate>
      
      <guid>https://forwardingplane.net/post/what-is-your-netflow-strategy/</guid>
      <description>

&lt;p&gt;You have one, right? Even if your entire strategy is “collect some flow data”, there is absolutely NO reason not to have a netflow implementation, and frankly, it will save you time and money over time if you make the effort to do it. I love network data and analytics and I have waxed poetic about how important they are at every opportunity. There are a myriad of options for analytics and flow data. If you’re not doing something, you’re doing it wrong. I can go on and on about the importance of network data for budgeting, security, capacity planing, and general knowledge of what your network is actually doing, but that’s for another day (contact me directly if you really want to chat details on that subject). Today is about network flow data - the foundational bits and pieces of what the heck your network, big or small, is actually doing. I’ve been having a breakdance fight with flow data packages for almost two decades, and I’ve jotted down a few of my more notable experiences. Regardless of your needs, budget, abilities, or time, there is a solution for you.&lt;/p&gt;

&lt;p&gt; &lt;/p&gt;

&lt;p&gt;&lt;a href=&#34;https://giphy.com/gifs/breakin-boogaloo-shrimp-11FirB7GcukiwU&#34;&gt;via GIPHY&lt;/a&gt;&lt;/p&gt;

&lt;h2 id=&#34;arbor-https-www-arbornetworks-com&#34;&gt;&lt;strong&gt;&lt;a href=&#34;https://www.arbornetworks.com/&#34;&gt;Arbor&lt;/a&gt;&lt;/strong&gt;&lt;/h2&gt;

&lt;p&gt;Arbor is the Rolls Royce of flow analytics (and DDoS mitigation) solutions. It does almost everything, has options for managed objects, DDoS scrubbing and alerting capabilities, a magnificent interface, role based access, rainbows and gumdrop houses with lollipop trees. This system is pretty darned amazing - it truly is, and that likely comes from the fact that they were one of the first, and had/have one of the largest install bases for this kind of system. They have turnkey solutions and have the unique position of being in roughly 90% of the worlds legacy tier 1 ISPs, so their DDoS and other security options are strong, fast to update, and &lt;strong&gt;&lt;em&gt;very&lt;/em&gt;&lt;/strong&gt; good. I’ve had great experience with this platform and its API. I like to think of arbor as the commercial ISP brass ring for flow data analytics. They have other solutions for enterprise and campus, but their roots are in strong ISP solutions. They’re pricey, but very, very good. Expect to need at least an FTE to really take full advantage of their very capable ecosystem, but if you dedicated the money and manpower to it, you won’t be sad.&lt;/p&gt;

&lt;h2 id=&#34;splunk-https-www-splunk-com&#34;&gt;&lt;a href=&#34;https://www.splunk.com/&#34;&gt;Splunk&lt;/a&gt;&lt;/h2&gt;

&lt;p&gt;We all know spunk as a really nice log and analytic system but what many may not realize is that Splunk is really, really good at network data and analytics as well. It’s pricey, but it’s as close as you’ll get to a turkey solution for a SIEM that can actually scale. It has the notion of customizable dashboards and visualization, as a huge amount of plugins and add on’s, but they come with a legendarily steep price tag. The saying I have always heard is “if you can afford spunk, buy spunk. If you can’t use an ELK stack (noe elastic stack)”. My experience backs this up.&lt;/p&gt;

&lt;h2 id=&#34;elk-elastic-stack-https-www-elastic-co&#34;&gt;&lt;a href=&#34;https://www.elastic.co/&#34;&gt;ELK /Elastic Stack&lt;/a&gt;&lt;/h2&gt;

&lt;p&gt;I’m a big fan of this not only because it’s essentially free, but because it’s so extremely flexible and has so many existing projects built around it. I’ve moved my go-to for net flow collection from nfdump to Elastic Stack built around the &lt;a href=&#34;https://www.manitonetworks.com/about-flow-analyzer/&#34;&gt;Manito Networks flowanalyzer&lt;/a&gt; install.   This platform takes a bit more command line jockeying and isn’t entirely turnkey, but it’s crazy flexible, had great eye candy and building the visualizations and dashboards is easy. Notable mention is &lt;a href=&#34;https://github.com/robcowart/elastiflow&#34;&gt;Elastiflow&lt;/a&gt;, which is similar but has a bit more eye candy and leverages log stash. Elastiflow doesn’t have nearly as turnkey of an install (and really has almost no “newbie” install instructions at all - but it’s a strong offering if you already know how to spin up an ELK stack and tune it.&lt;/p&gt;

&lt;h2 id=&#34;nfdump-http-nfdump-sourceforge-net&#34;&gt;&lt;a href=&#34;http://nfdump.sourceforge.net/&#34;&gt;Nfdump&lt;/a&gt;&lt;/h2&gt;

&lt;p&gt;The venerable nfdump. This is what so many large networks were using (and probably still are) for their raw flow collections. This package scales exceptionally well to huge networks and has so many tools available for the CLI that it’s the de facto standard for raw flow analytics and forensics. I love this system and ran it for many, many, MANY years. It takes a but of time to learn, and may not be the right tool for you if you want a modern GUI, lots of eye candy, or are inexperienced with the UNIX/LINIX command line, but it’s got it where it counts, supports IPFix, Netflow v5, v9 and IPFIX and you can’t dog wrong with it. I have a handy how-to getting it up and running Under CentOS &lt;a href=&#34;https://www.forwardingplane.net/2014/01/install-nfsen-and-nfdump-on-centos-6-5-for-netflow-and-or-sflow-collection/&#34;&gt;here&lt;/a&gt;. When you couple this with something like &lt;a href=&#34;https://github.com/JustinAzoff/flow-indexer&#34;&gt;Justin Azoff’s flow indexer&lt;/a&gt; and &lt;a href=&#34;https://sourceforge.net/projects/nfsen/&#34;&gt;nfsen&lt;/a&gt; on the front end, you’ve got an enviable power user setup ripe for both forensics, tactical work as well as baseline generation.&lt;/p&gt;

&lt;h2 id=&#34;solarwinds-https-www-solarwinds-com&#34;&gt;&lt;a href=&#34;https://www.solarwinds.com/&#34;&gt;SolarWinds&lt;/a&gt;&lt;/h2&gt;

&lt;p&gt;Solarwinds Orion is the go-to for windows based monitoring. It’s not cheap, but if you’re running a windows based monitoring system, you’re likely an enterprise and have budget for it. I have been impressed with the visualizations of this system and like that it does all of the monitoring in one package - once installed I never have to see windows (and since I can’t efficiently support windows, that’s probably a good thing - someone else will handle the OS work). The price tag can be a bit steep depending on number of nodes monitored, but it does what it claims and commercial support is decent. My one complaint is that I can’t seem to find a way to do raw data queries in a straightforward way. This may be possible and I have just not had the time or mental power to workout out. Overall it’s a worthy monitoring platform if you need your system to run on windows and can afford it. There are some older but still good videos from several Network Field Day events &lt;a href=&#34;http://techfieldday.com/companies/solarwinds/&#34;&gt;here&lt;/a&gt; and I wrote about it from a UNIX users perspective &lt;a href=&#34;https://www.forwardingplane.net/2015/07/solarwinds-orion-from-a-unix-user-point-of-view/&#34;&gt;here&lt;/a&gt;.&lt;/p&gt;

&lt;h2 id=&#34;live-action-networks-live-ux-https-www-liveaction-com-products-live-ux&#34;&gt;&lt;a href=&#34;https://www.liveaction.com/products/live-ux/&#34;&gt;Live Action Networks Live UX&lt;/a&gt;&lt;/h2&gt;

&lt;p&gt;Another commercial option that has good support and a lot of eye candy. This was born out of work with the US Government and is a really interesting system. I’ve met with these guys several times and their team is super open to taking and feature requests and they have a good product. I first heard about them at &lt;a href=&#34;http://techfieldday.com/appearance/liveaction-presents-at-networking-field-day-7/&#34;&gt;Network Field day 7&lt;/a&gt;, their product was intriguing there and they’ve come a long way since then. Worth looking at for a turnkey solution for things like network analytics, IP-SLA,&lt;/p&gt;

&lt;h2 id=&#34;my-take&#34;&gt;My take&lt;/h2&gt;

&lt;p&gt;I like the power that an indexed set of data provides and I am willing and capable of plowing through the install of a linux based system. I’m also frugal, and for a product to really warrant my money it needs to do something that nothing else does [translated: I am willing and able to support open source solutions].&lt;/p&gt;

&lt;p&gt;&lt;img src=&#34;http://www.forwardingplane.net/wp-content/uploads/2017/12/Screenshot-2017-12-15-20.32.57.png&#34; alt=&#34;&#34; /&gt;&lt;/p&gt;

&lt;p&gt;That said, the Manito Networks install of Elk + Kibana (no logstash in this default install) is where I typically land due to the fact that I can get indexed flow data, nice, configurable graphs and trending statistics, and can integrate things like syslog into another index on the same system giving me the tools to do forensics on a number of topics on that system. &lt;a href=&#34;https://gitlab.com/thart/flowanalyzer/blob/master/Install/README.md&#34;&gt;The setup is crazy easy&lt;/a&gt; and really well documented, too. Someone linux-inclined can have it up and collecting flow data (sflow, netflow v5/9 or IPFIX) in an order of about 30 minutes - probably less. The take aways really, though, is that there are options available no matter your skill level or budget, so there is really no reason not to have something.&lt;/p&gt;
</description>
    </item>
    
    <item>
      <title>Speculation on the obvious: stuff changes, why freak out?</title>
      <link>https://forwardingplane.net/post/speculation-obvious-stuff-changes-freak/</link>
      <pubDate>Fri, 08 Dec 2017 00:30:15 +0000</pubDate>
      
      <guid>https://forwardingplane.net/post/speculation-obvious-stuff-changes-freak/</guid>
      <description>&lt;p&gt;I have my +100 hat of irreverence on today so it&amp;rsquo;s time for a soapbox post. Having recently read a several posts and articles on what seems to be the never-ending cavalcade of assertions that &amp;ldquo;networking people will be out of jobs and you&amp;rsquo;d better learn to be a programmer&amp;rdquo; - or more succinctly put: the &amp;ldquo;dramatic changes in IT networking&amp;rdquo;. To this I respond simply:&lt;/p&gt;

&lt;p&gt;&lt;a href=&#34;https://giphy.com/gifs/duh-my-little-pony-I2GbfS4S53Fss&#34;&gt;via GIPHY&lt;/a&gt; The scorched earth, &amp;ldquo;there&amp;rsquo;s a hole in the boat, we&amp;rsquo;re all going to die!&amp;rdquo; stuff is really just sensationalism, and frankly I&amp;rsquo;m kinda tired of it because we shouldn&amp;rsquo;t need to point it out. The fact of the matter is that the only constant is change. IT has changed dramatically since I got involved in the 90&amp;rsquo;s. I don&amp;rsquo;t feel that- and I&amp;rsquo;m pretty sure I&amp;rsquo;m right - there is anything dramatically different in the current and forthcoming changes in data networking than anything that has happened in the last thirty years. Sure, we&amp;rsquo;re talking about AI and &amp;ldquo;Intent&amp;rdquo; and automation. The fact of the matter is that there is nothing any more dramatic happening now than thirty years ago, it is just easier to see now. Lets think about something most of us can relate to: The phone that sits in my pocket is orders of magnitude faster than my first PC, like &lt;em&gt;multiple&lt;/em&gt; CPU cores at 2.9Ghz vs 1.77Mhz faster. It has a resolution and color profile that is, quite frankly, &lt;strong&gt;&lt;em&gt;insane&lt;/em&gt;&lt;/strong&gt; compared to a monochrome screen. It has Gigs of memory where my first PC had 4k. It connects to a &lt;strong&gt;global network&lt;/strong&gt; &amp;mdash;-with &lt;strong&gt;NO WIRES&lt;/strong&gt;. I don&amp;rsquo;t even need to plug it in to charge it with good &amp;lsquo;ol electricity. For all intents and purposes, this thing that I carry around and toss on my desk like something I could care less about is freaking &lt;strong&gt;MAGIC&lt;/strong&gt; compared to what computing was like thirty years ago. No, twenty years ago. No, TEN years ago. I can literally talk to it and it does &amp;ldquo;stuff&amp;rdquo; for me. It&amp;rsquo;s like Star Trek came to life without but is oddly lacking the green alien lady. &lt;a href=&#34;http://www.forwardingplane.net/wp-content/uploads/2017/12/welcome-to-the-world-of-tomorrow.jpg&#34;&gt;&lt;img src=&#34;http://www.forwardingplane.net/wp-content/uploads/2017/12/welcome-to-the-world-of-tomorrow.jpg&#34; alt=&#34;&#34; /&gt;&lt;/a&gt; Progress happens, things change. You get the point. What does this mean? It means the same thing that it&amp;rsquo;s always meant since the beginning of time. Adapt or be left behind. This isn&amp;rsquo;t a new concept. If you&amp;rsquo;re unwilling to change and learn, you might be in trouble, enjoy your typewriter, or your token ring. Or your FDDI. Or Windows 3.11 for workgroups. Or floppy disks. Or using cassette tapes for storage of your totally tubular BASIC program. If you&amp;rsquo;re remotely close to opposite of that you&amp;rsquo;ll be fine. If you&amp;rsquo;re still struggling with change, I suggest reading &amp;ldquo;&lt;a href=&#34;https://www.amazon.com/Moved-Cheese-Spencer-Johnson-M-D/dp/0743582853&#34;&gt;Who moved my cheese?&lt;/a&gt;&amp;rdquo;. It&amp;rsquo;s seriously worth your time, I have read it several times myself. Tragedy averted.&lt;/p&gt;
</description>
    </item>
    
    <item>
      <title>Configuration backups and an opportunity for automation and management</title>
      <link>https://forwardingplane.net/post/configuration-backups-opportunity-automation-management/</link>
      <pubDate>Tue, 03 Oct 2017 17:19:54 +0000</pubDate>
      
      <guid>https://forwardingplane.net/post/configuration-backups-opportunity-automation-management/</guid>
      <description>

&lt;p&gt;Configuration management is a critical part of successfully and efficiently run any network. From the early days of networking there have been options for doing configuration backup. Several projects have been around for literally decades, enabling the backup of a myriad of critical network devices and providing historical archives. Many of these projects and platforms require a reasonable amount of unix experience and perhaps some development skills. I’m going to give a quick synopsis of my three favorites, these a all very different in execution but provide the same types of services - configuration backup, diff, and archive (and not much else). While this is important (you’re doing this stuff, right!?!?!)&lt;/p&gt;

&lt;h3 id=&#34;unimus-https-www-unimus-net&#34;&gt;&lt;a href=&#34;https://www.unimus.net&#34;&gt;Unimus&lt;/a&gt;&lt;/h3&gt;

&lt;p&gt;Unimius is a commercial platform (free for up to 5 devices) that runs on-premesis. It provides a very easy to use configuration and management web interface and has wonderfully - and uncommonly - responsive help and support. This platform has support for winning on windows, linux, Mac, whatever runs Java. It’s reasonably priced and has a large amount of what I call “hooks” into other things. Unimus also has some an option that is uncommon - it can back up web based equipment. Unimus has a huge amount of device support as well. I did find a few caveats which I suspect are java limitations. For example, It cannot take an IPv6 address as as a “device” and seems to fall back on v4 if the hosts are dual stacked. I also have yet to find a way to define a specific user for discovery which has resulted in some false positives as far as ssh brute force rules. I like this project quite a bit and think it has a lot of potential to do a lot more from the management perspective should they choose to do so.&lt;/p&gt;

&lt;h4 id=&#34;unimus-high-level&#34;&gt; Unimus High level&lt;/h4&gt;

&lt;ul&gt;
&lt;li&gt;Java based&lt;/li&gt;
&lt;li&gt;Commercial (license based on number of devices)&lt;/li&gt;
&lt;li&gt;Good web interface for view and configuration&lt;/li&gt;
&lt;li&gt;Cannot take a v6 address as an input device - works resolving v6 addresses&lt;/li&gt;
&lt;li&gt;Multi device config diff&lt;/li&gt;
&lt;li&gt;Extremely useful configuration search option&lt;/li&gt;
&lt;li&gt;Multiple notification options (slack, email, etc.)&lt;/li&gt;
&lt;/ul&gt;

&lt;h3 id=&#34;rancid-http-www-shrubbery-net-rancid&#34;&gt;&lt;a href=&#34;http://www.shrubbery.net/rancid/&#34;&gt;RANCID&lt;/a&gt;&lt;/h3&gt;

&lt;p&gt;RANCID is the first config backup system I ever used and has been actively developed for decades. It’s written in perl, expect, and shell. I’ve written several modules for RANCID over the years and has an large install base due to it’s longevity. It has has a recent-ish re-write which has made it more scalable but has made it much harder to extend comparatively speaking. It’s also been forked several times adding things like git repo support.&lt;/p&gt;

&lt;p&gt;Of the network management options I’ve seen (more on that below), most of the ones not using something like NetConf are leveraging the login scripts from RANCID to do the heavy lifting.&lt;/p&gt;

&lt;h4 id=&#34;rancid-high-level&#34;&gt;RANCID High Level&lt;/h4&gt;

&lt;ul&gt;
&lt;li&gt;Decent device support&lt;/li&gt;
&lt;li&gt;Multiple repositories (RCS, SVN, CVS, GIT)&lt;/li&gt;
&lt;li&gt;Several forks - can be confusing&lt;/li&gt;
&lt;li&gt;RANCID 3 changes the architecture and syntax dramatically&lt;/li&gt;
&lt;li&gt;Has a series of login scripts that are commonly leveraged for performing other actions like pushing configuration&lt;/li&gt;
&lt;li&gt;Code is crufty - decades of history rolled into the text&lt;/li&gt;
&lt;li&gt;Perl, Expect, and shell based&lt;/li&gt;
&lt;li&gt;Web front end is an add on for viewing the chosen repository&lt;/li&gt;
&lt;li&gt;Notification typically consists of email diffs&lt;/li&gt;
&lt;li&gt;Code has a reasonable amount of age on it and can be a bit of a challenge to decipher&lt;/li&gt;
&lt;/ul&gt;

&lt;h3 id=&#34;oxidized-https-github-com-ytti-oxidized&#34;&gt;&lt;a href=&#34;https://github.com/ytti/oxidized&#34;&gt;Oxidized&lt;/a&gt;&lt;/h3&gt;

&lt;p&gt;Oxidized is an interesting project. It’s written by a very, very clued network engineer / toolsmith and has a huge amount of device support. Oxidized seems to have flexibility as one of its main driving goals - it’s crazy flexible and works extremely well. It’s written in ruby and simple setup isn’t hard at all (and is well documented). It integrates in a lot of tools such as &lt;a href=&#34;https://www.librenms.org/&#34;&gt;librenms&lt;/a&gt; and &lt;a href=&#34;https://slack.com/&#34;&gt;slack&lt;/a&gt;. Oxidized required a little bit of knowledge of setting up simple linux services but it feels a &lt;em&gt;lot&lt;/em&gt; more modern than some of the legacy tools like RANCID. This has been my go-to for a while now.&lt;/p&gt;

&lt;h4 id=&#34;oxidized-high-level&#34;&gt;Oxidized High Level&lt;/h4&gt;

&lt;ul&gt;
&lt;li&gt;Ruby based&lt;/li&gt;
&lt;li&gt;Extremely flexible&lt;/li&gt;
&lt;li&gt;Actively developed&lt;/li&gt;
&lt;li&gt;Good support&lt;/li&gt;
&lt;li&gt;Great device support&lt;/li&gt;
&lt;li&gt;Very modular&lt;/li&gt;
&lt;li&gt;Code base is clean and streamlined&lt;/li&gt;
&lt;li&gt;Notifications can be somewhat convoluted to set up&lt;/li&gt;
&lt;/ul&gt;

&lt;p&gt;Network Management as defined by me: Having knowledge of the network ecosystem from the packet flow to the active configuration. Leveraging this knowledge in order to push change to production network equipment either programmatically or on-demand.&lt;/p&gt;

&lt;p&gt;These items should all be thought of as configuration archiving tools, not as configuration management - the reason being is that by default none of them push changes. They all grab the configurations, diff against an existing stored configuration and calculate a diff, likely storing it for historical research / baseline research and triage. The lack of what I am describing as “management” is a real opportunity as there is very little available that is available out of the box that is:&lt;/p&gt;

&lt;p&gt;A. Multiplatform and&lt;/p&gt;

&lt;p&gt;B. Actually usable&lt;/p&gt;

&lt;p&gt;What we have here is an opportunity. An opportunity to add some level of automation or “management” into the existing configuration archiving tools. Look at the attributes of all of these tools:&lt;/p&gt;

&lt;ul&gt;
&lt;li&gt;They’re cross platform, non-vendor specific. I do not know how most people work, but in 20 years I have never worked on a single vendor network. Ever.&lt;/li&gt;
&lt;li&gt;They have knowledge of some commands in each platform,&lt;/li&gt;
&lt;li&gt;They’re already trusted to log in and at least read configurations meaning they’re trusted to have access and they’re trusted to know and save the configuration.&lt;/li&gt;
&lt;li&gt;At least one of them has been historically used to prop up home grown management tools&lt;/li&gt;
&lt;/ul&gt;

&lt;p&gt;This seems self evident. Adding some rudimentary ability to make simple changes to network equipment is a good start.&lt;/p&gt;

&lt;p&gt;This could be something as simple as  setting an NTP server or creating a VLAN, but if any of them were to start wrapping these into supported code, make it easy to set up, and easy to use, we’d be well on our way to having “automation for the rest of us”. Once things are trusted enough to make the change the next logical step is allowing those changes to happen autonomously. NTP server deviate from the norm? Change it automatically. This can also be leveraged as a baseline deviation outdoing tool with the integration of a simple “source of truth” for common attributes. The opportunities are ripe and ready to be picked.&lt;/p&gt;
</description>
    </item>
    
    <item>
      <title>Updates, podcasts, and videos</title>
      <link>https://forwardingplane.net/post/updates-podcasts-videos/</link>
      <pubDate>Thu, 15 Jun 2017 01:29:59 +0000</pubDate>
      
      <guid>https://forwardingplane.net/post/updates-podcasts-videos/</guid>
      <description>&lt;p&gt;Anyone that looks at this site with any regularity may have noticed that I have been pretty remiss in adding posts - for that I apologize, things have been busy. However, I have not been absent in the tech world&amp;hellip;quite the opposite, in fact. I&amp;rsquo;ve been spending more and more time on podcasts and other forms of tech media which I have not provided links for here. So, to help expose that, here are a few of the other media resources I&amp;rsquo;ve been popping up in. Professionally I&amp;rsquo;ve been spending a lot of my time testing things like &lt;a href=&#34;http://techfieldday.com/event/srr1/&#34;&gt;segment routing&lt;/a&gt;, software routing stacks for &lt;a href=&#34;https://www.nanog.org/sites/default/files/2_White_The_State_Of_Open_Source_Routers.pdf&#34;&gt;disaggregated routing&lt;/a&gt;, DDoS detection and DDoS mitigation. In the free time I would typically spend in my home lab, I&amp;rsquo;ve become enamored with Wireless ISPs and how they work. I&amp;rsquo;d done some WISP work off and on over the years but it was primarily focused on L3 - I&amp;rsquo;ve gone deeper and started learning about more RF strategy and detail as well as delved pretty deeply into a fair amount of the gear details. There is some &lt;em&gt;crazy&lt;/em&gt; good, innovative stuff going on in this space and it happily hums along well outside of the hype engines that are the juggernauts of hyperscale data center and enterprise networking. I find it a refreshing change from the marketing machine of the mainstream networking industry, representing more of what the real world of being a smaller service provider is like (which is where I got started, so there is an amount of nostalgic comfort there), and there are folks out there are serious use cases for things like SR and &lt;a href=&#34;https://rule11.tech/?s=disaggregated&#34;&gt;disaggregated routing&lt;/a&gt; just waiting to be tested. &lt;a href=&#34;http://www.forwardingplane.net/wp-content/uploads/2017/06/IMG_3777.jpg&#34;&gt;&lt;img src=&#34;http://www.forwardingplane.net/wp-content/uploads/2017/06/IMG_3777.jpg&#34; alt=&#34;&#34; /&gt;&lt;/a&gt; In addition, I&amp;rsquo;ve been involved in a few projects regarding security and DDoS detection and mitigation (CoreFlow) that have been pretty interesting, one of which which &lt;a href=&#34;https://tnc17.geant.org/core/presentation/30&#34;&gt;I recently presented on at TNC 17 in Linz, Austria&lt;/a&gt;. Slides can be found &lt;a href=&#34;https://tnc17.geant.org/getfile/3728&#34;&gt;here&lt;/a&gt;. More information can be found on the project CoreFlow in the published paper &lt;a href=&#34;https://scholar.google.com.au/citations?view_op=view_citation&amp;amp;hl=fr&amp;amp;user=alONArcAAAAJ&amp;amp;citation_for_view=alONArcAAAAJ:_Ybze24A_UAC&#34;&gt;here&lt;/a&gt;. I&amp;rsquo;ll probably talk more about this project focused on ISP DDoS detection and mitigation as the code matures, but feel free to contact me with questions/comments. &lt;a href=&#34;http://blog.ipspace.net/2017/06/packet-fabric-on-software-gone-wild.html&#34;&gt;Packet Fabric Podcast on IPSpace.net&lt;/a&gt; Also see Ivan&amp;rsquo;s page for &lt;a href=&#34;http://www.ipspace.net/Podcast/Software_Gone_Wild&#34;&gt;Software Gone wild&lt;/a&gt; for more podcasts (both that I have been involved in and other good content) Brothers WISP Video on the basics of DNS (see also &lt;a href=&#34;http://www.forwardingplane.net/2016/02/nix4neteng-6-dns-ad-blocking-and-quality-of-experience/&#34;&gt;NIX for NetEng DNS&lt;/a&gt;, or &lt;a href=&#34;http://www.forwardingplane.net/2014/06/nix4neteng-2-ipv46-address-investigation-tools-whois-dig/&#34;&gt;NIX for NetEng address tools&lt;/a&gt;)&lt;/p&gt;
</description>
    </item>
    
    <item>
      <title>No privacy may be the new privacy.</title>
      <link>https://forwardingplane.net/post/no-privacy-may-new-privacy/</link>
      <pubDate>Sat, 25 Mar 2017 18:06:01 +0000</pubDate>
      
      <guid>https://forwardingplane.net/post/no-privacy-may-new-privacy/</guid>
      <description>&lt;p&gt;Taking politics and putting them aside, what the new administration has &lt;a href=&#34;https://www.nytimes.com/2017/03/23/technology/congress-moves-to-strike-internet-privacy-rules-from-obama-era.html?_r=0&#34;&gt;been attempting to change&lt;/a&gt; with regard to internet privacy is something we should &lt;em&gt;&lt;strong&gt;all&lt;/strong&gt;&lt;/em&gt; be informed about. Wether you have a tin foil hat or don&amp;rsquo;t care, &amp;ldquo;knowing is half the battle&amp;rdquo;. The other half is doing - which I will also lend some brief insight to (sorta). What&amp;rsquo;s changing? Nothing yet (as of the time of this writing). What will likely change? The ability of your internet (mobile or not) to sell your browsing habits and personal usage data. What does this mean? Well, it means that if you visit facebook, amazon, JC Penny, or buy-adult-toys.com a lot, that information can be sold to advertisers, private companies, etc., etc. &amp;ldquo;But I use SSL, I&amp;rsquo;m safe&amp;rdquo;. Nope. DNS query data - the requests made for a domain name like google.com, used to map a name to an IPvX address - that can be sold too. The content of the browsing is great, but the knowledge that a site was visited is just as useful&amp;hellip;and this data is generated not just by traditional &amp;ldquo;browsing&amp;rdquo;, everything that touches the internet uses it. Apps, Games, everything. Removing these rules also means that there is no oversight into how this collection can be done, what kind of data - sensitive or not - can be collected and sold and to whom. That&amp;rsquo;s what deregulation looks like, folks.&lt;a href=&#34;http://www.forwardingplane.net/wp-content/uploads/2017/03/personal.info_.jpg&#34;&gt;&lt;img src=&#34;http://www.forwardingplane.net/wp-content/uploads/2017/03/personal.info_.jpg&#34; alt=&#34;&#34; /&gt;&lt;/a&gt; What does this mean for the average internet user like, say, my Mom or Dad? It means that when they look at ANYTHING online, it&amp;rsquo;s likely going to be collected, indexed, data mined, and then sold to be further data mined and then these users will get targeted for a barrage of advertising. Worse yet, this data is ripe for misuse. What if the data is compromised? Sorry. That&amp;rsquo;ll suck for sure. Even worse that than, what if that data is used by nation states? What if it&amp;rsquo;s misinterpreted? It&amp;rsquo;s a mess. Has this data been used in this manner in the past? Sure. All of the providers use it internally. &lt;a href=&#34;http://money.cnn.com/2016/07/25/technology/yahoo-verizon-deal-sale/&#34;&gt;Verizon bought yahoo&lt;/a&gt; for this reason.  The real issue is that most people do not understand what all of this means. Since the internet is a completely traceable environment in 99.999% of cases, unlike really anything prior, this is paramount. What can you do? Well, if you&amp;rsquo;re not technical, good luck. Perhaps if this happens it will spark a new industry of private overlays like Tor to be commercialized and widely adopted. Wait with the FCC leaning toward rolling back net neutrality those services could likely be slowed or blocked completely. Sorry. On the fringes are the mom-and-pop ISPs - they still exist. WISPs, small and rural providers. These are less likely to be the safest bet in the future should this come to pass. Mobile metadata - what will generate the majority of the controversy - is likely to be the most often sold because there will be such a diverse and deep pool of data. Another of the side effects is this could potentially be an even higher adoption of SSL, which is good, but may also lead to a higher adoption of the vile SSL decryption practice. Lets hope not. What will I do? Not sure. I have extensive experience running DNS servers and VPNs. I may just start connecting to one of my VPS devices and run everything over OpenVPN from both mobile and traditional connections. There are some super simple &lt;a href=&#34;https://github.com/kylemanna/docker-openvpn&#34;&gt;docker how-tos&lt;/a&gt; out there that Ive used in the past. VPS service are cheap, I have a few but my &lt;a href=&#34;https://prgmr.com/xen/&#34;&gt;prgmr.com&lt;/a&gt; VPS is my favorite. Don&amp;rsquo;t forget to tunnel IPv6 too. Welcome to 2017.&lt;/p&gt;
</description>
    </item>
    
    <item>
      <title>Creating an internal span port inside proxmox OVS</title>
      <link>https://forwardingplane.net/post/creating-internal-span-port-inside-proxmox-ovs/</link>
      <pubDate>Tue, 21 Mar 2017 03:49:58 +0000</pubDate>
      
      <guid>https://forwardingplane.net/post/creating-internal-span-port-inside-proxmox-ovs/</guid>
      <description>&lt;p&gt;In the last few years I have moved all of my virtualization to &lt;a href=&#34;https://www.proxmox.com/en/&#34;&gt;proxmox&lt;/a&gt; and docker. Seeing as I like to look at packets because I am a closet security guy, and being as I have been working off-and-on on a security project in recent times, I wanted to be able to span a port not only from a hardware switch, but also within my software switches. I had been using linux bridge, which I am not a fan of, so when I started down this path I did not look hard to find a way to do so under that platform. Instead I used it as an opportunity to move some of the internal bridges to &lt;a href=&#34;http://openvswitch.org/&#34;&gt;OpenVSwitch&lt;/a&gt;. I wanted to create an OVS span port internally. I had experience with OVS in the past for SDN work that I was doing, but I had never created a mirror port. I briefly thought about using OpenFlow to do it, but the unnecessary complexity was off putting. Instead I chose to create a simple mirror of a span port from my switch. So, traffic flow goes as such: &lt;a href=&#34;http://www.forwardingplane.net/wp-content/uploads/2017/03/OVS-SPAN-1.png&#34;&gt;&lt;img src=&#34;http://www.forwardingplane.net/wp-content/uploads/2017/03/OVS-SPAN-1.png&#34; alt=&#34;&#34; /&gt;&lt;/a&gt;     This was fairly trivial, and I was seeing packets in no time. I&amp;rsquo;m not going to go through creating an OVS bridge in proxmox, there are lots of &lt;a href=&#34;https://pve.proxmox.com/wiki/Open_vSwitch&#34;&gt;documents&lt;/a&gt; on how to do that. Once you have your switch port SPAN up and running, and the physical interface in the OVS bridge, you essentially just need to add the following: Create the mirror```
ovs-vsctl &amp;ndash; &amp;ndash;id=@m create mirror name=span &amp;ndash; add bridge vmbr1 mirrors @m&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre style=&#34;color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4&#34;&gt;&lt;code class=&#34;language-Find your ports that you want to mirror - you&#39;ll need the physical port if consuming from a real switch like I am, and the software port of the virtualized analyzer.  Remember, in OVS anything you want to mess with is going to have a UUID. You need to match the interfaces with the UUID to verify. ovs-vsctl list port \_uuid : 42dbd5a9-27c6-4f1b-958b-943f67b6801b bond\_downdelay : 0 bond\_fake\_iface : false bond\_mode : \[\] bond\_updelay : 0 external\_ids : {} fake\_bridge : false interfaces : \[b155454d-db6e-4bb8-af88-7cd6b544c303\] lacp : \[\] mac : \[\] name : &#34;eth1&#34; other\_config : {} qos : \[\] statistics : {} status : {} tag : \[\] trunks : \[\] vlan\_mode : \[\] \_uuid : 85c932b2-4f98-4650-8298-ae9e9ca72796 bond\_downdelay : 0 bond\_fake\_iface : false bond\_mode : \[\] bond\_updelay : 0 external\_ids : {} fake\_bridge : false interfaces : \[5219306f-96ec-440a-ac8b-d949ea18d752\] lacp : \[\] mac : \[\] name : &#34;vmbr1&#34; other\_config : {} qos : \[\] statistics : {} status : {} tag : \[\] trunks : \[\] vlan\_mode : \[\] \_uuid : d53c7323-517f-48a2-9235-4505e654d4b1 bond\_downdelay : 0 bond\_fake\_iface : false bond\_mode : \[\] bond\_updelay : 0 external\_ids : {} fake\_bridge : false interfaces : \[91d52d05-d881-4693-ab5c-fc64b5d87518\] lacp : \[\] mac : \[\] name : &#34;veth100i9&#34; other\_config : {} qos : \[\] statistics : {} status : {} tag : \[\] trunks : \[\] vlan\_mode : \[\] In red we have the interfaces I want to to use. the veth interface is the software port on the VM. Eth1 is the hardware interfce that my switch is spanning traffic to. Pro tip: In OVS, the commands are a little unintuitive to me when talking about mirrors.  &#34;select\_src\_port&#34; and &#34;select\_dst\_port=&#34; is the destination of the traffic flow from an interface and not source and destination of the traffic you are mirroring from the point of view of the in and out ports. Confusing, right? For instance I can monitor the input from one interface and the output of another in the mirror. What we want is the input and output of the same interface to get both directions of traffic. This is not unlike how span ports are configured on your hardware switch, the nomenclature just threw me off.```&#34; data-lang=&#34;Find your ports that you want to mirror - you&#39;ll need the physical port if consuming from a real switch like I am, and the software port of the virtualized analyzer.  Remember, in OVS anything you want to mess with is going to have a UUID. You need to match the interfaces with the UUID to verify. ovs-vsctl list port \_uuid : 42dbd5a9-27c6-4f1b-958b-943f67b6801b bond\_downdelay : 0 bond\_fake\_iface : false bond\_mode : \[\] bond\_updelay : 0 external\_ids : {} fake\_bridge : false interfaces : \[b155454d-db6e-4bb8-af88-7cd6b544c303\] lacp : \[\] mac : \[\] name : &#34;eth1&#34; other\_config : {} qos : \[\] statistics : {} status : {} tag : \[\] trunks : \[\] vlan\_mode : \[\] \_uuid : 85c932b2-4f98-4650-8298-ae9e9ca72796 bond\_downdelay : 0 bond\_fake\_iface : false bond\_mode : \[\] bond\_updelay : 0 external\_ids : {} fake\_bridge : false interfaces : \[5219306f-96ec-440a-ac8b-d949ea18d752\] lacp : \[\] mac : \[\] name : &#34;vmbr1&#34; other\_config : {} qos : \[\] statistics : {} status : {} tag : \[\] trunks : \[\] vlan\_mode : \[\] \_uuid : d53c7323-517f-48a2-9235-4505e654d4b1 bond\_downdelay : 0 bond\_fake\_iface : false bond\_mode : \[\] bond\_updelay : 0 external\_ids : {} fake\_bridge : false interfaces : \[91d52d05-d881-4693-ab5c-fc64b5d87518\] lacp : \[\] mac : \[\] name : &#34;veth100i9&#34; other\_config : {} qos : \[\] statistics : {} status : {} tag : \[\] trunks : \[\] vlan\_mode : \[\] In red we have the interfaces I want to to use. the veth interface is the software port on the VM. Eth1 is the hardware interfce that my switch is spanning traffic to. Pro tip: In OVS, the commands are a little unintuitive to me when talking about mirrors.  &#34;select\_src\_port&#34; and &#34;select\_dst\_port=&#34; is the destination of the traffic flow from an interface and not source and destination of the traffic you are mirroring from the point of view of the in and out ports. Confusing, right? For instance I can monitor the input from one interface and the output of another in the mirror. What we want is the input and output of the same interface to get both directions of traffic. This is not unlike how span ports are configured on your hardware switch, the nomenclature just threw me off.```&#34;&gt;ovs-vsctl set mirror span select\_src\_port=@eth1 select\_dst\_port=@eth1&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;You can also do this with the UUID```
ovs-vsctl set mirror span select_src_port=42dbd5a9-27c6-4f1b-958b-943f67b6801b select_dst_port=42dbd5a9-27c6-4f1b-958b-943f67b6801b&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre style=&#34;color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4&#34;&gt;&lt;code class=&#34;language-Now that we have the source of our mirror we just need to send it somewhere. I wanted mine to go to an internal host running some analytics software (on interface veth100i9)```&#34; data-lang=&#34;Now that we have the source of our mirror we just need to send it somewhere. I wanted mine to go to an internal host running some analytics software (on interface veth100i9)```&#34;&gt;ovs-vsctl -- --id=@veth100i9 get port veth100i9 -- set mirror span output-port=@veth100i9&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;And that&amp;rsquo;s it. Log into your host and do a tcpdump on whatever interface is mapped to veth100i9 and you should see packets flowing. A few tips:&lt;/p&gt;

&lt;ul&gt;
&lt;li&gt;Verify your span from the hardware switch is working before diving into the software stack.&lt;/li&gt;
&lt;li&gt;If you&amp;rsquo;re doing this is proxmox, be aware that proxmox networking stack can be unforgiving when you much around outside of their environment.&lt;/li&gt;
&lt;li&gt;This will not persist across reboots. Add it to /etc/network/interfaces manually to keep it after a restart.&lt;/li&gt;
&lt;/ul&gt;
</description>
    </item>
    
    <item>
      <title>Why I care about Segment Routing</title>
      <link>https://forwardingplane.net/post/care-segment-routing/</link>
      <pubDate>Tue, 04 Oct 2016 00:54:27 +0000</pubDate>
      
      <guid>https://forwardingplane.net/post/care-segment-routing/</guid>
      <description>&lt;p&gt;Edit: &lt;em&gt;Going against my normal “just get the content out there” methodology, I’ve been mulling over this blog post since July of 2016.  Segment routing is such a beautifully elegant solution I have had trouble articulating that fact. WAN technologies are squarely within my wheelhouse, and this one fits in so well I was going over and over the post never really satisfied with it, continuing to find mistakes and decided to just get it out there. &lt;/em&gt;&lt;/p&gt;

&lt;p&gt;As a WAN guy by chance and opportunity, and a service provider engineer and architect by choice (and also chance and opportunity), segment routing (SR) is one of those wonderful new technologies that keeps rearing its head over and over in recent days - and it&amp;rsquo;s already playing in the big leagues. SR is supported by many of the large network equipment providers including Cisco, Juniper, and Nokia (Alcatel-Lucent), and as I have just learned, Arista.&lt;/p&gt;

&lt;p&gt;Why is this a notable tech you may want to pay attention to? Wide area and service provider networks have a longer mean time before replacement. They don’t change topology or architecture nearly as often and the gear typically has higher cost due to things like deeper interface buffers, more complex feature sets, larger TCAM for things like route tables, as well as increased redundancy features. Managing a WAN has a different feel and a different set of problems. Complex overlays and traffic engineering often play a role in wide area networks. Many an attempt to reduce the the complexity of WANs has been made and SDN is creeping its way into some pretty large networks. When a network of any size is built, there comes a tipping point when managing things by hand, even with great documentation, is too daunting and cannot be done efficiently. Automation is key. Simplicity is paramount. Anyone that has ever managed a large MPLS network knows this. So, when I started looking at segment routing, I was cautiously optimistic - it had many attributes that were comfortable to a seasoned WAN engineer and yet abstracted many of the complexities of the networks that we&amp;rsquo;d been running for years. In order to really understand the benefits that SR brings to the table, it&amp;rsquo;s important to understand the current landscape. When one builds a large MPLS network there are incremental elements that all build from each other in order to work. If one is broken or problematic, the problem will trickle up the stack. Fundamentally, the stack for a very vanilla MPLs WAN contains the following elements (top down):&lt;/p&gt;

&lt;ul&gt;
&lt;li&gt;Client service interface&lt;/li&gt;
&lt;li&gt;Overlay, L3VPN, VPLS, ePIPE/PseudoWire/VLL&lt;/li&gt;
&lt;li&gt;BGP&lt;/li&gt;
&lt;li&gt;Label Distribution, LDP, etc.&lt;/li&gt;
&lt;li&gt;IGP, IS-IS or OSPFv2/3&lt;/li&gt;
&lt;li&gt;Ethernet, SONET, DS1/DS3/E1&lt;/li&gt;
&lt;li&gt;Optical transport or other last mile and long haul outside plant&lt;/li&gt;
&lt;/ul&gt;

&lt;p&gt;Add into this list the complications of traffic engineering, and you&amp;rsquo;ve got a mix of things that are fairly daunting to all but the most experienced engineers. What segment routing provides is a way to remove several layers of this and simplify what is arguably the most complex and least understood element: Traffic Engineering. Segment routing allows for the selection of an entire path, from the ingress of the network to the egress port, all outside of the IGPs shortest path table. It is often labeled as &amp;ldquo;source routing&amp;rdquo; which will inevitably create feeling of disgust, dread, and distain from a network engineer and panic from the security folks. I choose not to label SR as &amp;ldquo;source routing&amp;rdquo; because of the negative connotation associated with that technological approach. Instead, I would rather use the term &amp;ldquo;deliberate path selection&amp;rdquo;.&lt;/p&gt;

&lt;p&gt;Oh, and this can be automated. That&amp;rsquo;s right. It&amp;rsquo;s &amp;ldquo;SDN&amp;rdquo;. Utilizing a tool called a path computational engine or &amp;ldquo;PCE&amp;rdquo;, these paths can be selected based on any number of criteria including latency, hop count, load, time of day, phase of the moon, mood of the boss, etc.&lt;/p&gt;

&lt;p&gt;I was lucky enough to get to spend some quality time at a &lt;a href=&#34;http://techfieldday.com/event/srr1/&#34;&gt;special event&lt;/a&gt; recently. Interesting discussions were had, many a thing was learned. A few of the other attendees wrote up some great info on segment routing, including some use cases, which can be found here&lt;/p&gt;

&lt;p&gt;Terry Slattery on No Jitter&lt;/p&gt;

&lt;p&gt;&lt;a href=&#34;http://www.nojitter.com/post/240171828/segment-routing-inside-a-new-sdn-technology&#34;&gt;http://www.nojitter.com/post/240171828/segment-routing-inside-a-new-sdn-technology&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;Carl Niger on Come Route With Me&lt;/p&gt;

&lt;p&gt;&lt;a href=&#34;https://comeroutewithme.com/2016/07/24/post-tfd-segment-routing-roundtable-thoughts/&#34;&gt;https://comeroutewithme.com/2016/07/24/post-tfd-segment-routing-roundtable-thoughts/&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;Russ White on Net Work&lt;/p&gt;

&lt;p&gt;&lt;a href=&#34;http://ntwrk.guru/dc-fabric-segment-routing-use-case-1/&#34;&gt;http://ntwrk.guru/dc-fabric-segment-routing-use-case-1/&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;&lt;a href=&#34;http://ntwrk.guru/dc-fabric-segment-routing-use-case-2/&#34;&gt;http://ntwrk.guru/dc-fabric-segment-routing-use-case-2/&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;I highly recommend taking a view of the talks from some folks using SR on some pretty significant networks - it&amp;rsquo;s worth your time if you&amp;rsquo;re really interested in throwing down with segment routing.  But what did this tell &lt;strong&gt;&lt;em&gt;me&lt;/em&gt;&lt;/strong&gt;? Lets look further into SR and see why it&amp;rsquo;s become so attractive to large, geographically diverse networks. First, SR builds on an existing knowledgeable. Far more people exist in the market that already know MPLS. The understand labels, they understand overlays, and they have vast experience with virtual circuits. Service providers are very likely MPLS based if they operate at any scale and offer typical ISP services. MPLS is well traveled, and even though there may be reasons that&amp;rsquo;s not perfect, it&amp;rsquo;s the devil we know. Other SDN technologies are either fairly green (l&lt;a href=&#34;http://blog.ipspace.net/2015/12/running-open-daylight-in-production.html#more&#34;&gt;et me tell you about running a production openflow experience&lt;/a&gt;) or are primarily focused on the data center, which as I will adamantly insist is a very different beast.&lt;/p&gt;

&lt;p&gt;Large scale service providers have a very different redundancy model. Attempting to apply campus or enterprise redundancy to a service provider does not scale and it certainly isn&amp;rsquo;t affordable. SR leverages the same models that MPLS does, it realies heavily on the IGP, leveraging a TLV within IS-IS. That brings me to IS-IS. Most service providers leverage IS-IS as their internal gateway protocol due to it&amp;rsquo;s ability to carry multiple routed protocols at once, leverage multi-topology, and the fact that it does not rely on the protocol it is routing for connectivity like OSPF does. SR is more-or-less an extension to IS-IS. Overlapping skill set #2. The other option, and this is a big one, is that there are multiple vendors that supported, as stated above. This is a big deal as int provides that &amp;ldquo;throat to choke&amp;rdquo; that a lot of emerging technologies just do not really have yet.&lt;/p&gt;

&lt;p&gt;Did I mention that it &amp;ldquo;fails open”? What’s not to love about falling back to an IGP rather than ceasing to process packets?  Lets do a for-instance use-case. Within your SR network you provision a path that takes a path with more hops but has less congestion. Create your label stack and away you go* Of that path fails, the traffic falls back to the standard routing table.&lt;/p&gt;

&lt;p&gt;Much like MPLS (of which I am a fan, FWIW), this technology is better suited for a larger network with multiple paths, this could be any number of  environments such as large camps networks, large scale data centers geographically diverse environments connected by multiple WAN circuits, and of course, service and content providers. This tech is quite simply full of win. &lt;/p&gt;

&lt;p&gt;*greatly simplified =)&lt;/p&gt;
</description>
    </item>
    
    <item>
      <title>BGP RPKI - why aren&#39;t we using it more?</title>
      <link>https://forwardingplane.net/post/bgp-rpki-why-arent-we-using-it/</link>
      <pubDate>Sat, 21 May 2016 16:33:44 +0000</pubDate>
      
      <guid>https://forwardingplane.net/post/bgp-rpki-why-arent-we-using-it/</guid>
      <description>&lt;nav&gt;
&lt;ul&gt;
&lt;li&gt;
&lt;ul&gt;
&lt;li&gt;
&lt;ul&gt;
&lt;li&gt;
&lt;ul&gt;
&lt;li&gt;
&lt;ul&gt;
&lt;li&gt;
&lt;ul&gt;
&lt;li&gt;&lt;a href=&#34;#image-created-from-surfnet-rpki-page&#34;&gt;Image created from SURFNet RPKI page.&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;&lt;/li&gt;
&lt;/ul&gt;&lt;/li&gt;
&lt;/ul&gt;&lt;/li&gt;
&lt;/ul&gt;&lt;/li&gt;
&lt;/ul&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;/nav&gt;

&lt;p&gt;     I was recently at a meeting where BGP RPKI was the topic de jour. While this has been a topic that I have visited on occasion of the last few years and something I wanted to spend significant time on, I have found that setting aside the time has been difficult and sparse, much like the deployment of BGP RPKI. In order to better understand the options available, it&amp;rsquo;s important to break down the pieces and terminology involved; BGP is daunting enough to those unfamiliar with it and adding PKI on top of that can be even more so. So, what are these bits and pieces and why have we not done more to adopt it?&lt;/p&gt;

&lt;ul&gt;
&lt;li&gt;&lt;strong&gt;BGP&lt;/strong&gt; - the venerable and foundational protocol that quite literally runs the internet. BGP allows an organization to announce and exchange it’s IPv4 and IPv6 resources with other organizations.&lt;/li&gt;
&lt;li&gt;&lt;a href=&#34;https://www.arin.net/resources/rpki/&#34;&gt;&lt;strong&gt;Resource Public Key Infrastructure&lt;/strong&gt;&lt;/a&gt; - From &lt;a href=&#34;https://www.arin.net/resources/rpki/&#34;&gt;ARIN&lt;/a&gt;: &lt;em&gt;Using cryptographically verifiable certificates, RPKI allows IP address holders to specify which Autonomous Systems (AS&amp;rsquo;s) are authorized to originate their IP address prefixes. These statements, known as Route Origin Authorizations (ROAs), allow network operators to make informed routing decisions, and help secure Internet routing in general. &lt;/em&gt;&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;ROA&lt;/strong&gt; - Route Origin Authorizations - Who is authorized to originate or source these prefixes?&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;ROV&lt;/strong&gt; - Route Origin Validation - Can we validate, cryptographically, that the origin of this resource (for example, 8.8.8.8) is authorized to originate or source these prefixes?&lt;/li&gt;
&lt;/ul&gt;

&lt;p&gt;     Many of the details of RPKI are actually not even technical, both with ARIN and with vendors, there exists complications that make the technical pieces look like child’s play. Legality of the licensing and housing of authoritative certificates are complicated, shrouded in legalese due to the nature of what they represent. This proves to be a show stopper for a lot of older organizations that have grandfathered address space and may not have gone through the ARIN agreement process any time in the recent past [note: supposedly this process is required for ARIN IPv6 space, so most of that _should_ be covered. Other regions may have easier, lower hurdles - I’ve heard good things about RIPE’s process - but I have no experience with it. The legal issues with contracts and signing certificates may also prove to be troublesome to enterprises, most of which are very conservative and slow to adopt anything new ::cough:: IPv6 ::cough::.  Certificate generation and maintenance is also considered difficult in many cases, the details can be confusing and the documentation overwhelming or difficult to find.&lt;/p&gt;

&lt;p&gt;On top of those non-technical issues, platforms with large install bases are sparsely supported - although this is changing.&lt;/p&gt;

&lt;p&gt;     There have been a &lt;a href=&#34;http://www.bgpmon.net/large-scale-bgp-hijack-out-of-india/&#34;&gt;number&lt;/a&gt; of &lt;a href=&#34;http://www.bgpmon.net/large-hijack-affects-reachability-of-high-traffic-destinations/&#34;&gt;recent&lt;/a&gt;, high profile route hijacks. If you’re ever curious to see what they were, BGPMon typically has a post-mortem shortly after they occur. This is a big deal. There are a number of ways they could have been prevented, too one of which is BGP RPKI. Is that worth the overhead? I think anyone that has had to scramble to figure out what was going on during one of these events would argue yes. But even with that, we have minimal adoption. With the significant movement to cloud based work, enterprises, service providers, academic institutions and even savvy end users should ask themselves a few important questions before doing your risk analysis:&lt;/p&gt;

&lt;ul&gt;
&lt;li&gt;Do your cloud providers do RPKI?&lt;/li&gt;
&lt;li&gt;Does your upstream service provider or peering partner honor invalid routes?&lt;/li&gt;
&lt;li&gt;Does your upstream service provider or peering partner even support prefix or AS-Path filtering?&lt;/li&gt;
&lt;li&gt;How does the effect BGP blackhole routing for security filtering?&lt;/li&gt;
&lt;li&gt;How do you deal with invalid routes? (alert, set preference, drop, etc.)&lt;/li&gt;
&lt;li&gt;How do you handle invalid routes that may be more specific?&lt;/li&gt;
&lt;li&gt;Why have I not deployed BGP RPKI yet?&lt;/li&gt;
&lt;/ul&gt;

&lt;p&gt;&lt;strong&gt;My perspective:&lt;/strong&gt;&lt;/p&gt;

&lt;p&gt;    Unfortunately, the feeling I get is very similar to that of things [that we actually need] such as IPv6 and DNSSec. Tools that make our resources safer,  but are often overlooked due to increased operational complexity.&lt;/p&gt;

&lt;p&gt;It is really about risk analysis: Is the risk of not having this worth the effort of maintaining it?  Since we [as an internetworking ecosystem] been clear in our actions that necessary things as obvious and straightforward as appropriate prefix filtering and IPv6 deployment are in many cases above and beyond, it should come as no surprise that adding complexity on top of “stuff that just works” is’t happening on a large scale. Even with repeated proof that changes would alleviate risk, we don’t do it because what we have has been deemed “good enough”* and change is scary and hard.&lt;/p&gt;

&lt;p&gt;What do we need? We need tools. The &lt;a href=&#34;http://rpki.surfnet.nl/&#34;&gt;RPKI dashboard&lt;/a&gt; that SURFnet has available is a fantastic example of an easy to use tool that makes a ton of information available. We need a &lt;strong&gt;&lt;em&gt;very easy&lt;/em&gt;&lt;/strong&gt; way to deploy this. BGP is actually a pretty simple protocol to make work, which is why is hasn’t changed much in the  extremely long tenure it has had as foundation of the internet. We need a very, very straightforward way to get the non-technical pieces done.&lt;/p&gt;

&lt;p&gt;&lt;strong&gt;Disclaimer:&lt;/strong&gt; This is just the tip of the iceberg and I am but a novice with this tech - but my gut feelings are typically right about this type of thing.&lt;/p&gt;

&lt;p&gt;* &amp;ldquo;Good enough” is almost never good enough.&lt;/p&gt;

&lt;h6 id=&#34;image-created-from-surfnet-rpki-page&#34;&gt;Image created from SURFNet RPKI page.&lt;/h6&gt;
</description>
    </item>
    
    <item>
      <title>NIX4NetEng 6 DNS, ad-blocking, and quality of experience</title>
      <link>https://forwardingplane.net/post/nix4neteng-6-dns-ad-blocking-and-quality-of-experience/</link>
      <pubDate>Sat, 27 Feb 2016 16:40:04 +0000</pubDate>
      
      <guid>https://forwardingplane.net/post/nix4neteng-6-dns-ad-blocking-and-quality-of-experience/</guid>
      <description>

&lt;p&gt;The sixth [and arguably very overdue] installment of my &lt;a href=&#34;https://www.forwardingplane.net/?s=nix4neteng&#34;&gt;NIX4NetEng&lt;/a&gt; series, this began as an overly complex diatribe about &lt;a href=&#34;https://en.wikipedia.org/wiki/Domain_Name_System&#34;&gt;DNS&lt;/a&gt;. As it evolved, I realized that DNS is so complex and far reaching that it could never be contained in one meager post. DNS is a powerful tool. It has existed for so long that many that have never had the responsibility of running an authoritative or recursive resolver may take for granted the extensive reach of a tool so engrained in the fabric of the internet that it is frequently overlooked, much like a utility such as electricity or running water. Over time DNS has been reviled as the weak link in the chain that is the internet and and revered as the binding agent that makes the internet as we know it function. As someone that has run service provider and large campus resolvers, both recursive and authoritative, my opinion is that it is both. In the old days, and even now, black hat players will often target resolvers to perform DNS poisioning and will employ techniques such as flux and double flux to obfuscate their bot herders. Content providers use DNS tricks and anycast DNS to steer eyeballs to the topologically closest resource. Wifi hotspots use DNS to capture and force users through a captive portal. As users at large surf the web, advertisers utilize DNS to deliver advertising. Google does this, Yahoo does it, Hulu and other streaming video services do it. It has also been known to deliver pretty nasty &lt;a href=&#34;https://en.wikipedia.org/wiki/Malvertising&#34;&gt;malware&lt;/a&gt;. That&amp;rsquo;s why when internet and security ninja &lt;a href=&#34;http://blog.samoehlert.com/&#34;&gt;Sam Oehlert&lt;/a&gt; pointed me at this project called &lt;a href=&#34;https://pi-hole.net/&#34;&gt;pi-hole&lt;/a&gt;, I knew that it would be a blog post. Pi-Hole is a recursive resolver based on the venerable &lt;a href=&#34;http://www.thekelleys.org.uk/dnsmasq/doc.html&#34;&gt;dnsmasq&lt;/a&gt; that actively blocks and logs ads. And it WORKS. The initial project was aimed at running this on a raspberry pi as a hardware based resolver for a small network. While this works well, it&amp;rsquo;s really just a linux service that can be run as a &lt;a href=&#34;https://hub.docker.com/r/diginc/pi-hole/&#34;&gt;docker container&lt;/a&gt; or a standard LXC container. I decided to set this up as a linux container on my &lt;a href=&#34;https://www.proxmox.com/en/&#34;&gt;proxmox&lt;/a&gt; box. The install is as simple as running a single command and walking through some simple menus.&lt;/p&gt;

&lt;h2 id=&#34;curl-l-install-pi-hole-net-bash&#34;&gt;curl -L install.pi-hole.net | bash&lt;/h2&gt;

&lt;p&gt;The install is straightforward and allows for both IPv4 &lt;strong&gt;and&lt;/strong&gt; IPv6 ad blocking, should your network support it (which is should!). Like any self funded opensource project, I have found a few caveats and hidden features with it:&lt;/p&gt;

&lt;ul&gt;
&lt;li&gt;Scaling the web interface for a network that performs significant numbers of queries is hard. It seems to have a difficult time displaying from large log files. Perhaps they&amp;rsquo;ll add something like a sqlite db to make this faster, the web interface seems to be updated frequently.&lt;/li&gt;
&lt;li&gt;It&amp;rsquo;s based on dnsmasq, so adding local hostnames for within your network is a trivial as adding them to the /etc/hosts file on the pihole device. I personally don not like to type IP addresses and my network has been dial stacked with IPv6 for more than a decade, so local DNS resolution is a requirement. I&amp;rsquo;m not memorizing v6 addresses.&lt;/li&gt;
&lt;li&gt;Again, it&amp;rsquo;s based on dnsmasq, so the flexibility and features are pretty significant and are as simple as tweaking the config file once it&amp;rsquo;s installed.&lt;/li&gt;

&lt;li&gt;&lt;p&gt;The query log is available. Security professionals are always interested in DNS query logs - they provide a monumental amount of useful information. With pihole, you have access to that in /etc/log/pihole.log. Here is a snippit of the log&lt;/p&gt;

&lt;pre&gt;&lt;code&gt;Feb 27 16:28:04 dnsmasq\[7620\]: /etc/pihole/gravity.list s.youtube.com is 10.209.209.10
Feb 27 16:28:04 dnsmasq\[7620\]: query\[AAAA\] pubads.g.doubleclick.net from 10.209.89.21
Feb 27 16:28:04 dnsmasq\[7620\]: /etc/pihole/gravity.list pubads.g.doubleclick.net is 2001:470:c03a:809::a
Feb 27 16:28:04 dnsmasq\[7620\]: query\[A\] pubads.g.doubleclick.net from 10.209.89.21
Feb 27 16:28:04 dnsmasq\[7620\]: /etc/pihole/gravity.list pubads.g.doubleclick.net is 10.209.209.10
Feb 27 16:28:04 dnsmasq\[7620\]: query\[A\] r2---sn-vgqs7nls.googlevideo.com from 10.209.89.21
Feb 27 16:28:04 dnsmasq\[7620\]: forwarded r2---sn-vgqs7nls.googlevideo.com to 75.75.76.76
Feb 27 16:28:04 dnsmasq\[7620\]: query\[AAAA\] r2---sn-vgqs7nls.googlevideo.com from 10.209.89.21
Feb 27 16:28:04 dnsmasq\[7620\]: forwarded r2---sn-vgqs7nls.googlevideo.com to 75.75.76.76
Feb 27 16:28:04 dnsmasq\[7620\]: query\[AAAA\] manifest.googlevideo.com from 10.209.89.21
Feb 27 16:28:04 dnsmasq\[7620\]: forwarded manifest.googlevideo.com to 75.75.76.76
Feb 27 16:28:04 dnsmasq\[7620\]: query\[A\] manifest.googlevideo.com from 10.209.89.21
Feb 27 16:28:04 dnsmasq\[7620\]: forwarded manifest.googlevideo.com to 75.75.76.76
&lt;/code&gt;&lt;/pre&gt;&lt;/li&gt;

&lt;li&gt;&lt;p&gt;It&amp;rsquo;s easy to add or remove ad domains. Just edit /etc/pihole/gravity.list&lt;/p&gt;&lt;/li&gt;
&lt;/ul&gt;

&lt;p&gt;  &lt;a href=&#34;https://vimeo.com/135965232&#34;&gt;Pi-hole Explained&lt;/a&gt; from &lt;a href=&#34;https://vimeo.com/user40849716&#34;&gt;Pi-hole&lt;/a&gt; on &lt;a href=&#34;https://vimeo.com&#34;&gt;Vimeo&lt;/a&gt;.   Completely ignoring the merit or unethical nature of blocking revenue generating advertisements (which I personally make a small amount of money on from on my &lt;a href=&#34;https://www.youtube.com/buraglio&#34;&gt;youtube channel&lt;/a&gt;), this is a recommended project that exposes networking folks to unix, critical network services, as well as security. &lt;a href=&#34;https://www.paypal.com/cgi-bin/webscr?cmd=_s-xclick&amp;amp;hosted_button_id=3J2L3Z4DHW9UY&#34;&gt;Throw them some beer or coffee money&lt;/a&gt; if you find it useful. They&amp;rsquo;ve earned it.&lt;/p&gt;
</description>
    </item>
    
    <item>
      <title></title>
      <link>https://forwardingplane.net/post/1342/</link>
      <pubDate>Mon, 18 Jan 2016 22:08:05 +0000</pubDate>
      
      <guid>https://forwardingplane.net/post/1342/</guid>
      <description></description>
    </item>
    
    <item>
      <title>Podcasts</title>
      <link>https://forwardingplane.net/post/podcasts/</link>
      <pubDate>Mon, 18 Jan 2016 16:42:00 +0000</pubDate>
      
      <guid>https://forwardingplane.net/post/podcasts/</guid>
      <description>

&lt;h2 id=&#34;podcasts&#34;&gt;&lt;strong&gt;Podcasts&lt;/strong&gt;&lt;/h2&gt;

&lt;p&gt;Podcasts on Security and Networking that I have hosted or participated in. The series hosted by myself for ForwardingPlane.net are &amp;ldquo;Default Deny&amp;rdquo; and &amp;ldquo;Non-Blocking&amp;rdquo;, which focus on data networking and security, respectively. [soundcloud url=&amp;ldquo;&lt;a href=&#34;https://api.soundcloud.com/tracks/242625484&amp;quot;&#34;&gt;https://api.soundcloud.com/tracks/242625484&amp;quot;&lt;/a&gt; params=&amp;ldquo;auto_play=false&amp;amp;hide_related=false&amp;amp;show_comments=true&amp;amp;show_user=true&amp;amp;show_reposts=false&amp;amp;visual=true&amp;rdquo; width=&amp;ldquo;100%&amp;rdquo; height=&amp;ldquo;150&amp;rdquo; iframe=&amp;ldquo;true&amp;rdquo; /]&lt;/p&gt;

&lt;h2 id=&#34;other-podcasts&#34;&gt;&lt;strong&gt;Other Podcasts&lt;/strong&gt;&lt;/h2&gt;

&lt;h3 id=&#34;software-gone-wild&#34;&gt;&lt;strong&gt;Software Gone Wild&lt;/strong&gt;&lt;/h3&gt;

&lt;p&gt;&lt;a href=&#34;http://blog.ipspace.net/2016/04/more-open-source-network-management.html&#34;&gt;OpenSource Network Management Tools on Software Gone wild&lt;/a&gt; &lt;a href=&#34;http://blog.ipspace.net/2015/12/running-open-daylight-in-production.html&#34;&gt;Running OpenDayLight in production &lt;/a&gt; &lt;a href=&#34;http://blog.ipspace.net/2015/03/networking-field-day-9-wrap-up-on.html&#34;&gt;Network Field Day 9 Wrap Up&lt;/a&gt;&lt;/p&gt;

&lt;h3 id=&#34;packet-pushers&#34;&gt;Packet Pushers&lt;/h3&gt;

&lt;p&gt;&lt;a href=&#34;http://packetpushers.net/podcast/podcasts/show-131-golf-cart-in-my-fibre-tunnel/&#34;&gt;Golf cart in my fiber tunnel&lt;/a&gt; &lt;a href=&#34;http://packetpushers.net/podcast/podcasts/show-163-open-source-perfsonar-finds-the-flaws-impacting-the-flows/&#34;&gt;Open Source Perfsonar for finding network issues&lt;/a&gt;&lt;/p&gt;
</description>
    </item>
    
    <item>
      <title>Buzzwords, technology, terminology, and the interconnection of modern networking</title>
      <link>https://forwardingplane.net/post/buzzwords-technology-terminology-interconnection-modern-networking/</link>
      <pubDate>Mon, 18 Jan 2016 16:33:09 +0000</pubDate>
      
      <guid>https://forwardingplane.net/post/buzzwords-technology-terminology-interconnection-modern-networking/</guid>
      <description>&lt;p&gt;&lt;em&gt;I&amp;rsquo;m way overdue for a soapbox session &amp;ndash; I found this one in my drafts and thought it was something I needed to put out there. It&amp;rsquo;s already dated in terminology but that actually helps make the point - it&amp;rsquo;s hard to keep up. &lt;/em&gt;&lt;/p&gt;

&lt;p&gt;Lets throw this out there: social media can be exhausting. Do not misunderstand me, it’s a great tool for communication, obtaining and disseminating information as well as standard goofing around. It’s also a serious business for a huge amount of companies. I use it extensively myself and I’ll assume there is a pretty good chance you followed a tweet or other social media link to get here. However, for a green network engineer looking for a path forward it can be a bit daunting. Those my age never had the social media aspect to deal with when we were learning, we may have had IRC or other haphazard back channels to bounce ideas and questions, but for the most part, the resources were far more limited than they are today. In actuality, I believe that this was a bit of an advantage that we had over today: we were often forced to bulldoze through problems, making mistakes that taught us deep understandings of the inner working of that given technology. It also sucked a lot more [time].&lt;/p&gt;

&lt;p&gt;Am I right? Maybe. Maybe not. Who is to say? These days I take full advantage of the wealth of information that is the internet for both personal and professional tasks, I would be a tad crazy not to. It&amp;rsquo;s why I write the tech stuff I write.&lt;/p&gt;

&lt;p&gt;With all of that, though, comes so many buzzwords and so much hype that it is very easy for an aspiring network engineer (or any professional IT hopeful, student or casual techie) to become completely overwhelmed by simply looking at twitter and following a handful of key players. I’ve been doing what I do with networks since the 1990s and even I have been feeling a little overwhelmed by the sheer number of “Network Engineer Killer” or “Must know” technologies being thrown around in the last few years. It&amp;rsquo;s both exciting, encouraging and at the same time enough to make even the most grizzly engineer feel snowed under.&lt;/p&gt;

&lt;p&gt;Wait for it……Cloud. No wait, DevOps. Containers! NO! NO! SDN! They&amp;rsquo;re all cool and they&amp;rsquo;re all important. They are also a lot to take in.&lt;/p&gt;

&lt;p&gt;I have been thinking a great deal about DevOps and SDN lately. Being a really, really bad developer, DevOps is a tad uncomfortable for me. It is an obviously useful skill set: Understanding code and automation. It’s powerful and &lt;strong&gt;will&lt;/strong&gt; make your professional life easier. Do you need to obsess over it? Probably not (do you need to obsess over any of it?!?). Remember that internet thing that I mentioned before? Yeah, there are a lot of resources there. Search engines are your friend.&lt;/p&gt;

&lt;p&gt;Will you need to know the concepts? For sure. Guess what, though? There are a &lt;strong&gt;ton&lt;/strong&gt; of resources for that too.&lt;/p&gt;

&lt;p&gt;As I was brainstorming this, I mind-mapped some of the things that jumped into my brain [&lt;a href=&#34;https://mindnode.com/&#34;&gt;mindnode pro&lt;/a&gt; is a fantastic app for this, I highly recommend it]. Things that get a lot of attention and maybe deserve a cursory glance. Lets break them down in a simple-ish and concise-ish manner and understand that by the time of this writing I’m positive it will be outdated and there will be some new whiz-bang thing that the marketing machine will be saying is the “something-killer&amp;rdquo;.&lt;/p&gt;

&lt;p&gt;Here are the high level things I see thrown around a lot. For what it’s worth, OpenDayLight has &lt;a href=&#34;http://www.opendaylight.org/project/technical-overview&#34;&gt;a page&lt;/a&gt; with some definitions that is pretty good, too.&lt;/p&gt;

&lt;p&gt; &lt;a href=&#34;http://www.forwardingplane.net/wp-content/uploads/2015/07/Networking-Tech-Relationships.png&#34;&gt;&lt;img src=&#34;http://www.forwardingplane.net/wp-content/uploads/2015/07/Networking-Tech-Relationships.png&#34; alt=&#34;Networking Tech Relationships&#34; /&gt;&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;This is absolutely &lt;strong&gt;not&lt;/strong&gt; all-encompassing and is likely missing major things, however, the point is really not to be accurate as much as it is to demonstrate that there is a &lt;strong&gt;monumental&lt;/strong&gt; amount of scope that is in some ways interconnected and in other ways completely autonomous. It is also pretty clear that due to the nature of what “DevOps” is, it has ties into many other things.&lt;/p&gt;

&lt;p&gt;The biggest take-away is that the communication paths need to be there - Better communication between these specializations makes for better, more secure, more usable tools.&lt;/p&gt;

&lt;p&gt;It is how the DevOps is done, &lt;strong&gt;not&lt;/strong&gt; what it is doing.&lt;/p&gt;

&lt;p&gt;What I am really getting at here is that there is no need to get overwhelmed. You don’t need to know all of this stuff. If you know a little about most of it and a lot about one or two topics, then in my opinion you are doing really, really well.&lt;/p&gt;

&lt;p&gt;My best advice to any new IT person is not to know everything but to know where to find it - and then share what you learned.&lt;/p&gt;
</description>
    </item>
    
    <item>
      <title>Building Interdomain SDN part 3</title>
      <link>https://forwardingplane.net/post/building-interdomain-sdn-part-3/</link>
      <pubDate>Fri, 06 Nov 2015 04:37:23 +0000</pubDate>
      
      <guid>https://forwardingplane.net/post/building-interdomain-sdn-part-3/</guid>
      <description>&lt;p&gt;A few years ago I wrote &lt;a href=&#34;http://www.forwardingplane.net/2012/11/sdn-across-domains-in-the-wan-a-novice-look/&#34;&gt;some text&lt;/a&gt; on &lt;a href=&#34;http://www.forwardingplane.net/2013/01/sdn-across-the-wan-part-deux-primitives/&#34;&gt;interdomain SDN&lt;/a&gt;. Years later, work is being done, smart people are thinking about it and building ways to make it a reality. Not being one to give up on an idea, I gave &lt;a href=&#34;https://docs.google.com/presentation/d/1anAaqWR8wmzKO5fqidDy9QJXW4RiVshX9Miq3PoDv9E/edit&#34;&gt;this presentation&lt;/a&gt; in may at &lt;a href=&#34;http://chinog.org/meetings/chi-nog-05/&#34;&gt;ChiNOG&lt;/a&gt;  on what my take on what that architecture should be. I (we) propose that the use of existing protocols such as &lt;a href=&#34;https://tools.ietf.org/html/rfc5575&#34;&gt;BGP FlowSpec&lt;/a&gt; will make this realistically deployable and maintainable given some &lt;a href=&#34;https://github.com/dwcarder/sdn-ix-demo&#34;&gt;simple, pluggable middleware&lt;/a&gt;. As work continues to happen on this, my belief is that this is a very sound (and simple) concept. The middleware is modular and flexible enough that it can stand alone or plug into an existing code base such as ODL or Ryu. As &lt;a href=&#34;http://sc15blog.blogspot.com/2015/11/simplifying-worlds-most-powerful.html&#34;&gt;I work on the SDN deployment&lt;/a&gt; for the &lt;a href=&#34;http://www.sc15.org&#34;&gt;annual international supercomputing conference&lt;/a&gt;, and work on the &lt;a href=&#34;https://www.es.net/network-r-and-d/workshops/&#34;&gt;SDN for scientific networking workshop&lt;/a&gt;,  I become more and more convinced that there needs to be an operationally viable and simple way to support these types of networks in ways that are thin and simple since it is a newer concept and some of the protocols involved (e.g. OpenFlow) is still in its infancy.  Here is the video of the talk for anyone interested in listening to me talk about it for 20 minutes. As a reference, this is a great talk from the same conference on BGP FlowSpec that adds a lot of credence to the use of it as a policy dissemination protocol.&lt;/p&gt;
</description>
    </item>
    
    <item>
      <title>Solarwinds Orion from a UNIX user perspective</title>
      <link>https://forwardingplane.net/post/solarwinds-orion-from-a-unix-user-point-of-view/</link>
      <pubDate>Tue, 07 Jul 2015 04:08:30 +0000</pubDate>
      
      <guid>https://forwardingplane.net/post/solarwinds-orion-from-a-unix-user-point-of-view/</guid>
      <description>&lt;p&gt;Back in February of this year (2015) I was introduced to &lt;a href=&#34;http://www.solarwinds.com/&#34;&gt;Solarwinds&lt;/a&gt; when they presented to us at &lt;a href=&#34;http://techfieldday.com/event/nfd9/&#34;&gt;Networking Field day 9&lt;/a&gt;. Until then I knew of SolarWinds products but only at a cursory level; I had never really seen or used their stuff since it was mostly focused on environments that were either smaller or outside of the networking world that I generally operate in. However, I am a[n insufferable] network monitoring &amp;ldquo;aficionado&amp;rdquo; so when the opportunity to play around with it arose, I happily took it. Now, let me preface what comes next by laying out a few things:&lt;/p&gt;

&lt;ol&gt;
&lt;li&gt;I am not a fan of SNMP. In fact, I hate it. It&amp;rsquo;s the least intuitive, overly complex protocol used for management that we can&amp;rsquo;t get away from. It sucks and is CPU intensive. It is cryptic, dated and we&amp;rsquo;ve tried to fix it by bolting on crude, poorly supported security features.&lt;/li&gt;
&lt;li&gt;I don&amp;rsquo;t do windows systems. I have not managed as much as a windows desktop other than an on-demand VM for the occasional DWDM network element manager since 1999. I have no issue with it as a platform but a unix based platform is a better tool for my every day workflow (see &lt;a href=&#34;https://www.forwardingplane.net/topics/nix4neteng/&#34;&gt;NIX4NetEng&lt;/a&gt;)  so I don&amp;rsquo;t have it in my wheelhouse and have no business managing such a system.&lt;/li&gt;
&lt;li&gt;I went into this project completely and totally open minded. These were the canvas, brushes and subject I had to work with and it needed to do what needed done.&lt;/li&gt;
&lt;/ol&gt;

&lt;p&gt;With that out of the way, my impressions of SolarWinds Orion platform at first glance were: &amp;ldquo;Wow, this is pretty good&amp;rdquo;.&lt;img src=&#34;http://www.forwardingplane.net/wp-content/uploads/2015/07/Screen-Shot-2015-07-06-at-10.48.05-PM.png&#34; alt=&#34;Screen Shot 2015-07-06 at 10.48.05 PM&#34; /&gt; I must admit, I was surprised. Although I went in open minded, I knew that Orion is a tool that seemed to be enterprise focused, which was not the application it was being used for. It runs on windows systems, it had &amp;ldquo;rumored&amp;rdquo; scaling issues in large environments, and they market it mostly to the enterprise demographic, at least from my point of view. Admittedly I struggled with the configuration. I&amp;rsquo;m a little old school and I like to kick the tires of a GUI and then to most of the heavy lifting in a conf file or set of files using VI, which I was not able to do here. I found the management a little clunky and sluggish at times, but the data presentation was top shelf and once I figured out the where and how I was able to set up netflow, syslog collection and up/down monitoring in pretty short order. In this environment I didn&amp;rsquo;t yet have IPv6 so no sflow or IPFIX in the mix yet; not sure about IPv6 support in practice. A rough breakdown of the pros and cons from my inaugural run: &lt;strong&gt;Pros:&lt;/strong&gt;&lt;/p&gt;

&lt;ul&gt;
&lt;li&gt;Elegant Interface&lt;/li&gt;
&lt;li&gt;Eye candy&lt;/li&gt;
&lt;li&gt;One stop shop***&lt;/li&gt;
&lt;li&gt;Good support for common stuff, seems expandable.&lt;/li&gt;
&lt;li&gt;Great &lt;a href=&#34;https://thwack.solarwinds.com&#34;&gt;community of support&lt;/a&gt;; very &amp;ldquo;FOSS-Like&amp;rdquo;&lt;/li&gt;
&lt;li&gt;Lots of knobs and dials for tuning.&lt;/li&gt;
&lt;li&gt;Did I say good interface?&lt;/li&gt;
&lt;li&gt;Automated netflow database maintenance is cool.&lt;/li&gt;
&lt;li&gt;Search for flows and syslogs is reasonably fast. - a litmus test for real use.&lt;/li&gt;
&lt;/ul&gt;

&lt;p&gt;&lt;strong&gt;Cons:&lt;/strong&gt;&lt;/p&gt;

&lt;ul&gt;
&lt;li&gt;It&amp;rsquo;s SNMP. We&amp;rsquo;re mostly stuck with that, unfortunately.&lt;/li&gt;
&lt;li&gt;Interface configuration took a little getting used to coming from a CLI background (this is a &amp;ldquo;me problem&amp;rdquo;)&lt;/li&gt;
&lt;li&gt;Cost; it&amp;rsquo;s a reasonably noticeable capital expenditure.&lt;/li&gt;
&lt;/ul&gt;

&lt;p&gt;&lt;strong&gt;Unknowns: &lt;/strong&gt;&lt;/p&gt;

&lt;ul&gt;
&lt;li&gt;I didn&amp;rsquo;t get to play with the SNMP trap management.&lt;/li&gt;
&lt;li&gt;I kept RANCID for configurations management.&lt;/li&gt;
&lt;/ul&gt;

&lt;p&gt;The key for this for me was that I did not need to manage the server. I had no access whatsoever to the underlying OS, meaning the responsibility of managing this host OS was completely off the table. I was able to manage the SolarWinds instance from its web interface without issue. &lt;a href=&#34;http://www.forwardingplane.net/wp-content/uploads/2015/07/Screen-Shot-2015-07-06-at-10.47.36-PM.png&#34;&gt;&lt;img src=&#34;http://www.forwardingplane.net/wp-content/uploads/2015/07/Screen-Shot-2015-07-06-at-10.47.36-PM.png&#34; alt=&#34;Screen Shot 2015-07-06 at 10.47.36 PM&#34; /&gt;&lt;/a&gt; My summary: If you are comfortable in a windows environment or do not manage the underlying system, don&amp;rsquo;t need granular flow and syslog analysis for forensics and have the cash, it&amp;rsquo;s a full featured, supported platform. I continue to learn more and more about the seemingly endless stuff this platform can do. If you are strapped for cash and/or are comfortable going the FOSS route, you have a lot of options at the expense of configuration time and possible learning curve. You&amp;rsquo;ll spend the money wither way, either on people time or on licensing. In some cases possibly both. ** I&amp;rsquo;ve heard that as a rumor. In my experience with the devices and other network elements it managed it seemed to work pretty well and I had no scaling issues. *** Depends heavily on needs and requirements.&lt;/p&gt;
</description>
    </item>
    
    <item>
      <title>Brocade Vyatta Install and OpenFlow 1.3 on ICX 7450</title>
      <link>https://forwardingplane.net/post/brocade-vyatta-install-and-openflow-1-3-on-icx-7450/</link>
      <pubDate>Sat, 20 Jun 2015 16:06:03 +0000</pubDate>
      
      <guid>https://forwardingplane.net/post/brocade-vyatta-install-and-openflow-1-3-on-icx-7450/</guid>
      <description>

&lt;p&gt;I recently had a need to test OpenFlow on the brocade ICX 7450 for a fairly good sized, high visibility &lt;a href=&#34;http://scinet.supercomputing.org&#34;&gt;project&lt;/a&gt;. The basic goal is pretty simple, Layer2 path provisioning. Straightforward and fairly well supported in OpenFlow, even from the early days. To do this, the idea was to use a turnkey platform, that way there is one throat to choke if there are issues. I landed on the &lt;a href=&#34;http://www1.brocade.com/forms/jsp/vyatta-controller/download.jsp&#34;&gt;Brocade Vyatta controller&lt;/a&gt; (which is essentially ODL), and the ICX. Below is a rough account of getting this up and working to the point of testing. For the purposes of this I used BVC 1.3 and an ICX 7450. The docs for the BVC are actually pretty good if you read them. I found the google searching for the docs led to &lt;sup&gt;9&lt;/sup&gt;&amp;frasl;&lt;sub&gt;10&lt;/sub&gt; links to brocade being 404 errors. My guess is that they restructured their site and did not alias anything. Minor frustration since my guess is that most folks search using a search engine rather than going to the site and searching from there. The link to the configuration guide I used for the ICX is &lt;a href=&#34;http://www.brocade.com/content/brocade/en/backend-content/pdf-page.html?/content/dam/common/documents/content-types/configuration-guide/fastiron-08030-sdnguide.pdf&#34;&gt;here&lt;/a&gt;. Once I grabbed the software, which requires registration, I went on to try to build this on CentOS 6.6. After some hurdles that I didn&amp;rsquo;t expect, I went and actually read the doc for BVC and found that ubuntu is a requirement. Another minor annoyance, but surmountable pretty easily. Enterprise customers are probably not going to want to have a one-off from RHEL/CentOS even if I don&amp;rsquo;t have a strong preference either way. Now that the VM is up and running with just over the minimum requirements, time to log in and get to work. This is assuming you have the code actually on the server already.```
apt-get install -y unzip curl wget python-pip&lt;br /&gt;
curl -sL &lt;a href=&#34;https://deb.nodesource.com/setup&#34;&gt;https://deb.nodesource.com/setup&lt;/a&gt; | sudo bash -
sudo apt-get install -y nodejs
unzip -o bvc-1.3.0.zip -d /opt
unzip -o bvc-dependencies-1.3.0.zip -d /opt
unzip -o bvc-app-pathexplorer-packaging-1.2.0.zip -d /opt
cd /opt/bvc
./install&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre style=&#34;color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4&#34;&gt;&lt;code class=&#34;language-The output should look something like this```&#34; data-lang=&#34;The output should look something like this```&#34;&gt; root@bvc:/opt/bvc# ./install
 Brocade Vyatta Controller Installation

 Starting @ : 2015-06-17 15:31:15.564202

 Performing prerequisite check ...
 JDK Check ................................ \[ OK \]
 CPU Count Check: ......................... \[ OK \]
 Memory Size Check: ....................... \[ OK \]

 Running pre-install scripts ...

 Unpacking archives ....................... \[ OK \]

 Setting up karaf container ............... \[ OK \]

 Running controller pre-install scripts ...

 Configuring base features ................ \[ OK \]
 Start controller ......................... \[ OK \]
 Waiting for base initialization .......... \[ OK \]

 Configuring all features ................. \[ OK \]
 Adding Repositories ...................... \[ OK \]
 Adding Features .......................... \[ OK \]

 Running controller post install scripts ...

 Running install scripts ...


 Stopping NODEJS server 9000 .............. \[ OK \]
 Starting NODEJS server  .................. \[ OK \]
   Server @ http://10.42.44.20:9000/

 Install completed @ :  2015-06-17 15:32:26.464365&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;Monitoring the connection to the controller from the controller can be accomplished by using the included tool: /opt/bvc/bin/taillog which operates just like you think, by tailing a log file. Checking for capability can be pretty easily accomplished by looking at the restconf modules:```
http://&lt;IP address&gt;:8181/restconf/modules&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre style=&#34;color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4&#34;&gt;&lt;code class=&#34;language-Now, for the ICX, I was under the impression that OpenFlow was in the base code. This is a true statement, however, I made a bad assumption that it was in _all_ code for that platform. Not so. After banging around and reading release notes as well as contacting my SE, I found that the code that it shipped with did _not_ support openflow, so I would need to upgrade it. _The ICX 7450 (and probably others) requires at least Version 08.0.30aa for OpenFlow support. Earlier versions will be lacking in the entire command hierarchy, even for older versions of OpenFlow._ **Brocade ICX 7450 configuration** From the console:```&#34; data-lang=&#34;Now, for the ICX, I was under the impression that OpenFlow was in the base code. This is a true statement, however, I made a bad assumption that it was in _all_ code for that platform. Not so. After banging around and reading release notes as well as contacting my SE, I found that the code that it shipped with did _not_ support openflow, so I would need to upgrade it. _The ICX 7450 (and probably others) requires at least Version 08.0.30aa for OpenFlow support. Earlier versions will be lacking in the entire command hierarchy, even for older versions of OpenFlow._ **Brocade ICX 7450 configuration** From the console:```&#34;&gt;ip address 10.42.44.30 255.255.255.224
no ip dhcp-client enable
ip default-gateway 10.42.44.1
ip dns server-address 10.42.2.2
clock timezone us central
clock summer-time
logging host 10.42.44.7
logging enable user-login
logging enable config-changed
ntp 
server 10.42.2.2

interface ethernet 1/1/1 
port-name port1

crypto key generate rsa modulus 2048
ip ssh  authentication-retries 5
ip ssh timeout 120 
ip ssh key-authentication yes
username buraglio enable
username buraglio privilege 0
username buraglio password brocade

openflow enable ofv130 
openflow controller 10.42.44.20
system-max openflow-flow-entries 3072&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;Thoughts: OpenFlow wants to use SSL by default. When configuring this it failed in a way that is not intuitive &lt;em&gt;at all&lt;/em&gt;. To get it running quickly, you need to disable SSL, which I absolutely &lt;em&gt;do not&lt;/em&gt; recommended for anything production). If you see anything other than this, the OpenFlow connection isn&amp;rsquo;t working```
SSH@icx-of-test#sh openflow controller
Openflow controller information&lt;/p&gt;

&lt;hr /&gt;

&lt;h2 id=&#34;controller-mode-tcp-ssl-ip-address-port-status&#34;&gt;Controller   Mode      TCP/SSL   IP-address        Port   Status&lt;/h2&gt;

&lt;p&gt;1  (Equal)   active    TCP       10.42.44.20     6653   OPENFLOW_ESTABLISHED&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre style=&#34;color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4&#34;&gt;&lt;code class=&#34;language-This command will make it talk to the BVC over unencrypted TCP:```&#34; data-lang=&#34;This command will make it talk to the BVC over unencrypted TCP:```&#34;&gt;openflow controller ip-address 10.42.44.20 no-ssl port 6653 &lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;To make this work over SSL requires pulling the certificates into the device from the controller. I am still working on this for consideration in a production environment. Path explorer has most of the interesting bits in it. &lt;a href=&#34;http://www.forwardingplane.net/wp-content/uploads/2015/06/BVC-4.png&#34;&gt;&lt;img src=&#34;http://www.forwardingplane.net/wp-content/uploads/2015/06/BVC-4.png&#34; alt=&#34;BVC-4&#34; /&gt;&lt;/a&gt; Other handy commands:```
SSH@icx-of-test#sh openflow inter
  interface     Show interfaces where OpenFlow is enabled
  &lt;cr&gt;
SSH@icx-of-test#sh openflow interface&lt;/p&gt;

&lt;p&gt;Total number of Openflow interfaces: 2&lt;/p&gt;

&lt;p&gt;Port   Link   Speed Tag MAC            OF-portid   Name           Mode
1/1/1  Up     1G    No  cc4e.248b.4570 1           port1          Hybrid-Layer23
1/1/48 Down   None  No  cc4e.248b.459f 48          port48         Hybrid-Layer23&lt;/p&gt;

&lt;p&gt;```The topology explorer is pretty cool, lots of eye candy. &lt;a href=&#34;http://www.forwardingplane.net/wp-content/uploads/2015/06/BVC-1.png&#34;&gt;&lt;img src=&#34;http://www.forwardingplane.net/wp-content/uploads/2015/06/BVC-1.png&#34; alt=&#34;BVC-1&#34; /&gt;&lt;/a&gt; Random Thoughts:&lt;/p&gt;

&lt;ul&gt;
&lt;li&gt;Restarting the BVC causes the topology to need to rebuild, as one would expect. The ICX took longer to show up in the controller than I expected. In fact, it never recovered until I intervened manually.&lt;/li&gt;
&lt;li&gt;The Brocade ICX randomly rebooted while attempting to scp the bootloader code. I never figured out why.&lt;/li&gt;
&lt;li&gt;The ICX stopped responding to SSH for some reason. The only way I could recover it was to reboot. Concerning from a management standpoint, but I suspect it was an anomaly.&lt;/li&gt;
&lt;/ul&gt;

&lt;p&gt;In the next post I&amp;rsquo;ll explore the actual provisioning and the SSL configuration.&lt;/p&gt;
</description>
    </item>
    
    <item>
      <title>Ravello Systems review and use case study</title>
      <link>https://forwardingplane.net/post/ravello-systems-review-and-use-case-study/</link>
      <pubDate>Sat, 16 May 2015 16:42:40 +0000</pubDate>
      
      <guid>https://forwardingplane.net/post/ravello-systems-review-and-use-case-study/</guid>
      <description>&lt;p&gt;There are a vast number of entities that offer the seemingly ubiquitous “cloud”. “SaaS”, “IaaS”, “BLAHaaS”, buzzword compliance is truly a sought after thing by marketing folks. With the proliferation of virtualization, containers and other “time slicing” of hardware by software the chatter can quickly become noise. As technical professionals and the warm bodies with the responsibility for actually making things work and keeping them running, the onus is on us to be able to decipher the useful from the fluff. A staggeringly large number of institutions, enterprise, education, research, and government all rely heavily on virtualization as a cornerstone for cost savings and operational ease. This makes sense, there is real cost savings in both operational and capital money.&lt;/p&gt;

&lt;p&gt;&lt;a href=&#34;http://www.ravellosystems.com/&#34;&gt;Ravello&lt;/a&gt;.&lt;/p&gt;

&lt;p&gt;Recently I was given access to an interesting emerging product brought about by the original developers of the venerable &lt;a href=&#34;http://www.linux-kvm.org/page/Main_Page&#34;&gt;KVM&lt;/a&gt;. Ravello offers something new, something a bit different and something potentially useful for a number of different applications. Ravello is essentially a cloud overlay. I find the interfaces for both the Amazon EC2 and Google compute engine clunky and unintuitive from an operational perspective. While APIs are decent, I am a poor developer and really have no desire to write code to their APIs. When I need results now, I want compatibility and a good interface and I’ll wager most other operational folks do too. This is an element that is hard to acheive and where I was a tad surprised by the Ravello platform. The interface for their cloud overlay was quite elegant and &lt;strong&gt;very&lt;/strong&gt; intuitive. That’s important. However, what it actually does is more significant. The Ravello overlay allows a VM admin to import an existing image in its native form (either VMWare or KVM), deciphers the networking metadata from the images and builds the network for them automatically. This is cool in and of itself, but the real power is the combination of that “admin candy” and the ability to tune the knobs for things like which cloud provider (AWS or GCE) to push your resources to, allow optimization for things like cost or performance and the option to time shutdown of the resources.&lt;/p&gt;

&lt;p&gt;For smaller institutions and enterprises the value seems self evident. As an example, lets say you want to model a change to your data center network which includes an SRX firewall, 3 window servers, 10 linux servers and a load balancer. These resources can all be uploaded into the ravello cloud. It does its best to figure out the network, allowing for some reasonably powerful changes to the configuration right from their interface. Snaphot the entire network from their canvas (which looks like a nice network diagramming tool), make the changes and monitor the result. If it doesn’t work you can roll it back or hack at the consoles of the devices using their VNC based console access to figure out what went wrong.&lt;br /&gt;
In addition to the aforementioned benefits, there were some other surprises. The time to provision was quite good, importing at the speed of upload and then fairly quickly deciphering the needed pieces. It is also obviously self service, meaning I can import, enable, tweak and disable within a choice of cloud based hosting services; flexibility is always good, especially when it is well implemented.&lt;/p&gt;

&lt;p&gt;Overall my impression of Revello is that is provides some pretty interesting and useful stuff, especially when considering utilizing it as a lab for testing upgrades, changes, etc. Many small to medium sized environments do not have resources to put into a physical lab, virtualizing it for a fraction f the cost has a lot of merit and value. Overflow for event based demand is also an obvious use case and again ease of use implementation is key.&lt;/p&gt;
</description>
    </item>
    
    <item>
      <title>Brocade does a double down on SDN</title>
      <link>https://forwardingplane.net/post/brocade-does-a-double-down-on-sdn/</link>
      <pubDate>Sat, 28 Mar 2015 16:09:11 +0000</pubDate>
      
      <guid>https://forwardingplane.net/post/brocade-does-a-double-down-on-sdn/</guid>
      <description>&lt;p&gt;Since &lt;a href=&#34;http://techfieldday.com/event/nfd9/&#34;&gt;Network Field Day 9&lt;/a&gt;, I have spent more and more time mentally grinding on what Brocade is doing. I have been a pretty vocal critic of the foundry hardware and software platform since my first experience with it years and years ago. I found it to be lacking in completed features, Layer 3 functionality and general stability.&lt;br /&gt;
This is one reason that anyone reading this should take pause and think about the background this post is sourcing from and how much of a shift it is. I tend to be a pretty harsh critic and have (more than once) been labeled as irreverent when it comes to what is stated in the network and security industry, instead focusing on what is actually necessary in a production network. Brocade has added some good products and features, keeping their SDN features at the forefront, as expected. These are great, but while useful and innovataive, I am less interested in those technical abilities. Brocade has been a long standing icon in the SDN and specifically in the openflow and &lt;a href=&#34;http://www.opendaylight.org&#34;&gt;OpenDayLight&lt;/a&gt; space since the very early days. In fact, from an outsiders perspective they&amp;rsquo;ve bet their networking arm on it. They were one of the first to market and are able to make software changes quickly and add significant features due to the fact that their larger boxes are FPGA based. This is where it gets interesting for me as someone that had to manage large Foundry/Brocade networks for a number of years and who sports the scars and experiences to prove it. Knowing that the majority of the issues with their platform were software related things like lack of full featured protocols, buggy Layer 3 features and their infamously poor multicast support, the fact that they are laser focused on software defined networking has my wheels turning, and let me tell you why:&lt;/p&gt;

&lt;ul&gt;
&lt;li&gt;&lt;p&gt;&lt;em&gt;Brocade is slurping up pretty much all of the thought leaders, idea producers, and game changers in the SDN community. This isn&amp;rsquo;t exactly ground breaking news, but it is worth repeating because it is significant. It signals, in a very public way, that they are not messing around. They&amp;rsquo;re embracing SDN and they are ready to stop selling sugar water and change the [networking]world. There is a related branch to this, bear with me, I&amp;rsquo;ll come back to it.&lt;/em&gt;&lt;/p&gt;&lt;/li&gt;

&lt;li&gt;&lt;p&gt;&lt;em&gt;Brocade purchased &lt;a href=&#34;http://www.brocade.com/launch/vyatta/&#34;&gt;Vyatta&lt;/a&gt;, a completely software based company and they did not just absorb the IP and rebadge it. They are actively integrating it, as a product, into their portfolio.&lt;/em&gt;&lt;/p&gt;&lt;/li&gt;

&lt;li&gt;&lt;p&gt;&lt;em&gt;Brocade is &lt;strong&gt;supporting&lt;/strong&gt; an open sourced based commercialized SDN controller. This signals that they are ready for someone to buy it, deploy it and use it in production. And to answer support questions.&lt;/em&gt;&lt;/p&gt;&lt;/li&gt;
&lt;/ul&gt;

&lt;p&gt;Circling back to my first point:&lt;/p&gt;

&lt;ul&gt;
&lt;li&gt;&lt;em&gt;Brocade hired &lt;a href=&#34;https://www.linkedin.com/in/michaelbushong&#34;&gt;Michael Bushong&lt;/a&gt;.&lt;/em&gt;&lt;/li&gt;
&lt;/ul&gt;

&lt;p&gt;You may ask, why does that really matter? I assert that this indicates a very key element inside of Brocade: they know that they need to adapt and that they need a visionary to help direct that change. Bushong has a long history of enacting significant change. He is also a smart guy (see degree from UC Berkeley in advanced heat transfer &amp;amp; fluid dynamics). Bushong was responsible for the SDN group and the One Junos initiative at Juniper. He was also a key player at Plexxi, a very innovative networking company with a unique product. He knows how to motivate and promote change and has built a culture that is open to it. In fact, after the NFD9 presentation several of the team members approached a handful of us and asked us to elaborate on the things we were asking about and requesting. I have also received follow ups on those items. These things may seem insignificant, but give some serious thought to how often network vendors ask these questions, follow up and actually &lt;em&gt;listen&lt;/em&gt; to needs and requirements that are non-standard.&lt;/p&gt;

&lt;p&gt;All of that opinion aside, Brocade is also bringing good featues and really thinking about how to change and more importantly, improve, a key element in a sucessful company (see H.G Wells: &amp;ldquo;Adapt or perish, now as ever, is nature&amp;rsquo;s inexorable imperative.&amp;rdquo;)&lt;/p&gt;

&lt;p&gt;I remain intrigued.&lt;/p&gt;
</description>
    </item>
    
    <item>
      <title></title>
      <link>https://forwardingplane.net/post/1247/</link>
      <pubDate>Wed, 25 Mar 2015 17:02:42 +0000</pubDate>
      
      <guid>https://forwardingplane.net/post/1247/</guid>
      <description></description>
    </item>
    
    <item>
      <title></title>
      <link>https://forwardingplane.net/post/1248/</link>
      <pubDate>Wed, 25 Mar 2015 17:02:42 +0000</pubDate>
      
      <guid>https://forwardingplane.net/post/1248/</guid>
      <description></description>
    </item>
    
    <item>
      <title></title>
      <link>https://forwardingplane.net/post/1250/</link>
      <pubDate>Wed, 25 Mar 2015 17:02:42 +0000</pubDate>
      
      <guid>https://forwardingplane.net/post/1250/</guid>
      <description></description>
    </item>
    
    <item>
      <title></title>
      <link>https://forwardingplane.net/post/1252/</link>
      <pubDate>Wed, 25 Mar 2015 17:02:42 +0000</pubDate>
      
      <guid>https://forwardingplane.net/post/1252/</guid>
      <description></description>
    </item>
    
    <item>
      <title></title>
      <link>https://forwardingplane.net/post/1262/</link>
      <pubDate>Wed, 25 Mar 2015 17:02:42 +0000</pubDate>
      
      <guid>https://forwardingplane.net/post/1262/</guid>
      <description></description>
    </item>
    
    <item>
      <title>Home</title>
      <link>https://forwardingplane.net/post/home/</link>
      <pubDate>Wed, 25 Mar 2015 17:02:42 +0000</pubDate>
      
      <guid>https://forwardingplane.net/post/home/</guid>
      <description></description>
    </item>
    
    <item>
      <title>OpenDNS acquires BGPMon and the future of route monitoring</title>
      <link>https://forwardingplane.net/post/opendns-acquires-bgpmon-and-the-future-of-route-monitoring/</link>
      <pubDate>Fri, 20 Mar 2015 05:18:30 +0000</pubDate>
      
      <guid>https://forwardingplane.net/post/opendns-acquires-bgpmon-and-the-future-of-route-monitoring/</guid>
      <description>&lt;p&gt;For those that run BGP networks, &lt;a href=&#34;http://www.bgpmon.net&#34;&gt;BGPmon&lt;/a&gt; is often a tool they turn to for some really unique and hard to find information. Remember back in February 2008 when Pakistan Telecom &amp;ldquo;blocked&amp;rdquo; &lt;a href=&#34;http://www.youtube.com/buraglio&#34;&gt;Youtube&lt;/a&gt;? That one was a really, really public example of something that BGPMon caught. BGPmon has been around for a long, long time. Quietly watching prefixes. Silently noting changes and reporting them to the ones lucky enough to know of its existence. For those that don&amp;rsquo;t &lt;a href=&#34;http://searchtelecom.techtarget.com/feature/BGP-essentials-The-protocol-that-makes-the-Internet-work&#34;&gt;know how BGP works&lt;/a&gt;, I am not going to go into it too much other than to say that it is both the foundation that the internet is built upon, and one of the most antiquated trust models that exists in a world where most of the pundits are going on and on about SDN and network engineers being out of a job in 10 years. See, the problem with BGP is not that it is a terrible protocol. Quite the opposite, it is elegant in its simplicity and ability to be extended.It is lightweight and arguably the easiest of the routing protocols with the exception of RIPv2.&lt;/p&gt;

&lt;p&gt;&lt;em&gt;Many have argued that it is not a routing protocol, per se, but a policy enforcement framework for paths, but that is a completely different discussion. I happen to agree&lt;/em&gt;&lt;/p&gt;

&lt;p&gt;The issue with BGP is that its install base is so vast that changing it is not unlike parting the red sea or holding the earth on ones shoulders, because that is what BGP does. It holds the internet on its shoulders every bit as much as things like fiber in the ground does. Lets get back to BGPmon. BGPmon does something that nothing else really does. It watches the global routing table from points all over the globe and keeps track of prefixes. For a network operation that provides transit, financial services or any sensitive data, notification of a ROA violation, prefix hijack or more specific route announcement is a critical service. BGPmon provides that among other equally distinct services. In fact, &lt;a href=&#34;https://www.forwardingplane.net/2014/03/bgp-tools-troubleshooting-and-monitoring-external-routing-in-a-nutshell/&#34;&gt;I have it listed as one of my critical tools for maintaining, monitoring and troubleshooting external routing&lt;/a&gt;.&lt;/p&gt;

&lt;p&gt;What does the acquisition of BGPmon by OpenDNS mean? I honestly can not say, but I am fairly confident that it means good things and &lt;a href=&#34;https://blog.opendns.com/2015/03/12/opendns-acquires-bgpmon/&#34;&gt;OpenDNS has a very, very encouraging position&lt;/a&gt;:&lt;/p&gt;

&lt;p&gt;&lt;em&gt;Moving forward, our integration plan for BGPmon is straightforward. We’ll invest in building out the service and making it more complete—but we also are committed to keeping the free features free. We’ll continue to use BGPmon data and innovate to augment our predictive intelligence and provide better threat protection to OpenDNS customers. So basically status quo for current customers.&lt;/em&gt;&lt;/p&gt;

&lt;p&gt;Strong backing from a forward thinking company with a solid track record of good products likely means a bright future for an invaluable service. I am optimistic and encouraged, this was the next logical step and they have taken it with elegance and thought.&lt;/p&gt;
</description>
    </item>
    
    <item>
      <title>Networking</title>
      <link>https://forwardingplane.net/post/networking/</link>
      <pubDate>Fri, 20 Mar 2015 03:44:38 +0000</pubDate>
      
      <guid>https://forwardingplane.net/post/networking/</guid>
      <description></description>
    </item>
    
    <item>
      <title>NetBeez, performance monitoring and the network.</title>
      <link>https://forwardingplane.net/post/netbeez-performance-monitoring-and-the-network/</link>
      <pubDate>Mon, 16 Mar 2015 05:13:46 +0000</pubDate>
      
      <guid>https://forwardingplane.net/post/netbeez-performance-monitoring-and-the-network/</guid>
      <description>&lt;p&gt;At &lt;a href=&#34;http://techfieldday.com/event/nfd9/&#34;&gt;Networking Field day 9&lt;/a&gt; there was a great deal of discussion regarding monitoring, modeling, and maintaining networks, as would be expected at an event with such a focus. Luckily for us, an interesting product that comes from a company that I was unfamiliar with called &lt;a href=&#34;http://netbeez.net/&#34;&gt;NetBeez&lt;/a&gt; gave an inspired presentation. Now, NetBeez got my attention for a few reasons. First off, NetBeez is doing some really great things in the field of network monitoring. What would that be, you ask? What is hard about network monitoring? Nothing, I reply. It&amp;rsquo;s just hard to do it right. What they are providing is a number of things, but the most useful, at least for me, is the way their products can provide a perspective from that of a typical user. In doing that, they have brought something power to the table. NetBeez has brought a product model that has existed for some time in a bit of a different form in scientific networking and they&amp;rsquo;ve made it enterprise ready. For those that are not aware of it, the &lt;a href=&#34;http://www.perfsonar.net/&#34;&gt;perfsonar&lt;/a&gt; project has been providing latency and throughput testing and baseline creation for quite some time and &lt;a href=&#34;https://atlas.ripe.net/&#34;&gt;RIPE ATLAS&lt;/a&gt; has been making available a small probe device that does similar network testing. The difference is that neither are really focused on enterprise. NetBeez saw a need and filled it. With the many options that are available, NetBeez has a test for many of the critical needs of a given network, and in recent releases, they&amp;rsquo;ve offered up a wireless probe which only widens their portfolio. Much like its community platform analogs, the RIPE ATLAS, there are several custom tests available. Unlike the NCC, the devices are yours to configure, i.e. not open by default to test against and self contained within a given administrative environment if necessary, with an on-site dashboard service also available. Custom tests include DNS queries, http, traceroute, ping and iperf. In addition to having a powerful set of test tools in a very easy to use web interface that tracks the statistics over time, providing a nice baseline tool in addition to the obvious troubleshooting tools present. &lt;a href=&#34;http://www.forwardingplane.net/wp-content/uploads/2015/03/Screenshot-2015-03-15-23.32.55.png&#34;&gt;&lt;img src=&#34;http://www.forwardingplane.net/wp-content/uploads/2015/03/Screenshot-2015-03-15-23.32.55.png&#34; alt=&#34;Screenshot 2015-03-15 23.32.55&#34; /&gt;&lt;/a&gt; My quick thoughts: a lack of IPv6 and detailed one and two-way latency test tools leave it outside of what I would personally need, however, NetBeez has IPv6 on their roadmap and they are very open to feature requests. A refreshing artifact that I got from them during our conversations is that they have a target and mean to meet it. They are not attempting to be everything to everyone, but instead are offering very easy to configure, long term monitoring and baseline creation of complicated and distributed enterprise networks. Something useful and necessary.&lt;/p&gt;
</description>
    </item>
    
    <item>
      <title>The NEC surprise</title>
      <link>https://forwardingplane.net/post/the-nec-surprise/</link>
      <pubDate>Fri, 20 Feb 2015 06:52:33 +0000</pubDate>
      
      <guid>https://forwardingplane.net/post/the-nec-surprise/</guid>
      <description>&lt;p&gt;When &lt;a href=&#34;http://necam.com/&#34;&gt;NEC&lt;/a&gt; began talking about SDN at &lt;a href=&#34;http://techfieldday.com/event/nfd9/&#34;&gt;Network Field Day 9&lt;/a&gt;, I was not sure what to expect. I knew they had been heavily involved with openflow since the early days, and many years ago I was able to get my hands on their early OpenFlow controller and was immediately frustrated by its cryptic nature and frankly, poor documentation. Their switches were fine and were heavily utilized in early OpenFlow deployments. I knew they had decent support and were squarely on board the SDN train. Their controller, in 2010, was not terribly fun to work with. It was (if memory serves) prohibitively expensive and the support manual was nearly as cryptic as the controller. Because it&amp;rsquo;s my personality type, I went in with a very open mind, hoping to be surprised. After all, it&amp;rsquo;d been 4+ years since I&amp;rsquo;d seen that controller. Well, I am here to report that I will happily eat some crow. &lt;a href=&#34;http://www.forwardingplane.net/wp-content/uploads/2015/02/Eat-Crow.jpg&#34;&gt;&lt;img src=&#34;http://www.forwardingplane.net/wp-content/uploads/2015/02/Eat-Crow.jpg&#34; alt=&#34;Eat Crow&#34; /&gt;&lt;/a&gt;   A few things became very apparent to me as I sat and watched the presentation from NEC, which you can view in its entirety below:&lt;/p&gt;

&lt;ul&gt;
&lt;li&gt;NEC is not messing around with their SDN offering. They&amp;rsquo;ve been in the openflow game since the beginning and the polish on their controller shows it. The topology is quite nice and they&amp;rsquo;ve got a finished looking product that would find itself at home in a decent sized NOC.&lt;/li&gt;
&lt;li&gt;NEC is playing well with others. Their demo consisted of both NEC and DELL whitebox switches. To me this is an indication of both great forward thinking and a clear message that the controller is a product that can stand on its own.&lt;/li&gt;
&lt;li&gt;NEC is setting the barrier of entry low. Very low. They&amp;rsquo;ve got an entry level &amp;ldquo;SDN in a box&amp;rdquo; that consists of their controller and a few switches for like 3k. They&amp;rsquo;re also offering a 90 day free trial on their controller that is bundled with &lt;a href=&#34;http://mininet.org/&#34;&gt;mininet&lt;/a&gt;.&lt;/li&gt;
&lt;li&gt;Like most other controllers, the NEC controller is topology aware and using openflow 1.3 for it&amp;rsquo;s communication. Unlike any other demo I&amp;rsquo;ve seen, NEC used CLI to make changes and displayed the updates in near realtime on the controller.&lt;/li&gt;
&lt;/ul&gt;

&lt;p&gt;They&amp;rsquo;ve got a tap product aimed at security tap aggregators a la &lt;a href=&#34;http://www.gigamon.com/&#34;&gt;gigamon&lt;/a&gt;, so they&amp;rsquo;re seeing the value of SDN and openflow from a security lens as well as a network operations perspective, a good play in my opinion. SDN and openflow in particular have a great deal to offer the security community (think of all of the wacky stuff your security team has asked for and then map that into an openflow network. You&amp;rsquo;ll probably hit 80% match). NEC has done some tight integration with &lt;a href=&#34;https://technet.microsoft.com/en-us/windowsserver/dd448604.aspx&#34;&gt;microsoft hyper-v&lt;/a&gt; too, so environments leveraging hyper-v as a virtualization technology can drop this in to take advantage of the network programmability on top of their virtualization environment. This is something that I&amp;rsquo;d not seen before [although it may exist and I just don&amp;rsquo;t know it]. In addition, NEC has spun up an &amp;ldquo;app store&amp;rdquo; for SDN apps and allowed for some cross pollination, with a handful of caveats, with &lt;a href=&#34;http://www.opendaylight.org/&#34;&gt;opendaylight&lt;/a&gt; for testing. &lt;speculation&gt; There are a few things I find interesting about the NEC offering and about NEC in general. Being in a service provider environment off and on for most of my career, the fact that NEC is getting involved so heavily is intriguing. Unlike most of the other DC focused companies, NEC plays in the carrier market. While this particular briefing did not include any carrier updates, it would surprise me if this wasn&amp;rsquo;t being investigated behind some big doors. It makes sense to me and it would be a surprise if it did not occur to someone else. The SP market is fickle and slow to change, but ripe for fresh ideas. I see a lot of potential both there and in the DC / campus / enterprise. &lt;/speculation&gt;   &lt;a href=&#34;https://vimeo.com/119508255&#34;&gt;Introduction to NEC Networking&lt;/a&gt; from &lt;a href=&#34;https://vimeo.com/sfoskett&#34;&gt;Stephen Foskett&lt;/a&gt; on &lt;a href=&#34;https://vimeo.com&#34;&gt;Vimeo&lt;/a&gt;. &lt;a href=&#34;https://vimeo.com/119508725&#34;&gt;NEC ProgrammableFlow vCOps Solution&lt;/a&gt; from &lt;a href=&#34;https://vimeo.com/sfoskett&#34;&gt;Stephen Foskett&lt;/a&gt; on &lt;a href=&#34;https://vimeo.com&#34;&gt;Vimeo&lt;/a&gt;. &lt;a href=&#34;https://vimeo.com/119510207&#34;&gt;ProgrammableFlow SCVMM Demo&lt;/a&gt; from &lt;a href=&#34;https://vimeo.com/sfoskett&#34;&gt;Stephen Foskett&lt;/a&gt; on &lt;a href=&#34;https://vimeo.com&#34;&gt;Vimeo&lt;/a&gt;.&lt;/p&gt;
</description>
    </item>
    
    <item>
      <title>BigSwitch Networks BigCloud Fabric 2.5</title>
      <link>https://forwardingplane.net/post/bigswitch-networks-bigcloud-fabric-2-5/</link>
      <pubDate>Thu, 29 Jan 2015 01:04:46 +0000</pubDate>
      
      <guid>https://forwardingplane.net/post/bigswitch-networks-bigcloud-fabric-2-5/</guid>
      <description>&lt;p&gt;&lt;a href=&#34;http://www.bigswitch.com&#34;&gt;BigSwitch&lt;/a&gt; is &lt;a href=&#34;http://www.bigswitch.com/press-releases/2015/01/28/big-switch-networks-unveils-big-cloud-fabric-2_5?mkt_tok=3RkMMJWWfF9wsRonvqTIZKXonjHpfsX56eQrUKS2lMI%2F0ER3fOvrPUfGjI4ASMtrI%2BSLDwEYGJlv6SgFQ7fBMbd4yLgIXRA%3D&#34;&gt;making waves again&lt;/a&gt;, this time with its Big Cloud Fabric product update. I was lucky enough to get a bit of a preview of what was coming and was pleasantly surprised by the new features, finding them functionally useful for both operators, security folks and management alike.&lt;/p&gt;

&lt;p&gt;Not only is the fabric fit to operate at hyper scale proportions, they&amp;rsquo;ve paid  close attention to making such operations even easier. With release 2.5 they&amp;rsquo;re focusing more on white box switches and abstracting the control plane further, which is important to note because decoupling those things can prove to be confusing and complicated and doing so can make operation and service clunky if not done well. From what &lt;a href=&#34;http://www.forwardingplane.net/2014/09/bigswitch-labs-for-sdn-learning-a-sneak-peek/&#34; title=&#34;BigSwitch Labs for SDN learning: a sneak peek!&#34;&gt;I&amp;rsquo;ve seen and experienced in their fabric cloud training&lt;/a&gt; and in this update, it appears smooth and easy to use.&lt;/p&gt;

&lt;p&gt;Something mentioned during this briefing that I found particularly cool was the notion of a starter kits. BigSwitch is making available a &amp;ldquo;kickstarter&amp;rdquo; of their big cloud fabric with available software, hardware, cables and optics; a turnkey SDN platform in a box. Where I could see this being convenient is for those looking to build out a lab, dip their toe into the SDN / data center fabric world or to build out a dedicated project. A nice option for sure.&lt;/p&gt;

&lt;p&gt;BigSwitch is also adding support for VMWare VCenter and they&amp;rsquo;re also adding support for the &lt;a href=&#34;http://www.dell.com/us/business/p/open-networking-switches/pd&#34;&gt;dell open network switch&lt;/a&gt; series to boot.&lt;/p&gt;

&lt;p&gt;What really caught my eye, though, was the existence of a very robust looking set of analytics. An eye catching assortment of graphs, logs and functional data that is, get this, driven by an &lt;a href=&#34;http://www.elasticsearch.com&#34;&gt;elasticsearch&lt;/a&gt; back end.   What is included is useful not only for Network and SDN engineers, but also for security &lt;a href=&#34;http://www.forwardingplane.net/wp-content/uploads/2015/01/bsw-eyecandy.png&#34;&gt;&lt;img src=&#34;http://www.forwardingplane.net/wp-content/uploads/2015/01/bsw-eyecandy.png&#34; alt=&#34;bsw-eyecandy&#34; /&gt;&lt;/a&gt;professionals. Including things like event logs, fine grained search, canned reports for the execs and presenting everything via a REST API and a subset available via syslog for good measure I could see this being a very handy set of data for tracking down any number of things from incident response to problem resolution.&lt;/p&gt;

&lt;p&gt;I look forward to seeing more from &lt;a href=&#34;http://www.bigswitch.com&#34;&gt;BigSwitch&lt;/a&gt;.&lt;/p&gt;
</description>
    </item>
    
    <item>
      <title>Network Field Day 9</title>
      <link>https://forwardingplane.net/post/network-field-day-9/</link>
      <pubDate>Sat, 24 Jan 2015 15:55:48 +0000</pubDate>
      
      <guid>https://forwardingplane.net/post/network-field-day-9/</guid>
      <description>&lt;p&gt;In a few weeks I&amp;rsquo;ll have the opportunity to participate in another &lt;a href=&#34;http://techfieldday.com/event/nfd9/&#34;&gt;Network Field Day&lt;/a&gt;. I&amp;rsquo;ve been lucky enough to have the opportunity to attend&lt;a href=&#34;http://www.forwardingplane.net/2014/02/network-field-day-7/&#34; title=&#34;Network Field Day 7&#34;&gt; in the past&lt;/a&gt; and have done some &lt;a href=&#34;http://www.forwardingplane.net/2013/03/network-field-day-5/&#34; title=&#34;Network Field Day 5 – Participate Remotely&#34;&gt;remote participation&lt;/a&gt; when possible, but like some of the other rare &lt;a href=&#34;http://www.forwardingplane.net/2012/11/scinet-a-privileged-few/&#34; title=&#34;SCinet, a privileged few&#34;&gt;opportunities&lt;/a&gt; I have had in my career, NFD is fairly unique in that it is constantly evolving in both the information provided and the individuals involved. As the saying goes, variety is the spice of life. I&amp;rsquo;m particularly excited about the presentations and have been looking forward to talking to a few of the participant companies for a while. There is a tight line up for NFD9, but I am very intrigued as I am either unfamiliar or have been looking for more information about several of them for quite some time now. &lt;a href=&#34;http://netbeez.net/&#34;&gt;NetBeez&lt;/a&gt; is  an interesting one, they provide a service not unlike a project I&amp;rsquo;ve been working with for years called &lt;a href=&#34;https://www.perfsonar.net/&#34;&gt;perfSonar&lt;/a&gt;. The data that these kind of projects provide is absolutely invaluable, so I&amp;rsquo;m very interested in NetBeez and how they&amp;rsquo;re accomplishing their tasks and presenting their data. I met with and &lt;a href=&#34;http://www.forwardingplane.net/2014/04/blending-the-network-pluribus-serverswitch/&#34;&gt;wrote about&lt;/a&gt; &lt;a href=&#34;http://www.pluribusnetworks.com/&#34;&gt;Pluribus Networks&lt;/a&gt; at (and around the time of) &lt;a href=&#34;http://techfieldday.com/event/nfd7/&#34;&gt;NFD7&lt;/a&gt;. I was impressed then and I&amp;rsquo;m impressed now. I see a great value in what they&amp;rsquo;re doing for so many practical applications and am very anxious to see what they&amp;rsquo;ve added, changed or tweaked since our last meeting roughly a year ago. &lt;a href=&#34;http://cumulusnetworks.com/&#34;&gt;Cumulus networks&lt;/a&gt; is another one I&amp;rsquo;ve been wanting to get lab time with since they came out. I am looking forward to having them in a room, they&amp;rsquo;re doing something to networking that, like Pluribus, is pretty unique and arguably game changing. At then end of the day, though, the best part of this is not that there are a few interesting topics, it is the fact that all of the topics and players are unique, top shelf and potentially game changing. It&amp;rsquo;s essentially an all star lineup (again) with the likes of &lt;a href=&#34;http://www.brocade.com&#34;&gt;Brocade&lt;/a&gt;, &lt;a href=&#34;http://www.solarwinds.com/&#34;&gt;Solarwinds&lt;/a&gt;, &lt;a href=&#34;http://www.nec.com&#34;&gt;NEC&lt;/a&gt;, &lt;a href=&#34;http://www.velocloud.com/&#34;&gt;VeloCloud&lt;/a&gt; and &lt;a href=&#34;http://www.cloudgenix.com/&#34;&gt;Cloudgenix&lt;/a&gt;. This entire line up is right up my alley, as a large number of them are WAN or SDN oriented, which is where I spend the majority of my normal working days. In addition to all of that, I&amp;rsquo;ll finally get to meet &lt;a href=&#34;http://twitter.com/networkingnerd&#34;&gt;NetworkingNerd&lt;/a&gt; in real life.&lt;/p&gt;
</description>
    </item>
    
    <item>
      <title>Publications</title>
      <link>https://forwardingplane.net/post/publications/</link>
      <pubDate>Mon, 19 Jan 2015 17:13:14 +0000</pubDate>
      
      <guid>https://forwardingplane.net/post/publications/</guid>
      <description>&lt;p&gt;&lt;a href=&#34;http://es.net/about/esnet-staff/network-engineering/nick-buraglio/&#34;&gt;Work Profile&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;Nick Buraglio, Anita Nikolich, Dale Carder, &lt;a href=&#34;http://meetings.internet2.edu/2014-technology-exchange/detail/10003432/&#34;&gt;Securing the SDN WAN,&lt;/a&gt; October 30, 2014&lt;/p&gt;

&lt;p&gt;Nick Buraglio,Vincent Stoffer, Adam Slagell, Jim Eyrich, Scott Campbell, Von Welch, &lt;a href=&#34;http://meetings.internet2.edu/2014-technology-exchange/detail/10003410/&#34;&gt;Securing the Science DMZ: a discussion,&lt;/a&gt;October 28, 2014&lt;/p&gt;

&lt;p&gt;Nick Buraglio, &lt;a href=&#34;https://www.bro.org/brocon2014/brocon2014_buraglio_science_dmz.pdf&#34;&gt;Best practices for securing an open perimeter network,&lt;/a&gt; August 18, 2014 &lt;/p&gt;

&lt;p&gt; &lt;/p&gt;

&lt;ul&gt;
&lt;li&gt;&lt;a href=&#34;https://www.youtube.com/watch?v=IPh3aZ18IuY&#34;&gt;Video&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;

&lt;p&gt; &lt;/p&gt;

&lt;p&gt;Nick Buraglio, &lt;a href=&#34;http://meetings.internet2.edu/2014-cc-climate/detail/10003326/&#34;&gt;Securing the Science DMZ,&lt;/a&gt; June 14, 2014&lt;/p&gt;

&lt;p&gt;Nick Buraglio, &lt;a href=&#34;https://docs.google.com/a/es.net/presentation/d/1L0g_XGoywEYUDkqOnGWXs-IrUz_GhIy_lIZ7V_4F_1o/edit#slide=id.g33fdf81aa_00&#34;&gt;Real world IPv6 deployments,&lt;/a&gt; Westnet, June 9, 2014&lt;/p&gt;

&lt;p&gt;Nick Buraglio, Tracy Smith, Mary Stevens, Paul Hixon: &lt;a href=&#34;http://nsf.gov/awardsearch/showAward?AWD_ID=1341025&#34;&gt;National Science Foundation CC-NIE award 1341025&lt;/a&gt;, 2013&lt;/p&gt;

&lt;p&gt;Nick Buraglio, &lt;a href=&#34;http://searchsdn.techtarget.com/opinion/OpenFlow-as-a-network-control-protocol-goes-deeper-than-data-center&#34;&gt;OpenFlow as a network control protocol&lt;/a&gt;, TechTarget, March 2014&lt;/p&gt;

&lt;p&gt;Nick Buraglio, &lt;a href=&#34;http://searchnetworking.techtarget.com/opinion/After-20-years-BGP-still-lacks-security-foundation&#34;&gt;BGP still lacks security foundation&lt;/a&gt;, TechTarget, May, 2014&lt;/p&gt;

&lt;p&gt;Nick Buraglio, &lt;a href=&#34;http://searchnetworking.techtarget.com/opinion/Why-monitoring-will-require-a-networking-engineer&#34;&gt;Why monitoring will require a networking engineer&lt;/a&gt;, TechTarget, March, 2015&lt;/p&gt;

&lt;p&gt;Nick Buraglio, &lt;a href=&#34;https://docs.google.com/presentation/d/1anAaqWR8wmzKO5fqidDy9QJXW4RiVshX9Miq3PoDv9E&#34;&gt;Secure Layer 3 SDX (Interdomain SDN): A Concept&lt;/a&gt;, ChiNOG 05, May, 2015&lt;/p&gt;

&lt;p&gt;Nick Buraglio, &lt;a href=&#34;http://searchnetworking.techtarget.com/opinion/Network-engineer-qualifications-trump-coding-hype&#34;&gt;Network engineer qualifications trump coding hype&lt;/a&gt;, TechTarget, November, 2015&lt;/p&gt;

&lt;p&gt;Nick Buraglio, &lt;a href=&#34;http://searchsdn.techtarget.com/tip/SDN-and-OpenFlow-improve-broadband-deployment&#34;&gt;SDN and OpenFlow improve broadband deployment&lt;/a&gt;, TechTarget, October, 2015&lt;/p&gt;
</description>
    </item>
    
    <item>
      <title>Monitoring VMware ESXi with SNMP and Cacti</title>
      <link>https://forwardingplane.net/post/monitoring-vmware-esxi-with-snmp-and-cacti/</link>
      <pubDate>Mon, 19 Jan 2015 10:02:10 +0000</pubDate>
      
      <guid>https://forwardingplane.net/post/monitoring-vmware-esxi-with-snmp-and-cacti/</guid>
      <description>&lt;p&gt;VMWare is a powerful tool, and monitoring is a critical service. How does one monitor such an integral piece of infrastructure, and what do they monitor it with? There are powerful commercial ways of monitoring &lt;a href=&#34;http://www.vmware.com/&#34;&gt;VMware&lt;/a&gt;, however, for those with existing &lt;a href=&#34;http://en.wikipedia.org/wiki/Simple_Network_Management_Protocol&#34;&gt;SNMP&lt;/a&gt; based systems in place, specifically &lt;a href=&#34;http://www.cacti.net/&#34;&gt;cacti&lt;/a&gt;, there are options. To that end, I&amp;rsquo;ll set aside my strong distaste for SNMP [yet again], because those are for a larger, less useful series of posts.&lt;/p&gt;

&lt;p&gt;Luckily for those of us that need it there exists in that vast wilderness we call the internet, a user contributed &lt;a href=&#34;http://www.cacti.net/&#34;&gt;cacti&lt;/a&gt; template for monitoring basic functionality with SNMP and cacti and it is available &lt;a href=&#34;http://forums.cacti.net/download/file.php?id=29171&amp;amp;sid=888e5451bc68b1c05a5b7dec6667afd2&#34;&gt;here&lt;/a&gt;, and with the full thread being worth a read &lt;a href=&#34;http://forums.cacti.net/viewtopic.php?f=12&amp;amp;t=52122&#34;&gt;here&lt;/a&gt;. Since VMWare ESXi doesn&amp;rsquo;t have SNMP enabled (or really exposed from what I can tell), you have to do some CLI jockeying to make it work. Full disclosure, I&amp;rsquo;m not a vmware expert by any stretch of the imagination, but I have been hacking at it for a few years because it is low overhead to use comparatively speaking, offers a free version for my lab, makes a nice contrast to my KVM system and is widely deployed, so I want to understand it. Your mileage may vary with what I&amp;rsquo;ve got here.&lt;/p&gt;

&lt;p&gt;Enabling ssh is beyond the scope of this post but details can be found &lt;a href=&#34;http://www.thomasmaurer.ch/2014/01/enable-ssh-on-vmware-esxi-5-5/&#34;&gt;here&lt;/a&gt;. It&amp;rsquo;s fairly straightforward.&lt;a href=&#34;http://www.forwardingplane.net/wp-content/uploads/2015/01/vmware-snmp-device.png&#34;&gt;&lt;img src=&#34;http://www.forwardingplane.net/wp-content/uploads/2015/01/vmware-snmp-device.png&#34; alt=&#34;vmware-snmp-device&#34; /&gt;&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;Details of enabling SNMP for vmware 5.5 can be found &lt;a href=&#34;https://pubs.vmware.com/vsphere-51/index.jsp#com.vmware.vsphere.monitoring.doc/GUID-0EB48A32-34B0-4003-B2D0-ADE3BAFD29F0.html&#34;&gt;here&lt;/a&gt;, essentially one simply needs to run the following commands from within an ssh session:&lt;/p&gt;

&lt;pre&gt;&lt;code&gt;esxcli  system snmp set --communities &amp;lt;community&amp;gt;
esxcli system snmp set --port 161
esxcli system snmp set --enable true
&lt;/code&gt;&lt;/pre&gt;

&lt;p&gt;Getting the cacti scripts in place is a little more involved, but it&amp;rsquo;s still pretty simple. Using the importer just add the new template. &lt;a href=&#34;http://www.forwardingplane.net/wp-content/uploads/2015/01/Screenshot-2015-01-10-10.09.09.png&#34;&gt;&lt;img src=&#34;http://www.forwardingplane.net/wp-content/uploads/2015/01/Screenshot-2015-01-10-10.09.09.png&#34; alt=&#34;Screenshot 2015-01-10 10.09.09&#34; /&gt;&lt;/a&gt;&lt;/p&gt;

&lt;p&gt; Once that is imported you&amp;rsquo;ll need to move some scripts into place within the cacti system as below (adjust your paths as needed; I moved them directly from my workstation into place)&lt;/p&gt;

&lt;pre&gt;&lt;code&gt;scp ss\_esxi\_vhosts.php netmon:/var/lib/cacti/scripts/
scp cacte\_esxi\_template/resource/snmp\_queries/\* netmon:/usr/share/cacti/resource/snmp\_queries/
&lt;/code&gt;&lt;/pre&gt;

&lt;p&gt;[](&lt;a href=&#34;http://www.forwardingplane.net/wp-content/uploads/2015/01/Screenshot-2015-01-10-10.10.43.png)[![](http://www.forwardingplane.net/wp-content/uploads/2015/01/vmware-snmp-device.png)](http://www.forwardingplane.net/wp-content/uploads/2015/01/vmware-snmp-device.png&#34;&gt;http://www.forwardingplane.net/wp-content/uploads/2015/01/Screenshot-2015-01-10-10.10.43.png)[![](http://www.forwardingplane.net/wp-content/uploads/2015/01/vmware-snmp-device.png)](http://www.forwardingplane.net/wp-content/uploads/2015/01/vmware-snmp-device.png&lt;/a&gt;)&lt;/p&gt;

&lt;p&gt;[](&lt;a href=&#34;http://www.forwardingplane.net/wp-content/uploads/2015/01/Screenshot-2015-01-10-10.13.33.png&#34;&gt;http://www.forwardingplane.net/wp-content/uploads/2015/01/Screenshot-2015-01-10-10.13.33.png&lt;/a&gt;)&lt;/p&gt;

&lt;p&gt;Then adjust the template being used for your ESXi server or add it as a new host if it was not there already. The new template should show up in the list.&lt;/p&gt;

&lt;p&gt;Once complete the cacti server should start graphing and checking uptime, etc. IF it does not, make sure the scripts are in place and have the correct permissions. It&amp;rsquo;s also useful (although not required) to add the additional parameters to the host.&lt;/p&gt;

&lt;p&gt;Once complete, the cacti system should be able to baseline (and alert if so desited, using thresholds) on any of the newly added variables, including number of VMs, number of VMs using vmware tools, number of VMs running, disk space, processes, network traffic, etc.&lt;/p&gt;

&lt;p&gt;&lt;img src=&#34;http://www.forwardingplane.net/wp-content/uploads/2015/01/vmware-create-graphs.png&#34; alt=&#34;vmware-create-graphs&#34; /&gt;  &lt;/p&gt;

&lt;p&gt;I have yet to be able to get successful CPU graphs, but I suspect it is user error on my part and I&amp;rsquo;ve not investigated yet. Overall, I&amp;rsquo;d call it a pretty bigwin for anyone that has an existing cacti installation and wants to include their vmware system(s). It should also be said that the readme that accompanies the template is relatively useful.&lt;/p&gt;
</description>
    </item>
    
    <item>
      <title>NIX4NetEng 5 - GeoIP tools</title>
      <link>https://forwardingplane.net/post/nix4neteng-5-geoip-tools/</link>
      <pubDate>Sun, 21 Dec 2014 18:22:15 +0000</pubDate>
      
      <guid>https://forwardingplane.net/post/nix4neteng-5-geoip-tools/</guid>
      <description>&lt;p&gt;Sometimes in networking and security it becomes necessary to do lookups of location data on IP addresses and prefixes. On my Mac I use &lt;a href=&#34;http://brew.sh/&#34;&gt;homebrew&lt;/a&gt; to manage packages, but most of these tools are available with thetypocal apt, yum and port package management systems. For this post, I&amp;rsquo;m going to shift gears and show the install on my mac:```
sliver:~ buraglio$ brew install geoip
==&amp;gt; Downloading &lt;a href=&#34;https://downloads.sf.net/project/machomebrew/Bottles/geoip-1.6.3.mavericks.bottle.tar.gz&#34;&gt;https://downloads.sf.net/project/machomebrew/Bottles/geoip-1.6.3.mavericks.bottle.tar.gz&lt;/a&gt;
######################################################################## 100.0%
==&amp;gt; Pouring geoip-1.6.3.mavericks.bottle.tar.gz
sliver:~ buraglio$ brew install geoipupdate
==&amp;gt; Downloading &lt;a href=&#34;https://downloads.sf.net/project/machomebrew/Bottles/geoipupdate-2.0.2.mavericks.bottle.tar.gz&#34;&gt;https://downloads.sf.net/project/machomebrew/Bottles/geoipupdate-2.0.2.mavericks.bottle.tar.gz&lt;/a&gt;
######################################################################## 100.0%
==&amp;gt; Pouring geoipupdate-2.0.2.mavericks.bottle.tar.gz&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre style=&#34;color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4&#34;&gt;&lt;code class=&#34;language-Once this installed we need to do a simple update:```&#34; data-lang=&#34;Once this installed we need to do a simple update:```&#34;&gt;sliver:~ buraglio$ geoipupdate
sliver:~ buraglio$&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;This really doesn&amp;rsquo;t yield any output, but I tend to do it pretty much every time I am using the tool so I know I have up to date information. So lets say that you are a service provider and your customers are calling complaining that they&amp;rsquo;re seeing www.weather.co.uk when going to weather.com or more realistically, they can&amp;rsquo;t get to netflix or amazon video, which tells them they don&amp;rsquo;t support srtreaming to the UK.```
sliver:~ buraglio$ geoiplookup 141.142.2.2
GeoIP Country Edition: US, United States
GeoIP City Edition, Rev 1: US, IL, Illinois, Urbana, 61801, 40.109501, -88.212303, 648, 217&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre style=&#34;color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4&#34;&gt;&lt;code class=&#34;language-Nope, that looks ok, it must be something else \[I have actually seen this problem in the past, it&#39;s really no fun to run to ground\]. As you can see, there is a good deal of information there, lat/long, area code, city, state, zip, etc. This data, specifically the lat/long, can be used to do really cool visualization stuff with things like google maps or google earth. As a sanity check, here is a view of bbc.com:```&#34; data-lang=&#34;Nope, that looks ok, it must be something else \[I have actually seen this problem in the past, it&#39;s really no fun to run to ground\]. As you can see, there is a good deal of information there, lat/long, area code, city, state, zip, etc. This data, specifically the lat/long, can be used to do really cool visualization stuff with things like google maps or google earth. As a sanity check, here is a view of bbc.com:```&#34;&gt;sliver:~ buraglio$ geoiplookup 212.58.244.71
GeoIP Country Edition: GB, United Kingdom
GeoIP City Edition, Rev 1: GB, N7, Surrey, Tadworth, N/A, 51.283298, -0.233300, 0, 0&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;Yup, that looks right. The nice thing about this tool is that it can be automated to do all kinds of things with logs from syslog, Bro-IDS, Snort, whatever, and then act on the data or like I mentioned above, plot it out for visualization. The one drawback I&amp;rsquo;ve found is that the IPv6 lookups are sparsely correct, for example:&lt;code&gt;
sliver:~ buraglio$ geoiplookup6 2400:cb00:2048:1::681c:194f
sliver:~ buraglio$
&lt;/code&gt;Looking up 2400:cb00:2048:1::681c:194f which belongs to cloudflare yields me nothink, so there is some work to do there on the IPv6 front. Overall this is a useful tool for quick troubleshooting but it really shines when used in scripts and for visualization.&lt;/p&gt;
</description>
    </item>
    
    <item>
      <title>NIX4Neteng 4: POODLE and SSLv3, scanning and updating</title>
      <link>https://forwardingplane.net/post/nix4neteng-4-poodle-and-sslv3-scanning-and-updating/</link>
      <pubDate>Wed, 15 Oct 2014 17:36:54 +0000</pubDate>
      
      <guid>https://forwardingplane.net/post/nix4neteng-4-poodle-and-sslv3-scanning-and-updating/</guid>
      <description>&lt;p&gt;With the recent release of the &lt;a href=&#34;https://www.openssl.org/~bodo/ssl-poodle.pdf&#34;&gt;POODLE SSLv3 vulnerability&lt;/a&gt;, folks are scrambling around trying to figure out what runs what and where.  Running a handful of things that do SSL, I was obligated, both personally and professionally, to figure out an easy way to drill down and figure out what does what and then fix the vulnerable services.  When there are a lot of devices, this can seem like a daunting task, and it is if you&amp;rsquo;re trying to do it manually.  This is where &lt;a href=&#34;http://nmap.org/&#34;&gt;NMAP&lt;/a&gt; comes into play.  NMAP is an extremely powerful tool for scanning and enumerating your own network, not just a tool for the script kiddies to port scan. Since there is no SSL patch at the time of this writing, and since SSLv3 is old and depricated, it is a good idea to see what services support it and then squish them in favor of TLS 1+.  Thankfully, smarter folks than myself have done most of the legwork for accomplishing this task and written most of it down &lt;a href=&#34;http://nmap.org/nsedoc/scripts/ssl-enum-ciphers.html&#34;&gt;here&lt;/a&gt;. NMAP has a wealth of cool scripts and bolt ons that extend it in amazing ways.  To accomplish our tasks we&amp;rsquo;ll ned to do a few things. Install nmap. I ran into issues with the &lt;a href=&#34;http://nmap.org/book/nse-library.html&#34;&gt;nselibs&lt;/a&gt; being incomplete, so I grabbed the source and built it that way as opposed to using yum.```
git clone git@github.com:nmap/nmap.git&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre style=&#34;color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4&#34;&gt;&lt;code class=&#34;language-We then need to build it from source which requires the dev tools:```&#34; data-lang=&#34;We then need to build it from source which requires the dev tools:```&#34;&gt;sudo yum -y groupinstall &amp;#39;Development Tools&amp;#39;
cd nmap
./configure
sudo make&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;and alternatively```
sudo make install&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre style=&#34;color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4&#34;&gt;&lt;code class=&#34;language-I like to just run it from my directory since there are path considerations.```&#34; data-lang=&#34;I like to just run it from my directory since there are path considerations.```&#34;&gt;(~/nmap) v-chimera $ ./nmap --script ssl-enum-ciphers -p 443 10.14.14.0/27

Starting Nmap 6.46 ( http://nmap.org ) at 2014-10-15 12:21 CDT
Nmap scan report for gw.test (10.14.14.1)
Host is up (0.0028s latency).
PORT    STATE  SERVICE
443/tcp closed https

Nmap scan report for ssldevice.test (10.14.14.2)
Host is up (0.0042s latency).
PORT    STATE SERVICE
443/tcp open  https
| ssl-enum-ciphers:
|   SSLv3:
|     ciphers:
|       TLS\_RSA\_WITH\_RC4\_128\_MD5 - strong
|       TLS\_RSA\_WITH\_RC4\_128\_SHA - strong
|     compressors:
|       NULL
|   TLSv1.0:
|     ciphers:
|       TLS\_RSA\_WITH\_RC4\_128\_MD5 - strong
|       TLS\_RSA\_WITH\_RC4\_128\_SHA - strong
|     compressors:
|       NULL
|\_  least strength: strong

Nmap scan report for nossl.test (10.14.14.3)
Host is up (0.00049s latency).
PORT    STATE  SERVICE
443/tcp closed https&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;From here we can see that there is a host that needs to be updated. There are a wealth of docs out there for changing out the supported version. Most of my stuff is apache so I used &lt;a href=&#34;https://zmap.io/sslv3/&#34;&gt;this guide&lt;/a&gt;. For embedded devices, the best option is to filter access [which you should probably be doing anyway] until there is a patched firmware version.&lt;/p&gt;
</description>
    </item>
    
    <item>
      <title>OpenVswitch 2.3.0 RPMs</title>
      <link>https://forwardingplane.net/post/openvswitch-2-3-0-rpms/</link>
      <pubDate>Fri, 10 Oct 2014 21:06:50 +0000</pubDate>
      
      <guid>https://forwardingplane.net/post/openvswitch-2-3-0-rpms/</guid>
      <description>&lt;p&gt;I was wanting to do a few quick mock-ups with &lt;a href=&#34;http://openvswitch.org/&#34;&gt;OpenvSwitch&lt;/a&gt; and &lt;a href=&#34;http://www.opendaylight.org/&#34;&gt;OpenDayLight&lt;/a&gt; and wanted to use CentOS since I have templates for it that I replicate.  Just like with the &lt;a href=&#34;http://www.forwardingplane.net/2013/11/openvswitch-2-0-debian-packages/&#34; title=&#34;OpenvSwitch 2.0 Debian packages&#34;&gt;debian stuff I had been doing&lt;/a&gt;, I wasn&amp;rsquo;t able to find any in some quick searches.   I stumbled upon &lt;a href=&#34;http://n40lab.wordpress.com/2014/09/04/openvswitch-2-3-0-lts-and-centos-7/&#34;&gt;This site&lt;/a&gt;, which had a great how to for building them, so I just used that.  Seeing as that the debian packages actually got downloaded a lot, I figured I&amp;rsquo;d post these RPMs as well.  They&amp;rsquo;re available &lt;a href=&#34;http://www.forwardingplane.net/wp-content/uploads/OVS2.0/OpenvSwitch-2.3.0-RPM.tgz&#34;&gt;here&lt;/a&gt; and should work on CentOS 6.5 and probably 7. Just do a quick local install and start the service and you should be up and running.  &lt;code&gt;
yum localinstall /home/ovswitch/rpmbuild/RPMS/x86\_64/openvswitch-2.3.0-1.x86\_64.rpm 
sudo service openvswitch start
&lt;/code&gt;&lt;/p&gt;
</description>
    </item>
    
    <item>
      <title>BigSwitch Labs for SDN learning: a sneak peek!</title>
      <link>https://forwardingplane.net/post/bigswitch-labs-for-sdn-learning-a-sneak-peek/</link>
      <pubDate>Mon, 22 Sep 2014 10:24:34 +0000</pubDate>
      
      <guid>https://forwardingplane.net/post/bigswitch-labs-for-sdn-learning-a-sneak-peek/</guid>
      <description>&lt;p&gt;I was recently granted access to the beta &lt;a href=&#34;http://www.bigswitch.com/&#34;&gt;BigSwitch Networks&lt;/a&gt; lab site, a purpose built classroom in the cloud focused on teaching the BigSwitch SDN environment.  I had seen some of the BSN offerings in the past and always held them in high regard, but I was thoroughly impressed with both the completeness of the lab and how polished the controller environment was.&lt;img src=&#34;http://www.forwardingplane.net/wp-content/uploads/2014/09/Screenshot-2014-09-12-10.28.50.png&#34; alt=&#34;Screenshot 2014-09-12 10.28.50&#34; /&gt; At the time of this writing, the lab consists of 3 modules: Building cloud fabric, monitoring fabric and dynamic provisioning of monitoring fabric.  Since there is quite a lot going on with this cloud based SDN classroom, for the scope of this post I&amp;rsquo;ll concentrate on the first, building cloud fabric.  I&amp;rsquo;m a big fan of the CLI*, and one thing that jumped right out to me was that they provide the GUI and the CLI, and that the CLI is familiar to anyone that has worked on an IOS device.  The lab is useful, even for someone that has done some SDN, both on production or in a lab, in that it presents the fundamentals in a way that both demonstrates the purpose and function and lays out the technology and product. From the technology presentation standpoint, the BigSwitch offering is quite impressive. The reality of it is that, in my experience, GUIs don&amp;rsquo;t always have the most intuitive or complete implementations and they&amp;rsquo;re hard to automate.  Now, from what I&amp;rsquo;ve seen to far the bigswitch offing is the exception to that rule.  The setup is very functional and goes through a range of great material. for comparison, below is the tenants display from the web interface: &lt;a href=&#34;http://www.forwardingplane.net/wp-content/uploads/2014/09/Screenshot-2014-09-12-10.47.37.png&#34;&gt;&lt;img src=&#34;http://www.forwardingplane.net/wp-content/uploads/2014/09/Screenshot-2014-09-12-10.47.37.png&#34; alt=&#34;Screenshot 2014-09-12 10.47.37&#34; /&gt;&lt;/a&gt;   and the corresponding show command: &lt;a href=&#34;http://www.forwardingplane.net/wp-content/uploads/2014/09/Screenshot-2014-09-12-10.33.49.png&#34;&gt;&lt;img src=&#34;http://www.forwardingplane.net/wp-content/uploads/2014/09/Screenshot-2014-09-12-10.33.49.png&#34; alt=&#34;show tenant&#34; /&gt;&lt;/a&gt; Nevertheless, part of my usual workflow is to use one to define the other when I can.  What I mean by that is that if I don&amp;rsquo;t know exactly how to accomplish my goal in the GUI, I switch to the CLI and see what I can do from there, returning to the GUI to see what has changed and then reverse engineer it from that perspective.  The opposite is also true, I have used the CLI to define the GUI &lt;em&gt;:cough:&lt;/em&gt; &lt;a href=&#34;http://www.juniper.net/us/en/products-services/security/netscreen/&#34;&gt;netscreen&lt;/a&gt; &lt;em&gt;:cough:&lt;/em&gt;. The important thing to note here, though, is that the tools all work as if it is a real environment, because it &lt;em&gt;is&lt;/em&gt; a real environment. The god among men here, really, is the &lt;em&gt;debug rest&lt;/em&gt; command.  This command, when issued in the CLI (displayed below) allows the commands sent to the terminal to automatically pop up with the rest interface commands necessary to utilize them.  Wrap your head around that one for a minute.  Are you thinking automation?  Me too; seeing that made me want to go write code, and I am a horrible developer. &lt;img src=&#34;http://www.forwardingplane.net/wp-content/uploads/2014/09/Screenshot-2014-09-12-10.50.19.png&#34; alt=&#34;Screenshot 2014-09-12 10.50.19&#34; /&gt; In the time I&amp;rsquo;ve spent within this system I have been thoroughly impressed with how well it functioned.  I had no issues whatsoever with how the training presented the material, executed the commands or displayed the responses.  My only suggestion would be to add a configuration guide for the CLI =) Below is a quick youtube video of some of the functions.    * Yes, I know SDN is supposed to &amp;ldquo;kill the CLI&amp;rdquo;.  I don&amp;rsquo;t by the sensationalism for the short to medium term.&lt;/p&gt;
</description>
    </item>
    
    <item>
      <title>sonrancid: A [very] basic RANCID module for sonicwall</title>
      <link>https://forwardingplane.net/post/sonrancid-a-very-basic-rancid-module-for-sonicwall/</link>
      <pubDate>Mon, 15 Sep 2014 09:05:13 +0000</pubDate>
      
      <guid>https://forwardingplane.net/post/sonrancid-a-very-basic-rancid-module-for-sonicwall/</guid>
      <description>&lt;p&gt;I know, I know, I&amp;rsquo;m always saying that you don&amp;rsquo;t need a firewall. That&amp;rsquo;s mostly to get your attention to push my agenda of sane security architecture, I do actually believe that firewalls are appropriate in a great many use cases and I&amp;rsquo;ve managed them big and small ranging from &lt;a href=&#34;http://www.forwardingplane.net/2010/08/juniper-srx-cluster/&#34; title=&#34;Juniper SRX Cluster&#34;&gt;Juniper SRX 5800 clusters&lt;/a&gt; to tiny purpose built BSD distros on custom hardware. I even managed &lt;a href=&#34;http://www.checkpoint.com/&#34;&gt;Checkpoint&lt;/a&gt; and &lt;a href=&#34;http://www.kulichki.com/moshkow/SECURITY/gauntlet.txt&#34;&gt;gauntlet firewall&lt;/a&gt; back in the 1990s. And &lt;a href=&#34;https://www.novell.com/products/bordermanager/&#34;&gt;Novell Border manager&lt;/a&gt;&amp;hellip;.good gravy&amp;hellip;.border manager. I just had a chill, that thing is still around.  They work well when spec&amp;rsquo;d, designed, maintained correctly and placed in an appropriate location in a network architecture.  That said, I have a few SonicWall devices that I work on occasionally and it has always irritated me that there was not a usable &lt;a href=&#34;http://www.shrubbery.net/rancid/&#34;&gt;RANCID&lt;/a&gt; module for it.  To that end, I hacked up the Cisco RANCID script to support very rudimentary config backups. &lt;em&gt;&lt;Insert comment about having some DevOps skills is useful, even if they are very basic like mine.&gt;&lt;/em&gt; The script will log in and pull the config and version using the following commands:&lt;code&gt;
show current-config
&lt;/code&gt;&lt;code&gt;
show version
&lt;/code&gt;I am really hoping that someone else will pick it up and massage it a bit because it is very chatty and will produce a diff every time due to the way SonicOS presents some of its configuration parameters. It also needs tested against larger SonicWall devices as I only have smaller boxes to run against.  I know it works against a TZ210, YMMV. Please post comments on github if you use it with anything else.   The password hash is particularly annoying, it always changes when the configuration is displayed. Some of the framework is there to remove it so I may hack at it a bit more but it&amp;rsquo;s usable in the loosest sense for the short term.  It&amp;rsquo;s available on &lt;a href=&#34;https://github.com/buraglio/sonrancid&#34;&gt;my github site&lt;/a&gt;.&lt;/p&gt;
</description>
    </item>
    
    <item>
      <title>Why you don&#39;t need a firewall [how to secure an open perimeter network]</title>
      <link>https://forwardingplane.net/post/why-you-dont-need-a-firewall-how-to-secure-an-open-perimeter-network/</link>
      <pubDate>Mon, 08 Sep 2014 07:30:07 +0000</pubDate>
      
      <guid>https://forwardingplane.net/post/why-you-dont-need-a-firewall-how-to-secure-an-open-perimeter-network/</guid>
      <description>&lt;p&gt;I admit that the title was meant to be inflammatory.  However, there are use cases that aren&amp;rsquo;t terribly uncommon where an in-line security appliance is just not the correct tool for the job.  Someone once told me &amp;ldquo;a firewall protects a network like a fuse protects an electrical circuit&amp;rdquo;, and it&amp;rsquo;s mostly a correct statement. Firewall vendors will probably argue this and enterprise folks may discount this as heresy and call for burning me at the stake.  I can say, though, that the use of a firewall, IPS or other inline security appliance has presented many problems in many environments in my years as a network and security engineer and architect.    To that end, there are mechanisms for replacing the functions of a firewall and IPS with other options, which in many cases have a lower capital expense [although they may have a higher &lt;em&gt;initial&lt;/em&gt; operational expense].  I&amp;rsquo;ll outline them here, but before I do I want to re-iterate that NAT (PAT) is not a security tool, it&amp;rsquo;s a translation tool.  Nothing more.  So, I will leave that out.  If you don&amp;rsquo;t have appropriate IPv4 or IPv6 address space some of these things may need adjustments although they are still accomplishable by doing NAT on a border Layer 3 device.     Below is a talk that I gave at BroCon14 that is a rough outline of how to do this, if you don&amp;rsquo;t want to spend 30 minutes listening to me talk about it, the clifs notes are bulleted below, but the context is all in the video so I encourage you to watch it before responding to my post. For those that want to take a look, here is the talk. Here are the bullets.&lt;/p&gt;

&lt;ul&gt;
&lt;li&gt;&lt;strong&gt;Announce only necessary resources &lt;/strong&gt;&lt;/li&gt;
&lt;/ul&gt;

&lt;p&gt;One can utilize routing to only expose the pieces of the network that need to be exposed.  If you have a /16 and on;y a /24 needs to be exposed, only announce that prefix.  This is not that different than a typical DMZ.&lt;/p&gt;

&lt;ul&gt;
&lt;li&gt;&lt;strong&gt;Filter access to network, storage and management hardware&lt;/strong&gt;&lt;/li&gt;
&lt;/ul&gt;

&lt;p&gt;Utilize best practice ingress filtering.  Follow &lt;a href=&#34;http://tools.ietf.org/html/bcp38&#34;&gt;BCP38&lt;/a&gt;. You should be doing this anyway.&lt;/p&gt;

&lt;ul&gt;
&lt;li&gt;&lt;strong&gt;Utilize host based firewalls&lt;/strong&gt;&lt;/li&gt;
&lt;/ul&gt;

&lt;p&gt;This is a no-brainer.  Firewall as close to the resource as possible.&lt;/p&gt;

&lt;ul&gt;
&lt;li&gt;&lt;strong&gt;Employ central host management&lt;/strong&gt;&lt;/li&gt;
&lt;/ul&gt;

&lt;p&gt;Make your life easy.  Cloud providers do it and it&amp;rsquo;s well documented nowadays.  There are &lt;a href=&#34;http://cfengine.com/&#34;&gt;many&lt;/a&gt; &lt;a href=&#34;http://puppetlabs.com/&#34;&gt;options&lt;/a&gt;.&lt;/p&gt;

&lt;ul&gt;
&lt;li&gt;&lt;strong&gt;Centralize logging and flow data collection&lt;/strong&gt;&lt;/li&gt;
&lt;/ul&gt;

&lt;p&gt;Another no brainer, you should be doing this anyway.&lt;/p&gt;

&lt;ul&gt;
&lt;li&gt;&lt;strong&gt;Create baselines for traffic and activity&lt;/strong&gt;&lt;/li&gt;
&lt;/ul&gt;

&lt;p&gt;Data is good.  Knowledge is power.  Baselines are useful for both anomaly detection and forecasting and it&amp;rsquo;s not that hard to do it.&lt;/p&gt;

&lt;ul&gt;
&lt;li&gt;&lt;strong&gt;Deploy and tune IDS&lt;/strong&gt;&lt;/li&gt;
&lt;/ul&gt;

&lt;p&gt;Passive IDS system[s] off of a TAP or SPAN are key to this kind of architecture.  See video for more details but there are a bunch of good options. I prefer &lt;a href=&#34;http://www.bro.org&#34;&gt;Bro IDS&lt;/a&gt; but there are many players both commercial and FOSS.&lt;/p&gt;

&lt;ul&gt;
&lt;li&gt;&lt;strong&gt;Filter with black hole routing&lt;/strong&gt;&lt;/li&gt;
&lt;/ul&gt;

&lt;p&gt;I&amp;rsquo;ve &lt;a href=&#34;http://www.forwardingplane.net/2011/10/black-hole-routing/&#34; title=&#34;Black Hole routing&#34;&gt;talked about this before&lt;/a&gt;.  Automating this is key to making it function efficiently and it is a fantastic tool.  This can be done with BGP (traditionally) or with something innovative like OpenFlow.&lt;/p&gt;

&lt;ul&gt;
&lt;li&gt;&lt;strong&gt;Make use of regularly scheduled external vulnerability scanning&lt;/strong&gt;&lt;/li&gt;
&lt;/ul&gt;

&lt;p&gt;This is a great way to verify your exposure and works for any sized network.  Highly recommended.&lt;/p&gt;

&lt;p&gt;  Clearly this isn&amp;rsquo;t for everyone, and that&amp;rsquo;s ok.  For anyone that has struggled with issues involving security appliances either based on protocol, horsepower or interface speeds, there are options.&lt;/p&gt;
</description>
    </item>
    
    <item>
      <title>Aging hardware, IPv6 and the growing route table</title>
      <link>https://forwardingplane.net/post/aging-hardware-ipv6-and-the-growing-route-table/</link>
      <pubDate>Wed, 13 Aug 2014 05:00:56 +0000</pubDate>
      
      <guid>https://forwardingplane.net/post/aging-hardware-ipv6-and-the-growing-route-table/</guid>
      <description>&lt;p&gt;I&amp;rsquo;ve &lt;a href=&#34;http://www.forwardingplane.net/2014/03/bgp-tools-troubleshooting-and-monitoring-external-routing-in-a-nutshell/&#34; title=&#34;BGP tools; troubleshooting and monitoring external routing in a nutshell&#34;&gt;blathered on about BGP&lt;/a&gt; &lt;a href=&#34;http://www.forwardingplane.net/2013/03/tuning-bgp-installed-ipv6-routes/&#34; title=&#34;Tuning BGP installed IPv6 routes&#34;&gt;forever&lt;/a&gt;.  Say what you will about the venerable protocol, it runs the interwebs, is reliable, extendable and well documented.  I&amp;rsquo;ve also &lt;a href=&#34;http://www.forwardingplane.net/2013/03/my-sdn-soapbox-now-with-ipv6/ &amp;quot;My SDN soapbox (now with IPv6!&#34;&gt;espoused&lt;/a&gt;&amp;rdquo;) &lt;a href=&#34;http://www.forwardingplane.net/2011/07/joint-techs-summer-2011-ipv6-talks/&#34; title=&#34;Joint Techs Summer 2011 IPv6 talks&#34;&gt;ad nauseam&lt;/a&gt; &lt;a href=&#34;http://www.forwardingplane.net/2011/03/ipv6-features-matrix-for-network-hardware/&#34; title=&#34;IPv6 Features matrix for Network Hardware&#34;&gt;about&lt;/a&gt; &lt;a href=&#34;http://www.forwardingplane.net/2012/11/and-a-purple-pony/&#34; title=&#34;And a purple pony.&#34;&gt;IPv6&lt;/a&gt;, so none of this [admitted] rant should really be a surprise coming from me. As of 8/12/2014, according to the &lt;a href=&#34;http://www.cidr-report.org/as2.0/#General_Status&#34;&gt;CIRD report&lt;/a&gt; (and many mailing lists), the &lt;a href=&#34;http://en.wikipedia.org/wiki/Default-free_zone&#34;&gt;default free&lt;/a&gt; global ipv4 routing table has reached 512k routes.  This is a milestone from many perspectives, but more importantly, it solidifies the fact that there is a great deal of equipment in critical points in the internet that is out of date and cannot perform as intended in its current configuration or function. &lt;a href=&#34;http://www.forwardingplane.net/wp-content/uploads/2014/08/8-12-2014-plot.png&#34;&gt;&lt;img src=&#34;http://www.forwardingplane.net/wp-content/uploads/2014/08/8-12-2014-plot.png&#34; alt=&#34;8-12-2014-plot&#34; /&gt;&lt;/a&gt; This is a problem.  This is a problem for old hardware.  This is a problem for anyone that says their border router is &amp;ldquo;good enough&amp;rdquo;, and expects to take a default free table.  It&amp;rsquo;s a problem for anyone that wants to be multihomed on sub-par hardware.  I don&amp;rsquo;t think that many engineers would be surprised at how common this really is because network hardware is expensive, especially appropriate hardware that runs at site borders and in internet backbones, and by nature network engineer want to &amp;ldquo;make things work&amp;rdquo;.  I assert, however, that this may not be the best idea. The increased size of the default free zone has been forecasted for &lt;strong&gt;&lt;em&gt;years,&lt;/em&gt;&lt;/strong&gt;and with the inclusion of the 16k of ipv6 prefixes (&lt;a href=&#34;http://www.forwardingplane.net/2013/08/the-sad-state-of-ipv6-and-why-you-need-to-learn-it/&#34; title=&#34;The sad state of IPv6 and why you need to learn it.&#34;&gt;you are running IPv6&lt;/a&gt;, &lt;strong&gt;&lt;em&gt;right&lt;/em&gt;&lt;/strong&gt;?), resources quickly become exhausted on aging hardware.  This causes a cascading problem.  Forget the odd issues seen by not having enough TCAM to house the entire default free ipv4 table.  That problem is a haymaker swing that was telegraphed &lt;strong&gt;&lt;em&gt;long&lt;/em&gt;&lt;/strong&gt; ago and should have been coming; that ship has sailed. The bigger problem is that in flurrying around to deal with smaller TCAM sizes on gear that should have been replaced years ago, one course of action is to  repartition the TCAM, stripping away space allocated for IPv6 and allocating it to IPv4 in order to remain &amp;ldquo;default free&amp;rdquo; v4 tables.  I know because I&amp;rsquo;ve had to do this.  And it sucked. Personally, I felt a little like a sell out since I was robbing Peter to pay Paul and keep our &amp;ldquo;beloved&amp;rdquo; IPv4 running at the expense of the protocol we should have been migrated to years before but could not due to fear, uncertainty, doubt and, frankly, sheer laziness on the part of executives, developers, vendors and engineers. Blech.  I don not even like typing that.  We, I promise you,  in come cases are prolonging the deployment of IPv6 in favor of keeping v4 working due to this limitation.  And it stinks.  Like a skunk. Dipped in sewage. Wrapped in garbage.  Blown through an onion. It&amp;rsquo;s a banner day, make no mistake.  512k ipv4 routes in the global default free ipv4 table is a milestone.  However, lets not forget that much of the pain involved in expanding the ability to use more v4 would probably have been better served in expanding ipv6 support.  Be a catalyst for change and start learning and evangelizing IPv6. I often have a thought when discussing the merits of ipv6 with anyone that is arguing as to why they don&amp;rsquo;t want or need to deploy it: Would the internet/their network be a better place if we spent as much time making ipv6 work instead of going well out of our way to work around it? &lt;end rant&gt; =)&lt;/p&gt;
</description>
    </item>
    
    <item>
      <title>NIX4NetEng 3: IP Addressing and Subnet Tools</title>
      <link>https://forwardingplane.net/post/nix4neteng-3-ip-addressing-and-subnet-tools/</link>
      <pubDate>Sat, 26 Jul 2014 16:46:07 +0000</pubDate>
      
      <guid>https://forwardingplane.net/post/nix4neteng-3-ip-addressing-and-subnet-tools/</guid>
      <description>&lt;p&gt;IP addressing and subnetting is a common interview subject. I assert that memorizing these things is useful for learning the concepts but ultimately futile in that it is time consuming and inefficient use of engineering time when tools can be utilized to accomplish the same goals in less time with fewer errors. Honestly, I gave up doing this kind of work manually around 10 years ago and have never regretted it, and in actuality, I&amp;rsquo;d probably struggle to do it at this point because it&amp;rsquo;s a repetitive process better suited by code. In the old days, subnetting IPv4 manually was a badge of honor (and one that I always hated), but I learned it because I needed to know it for cert tests and daily work. However, once I started doing IPv6 around 2001, it became clear that doing this kind of thing by hand was consuming more time than it needed to. Enter UNIX tools. HEX Hex isn&amp;rsquo;t really a tool as much as it&amp;rsquo;s a hack for your shell.  Remember the &lt;a href=&#34;http://www.forwardingplane.net/2014/04/nix4neteng-1-managing-dotfiles-pwn-the-unspoken-pain-of-unix-administration/&#34; title=&#34;NIX4NetEng #1 Managing dotfiles; pwn the unspoken pain of UNIX administration&#34;&gt;post on dotfiles&lt;/a&gt;? This is something that can go right into your .bashrc and allows for the quick and easy translation of decimal to hexidecimal, which is very useful for IPv6 dual stacking because [in my opinion] the appropriate addressing scheme is to match the last octet based on hex and not numerically. So, to do that one needs to be able to easily convert the last octet quickly and easily.  Adding this to your .bashrc will accomplish this:```
alias hex=&amp;lsquo;printf &amp;ldquo;%x\n&amp;rdquo;&amp;rsquo;&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre style=&#34;color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4&#34;&gt;&lt;code class=&#34;language-Now, if you have an address of 10.143.27.199, you take the .199 you can utilize the shell alias to convert it to the hex equivalent.  For example: If you&#39;re using static addresses or dhcpv6 with static addressing, you can match the last octet properly.```&#34; data-lang=&#34;Now, if you have an address of 10.143.27.199, you take the .199 you can utilize the shell alias to convert it to the hex equivalent.  For example: If you&#39;re using static addresses or dhcpv6 with static addressing, you can match the last octet properly.```&#34;&gt;(~) desktop $ hex 199
c7&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;If you&amp;rsquo;re using static addresses or dhcpv6 with static addressing, you can match the last octet properly.```
10.143.27.&lt;sup&gt;199&lt;/sup&gt;&amp;frasl;&lt;sub&gt;27&lt;/sub&gt;
2001:DB8:1b::c7/120&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre style=&#34;color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4&#34;&gt;&lt;code class=&#34;language-There are more than this, but these are the tools I use almost daily. I generally use [sipcalc](http://www.routemeister.net/projects/sipcalc/) at this point since it does what I used to use [ipcalc](http://jodies.de/ipcalc) for and more.  For gathering and verifying information, this is a fantastic tool.```&#34; data-lang=&#34;There are more than this, but these are the tools I use almost daily. I generally use [sipcalc](http://www.routemeister.net/projects/sipcalc/) at this point since it does what I used to use [ipcalc](http://jodies.de/ipcalc) for and more.  For gathering and verifying information, this is a fantastic tool.```&#34;&gt;(~) desktop $ sipcalc 2001:DB8:1b::c7/120
-\[ipv6 : 2001:DB8:1b::c7/120\] - 0
``````
\[IPV6 INFO\]
Expanded Address - 2001:0db8:001b:0000:0000:0000:0000:00c7
Compressed address - 2001:db8:1b::c7
Subnet prefix (masked) - 2001:db8:1b:0:0:0:0:0/120
Address ID (masked) - 0:0:0:0:0:0:0:c7/120
Prefix address - ffff:ffff:ffff:ffff:ffff:ffff:ffff:ff00
Prefix length - 120
Address type - Aggregatable Global Unicast Addresses
Network range - 2001:0db8:001b:0000:0000:0000:0000:0000 -
 2001:0db8:001b:0000:0000:0000:0000:00ff -&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;And for IPv4:&lt;code&gt;
(~) desktop $ sipcalc 10.143.27.199/27
-\[ipv4 : 10.143.27.199/27\] - 0
&lt;/code&gt;&lt;code&gt;
\[CIDR\]
Host address - 10.143.27.199
Host address (decimal) - 177150919
Host address (hex) - A8F1BC7
Network address - 10.143.27.192
Network mask - 255.255.255.224
Network mask (bits) - 27
Network mask (hex) - FFFFFFE0
Broadcast address - 10.143.27.223
Cisco wildcard - 0.0.0.31
Addresses in network - 32
Network range - 10.143.27.192 - 10.143.27.223
Usable range - 10.143.27.193 - 10.143.27.222
&lt;/code&gt;  Notable mention: Web tools are also useful and are becoming more prolific than the UNIX tools, but I will assume that you&amp;rsquo;re probably already loged into a UNIX system like a jump box or bastion host anyway and the tools are faster and thinner in that environment. That said, here are some useful web tools: &lt;a href=&#34;http://jodies.de/ipcalc&#34;&gt;ipcalc&lt;/a&gt; has the web interface to their tool. &lt;a href=&#34;http://www.gestioip.net/cgi-bin/subnet_calculator.cgi&#34;&gt;This site&lt;/a&gt; has a v4 and v6 calculator that works well and looks a lot like the output of sipcalc.&lt;/p&gt;
</description>
    </item>
    
    <item>
      <title>Crystal Ball: Cisco buying tail-f.  What does it mean?</title>
      <link>https://forwardingplane.net/post/crystal-ball-cisco-buying-tail-f-what-does-it-mean/</link>
      <pubDate>Mon, 23 Jun 2014 16:24:44 +0000</pubDate>
      
      <guid>https://forwardingplane.net/post/crystal-ball-cisco-buying-tail-f-what-does-it-mean/</guid>
      <description>&lt;p&gt;With the recent &lt;a href=&#34;http://www.tail-f.com/cisco-announces-intent-acquire-tail-f-acquisition-advances-ciscos-cloud-virtualization-portfolio-industry-leading-network-service-orchestration-technology/&#34;&gt;announcement of Cisco Systems intent to purchase tail-f&lt;/a&gt;, proponents of a multi-vendor environment are waiting with baited breath to see how the networking giant will deal with support of competitor hardware and CLIs. Yang is here to stay, there is no doubt about that. As is netconf. Both of these are good things for the industry as a whole, having a standard way to communicate with network hardware [&lt;a href=&#34;http://searchsdn.techtarget.com/opinion/OpenFlow-as-a-network-control-protocol-goes-deeper-than-data-center&#34;&gt;that isn&amp;rsquo;t openflow&lt;/a&gt;] is necessary and immeasurably useful. I&amp;rsquo;m not going to go into the politics, the internal technical bits or even the details of who stays and who goes. Smarter folks than me have &lt;a href=&#34;http://lamejournal.com/2014/06/18/thoughts-cisco-acquiring-tail-f-systems/#more-2999&#34;&gt;already done that&lt;/a&gt;. Instead, I want to think about what this means for operators, architects and engineers when looking for a management platform. I wrote &lt;a href=&#34;http://www.forwardingplane.net/2014/02/tail-f-ncs-upsetting-network-management-in-a-good-way/&#34; title=&#34;Tail-F NCS: upsetting network management…in a good way.&#34;&gt;before about how Tail-f was a Rosetta Stone&lt;/a&gt; for networking equipment. With the Cisco acquisition looming, this potentially and very likely changes this and there now exists a gaping hole in this type of management system. So, what does that mean? If I had to guess, I&amp;rsquo;d say that even though Cisco has been a bit more friendly in the opensource world, it makes absolutely no sense for them to support a platform that allows for the use of any network platform. Perhaps I&amp;rsquo;m being cynical, but I doubt it. What this does is leave the majority of us looking for a cross vendor management solution, where the tail&amp;ndash;f NCS lives, out in the cold. However, there is a silver lining. The cup is half full in the forwarding plane today. My hopes is that the lack of a real commercial product that does what NCS does, and the awareness raised that such a product existed in the first place will kick start the FOSS world into building something. Only since RANCID have I seen a really viable option for cross platform management [and in the case of RANCID management=change and configuration tracking]. This also opens the door for an existing management protocol ::cough:: openflow ::cough:: to emerge as a really viable management and control protocol and mechanism.&lt;/p&gt;
</description>
    </item>
    
    <item>
      <title>NIX4NetEng 2 IPv4/6 address investigation tools - whois &#43; dig</title>
      <link>https://forwardingplane.net/post/nix4neteng-2-ipv46-address-investigation-tools-whois-dig/</link>
      <pubDate>Sat, 07 Jun 2014 19:54:41 +0000</pubDate>
      
      <guid>https://forwardingplane.net/post/nix4neteng-2-ipv46-address-investigation-tools-whois-dig/</guid>
      <description>

&lt;p&gt;I don&amp;rsquo;t care what your vendor alignment of choice is, Cisco, Juniper, Brocade, Alcatel&amp;hellip;.it doesn&amp;rsquo;t matter. At one point or another you&amp;rsquo;re going to need to bird dog an address to see where it&amp;rsquo;s coming from, who owns it, what it&amp;rsquo;s DNS name is or what path you&amp;rsquo;re taking to get to it.  We&amp;rsquo;ve already talked about &lt;a href=&#34;http://www.forwardingplane.net/2014/03/bgp-tools-troubleshooting-and-monitoring-external-routing-in-a-nutshell/&#34; title=&#34;BGP tools; troubleshooting and monitoring external routing in a nutshell&#34;&gt;BGP tools&lt;/a&gt;, they&amp;rsquo;re a great choice for checking routes across the internet. Hunting down addresses is an interesting one, though, as address management and lookups  can bleed into other aspects of networking like path selection, latency, jitter and many other things.  I&amp;rsquo;m going to touch on a few things and give generalizations on a few others.  First, querying where things originate and who has ownership is infinitely useful, especially if your job description has &amp;ldquo;security&amp;rdquo; anywhere in it, written or implied.  I like to use a range of services, all of which are from the CLI (for speed and scriptability).  My go-to tools for this are the venerable &lt;a href=&#34;http://en.wikipedia.org/wiki/Whois&#34;&gt;whois&lt;/a&gt; and dig tools. Lets say I want to check on the address 192.80.96.88. First, lets figure out if it&amp;rsquo;s got a name.  dig is your friend here.```
(~) jumphost $ dig -x 192.80.96.88
; &amp;lt;&amp;lt;&amp;gt;&amp;gt; DiG 9.8.3-P1 &amp;lt;&amp;lt;&amp;gt;&amp;gt; -x 192.80.96.88
;; global options: +cmd
;; Got answer:
;; -&amp;gt;&amp;gt;HEADER&amp;lt;&amp;lt;- opcode: QUERY, status: NOERROR, id: 29443
;; flags: qr rd ra; QUERY: 1, ANSWER: 1, AUTHORITY: 0, ADDITIONAL: 0
;; QUESTION SECTION:
;88.96.80.192.in-addr.arpa. IN PTR
;; ANSWER SECTION:
88.96.80.192.in-addr.arpa. 7145 IN PTR local.forwardingplane.net.
;; Query time: 2 msec
;; SERVER: 10.209.209.1#53(10.209.209.1)
;; WHEN: Sat May 31 11:43:18 2014
;; MSG SIZE rcvd: 82&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre style=&#34;color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4&#34;&gt;&lt;code class=&#34;language-Dig is an incredibly powerful DNS tool. I&#39;d recommend learning it as well as you possibly can. [_man dig_](http://linux.die.net/man/1/dig) on any good unix box should give you a good start, [this site](http://www.thegeekstuff.com/2012/02/dig-command-examples/) has some good examples too, I can&#39;t even scratch the surface of how useful DNS tools are, probably a great subject for another NIX4NetEng.  Here we see that the address has reverse DNS (PTR record) of local.forwardingplane.net.  We can poke a bit more at this using DNS, too.```&#34; data-lang=&#34;Dig is an incredibly powerful DNS tool. I&#39;d recommend learning it as well as you possibly can. [_man dig_](http://linux.die.net/man/1/dig) on any good unix box should give you a good start, [this site](http://www.thegeekstuff.com/2012/02/dig-command-examples/) has some good examples too, I can&#39;t even scratch the surface of how useful DNS tools are, probably a great subject for another NIX4NetEng.  Here we see that the address has reverse DNS (PTR record) of local.forwardingplane.net.  We can poke a bit more at this using DNS, too.```&#34;&gt;(~) jumphost $ dig -t ANY local.forwardingplane.net +noall +answer

; &amp;lt;&amp;lt;&amp;gt;&amp;gt; DiG 9.8.3-P1 &amp;lt;&amp;lt;&amp;gt;&amp;gt; -t ANY local.forwardingplane.net +noall +answer
;; global options: +cmd
local.forwardingplane.net. 221 IN AAAA 2607:dd00:8000:18::88
local.forwardingplane.net. 221 IN A 192.80.96.88&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;Well, we can see here we have a dual stacked host.  We&amp;rsquo;ll look at that more later. Let&amp;rsquo;s see who owns this address space. Whois is the way to go here.  I always start with querying ARIN and go from there.  ```
(~) jumphost $ whois -h whois.arin.net 192.80.96.88&lt;/p&gt;

&lt;p&gt;#&lt;/p&gt;

&lt;h1 id=&#34;arin-whois-data-and-services-are-subject-to-the-terms-of-use&#34;&gt;ARIN WHOIS data and services are subject to the Terms of Use&lt;/h1&gt;

&lt;h1 id=&#34;available-at-https-www-arin-net-whois-tou-html&#34;&gt;available at: &lt;a href=&#34;https://www.arin.net/whois_tou.html&#34;&gt;https://www.arin.net/whois_tou.html&lt;/a&gt;&lt;/h1&gt;

&lt;p&gt;#&lt;/p&gt;

&lt;p&gt;#&lt;/p&gt;

&lt;h1 id=&#34;query-terms-are-ambiguous-the-query-is-assumed-to-be&#34;&gt;Query terms are ambiguous.  The query is assumed to be:&lt;/h1&gt;

&lt;h1 id=&#34;n-192-80-96-88&#34;&gt;&amp;ldquo;n 192.80.96.88&amp;rdquo;&lt;/h1&gt;

&lt;p&gt;#&lt;/p&gt;

&lt;h1 id=&#34;use-to-get-help&#34;&gt;Use &amp;ldquo;?&amp;rdquo; to get help.&lt;/h1&gt;

&lt;p&gt;#&lt;/p&gt;

&lt;p&gt;#&lt;/p&gt;

&lt;h1 id=&#34;the-following-results-may-also-be-obtained-via&#34;&gt;The following results may also be obtained via:&lt;/h1&gt;

&lt;h1 id=&#34;http-whois-arin-net-rest-nets-q-192-80-96-88-showdetails-true-showarin-false-ext-netref2&#34;&gt;&lt;a href=&#34;http://whois.arin.net/rest/nets;q=192.80.96.88?showDetails=true&amp;amp;showARIN=false&amp;amp;ext=netref2&#34;&gt;http://whois.arin.net/rest/nets;q=192.80.96.88?showDetails=true&amp;amp;showARIN=false&amp;amp;ext=netref2&lt;/a&gt;&lt;/h1&gt;

&lt;p&gt;#&lt;/p&gt;

&lt;p&gt;NetRange:       192.80.96.0 - 192.80.111.255
CIDR:           192.80.96.0/20
OriginAS:       AS10932
NetName:        UC2B-1
NetHandle:      NET-192-80-96-0-1
Parent:         NET-192-0-0-0-0
NetType:        Direct Allocation
RegDate:        2013-02-27
Updated:        2013-02-27
Ref:            &lt;a href=&#34;http://whois.arin.net/rest/net/NET-192-80-96-0-1&#34;&gt;http://whois.arin.net/rest/net/NET-192-80-96-0-1&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;OrgName:        UC2B
OrgId:          CCLAUBBC
Address:        102 North Neil Street
City:           Champaign
StateProv:      IL
PostalCode:     61820
Country:        US
RegDate:        2012-02-28
Updated:        2014-02-19
Ref:            &lt;a href=&#34;http://whois.arin.net/rest/org/CCLAUBBC&#34;&gt;http://whois.arin.net/rest/org/CCLAUBBC&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;OrgAbuseHandle: UCBTE-ARIN
OrgAbuseName:   uc2b-tech
OrgAbusePhone:  +1-217-265-4226
OrgAbuseEmail:  uc2b-tech@uc2b.net
OrgAbuseRef:    &lt;a href=&#34;http://whois.arin.net/rest/poc/UCBTE-ARIN&#34;&gt;http://whois.arin.net/rest/poc/UCBTE-ARIN&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;OrgNOCHandle: UCBTE-ARIN
OrgNOCName:   uc2b-tech
OrgNOCPhone:  +1-217-265-4226
OrgNOCEmail:  uc2b-tech@uc2b.net
OrgNOCRef:    &lt;a href=&#34;http://whois.arin.net/rest/poc/UCBTE-ARIN&#34;&gt;http://whois.arin.net/rest/poc/UCBTE-ARIN&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;OrgTechHandle: UCBTE-ARIN
OrgTechName:   uc2b-tech
OrgTechPhone:  +1-217-265-4226
OrgTechEmail:  uc2b-tech@uc2b.net
OrgTechRef:    &lt;a href=&#34;http://whois.arin.net/rest/poc/UCBTE-ARIN&#34;&gt;http://whois.arin.net/rest/poc/UCBTE-ARIN&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;#&lt;/p&gt;

&lt;h1 id=&#34;arin-whois-data-and-services-are-subject-to-the-terms-of-use-1&#34;&gt;ARIN WHOIS data and services are subject to the Terms of Use&lt;/h1&gt;

&lt;h1 id=&#34;available-at-https-www-arin-net-whois-tou-html-1&#34;&gt;available at: &lt;a href=&#34;https://www.arin.net/whois_tou.html&#34;&gt;https://www.arin.net/whois_tou.html&lt;/a&gt;&lt;/h1&gt;

&lt;p&gt;#&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre style=&#34;color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4&#34;&gt;&lt;code class=&#34;language-The first 7 lines of this are the most important. Here we can see that the address space is owned by an entity called [UC2B](http://www.uc2b.net), it is part of a /20 that the origin ASN is 10932 and that it is a direct allocation (as opposed to assigned space from an upstream provider).```&#34; data-lang=&#34;The first 7 lines of this are the most important. Here we can see that the address space is owned by an entity called [UC2B](http://www.uc2b.net), it is part of a /20 that the origin ASN is 10932 and that it is a direct allocation (as opposed to assigned space from an upstream provider).```&#34;&gt;NetRange:       192.80.96.0 - 192.80.111.255
CIDR:           192.80.96.0/20
OriginAS:       AS10932
NetName:        UC2B-1
NetHandle:      NET-192-80-96-0-1
Parent:         NET-192-0-0-0-0
NetType:        Direct Allocation&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;I could tell you some horror stories about getting this address space assigned. It took me 7 months to get that allocation from ARIN&amp;hellip;&amp;hellip;.but I digress.  From here we can query the ASN, also using whois, again, the first few lines are generally the most useful.```
(~) jumphost $ whois -h whois.arin.net 10932
ASNumber: 10932
ASName: UC2B
ASHandle: AS10932
RegDate: 2012-06-28
Updated: 2012-06-28
Ref: &lt;a href=&#34;http://whois.arin.net/rest/asn/AS10932&#34;&gt;http://whois.arin.net/rest/asn/AS10932&lt;/a&gt;&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre style=&#34;color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4&#34;&gt;&lt;code class=&#34;language-We can use this information to track down responsible parties, addresses, etc.  It&#39;s a great resource for knowing both technical and non-technical details about address space. [Team Cymru has an extremely powerful whois service](http://www.team-cymru.org/Services/ip-to-asn.html#whois) that allows for significantly more flexibility including time and date.```&#34; data-lang=&#34;We can use this information to track down responsible parties, addresses, etc.  It&#39;s a great resource for knowing both technical and non-technical details about address space. [Team Cymru has an extremely powerful whois service](http://www.team-cymru.org/Services/ip-to-asn.html#whois) that allows for significantly more flexibility including time and date.```&#34;&gt;(~) jumphost $ whois -h whois.cymru.com &amp;#34; -v 192.80.96.88&amp;#34;
AS      | IP               | BGP Prefix          | CC | Registry | Allocated  | AS Name
10932   | 192.80.96.88     | 192.80.96.0/20      | US | arin     | 2013-02-27 | UC2B - UC2B,US&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;As you can imagine, this can be a robust way to track changes and re-allocations of ASNs and address blocks, especially with the dwindling amounts of IPv4 and the re-assignment of ASNs.  One can see when ownership has changed and verify the correct origin of address blocks.  Great for validation and correlation. These services also work for IPv6. We can see if the V6 space is coming from the same ASN or if it&amp;rsquo;s a different entity (like a &lt;a href=&#34;http://www.tunnelbroker.net&#34;&gt;tunnel&lt;/a&gt; or a totally different provider).&lt;code&gt;
\[buraglio@local ~\]$ whois -h whois.cymru.com &amp;quot; -v 2607:dd00:8000:18::88&amp;quot;
\[Querying whois.cymru.com\]
\[whois.cymru.com\]
AS      | IP                                       | BGP Prefix          | CC | Registry | Allocated  | AS Name
10932   | 2607:dd00:8000:18::88                    | 2607:dd00::/32      | US | arin     | 2012-07-23 | UC2B - UC2B,US
&lt;/code&gt; &lt;/p&gt;

&lt;p&gt;This is really just the tip of the iceberg in this kind of toolset.  There are &lt;em&gt;countless&lt;/em&gt; scripts, binaries and  shell hacks to do no end of interesting and useful things and gather information.  Have some other, better uses or tools?  Post them in the comments!&lt;/p&gt;
</description>
    </item>
    
    <item>
      <title>Net Neutrality changes could force better fiber networks</title>
      <link>https://forwardingplane.net/post/net-neutrality-changes-could-force-better-fiber-networks/</link>
      <pubDate>Sat, 17 May 2014 18:40:25 +0000</pubDate>
      
      <guid>https://forwardingplane.net/post/net-neutrality-changes-could-force-better-fiber-networks/</guid>
      <description>&lt;p&gt;Many regular internet users are extremely upset about the &lt;a href=&#34;http://techcrunch.com/2014/05/15/fccs-proposed-net-neutrality-rules-pass-3-2-enter-4-month-comment-period/&#34;&gt;recent proposed changes the FCC has opened for comments&lt;/a&gt; about the delivery and provisioning of internet services.  Watch this video if you&amp;rsquo;re unaware of the high emotions it has evoked: While these are proposed rules and are not in any way finalized, there is real concern that they may become law.  Where this is problematic is that it opens up the possibility of some real misuse, abuse or simple misunderstanding of needs and services. Do you want your service to be so heavily monitored that your every source and destination is billed for?  Yeah, that&amp;rsquo;s bananas, not to mention confusing and wrought with the possibility of erroneous and/or over billing.  It also required the consumer to be more acutely aware of everything they do, which isn&amp;rsquo;t necessarily a bad thing, but most won&amp;rsquo;t or can&amp;rsquo;t bother to learn, so they become easy targets for predatory companies to charge for services that consumers may not realize they&amp;rsquo;re using. As someone who has run a production ISP on more than one occasion, I can see the huge draw of being able to bill for services.  From a technical perspective, it&amp;rsquo;d be a challenge to manage effectively and fairly and I hate to say it, but from a purely technical standpoint SDN actually makes this kind of granular billing, metering and shaping easier.  From a consumer perspective, it&amp;rsquo;s a nightmare.  Imagine ala cart &amp;ldquo;services&amp;rdquo; like channels on your cable TV.  Hulu? That&amp;rsquo;s $10 more a month.  NetFlix?  That&amp;rsquo;s $15, you get the point.  Fair and open access is the only way to do right be the consumer.  Being an ISP is hard, it&amp;rsquo;s a fine line between quality and profitability and wether folks like it or not, it is a fact that the money comes from oversubscription. What will this possible change in policy mean in the long and short term?  Let me tell you (in a bulleted list!)&lt;/p&gt;

&lt;ul&gt;
&lt;li&gt;Cloud data storage services for small businesses become a liability because now they can be double billed for them by IP provider and cloud provider which could _&lt;strong&gt;significantly&lt;/strong&gt; _change how cloud services work and force consumers and businesses to either build their own data centers back up, change their model for data services or forgo cloud services all together.&lt;/li&gt;
&lt;li&gt;Users and businesses may be forced into cloud service provided by their ISP to get around large transit fees and become locked into a proprietary service.&lt;/li&gt;
&lt;li&gt;The use of guerilla networks start to pop up again.&lt;/li&gt;
&lt;li&gt;Wide spread encrypted overlays and VPNs are used to get around  service fees.&lt;/li&gt;
&lt;li&gt;Data caps become normal for every large provider (already happening).&lt;/li&gt;
&lt;li&gt;Open access municipal and private fiber networks become far more common than they are now.  This is &lt;a href=&#34;http://city-council.cityofdavis.org/Media/Default/Documents/PDF/CityCouncil/CouncilMeetings/Agendas/20140422/04G-RFEI-for-Davis-Broadband.pdf&#34;&gt;already happening&lt;/a&gt; on a smaller scale.  See &lt;a href=&#34;http://www.uc2b.net&#34;&gt;UC2B&lt;/a&gt;, &lt;a href=&#34;http://www.utopianet.org/&#34;&gt;UtopiaNet&lt;/a&gt;, &lt;a href=&#34;http://www.cirbn.org/&#34;&gt;CIRBN&lt;/a&gt;, &lt;a href=&#34;https://fiber.google.com/about/&#34;&gt;Google fiber&lt;/a&gt; and many others.&lt;/li&gt;
&lt;li&gt;Settlement free, unmetered peerings and local peering hubs  become far more common between municipal networks, large enterprises and other entities in a given locality and eventually between the peering hubs.&lt;/li&gt;
&lt;li&gt;Horse trading between fiber resources becomes commonplace to reach other resources.&lt;/li&gt;
&lt;li&gt;Purchasing managed transport services from CLECs to get to exchange points to purchase transit from real providers.&lt;/li&gt;
&lt;li&gt;Last mile consumer broadband providers start to feel the pinch and realize they missed the boat.  Remember when cell phone minutes were billed by the minute and everything was an add-on feature?  Me too.  Now it&amp;rsquo;s a capped data plan and everything else is just free. You get the point.&lt;/li&gt;
&lt;/ul&gt;

&lt;p&gt;In my opinion the internet providers need to be re-classified as common carriers, and frankly, and the only reason it has not been is that law makers don&amp;rsquo;t &lt;em&gt;&lt;strong&gt;really&lt;/strong&gt;&lt;/em&gt; understand it and they&amp;rsquo;re being preyed upon by the large telco and service provider lobbyists.  Ala Cart Image via&lt;a href=&#34;http://yates2.com/&#34;&gt; http://yates2.com/&lt;/a&gt;&lt;/p&gt;
</description>
    </item>
    
    <item>
      <title>NIX4NetEng 1 Managing dotfiles; pwn the unspoken pain of UNIX administration</title>
      <link>https://forwardingplane.net/post/nix4neteng-1-managing-dotfiles-pwn-the-unspoken-pain-of-unix-administration/</link>
      <pubDate>Thu, 01 May 2014 02:58:20 +0000</pubDate>
      
      <guid>https://forwardingplane.net/post/nix4neteng-1-managing-dotfiles-pwn-the-unspoken-pain-of-unix-administration/</guid>
      <description>&lt;p&gt;Many network engineers are also tasked with maintaining systems that provide network services, those things that make the network easier to use such as DNS and DHCP or management systems that perform useful things like monitor the network, collect flow data or bestow access to the equipment by acting as &lt;a href=&#34;http://en.wikipedia.org/wiki/Bastion_host&#34;&gt;bastion&lt;/a&gt; or jump hosts.  In many instances, robust and high availability services run on UNIX, Linux or BSD systems for stability and reliability, so those that manage these systems need to be well versed system admins as well as whatever their other job functions are.  &lt;a href=&#34;http://packetpushers.net/are-certifications-tests-still-worth-your-resources-in-the-day-of-hybrid-it/&#34;&gt;Hybridization&lt;/a&gt;, if you will.  Nothing new, nothing unexpected.  However, one of the banes of these tasks is having a uniform shell environment across platforms and systems. Why create a customized environment with aliases, environmental variables and other personalized settings more than once? I have struggled with how to do this efficiently across desktop, server, jumphosts and other daily use systems for &lt;strong&gt;years&lt;/strong&gt;. Most of the important variables are controlled by dotfiles.   In what I am hoping is the start of a short series of &amp;ldquo;UNIX stuff for networking folks&amp;rdquo;, I will explain how I did this for myself. UNIX and Linux admins have been dealing with dotfiles forever. GitHub even has a &lt;a href=&#34;http://dotfiles.github.io/&#34;&gt;repo dedicated to&lt;/a&gt; it.  For my environment, I chose to go with &lt;a href=&#34;http://jim.github.io/briefcase/&#34;&gt;Briefcase&lt;/a&gt; and &lt;a href=&#34;http://www.bitbucket.com&#34;&gt;BitBucket&lt;/a&gt;.  Briefcase because it has mechanisms for stripping out sensitive information if needed and bitbucket because I can have private repos without paying money.  This can all certainly be done with local git repos or github and without briefcase. Briefcase is really straightforward to install, it&amp;rsquo;s just a ruby gem, so &lt;em&gt;gem install briefcase&lt;/em&gt; is all that is needed to get it on your machine&lt;em&gt;.&lt;/em&gt;  OSX has it by default.  On my machine I needed to to&lt;em&gt;sudo gem update —system&lt;/em&gt; before it would install.  Your mileage may vary&lt;em&gt;. &lt;/em&gt; Once it&amp;rsquo;s installed, just add your files.  I switched to bash, so I needed to import .bashrc and .bash_profile, but I wanted to make sure I had a backup just in case.```
mkdir -p tmp/dotfiles
mv .bashrc tmp/dotfiles/
mv .bash_profile tmp/dotfiles/&lt;/p&gt;

&lt;pre&gt;&lt;code&gt;briefcase import ~/.bashrc
briefcase import ~/.bash\_profile
&lt;/code&gt;&lt;/pre&gt;

&lt;p&gt;briefcase git remote add origin git@repo.forwardingplane.net:buraglio/briefcase-dotfiles.git&lt;/p&gt;

&lt;pre&gt;&lt;code&gt;briefcase git commit -am &amp;quot;Initial newhost commit&amp;quot;
&lt;/code&gt;&lt;/pre&gt;

&lt;p&gt;briefcase git checkout origin master&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre style=&#34;color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4&#34;&gt;&lt;code class=&#34;language-Obviously replace the remote repo address with your own repo destination.   You can now check the status:```&#34; data-lang=&#34;Obviously replace the remote repo address with your own repo destination.   You can now check the status:```&#34;&gt;briefcase sync&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;This should output something like this:```
Synchronizing dotfiles between /Users/buraglio/.dotfiles and /Users/buraglio
Symlink verified: /Users/buraglio/.bash_profile -&amp;gt; /Users/buraglio/.dotfiles/bash_profile
Symlink verified: /Users/buraglio/.bashrc -&amp;gt; /Users/buraglio/.dotfiles/bashrc
Symlink verified: /Users/buraglio/.profile -&amp;gt; /Users/buraglio/.dotfiles/profile
Symlink verified: /Users/buraglio/.README.md -&amp;gt; /Users/buraglio/.dotfiles/README.md&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre style=&#34;color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4&#34;&gt;&lt;code class=&#34;language-Getting a new branch for an existing host was the biggest hurdle for me, I want a base .bashrc but may want different environment variables for mac and Linux.  I&#39;m not a git expert by any means, so there may be a better way to do this, but it works well for me. To branch a new host, it&#39;s pretty straightforward.  Briefcase is really just a wrapper for git, so prepending &#34;briefcase&#34; before the git commands seems to &#34;just work&#34; (as I learned by trial and error or making this work). On an existing Host:```&#34; data-lang=&#34;Getting a new branch for an existing host was the biggest hurdle for me, I want a base .bashrc but may want different environment variables for mac and Linux.  I&#39;m not a git expert by any means, so there may be a better way to do this, but it works well for me. To branch a new host, it&#39;s pretty straightforward.  Briefcase is really just a wrapper for git, so prepending &#34;briefcase&#34; before the git commands seems to &#34;just work&#34; (as I learned by trial and error or making this work). On an existing Host:```&#34;&gt;git clone git@your.repoaddress.net:username/reponame.git .dotfiles
mkdir -p tmp/dotfiles
mv .bashrc tmp/dotfiles/
mv .bash\_profile tmp/dotfiles/
briefcase sync
briefcase git branch \[newhost\]
briefcase git checkout \[newhost\]&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;&amp;hellip;Make changes&amp;hellip;&lt;code&gt;
briefcase git commit -am &amp;quot;Initial newhost commit&amp;quot;
&lt;/code&gt;briefcase git push origin [newhost] There you have it, easily backed up and distributed environment control.  I&amp;rsquo;m planning to add &lt;a href=&#34;http://joeyh.name/code/etckeeper/&#34;&gt;etckeeper&lt;/a&gt; to this process next.&lt;/p&gt;
</description>
    </item>
    
    <item>
      <title>Blending the Network; Pluribus ServerSwitch</title>
      <link>https://forwardingplane.net/post/blending-the-network-pluribus-serverswitch/</link>
      <pubDate>Mon, 21 Apr 2014 04:44:30 +0000</pubDate>
      
      <guid>https://forwardingplane.net/post/blending-the-network-pluribus-serverswitch/</guid>
      <description>

&lt;p&gt;I firmly believe that blending disciplines is the way of the future in IT. I&amp;rsquo;ve rambled about it here at &lt;a href=&#34;http://packetpushers.net/are-certifications-tests-still-worth-your-resources-in-the-day-of-hybrid-it/&#34;&gt;other venues&lt;/a&gt; and I&amp;rsquo;m vocal (some would probably say brash) about it on the &lt;a href=&#34;http://www.twitter.com/buraglio&#34;&gt;twitters&lt;/a&gt;.  Be it Networking and System, Systems and Security, Programming and Networking, most of us that have been around any length of time already do it but now it&amp;rsquo;s happening out in the open and &amp;ldquo;&lt;a href=&#34;http://en.wikipedia.org/wiki/DevOps&#34;&gt;DevOps&lt;/a&gt;&amp;rdquo;, a form of the hybrid IT worker, has seemingly become the BOTD (Buzzword of the day). With &amp;ldquo;&lt;em&gt;hybrid&lt;/em&gt;&amp;rdquo; in mind, it was very apt that &lt;a href=&#34;http://www.pluribusnetworks.com/&#34;&gt;Pluribus Networks&lt;/a&gt; presented an intriguing spin on &amp;ldquo;&lt;em&gt;hybrid&lt;/em&gt;&amp;rdquo; from the hardware point of view at &lt;a href=&#34;http://techfieldday.com/event/nfd7/&#34;&gt;Network Field Day 7&lt;/a&gt;.  Remember the days or routers &lt;em&gt;or&lt;/em&gt; switches? Sure you do. Then along came the L3 Switch and shook everything up.  Now you could do both on the same box simplifying OPEX and potentially CAPEX as well as maintenance fees. It became possible to simplify the architecture and even to to collapse it if so desired.  I certainly did not expect to see anything like that in Pluribus.  In fact, to be honest, I really was not sure what to expect.&lt;/p&gt;

&lt;p&gt;&lt;a href=&#34;http://www.forwardingplane.net/wp-content/uploads/2014/04/PBNet.png&#34;&gt;&lt;img src=&#34;http://www.forwardingplane.net/wp-content/uploads/2014/04/PBNet.png&#34; alt=&#34;PBNet&#34; /&gt;&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;What pluribus brings is merchant based hardware but it has a spin that I  didn&amp;rsquo;t see coming.  A pretty innovative one, too. What others began by creating flexible, programmable and highly resilient OSs and/or feature rich hardware without big name fuss (and prices to accompany said fuss), &lt;a href=&#34;http://www.pluribusnetworks.com/&#34;&gt;Pluribus&lt;/a&gt; has evolved one step further, added some serious steroids to the hardware and infused very flexible OS with many management vectors (CLI, API, GUI and even good &amp;lsquo;ol UNIX commands).  &lt;img src=&#34;http://www.forwardingplane.net/wp-content/uploads/2014/03/800px-1968_El_Camino.jpg&#34; alt=&#34;800px-1968_El_Camino&#34; /&gt; Like a Reese&amp;rsquo;s peanut butter cup, Pluribus has blended two things that seem to work well together: a &lt;a href=&#34;http://www.pluribusnetworks.com/products/freedom-server-switch-line/&#34;&gt;powerful server platform&lt;/a&gt; for processing and potentially acting on massive amounts of data and a merchant based silicon switch with a good number of fast interfaces.  It&amp;rsquo;s a software driven hardware solution.  A host router, but so much more.  I&amp;rsquo;ve long thought that host based routing and switching was a powerful tool, having worked on several &lt;a href=&#34;http://www.pfsense.org&#34;&gt;open source platforms&lt;/a&gt; that do just that.  However, the issues that inevitably came up were a lack of commercial hardware and software support, a structured, well defined market or the risk of the fracture of a community based product.  This provides answers to all of those concerns and offers a unique product to boot.&lt;/p&gt;

&lt;h2 id=&#34;swerver&#34;&gt;&lt;em&gt;&amp;ldquo;Swerver&amp;rdquo;  &lt;/em&gt;&lt;/h2&gt;

&lt;p&gt;That&amp;rsquo;s the word that jumps into my brain when I try to categorize this nifty hybrid.  It&amp;rsquo;s a server, no it&amp;rsquo;s a switch no it&amp;rsquo;s a server &amp;hellip;It&amp;rsquo;s like an &lt;a href=&#34;http://en.wikipedia.org/wiki/Chevrolet_El_Camino&#34;&gt;El Camino&lt;/a&gt; (or &lt;a href=&#34;http://en.wikipedia.org/wiki/Ford_Ranchero‎&#34;&gt;Ford Ranchero&lt;/a&gt;, depending on your persuasion), &amp;ldquo;Is it a car? Is it a Truck?&amp;rdquo; &amp;ldquo;Yes.&amp;rdquo; Pluribus presents some interesting questions about how we can blend the network and systems into a more flexible platform with their server switch platform, creating an &lt;em&gt;infrastructure&lt;/em&gt; fabric as opposed to a &amp;ldquo;series of tubes&amp;rdquo; that &amp;ldquo;servers&amp;rdquo; connect to.  Their software suite is quite robust, too.  Anything from NAS to CDN, NAT to L3.  Oh, and they can run VMs, too.  I&amp;rsquo;m thinking a Bro IDS node, a blackhole router and a perfsonar node running right in the network fabric.  Very thought provoking stuff. I like to see ideas, products and people that lay it all out there and try to transform, to evoke thoughts and try to foster change.  This does that.  You can check out the videos from NFD7 &lt;a href=&#34;http://techfieldday.com/appearance/pluribus-networks-presents-at-networking-field-day-7/&#34;&gt;here&lt;/a&gt;.  I &lt;strong&gt;&lt;em&gt;dare&lt;/em&gt;&lt;/strong&gt; you to tell me you can not think of a use for something like this. &lt;a href=&#34;http://commons.wikimedia.org/wiki/File:1968_El_Camino.jpg&#34;&gt;El Camino Image Reference via WikiPedia&lt;/a&gt; Freedom Line image source Pluribus Networks   &lt;a href=&#34;http://www.forwardingplane.net/about/disclaimer/&#34;&gt;Standard Disclaimer&lt;/a&gt;&lt;/p&gt;
</description>
    </item>
    
    <item>
      <title>BGP tools; troubleshooting and monitoring external routing in a nutshell</title>
      <link>https://forwardingplane.net/post/bgp-tools-troubleshooting-and-monitoring-external-routing-in-a-nutshell/</link>
      <pubDate>Fri, 21 Mar 2014 04:51:06 +0000</pubDate>
      
      <guid>https://forwardingplane.net/post/bgp-tools-troubleshooting-and-monitoring-external-routing-in-a-nutshell/</guid>
      <description>&lt;p&gt;Time to rewind from the new and shiny and get back to roots of networking. &lt;a href=&#34;http://en.wikipedia.org/wiki/Border_Gateway_Protocol&#34;&gt;BGP&lt;/a&gt; is one of those odd protocols that is foundational to the functioning of the internet but yet somewhat hard to get experience with.  Say what you will about this venerable protocol, it&amp;rsquo;s been here a while and it is not going anywhere any time soon. I&amp;rsquo;ve been doing BGP since around late 1999, and I completely fell into it by accident, having only the Cisco &lt;a href=&#34;http://www.amazon.com/Internet-Routing-Architectures-2nd-Edition/dp/157870233X&#34;&gt;Internet Routing Architectures&lt;/a&gt; book (which I literally read cover to cover) and the &lt;a href=&#34;http://www.amazon.com/IP-Routing-Protocols-OSPF-Cisco/dp/0130142484/ref=la_B001HCXUMA_1_1?s=books&amp;amp;ie=UTF8&amp;amp;qid=1395373752&amp;amp;sr=1-1&#34;&gt;Ulysses Black Routing Protocols Book&lt;/a&gt;  and whatever I could find on a random search engine to guide me, and that was only after having to learn on the CLI for the first 6-7 months. In actuality, that is how many of the folks of my vintage came into doing BGP. Someone needed to announce some routes that were allocated to them by an &lt;a href=&#34;https://www.arin.net/knowledge/rirs.html&#34;&gt;RIR&lt;/a&gt;, or bring up some multi-homing or whatever.  Whoever knew how to work on the border device (or was willing to touch arguably the most important device on the network) got to learn how to do it. In 15 years of configuring, monitoring, tweaking, tuning and generally just maintaining BGP across service provider, research, enterprise networks and in labs and test environments, here are the tools I had to find to either put out fires, prevent blazing flames or prove that there is/was no fire. Lets assume that you already have all of the appropriate prefix lists, policy options and route maps in place to filter correctly. You&amp;rsquo;re doing that, right? If not, go do that and then come back to this. It will make your life easier in the long run. All eBGP peerings should have inbound and outbound filters on them. No exceptions. Yes, it can be a pain to maintain but when someone leaks you a full table when you&amp;rsquo;re expecting directly connected, you&amp;rsquo;ll be glad that they&amp;rsquo;re there. See below about automating the filters programatically. Now on to the fun stuff. Look at what the router is sending and receiving.  You know what you&amp;rsquo;re announcing, right? Under Cisco IOS the appropriate commands to display this information will look like this:```
show ip bgp neighbor  received-routes&lt;/p&gt;

&lt;pre&gt;&lt;code&gt;show ip bgp neighbor  advertised-routes
```In JunOS it will look like this:```
show route rec protocol bgp &amp;lt;neighbor&amp;gt;
&lt;/code&gt;&lt;/pre&gt;

&lt;p&gt;show route adv protocol bgp &lt;neighbor&gt;&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre style=&#34;color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4&#34;&gt;&lt;code class=&#34;language-On an Alcatel-Lucent the command will look like this:```&#34; data-lang=&#34;On an Alcatel-Lucent the command will look like this:```&#34;&gt;show router bgp neighbor &amp;lt;neighbor&amp;gt; advertised-routes&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;Brocade has their methods too, it is &lt;em&gt;relatively&lt;/em&gt; similar to IOS. One important thing to note, JunOS requires no difference in the show command for IPv6. IOS and ALU has an additional command to display IPv6 information. IOS-XR may be different still, but I cannot confirm or recall since I have not used it since late 2012 (additions welcome in the comments).  For IPv6 on Cisco IOS and ALU respectively:```
show ipv6 bgp neighbors &lt;neighbor&gt; received-routes | advertised-routes&lt;/p&gt;

&lt;p&gt;show router bgp neighbor &lt;neighbor&gt; advertised-routes ipv6&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre style=&#34;color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4&#34;&gt;&lt;code class=&#34;language-This will provide a view from the street, it will display exactly what your router knows. [Route servers ](http://www.traceroute.org/#Route%20Servers)/ [Looking Glass](http://www.bgp4.as/looking-glasses) --This is your basic  external view. Log in and see what other ASNs know about your routes.  Critically important during those &#34;something is on fire&#34; times mentioned above.  They are maintained by a myriad of entities and positioned all over the globe. [BGPmon](http://www.bgpmon.org) --A project by [Andree Toonk](https://twitter.com/atoonk). Allows for the automatic discovery and monitoring of prefixes, alerting on many, many  attributes such as prefix hijacks.  Free and commercial plans available, but the commercial plans are far more feature rich and well worth it if you monitor large amounts og BGP. [Peermon](https://www.bgpmon.net/new-version-of-bgpmon-net/) --Part of the new and improved BGPmon.  Allows for the on-demand monitoring of prefixes within your network. Very useful for viewing as-path changes of destination networks for long term troubleshooting. [RouteViews](http://www.routeviews.org) -- Great project out of U of Oregon that was (is?) run by the groundbreaking [David Meyer](https://twitter.com/dmm613) of [OpenDaylight](http://www.opendaylight.org/) (and many other things) fame.  Peers with networks and records routing changes, allows for public query and has vast historical data. [bgplay](http://bgplay.routeviews.org/) - Great visualization tool for tracking routing, as-path and prefix announcement changes. This is part of the routeviews project and utilizes their vast historical data.  L=It currently acks IPv6 support and I;m unsure if it is maintained anymore. [Router Proxies](http://routerproxy.grnoc.iu.edu/internet2/) -- This has been a big thing int he R&amp;E world for quite some time.  Other entities may offer it, it&#39;s similar to a looking glass but more easily configured to allow or disallow different show commands.  The [code is open source](http://routerproxy.sourceforge.net/) and pretty easy to hack new commands into or adapt to new platforms (if I can do it anyone can). Lookup tools such as whois.  I find that looking uo ASNs and networks against the ARIN, RIPE and other RIRs is very handy as a starting point.  using CLI commands such as &#34;whois -h whois.arin.net 1224&#34; would display the following information:```&#34; data-lang=&#34;This will provide a view from the street, it will display exactly what your router knows. [Route servers ](http://www.traceroute.org/#Route%20Servers)/ [Looking Glass](http://www.bgp4.as/looking-glasses) --This is your basic  external view. Log in and see what other ASNs know about your routes.  Critically important during those &#34;something is on fire&#34; times mentioned above.  They are maintained by a myriad of entities and positioned all over the globe. [BGPmon](http://www.bgpmon.org) --A project by [Andree Toonk](https://twitter.com/atoonk). Allows for the automatic discovery and monitoring of prefixes, alerting on many, many  attributes such as prefix hijacks.  Free and commercial plans available, but the commercial plans are far more feature rich and well worth it if you monitor large amounts og BGP. [Peermon](https://www.bgpmon.net/new-version-of-bgpmon-net/) --Part of the new and improved BGPmon.  Allows for the on-demand monitoring of prefixes within your network. Very useful for viewing as-path changes of destination networks for long term troubleshooting. [RouteViews](http://www.routeviews.org) -- Great project out of U of Oregon that was (is?) run by the groundbreaking [David Meyer](https://twitter.com/dmm613) of [OpenDaylight](http://www.opendaylight.org/) (and many other things) fame.  Peers with networks and records routing changes, allows for public query and has vast historical data. [bgplay](http://bgplay.routeviews.org/) - Great visualization tool for tracking routing, as-path and prefix announcement changes. This is part of the routeviews project and utilizes their vast historical data.  L=It currently acks IPv6 support and I;m unsure if it is maintained anymore. [Router Proxies](http://routerproxy.grnoc.iu.edu/internet2/) -- This has been a big thing int he R&amp;E world for quite some time.  Other entities may offer it, it&#39;s similar to a looking glass but more easily configured to allow or disallow different show commands.  The [code is open source](http://routerproxy.sourceforge.net/) and pretty easy to hack new commands into or adapt to new platforms (if I can do it anyone can). Lookup tools such as whois.  I find that looking uo ASNs and networks against the ARIN, RIPE and other RIRs is very handy as a starting point.  using CLI commands such as &#34;whois -h whois.arin.net 1224&#34; would display the following information:```&#34;&gt;#
# The following results may also be obtained via:
# http://whois.arin.net/rest/asns;q=1224?showDetails=true&amp;amp;ext=netref2
#
``````
ASNumber: 1224
ASName: NCSA-AS
ASHandle: AS1224
RegDate: 1991-02-25
Updated: 1997-10-27
Ref: http://whois.arin.net/rest/asn/AS1224
``````
OrgName: National Center for Supercomputing Applications
OrgId: NCSA-3
Address: NCSA
Address: 1205 W. Clark St
City: Urbana
StateProv: IL
PostalCode: 61801
Country: US
RegDate: 1990-03-26
Updated: 2011-04-06
Ref: http://whois.arin.net/rest/org/NCSA-3
``````
OrgAbuseHandle: ND63-ORG-ARIN
OrgAbuseName: Network Development
OrgAbusePhone: +1-217-244-0714
OrgAbuseEmail: neteng @ ncsa.illinois.edu
OrgAbuseRef: http://whois.arin.net/rest/poc/ND63-ORG-ARIN
``````
OrgTechHandle: ND63-ORG-ARIN
OrgTechName: Network Development
OrgTechPhone: +1-217-244-0714
OrgTechEmail: neteng @ ncsa.illinois.edu
OrgTechRef: http://whois.arin.net/rest/poc/ND63-ORG-ARIN
``````
RTechHandle: ND63-ORG-ARIN
RTechName: Network Development
RTechPhone: +1-217-244-0714
RTechEmail: neteng @ ncsa.illinois.edu
RTechRef: http://whois.arin.net/rest/poc/ND63-ORG-ARIN
``````
#
# ARIN WHOIS data and services are subject to the Terms of Use
# available at: https://www.arin.net/whois\_tou.html
#&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;Very handy for prefixes and ASNs.  There are also service like the &lt;a href=&#34;https://www.team-cymru.org/Services/ip-to-asn.html&#34;&gt;Team Cymru whois server&lt;/a&gt; that can display date/time based information for forensics and to provide IP to ASN mappings. Also very handy.  I believe this code is also open source. &lt;a href=&#34;http://irrtoolset.isc.org/&#34;&gt;IRR Toolset&lt;/a&gt;.  Extremely handy for automation of routing policy configuration.  I found it a tad painful to set up but it is a useful toolkit. Notable Mention: &lt;a href=&#34;https://ring.nlnog.net/&#34;&gt;NLNog RING&lt;/a&gt;.  &amp;ndash; This is a trust based unix host that provides a &lt;a href=&#34;https://ring.nlnog.net/toolbox/&#34;&gt;large variety of services&lt;/a&gt; to those that qualify for participation.  Very handy when looking for an on-net perspective. Notable Mention / Shameless Plug: &lt;a href=&#34;http://psps.perfsonar.net/toolkit/&#34;&gt;perfSonar toolkit&lt;/a&gt;.  In addition to thewell known performance testing tools, PS provides things like reverse traceroute and other handy networking widgets.  It also has a far lower barrier of entry than the NLNog RING.   There are obviously more ways to do this and there are possibly better ones, too.  This is how I&amp;rsquo;ve done it for a long time and it has mostly worked for me.  I had to learn most of this by trial and error so I thought it maybe useful to throw it all together into one place for future reference.&lt;/p&gt;
</description>
    </item>
    
    <item>
      <title>Disclaimer</title>
      <link>https://forwardingplane.net/post/disclaimer/</link>
      <pubDate>Fri, 21 Mar 2014 00:00:44 +0000</pubDate>
      
      <guid>https://forwardingplane.net/post/disclaimer/</guid>
      <description>&lt;p&gt;I don&amp;rsquo;t endorse or condemn products for free or for money [and if I did I would disclose it in bold lettering for the world to see]. I will strive to provide a fact based description, experience or assessment of any given technology or product based on my particular experience.  I may provide opinions as to what I believe is the right or wrong $item, $idea, $process, or $procedure on any given subject again based on my personal experiences. My employer is in no way represented by anything I may say or do, nor is my family, group of friends, neighbors or random stranger that may perform the same job function as myself. Take everything I say, type or do with a grain of salt.  I do.&lt;/p&gt;
</description>
    </item>
    
    <item>
      <title>Resume</title>
      <link>https://forwardingplane.net/post/resume/</link>
      <pubDate>Tue, 11 Mar 2014 14:37:02 +0000</pubDate>
      
      <guid>https://forwardingplane.net/post/resume/</guid>
      <description></description>
    </item>
    
    <item>
      <title>Replace ZFS RAIDZ1 disk</title>
      <link>https://forwardingplane.net/post/replace-zfs-raidz1-disk/</link>
      <pubDate>Tue, 11 Mar 2014 01:01:58 +0000</pubDate>
      
      <guid>https://forwardingplane.net/post/replace-zfs-raidz1-disk/</guid>
      <description>&lt;p&gt;I recently had the displeasure of dealing with a series of failed disks in my newly created ZFS based NAS.  I had cobbled together roughly 12TB of disk space and jammed them into an old PC, stretching the limits of the platform when I decided to go with ZFS.  I broke all of the rules, underpowered, single core PC, only a handful of GIG of non-ECC RAM, etc.  I&amp;rsquo;m sure storage guys are having a coronary after reading that, but it works for me and has minimal issues since I just relatively redundant need bulk storage and it doesn&amp;rsquo;t need to be fast (the ethernet connection is only 100M). Machine stats are as such: AMD Sempron&amp;trade; Processor 2800+ 2G NON-ECC memory The following disks:&lt;/p&gt;

&lt;p&gt;&lt;a href=&#34;http://www.forwardingplane.net/wp-content/uploads/2014/03/Screenshot-2014-03-10-13.49.35.png&#34;&gt;&lt;img src=&#34;http://www.forwardingplane.net/wp-content/uploads/2014/03/Screenshot-2014-03-10-13.49.35-1024x280.png&#34; alt=&#34;Screenshot 2014-03-10 13.49.35&#34; /&gt;&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;The NAS was a long standing device on my network.  I&amp;rsquo;ve been using &lt;a href=&#34;http://www.nas4free.org/&#34;&gt;NAS4FREE&lt;/a&gt; for quite some time with fantastic results.  The disks are simply desktop drives, nothing fancy.  When I rebuilt it all using ZFS I found that I had not done 2 things.  I had not documented the warranty status of the devices and I had not enabled SMART monitoring.  I know, amateur hour at its finest; I&amp;rsquo;m OK with it, it&amp;rsquo;s just for home use and I have offsite storage for anything super important. *&lt;em&gt;As an aside, if you&amp;rsquo;re looking to build a NAS I would both recommend &lt;a href=&#34;http://www.nas4free.org/&#34;&gt;NAS4FREE&lt;/a&gt; as well as doing something as simple as documenting the warranty information of each disk in the description field.&lt;/em&gt; So, when I enabled SMART monitoring and email reporting. I found that several of my disks were failing their end-to-end tests when this started showing up in my inbox:  ```
The following warning/error was logged by the smartd daemon:
Device: /dev/ada1, Failed SMART usage Attribute: 184 End-to-End_Error.
Device info:&lt;/p&gt;

&lt;pre&gt;&lt;code&gt;ST2000DM001-1CH164, S/N:xxxxxxxx, WWN:5-000c50-08147e2a4, FW:CC26, 2.00 TB
```  Bad news. However, with ZFS it is supposed to be fantastically easy to do disk replacements.  I had chosen RAIDZ1 for both volumes, so they could each supposedly sustain a single disk failure. There are a lot of online references for zfs. I used [this page](http://panoramicsolution.com/blog/?p=353) as a starting point for replacing my disk. I dropped to the shell on the NAS and did the following to identify the right disk to remove:```
nas:~# camcontrol devlist
&amp;lt;ST31000340AS SD15&amp;gt; at scbus0 target 0 lun 0 (ada0,pass0)
&amp;lt;ST2000DM001-1CH164 CC26&amp;gt; at scbus1 target 0 lun 0 (ada1,pass1)
&amp;lt;ST2000DM001-1CH164 CC24&amp;gt; at scbus2 target 0 lun 0 (ada2,pass2)
&amp;lt;ST2000DM001-1CH164 CC26&amp;gt; at scbus3 target 0 lun 0 (ada3,pass3)
&amp;lt;WDC WD20EARS-00MVWB0 51.0AB51&amp;gt; at scbus4 target 0 lun 0 (ada4,pass4)
&amp;lt;ST31500341AS CC1H&amp;gt; at scbus5 target 0 lun 0 (ada5,pass5)
&amp;lt;ST2000DM001-1CH164 CC29&amp;gt; at scbus6 target 0 lun 0 (ada6,pass6)
&amp;lt;ST31500341AS CC1H&amp;gt; at scbus7 target 0 lun 0 (ada7,pass7)
&amp;lt;ST2000DM001-9YN164 CC82&amp;gt; at scbus8 target 0 lun 0 (ada8,pass8)
&amp;lt;TOSHIBA THNCF512MPG 1.00&amp;gt; at scbus11 target 0 lun 0 (ada9,pass9)
```ada8 needs replaced.  The volume it exists in is zfs0.  The formula used is _&amp;quot;zpool &amp;lt;command&amp;gt; &amp;lt;pool&amp;gt; &amp;lt;device&amp;gt;&amp;quot;_```
zpool offline zfs0 ada8
```None of my stuff is hot swap, so I have to shut down the box.```
shutdown -h now
```Yank out the old disk and install the new one.```
zpool replace zfs0 ada8
&lt;/code&gt;&lt;/pre&gt;

&lt;p&gt;zpool online zfs0 ada8&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre style=&#34;color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4&#34;&gt;&lt;code class=&#34;language-After that you&#39;ll see the disk getting resilvered, which will take a while.```&#34; data-lang=&#34;After that you&#39;ll see the disk getting resilvered, which will take a while.```&#34;&gt;nas:~# zpool status zfs0
pool: zfs0
state: DEGRADED
status: One or more devices is currently being resilvered. The pool will
continue to function, possibly in a degraded state.
action: Wait for the resilver to complete.
scan: resilver in progress since Mon Mar 10 13:39:36 2014
105G scanned out of 3.37T at 75.4M/s, 12h36m to go
17.5G resilvered, 3.04% done
config:

NAME STATE READ WRITE CKSUM
zfs0 DEGRADED 0 0 0
raidz1-0 DEGRADED 0 0 0
ada1 ONLINE 0 0 0
ada2 ONLINE 0 0 0
ada3 ONLINE 0 0 0
ada4 ONLINE 0 0 0
ada6 ONLINE 0 0 0
replacing-5 OFFLINE 0 0 0
6070465578770542405 OFFLINE 0 0 0 was /dev/ada8/old
ada8 ONLINE 0 0 0 (resilvering)

errors: No known data errors&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;After the resilvering process you should have a repaired volume.&lt;/p&gt;
</description>
    </item>
    
    <item>
      <title>Tail-F NCS: upsetting network management...in a good way.</title>
      <link>https://forwardingplane.net/post/tail-f-ncs-upsetting-network-management-in-a-good-way/</link>
      <pubDate>Thu, 27 Feb 2014 04:36:26 +0000</pubDate>
      
      <guid>https://forwardingplane.net/post/tail-f-ncs-upsetting-network-management-in-a-good-way/</guid>
      <description>

&lt;p&gt;&lt;em&gt;“Hopefully there are some things here that will make you really upset in a very good way”&lt;/em&gt; is how &lt;a href=&#34;https://twitter.com/cmoberg&#34;&gt;Carl Moberg&lt;/a&gt; of Swedish based company &lt;a href=&#34;http://www.tail-f.com/&#34;&gt;tail-f&lt;/a&gt; opened up to the crowd at &lt;a href=&#34;http://techfieldday.com/event/nfd7/&#34;&gt;Networking Field Day 7&lt;/a&gt; on &lt;a href=&#34;http://techfieldday.com/appearance/tail-f-systems-presents-at-networking-field-day-7/&#34;&gt;Feb 19, 2014&lt;/a&gt;.  Tail-f is a sleeper, I had actually never heard of them before NFD7, but they&amp;rsquo;ve got a very unique product in &lt;a href=&#34;http://www.tail-f.com/network-control-system/&#34;&gt;NCS&lt;/a&gt; and in my opinion it can change the way existing &lt;strong&gt;and&lt;/strong&gt; future networks are managed.  Right now.  It&amp;rsquo;s not a platform that is green, unpolished or unfinished.  &lt;a href=&#34;http://www.tail-f.com/network-control-system/&#34;&gt;NCS&lt;/a&gt; is in the ring and it brought its A-game.   Their site describes it better than I ever could: _&amp;ldquo;Tail-f Network Control System, or NCS, enables network operators to manage all of their services and network devices with a single tool.&amp;ldquo; _A bold statement, and I tend to be pretty skeptical of such statements. However, I was really intrigued by the NCS platform and as I discovered, it is not hype. Watching the demo of this got my brain racing, it was exciting to think about all of the things it could simplify; I was excited about networking.  So many things In fact, I&amp;rsquo;m really just going to scratch the surface of what this software toolkit can tool.&lt;/p&gt;

&lt;blockquote&gt;
&lt;h2 id=&#34;any-network-of-of-ambitious-size-that-needs-to-get-people-out-of-the-loop&#34;&gt;&lt;em&gt;&amp;ldquo;Any network of of ambitious size that needs to get people out of the loop”&lt;/em&gt;&lt;/h2&gt;
&lt;/blockquote&gt;

&lt;p&gt;The CTO says that NCS is for &amp;ldquo;_Any network of of ambitious size that needs to get people out of the loop_”, and I tend to agree, which is what makes this so powerful. In a world of openflow this and sdn that, most of which is still under heavy development, I can&amp;rsquo;t help but think of NCS as a &amp;ldquo;rosetta stone&amp;rdquo; of network management tools. It’s a controller, but in a different way. Its not openflow, but it knows openflow, so it is looking forward, but it also supports everything that is already there, an absolute necessity for 95% of networks that are not greenfield. From the &lt;a href=&#34;http://www.tail-f.com/network-control-system/#which-types-of&#34;&gt;NCS FAQ&lt;/a&gt;:&lt;/p&gt;

&lt;blockquote&gt;
&lt;h2 id=&#34;rose-lg-http-www-forwardingplane-net-wp-content-uploads-2014-02-rose-lg-jpg-http-www-forwardingplane-net-wp-content-uploads-2014-02-rose-lg-jpg-any-device-that-can-be-remotely-configured-can-be-managed-by-ncs-this-includes-routers-switches-load-balancers-firewalls-web-servers-and-a-whole-host-of-other-devices-both-virtual-and-physical-since-it-is-not-limited-to-one-type-of-device-or-particular-vendor-ncs-allows-for-management-of-the-entire-network-from-a-single-pane-of-glass&#34;&gt;_&lt;a href=&#34;http://www.forwardingplane.net/wp-content/uploads/2014/02/rose_lg.jpg&#34;&gt;&lt;img src=&#34;http://www.forwardingplane.net/wp-content/uploads/2014/02/rose_lg.jpg&#34; alt=&#34;rose_lg&#34; /&gt;&lt;/a&gt;&amp;ldquo;Any device that can be remotely configured can be managed by NCS. This includes, routers, switches, load-balancers, firewalls, web servers and a whole host of other devices (both virtual and physical). Since it is not limited to one type of device or particular vendor, NCS allows for management of the entire network from a single pane of glass.&amp;rdquo;_&lt;/h2&gt;
&lt;/blockquote&gt;

&lt;p&gt;Lets face it, network management is not exactly easy to do in a sane and robust way, there are always quirks, one-offs and proprietary goo. That&amp;rsquo;s probably never going to change.  From the open source to the commercial, I&amp;rsquo;ve used, evaluated or extended a wide swath of them in my time in the industry, and this one really shocked me in what it was able to do in such a demonstrably elegant way, which we all know is not an easy task since we all have odd, uncommon or sometimes unreasonable requirements. A few things are really compelling about NCS.  First, it&amp;rsquo;s all &lt;a href=&#34;http://en.wikipedia.org/wiki/YANG&#34;&gt;YANG&lt;/a&gt;, meaning it is an established standard for doing exactly this and it can be referenced by any number of protocols for obtaining or setting the desired data or parameters.  This also means that it can very quickly and easily be extended to support new products, software loads, communications mechanisms and features. Tail-F changed the way I was thinking about network management.  They&amp;rsquo;ve taken the religion out of equipment vendors, because you can choose how to interact with them.  They allow for management of a myriad of platforms from an operator-chosen, familiar CLI.  Have guys that like JunOS?  Great, no problem.  Team members that prefer IOS?  No worries.  They can manage the Alcatel-Lucent, Brocade, Extreme Networks or one of the many other CLI variants from their choice of IOS or JunOS-like command sets.   No longer is it important to understand a particular CLI.  I wish I could have had access to this product 5 years ago when, at a previous job, we introduced JunOS to a team that had been working on IOS and Foundry for the majority of their careers.  It would have solved so many issues and driven the learning curve to nil. The CLI translator is really just the icing.  The configuration validation is immensely powerful and I could easily see it preventing many typos and misconfigurations (you know you&amp;rsquo;ve done it, we all have).  It can also provide compliance reporting, service management and configuration reconciliation, all of which are generally in-house written tools or manually accmplished tasks in my experience. Standardize and deploy ACLs across a range of platforms in geographically diverse areas, provision BGP policy on huge numbers of peers very quickly, reconcile MTUs on interfaces of devices that have been neglected, &lt;a href=&#34;https://wiki.openstack.org/wiki/Neutron/ML2/Tail-f-NCS-neutron-ml2-driver&#34;&gt;interface with OpenStack Neutron&lt;/a&gt;.  The use cases are pretty open ended, really. Anything that needs to be done at scale can be, and it can be error checked in the process. Don&amp;rsquo;t take my word for it, I&amp;rsquo;m clearly excited about it and can&amp;rsquo;t wait to get my hands on it.  Watch the NCS demo: Tail-f Systems NCS Demo at Networking Field Day 7   All of the videos can be found &lt;a href=&#34;http://techfieldday.com/appearance/tail-f-systems-presents-at-networking-field-day-7/&#34;&gt;here&lt;/a&gt;. Rosetta Stone images courtesy of &lt;a href=&#34;http://www.ancientegypt.co.uk/writing/rosetta.html&#34;&gt;http://www.ancientegypt.co.uk/writing/rosetta.html&lt;/a&gt; and &lt;a href=&#34;http://taboodada.wordpress.com/&#34;&gt;http://taboodada.wordpress.com/&lt;/a&gt;&lt;/p&gt;
</description>
    </item>
    
    <item>
      <title>Cold Locals</title>
      <link>https://forwardingplane.net/post/cold-locals/</link>
      <pubDate>Wed, 26 Feb 2014 02:26:52 +0000</pubDate>
      
      <guid>https://forwardingplane.net/post/cold-locals/</guid>
      <description></description>
    </item>
    
    <item>
      <title>Personal Site</title>
      <link>https://forwardingplane.net/post/personal-site/</link>
      <pubDate>Wed, 26 Feb 2014 02:23:34 +0000</pubDate>
      
      <guid>https://forwardingplane.net/post/personal-site/</guid>
      <description></description>
    </item>
    
    <item>
      <title>NFD7 Live stream available</title>
      <link>https://forwardingplane.net/post/nfd7-live-stream-available/</link>
      <pubDate>Wed, 19 Feb 2014 18:07:39 +0000</pubDate>
      
      <guid>https://forwardingplane.net/post/nfd7-live-stream-available/</guid>
      <description>&lt;p&gt;Tune in!&lt;/p&gt;
</description>
    </item>
    
    <item>
      <title>Network Field Day 7</title>
      <link>https://forwardingplane.net/post/network-field-day-7/</link>
      <pubDate>Tue, 11 Feb 2014 02:50:24 +0000</pubDate>
      
      <guid>https://forwardingplane.net/post/network-field-day-7/</guid>
      <description>&lt;p&gt;A while ago I got an email asking me to participate in &lt;a href=&#34;http://techfieldday.com/event/nfd7/&#34;&gt;Network Field Day 7&lt;/a&gt;.  I was very happy and humbled to get asked again since I wasn&amp;rsquo;t able to attend &lt;a href=&#34;http://techfieldday.com/event/nfd5/&#34;&gt;NFD5&lt;/a&gt; or &lt;a href=&#34;http://techfieldday.com/event/nfd6/&#34;&gt;NFD6&lt;/a&gt; for various reasons outside of my control (although I did try to &lt;a href=&#34;http://www.forwardingplane.net/2013/03/network-field-day-5/&#34; title=&#34;Network Field Day 5 – Participate Remotely&#34;&gt;participate with NFD5  remotely&lt;/a&gt;).   If you&amp;rsquo;re unfamiliar with the &lt;a href=&#34;http://techfieldday.com/&#34;&gt;tech field day&lt;/a&gt; series, you should spend a little time and learn about the value it brings.  There are archived video feeds of &lt;a href=&#34;http://techfieldday.com/timing/past/&#34;&gt;previous conferences&lt;/a&gt; and &lt;a href=&#34;http://techfieldday.com/event/nfd7/&#34;&gt;live feed&lt;/a&gt; and social media outlets for current field days. To be included in such an event is an amazing experience in and of itself, but to be included with a technical group like this is pretty humbling.  This NFD includes the likes of &lt;a href=&#34;http://techfieldday.com/delegate//bob-mccouch/&#34;&gt;Bob McCouch&lt;/a&gt;, &lt;a href=&#34;http://techfieldday.com/delegate/brandon-carroll/&#34;&gt;Brandon Carroll&lt;/a&gt;, &lt;a href=&#34;http://techfieldday.com/delegate/chris-marget/&#34;&gt;Chris Marget&lt;/a&gt;, &lt;a href=&#34;http://techfieldday.com/delegate//edward-henry/&#34;&gt;Edward Henry&lt;/a&gt;, &lt;a href=&#34;http://techfieldday.com/delegate//ethan-banks/&#34;&gt;Ethan Banks&lt;/a&gt;, &lt;a href=&#34;http://techfieldday.com/delegate/rich-brambley/chris-evans/greg-ferro/&#34;&gt;Greg Ferro&lt;/a&gt;, &lt;a href=&#34;http://techfieldday.com/delegate//john-herbert/&#34;&gt;John Herbert&lt;/a&gt;,&lt;a href=&#34;http://techfieldday.com/delegate/josh-obrien/&#34;&gt;Josh O&amp;rsquo;Brien&lt;/a&gt;, &lt;a href=&#34;http://techfieldday.com/delegate/luca-delloca/matt-oswalt/&#34;&gt;Matt Oswalt&lt;/a&gt;, &lt;a href=&#34;http://techfieldday.com/delegate//paul-stewart/&#34;&gt;Paul Stewart&lt;/a&gt;, and &lt;a href=&#34;http://techfieldday.com/delegate/luca-delloca/teren-bryson/&#34;&gt;Teren Bryson&lt;/a&gt;.  All very competent and forward thinking folks in the networking and IT fields.  If this isn&amp;rsquo;t enough to get you interested in the value of this event, let me tell you about the schedule.&lt;/p&gt;

&lt;ul&gt;
&lt;li&gt;&lt;a href=&#34;http://www.juniper.net/us/en/&#34;&gt;Juniper Networks&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&#34;http://www.brocade.com/&#34;&gt;Brocade&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&#34;http://www.dell.com/&#34;&gt;Dell&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&#34;http://www.extremenetworks.com/&#34;&gt;Extreme Networks&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&#34;http://www.avaya.com/&#34;&gt;Avaya&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&#34;http://liveaction.com/&#34;&gt;LiveAction&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&#34;http://www.plexxi.com/&#34;&gt;Plexxi&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&#34;https://www.pluribusnetworks.com/&#34;&gt;Pluribus Networks&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&#34;http://www.tail-f.com/&#34;&gt;Tail-F&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;

&lt;p&gt;I&amp;rsquo;m particularly excited about this lineup, it&amp;rsquo;s a great mix of production, innovation and forward thinking thinking participants and the opportunity to have the brain trust in the aforementioned list around to discuss networking with is invaluable. Tune in. Participate. #NFD7 hashtag on Twitter.&lt;/p&gt;
</description>
    </item>
    
    <item>
      <title>Install nfsen and nfdump on CentOS 6.5 for netflow and or sflow collection</title>
      <link>https://forwardingplane.net/post/install-nfsen-and-nfdump-on-centos-6-5-for-netflow-and-or-sflow-collection/</link>
      <pubDate>Sat, 11 Jan 2014 21:55:24 +0000</pubDate>
      
      <guid>https://forwardingplane.net/post/install-nfsen-and-nfdump-on-centos-6-5-for-netflow-and-or-sflow-collection/</guid>
      <description>

&lt;p&gt;I am an absolutely &lt;strong&gt;huge&lt;/strong&gt; fan of statistical and instrumentation data, especially when it comes to traffic analysis, visualization and baselining.  I&amp;rsquo;ve rambled on about the importance of it at &lt;a href=&#34;http://searchnetworking.techtarget.com/news/2240212051/The-Der-Spiegel-NSA-revelations-What-network-engineers-need-to-know&#34;&gt;every opportunity&lt;/a&gt;.  As a result of that, I have been doing work with netflow and netflow-like data for a fairly long time.  My first collector was the &lt;a href=&#34;http://www.splintered.net/sw/flow-tools/&#34;&gt;OSU Flow tools&lt;/a&gt; based stuff  back around 13 years ago.  From there I played with all kinds of netflow tools, both &lt;a href=&#34;http://www.arbornetworks.com/&#34;&gt;commercial&lt;/a&gt; and open source, finally settling most of my focus on &lt;a href=&#34;http://nfdump.sourceforge.net/&#34;&gt;nfdump&lt;/a&gt; and &lt;a href=&#34;http://nfsen.sourceforge.net/&#34;&gt;nfsen&lt;/a&gt;. A bit of history: nfdump was born out of a research network, requiring it to be able to consume huge amounts of flows efficiently.  This makes it very powerful and very useful for nearly anyone, from the small technology tinkerer to to the enterprise network engineer up through the service provider architect.  nfsen is really just a php wrapper for nfdump, however, the really nice thing about it (other then being free, opensource software) is that it is extendable via &lt;a href=&#34;http://sourceforge.net/apps/trac/nfsen-plugins/&#34;&gt;plugins&lt;/a&gt;.  This is really what makes it a serious player from all angles.     From botnet detection to displaying IP geo-data on a map, there is likely a plugin for it.  Not finding what you are looking for?  Write it!  The architecture to use it is already there and documented. For ease of install, I chose CentOS 6.5.  Once you have a system up and running, to get nfsen/nfdump working, here is what you need to do:```
yum install -y httpd php wget gcc make rrdtool-devel &lt;br /&gt;
rrdtool-perl perl-MailTools perl-Socket6 flex byacc&lt;/p&gt;

&lt;p&gt;vi /etc/selinux/config
set SELINUX=disabled
reboot&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre style=&#34;color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4&#34;&gt;&lt;code class=&#34;language-You&#39;ll need to make an iptables rule (I generally make one for ip6tables as well, in case I want to also enable ipv6 transport)```&#34; data-lang=&#34;You&#39;ll need to make an iptables rule (I generally make one for ip6tables as well, in case I want to also enable ipv6 transport)```&#34;&gt;sudo iptables -I INPUT -p udp -m state --state NEW -m udp --dport 9995 -j ACCEPT
sudo ipt6ables -I INPUT -p udp -m state --state NEW -m udp --dport 9995 -j ACCEPT&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;Also allow for access to the web server you just installed.```
sudo ip6tables -I INPUT -p tcp -m state &amp;ndash;state NEW -m tcp &amp;ndash;dport 443 -j ACCEPT
sudo ip6tables -I INPUT -p tcp -m state &amp;ndash;state NEW -m tcp &amp;ndash;dport 80 -j ACCEPT&lt;br /&gt;
sudo iptables -I INPUT -p tcp -m state &amp;ndash;state NEW -m tcp &amp;ndash;dport 443 -j ACCEPT
sudo iptables -I INPUT -p tcp -m state &amp;ndash;state NEW -m tcp &amp;ndash;dport 80 -j ACCEPT&lt;br /&gt;
service iptables save
service ip6tables save&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre style=&#34;color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4&#34;&gt;&lt;code class=&#34;language-Once you enable https you can safely remove the table rules for port 80. Start HTTPd```&#34; data-lang=&#34;Once you enable https you can safely remove the table rules for port 80. Start HTTPd```&#34;&gt;sudo service httpd start&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;Enable HTTPd at boot```
chkconfig httpd on&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre style=&#34;color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4&#34;&gt;&lt;code class=&#34;language-Now you need the actual code. I like to grab the latest from sourceforge. (nfdump-1.6.11 and nfsen-1.3.6p1 at the time of this writing)```&#34; data-lang=&#34;Now you need the actual code. I like to grab the latest from sourceforge. (nfdump-1.6.11 and nfsen-1.3.6p1 at the time of this writing)```&#34;&gt;wget http://downloads.sourceforge.net/project/nfdump/stable/nfdump-1.6.11/nfdump-1.6.11.tar.gz
wget http://downloads.sourceforge.net/project/nfsen/stable/nfsen-1.3.6p1/nfsen-1.3.6p1.tar.gz
``````
tar -zxvf nfdump-1.6.11.tar.gz 
./configure --enable-nfprofile --enable-nftrack --enable-sflow 
make &amp;amp;&amp;amp; sudo make install&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;By default 1.6.11 enables v9 and ipfix =)```
adduser netflow
vi /etc/group&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre style=&#34;color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4&#34;&gt;&lt;code class=&#34;language-Add user netflow to group apache```&#34; data-lang=&#34;Add user netflow to group apache```&#34;&gt;vi etc/nfsen.conf&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;change www user to apache Add your host to the file to allow for collection, my %sources looks like this:```
%sources = (
    &amp;lsquo;home&amp;rsquo;    =&amp;gt; { &amp;lsquo;port&amp;rsquo; =&amp;gt; &amp;lsquo;9995&amp;rsquo;, &amp;lsquo;col&amp;rsquo; =&amp;gt; &amp;lsquo;#0000ff&amp;rsquo;, &amp;lsquo;type&amp;rsquo; =&amp;gt; &amp;lsquo;netflow&amp;rsquo; },
    &amp;lsquo;internal&amp;rsquo;    =&amp;gt; { &amp;lsquo;port&amp;rsquo; =&amp;gt; &amp;lsquo;9996&amp;rsquo;, &amp;lsquo;col&amp;rsquo; =&amp;gt; &amp;lsquo;#FF0000&amp;rsquo;, &amp;lsquo;type&amp;rsquo; =&amp;gt; &amp;lsquo;netflow&amp;rsquo; },&lt;/p&gt;

&lt;h1 id=&#34;gw-port-9995-col-0000ff-type-netflow&#34;&gt;&amp;lsquo;gw&amp;rsquo;    =&amp;gt; { &amp;lsquo;port&amp;rsquo; =&amp;gt; &amp;lsquo;9995&amp;rsquo;, &amp;lsquo;col&amp;rsquo; =&amp;gt; &amp;lsquo;#0000ff&amp;rsquo;, &amp;lsquo;type&amp;rsquo; =&amp;gt; &amp;lsquo;netflow&amp;rsquo; },&lt;/h1&gt;

&lt;h1 id=&#34;peer1-port-9996-ip-172-16-17-18&#34;&gt;&amp;lsquo;peer1&amp;rsquo;        =&amp;gt; { &amp;lsquo;port&amp;rsquo; =&amp;gt; &amp;lsquo;9996&amp;rsquo;, &amp;lsquo;IP&amp;rsquo; =&amp;gt; &amp;lsquo;172.16.17.18&amp;rsquo; },&lt;/h1&gt;

&lt;h1 id=&#34;peer2-port-9996-ip-172-16-17-19&#34;&gt;&amp;lsquo;peer2&amp;rsquo;        =&amp;gt; { &amp;lsquo;port&amp;rsquo; =&amp;gt; &amp;lsquo;9996&amp;rsquo;, &amp;lsquo;IP&amp;rsquo; =&amp;gt; &amp;lsquo;172.16.17.19&amp;rsquo; },&lt;/h1&gt;

&lt;p&gt;);&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre style=&#34;color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4&#34;&gt;&lt;code class=&#34;language-As you can see, I have two valid sources with different ports and different colors. You can make all netflow, all sflow, or any combination of protocol. change directory to /home/netflow```&#34; data-lang=&#34;As you can see, I have two valid sources with different ports and different colors. You can make all netflow, all sflow, or any combination of protocol. change directory to /home/netflow```&#34;&gt;./install.pl etc/nfsen.conf
cd /home/netflow/bin/
./nfsen start&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;Make it start at boot (referenced from &lt;a href=&#34;http://sourceforge.net/mailarchive/message.php?msg_id=29434166&#34;&gt;this post&lt;/a&gt;).```
vi /etc/init.d/nfsen&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre style=&#34;color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4&#34;&gt;&lt;code class=&#34;language-Add this into the file:```&#34; data-lang=&#34;Add this into the file:```&#34;&gt;&lt;span style=&#34;color:#75715e&#34;&gt;#!/bin/bash
&lt;/span&gt;&lt;span style=&#34;color:#75715e&#34;&gt;&lt;/span&gt;#
&lt;span style=&#34;color:#75715e&#34;&gt;# chkconfig: - 50 50&lt;/span&gt;
&lt;span style=&#34;color:#75715e&#34;&gt;# description: nfsen&lt;/span&gt;

DAEMON&lt;span style=&#34;color:#f92672&#34;&gt;=&lt;/span&gt;/home/netflow/bin/nfsen

&lt;span style=&#34;color:#66d9ef&#34;&gt;case&lt;/span&gt; &lt;span style=&#34;color:#e6db74&#34;&gt;&amp;#34;&lt;/span&gt;$1&lt;span style=&#34;color:#e6db74&#34;&gt;&amp;#34;&lt;/span&gt; in
		start&lt;span style=&#34;color:#f92672&#34;&gt;)&lt;/span&gt;
		$DAEMON start
		;;
		stop&lt;span style=&#34;color:#f92672&#34;&gt;)&lt;/span&gt;
		$DAEMON stop
		;;
		status&lt;span style=&#34;color:#f92672&#34;&gt;)&lt;/span&gt;
		$DAEMON status
		;;
		restart&lt;span style=&#34;color:#f92672&#34;&gt;)&lt;/span&gt;
		$DAEMON stop
		sleep &lt;span style=&#34;color:#ae81ff&#34;&gt;1&lt;/span&gt;
		$DAEMON start
		;;
		&lt;span style=&#34;color:#ae81ff&#34;&gt;\*&lt;/span&gt;&lt;span style=&#34;color:#f92672&#34;&gt;)&lt;/span&gt;
		echo &lt;span style=&#34;color:#e6db74&#34;&gt;&amp;#34;Usage: &lt;/span&gt;$0&lt;span style=&#34;color:#e6db74&#34;&gt; {start|stop|status|restart}&amp;#34;&lt;/span&gt;
		exit &lt;span style=&#34;color:#ae81ff&#34;&gt;1&lt;/span&gt;
		;;
&lt;span style=&#34;color:#66d9ef&#34;&gt;esac&lt;/span&gt;

exit &lt;span style=&#34;color:#ae81ff&#34;&gt;0&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;Then chkconfig it on to start it at boot:```
chmod 755 nfsen &amp;amp;&amp;amp; chkconfig &amp;ndash;add nfsen &amp;amp;&amp;amp; chkconfig nfsen on&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre style=&#34;color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4&#34;&gt;&lt;code class=&#34;language-That&#39;s pretty much it. Once you configure your netflow or sflow source, you should start seeing data in ~5-10 minutes. Point your browser at your web server and see: Mine is set as https://netmon/nfsen/nfsen.php (you&#39;ll need to include the &#34;nfsen.php&#34; uness you edit your apache config to recognize &#34;nfsen.php&#34; as in index.&#34; data-lang=&#34;That&#39;s pretty much it. Once you configure your netflow or sflow source, you should start seeing data in ~5-10 minutes. Point your browser at your web server and see: Mine is set as https://netmon/nfsen/nfsen.php (you&#39;ll need to include the &#34;nfsen.php&#34; uness you edit your apache config to recognize &#34;nfsen.php&#34; as in index.&#34;&gt;[![&lt;span style=&#34;color:#a6e22e&#34;&gt;Screen&lt;/span&gt; &lt;span style=&#34;color:#a6e22e&#34;&gt;Shot&lt;/span&gt; &lt;span style=&#34;color:#ae81ff&#34;&gt;2014&lt;/span&gt;&lt;span style=&#34;color:#f92672&#34;&gt;-&lt;/span&gt;&lt;span style=&#34;color:#ae81ff&#34;&gt;01&lt;/span&gt;&lt;span style=&#34;color:#f92672&#34;&gt;-&lt;/span&gt;&lt;span style=&#34;color:#ae81ff&#34;&gt;11&lt;/span&gt; &lt;span style=&#34;color:#a6e22e&#34;&gt;at&lt;/span&gt; &lt;span style=&#34;color:#ae81ff&#34;&gt;3.13.53&lt;/span&gt; &lt;span style=&#34;color:#a6e22e&#34;&gt;PM&lt;/span&gt;](&lt;span style=&#34;color:#a6e22e&#34;&gt;http&lt;/span&gt;:&lt;span style=&#34;color:#75715e&#34;&gt;//www.forwardingplane.net/wp-content/uploads/2014/01/Screen-Shot-2014-01-11-at-3.13.53-PM-913x1024.png)](http://www.forwardingplane.net/wp-content/uploads/2014/01/Screen-Shot-2014-01-11-at-3.13.53-PM.png)
&lt;/span&gt;&lt;span style=&#34;color:#75715e&#34;&gt;&lt;/span&gt;
&lt;span style=&#34;color:#a6e22e&#34;&gt;Common&lt;/span&gt; &lt;span style=&#34;color:#a6e22e&#34;&gt;issues&lt;/span&gt;: &lt;span style=&#34;color:#a6e22e&#34;&gt;I&lt;/span&gt; &lt;span style=&#34;color:#a6e22e&#34;&gt;see&lt;/span&gt; &lt;span style=&#34;color:#a6e22e&#34;&gt;this&lt;/span&gt; &lt;span style=&#34;color:#a6e22e&#34;&gt;one&lt;/span&gt; &lt;span style=&#34;color:#a6e22e&#34;&gt;every&lt;/span&gt; &lt;span style=&#34;color:#a6e22e&#34;&gt;time&lt;/span&gt;: &lt;span style=&#34;color:#e6db74&#34;&gt;&amp;#34;ERROR: nfsend connect() error: Permission denied!&amp;#34;&lt;/span&gt; &lt;span style=&#34;color:#a6e22e&#34;&gt;It&lt;/span&gt;&lt;span style=&#34;color:#960050;background-color:#1e0010&#34;&gt;&amp;#39;&lt;/span&gt;&lt;span style=&#34;color:#a6e22e&#34;&gt;s&lt;/span&gt; &lt;span style=&#34;color:#a6e22e&#34;&gt;always&lt;/span&gt; &lt;span style=&#34;color:#a6e22e&#34;&gt;a&lt;/span&gt; &lt;span style=&#34;color:#a6e22e&#34;&gt;permissions&lt;/span&gt; &lt;span style=&#34;color:#a6e22e&#34;&gt;issue&lt;/span&gt;, &lt;span style=&#34;color:#a6e22e&#34;&gt;as&lt;/span&gt; &lt;span style=&#34;color:#a6e22e&#34;&gt;documented&lt;/span&gt; [&lt;span style=&#34;color:#a6e22e&#34;&gt;here&lt;/span&gt;](&lt;span style=&#34;color:#a6e22e&#34;&gt;https&lt;/span&gt;:&lt;span style=&#34;color:#75715e&#34;&gt;//code.google.com/p/nfsenplugins/wiki/NFSEN_Installation_Gotchas).  You need to make sure that the nfsen package can read the nfsen.comm socket file. I fixed mine by doing```
&lt;/span&gt;&lt;span style=&#34;color:#75715e&#34;&gt;&lt;/span&gt;&lt;span style=&#34;color:#a6e22e&#34;&gt;chmod&lt;/span&gt; &lt;span style=&#34;color:#a6e22e&#34;&gt;g&lt;/span&gt;&lt;span style=&#34;color:#f92672&#34;&gt;+&lt;/span&gt;&lt;span style=&#34;color:#a6e22e&#34;&gt;rwx&lt;/span&gt; &lt;span style=&#34;color:#960050;background-color:#1e0010&#34;&gt;~&lt;/span&gt;&lt;span style=&#34;color:#a6e22e&#34;&gt;netflow&lt;/span&gt;&lt;span style=&#34;color:#f92672&#34;&gt;/&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;My nfsen.conf file is using /home/netflow as the $BASEDIR.```
 &lt;a href=&#34;http://www.forwardingplane.net/wp-content/uploads/2014/01/Screenshot-2014-01-11-13.04.17.png&#34;&gt;&lt;img src=&#34;http://www.forwardingplane.net/wp-content/uploads/2014/01/Screenshot-2014-01-11-13.04.17.png&#34; alt=&#34;Screenshot 2014-01-11 13.04.17&#34; /&gt;&lt;/a&gt;&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre style=&#34;color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4&#34;&gt;&lt;code class=&#34;language-You&#39;ll likely see &#34;Frontend - Backend version mismatch!&#34;, this is a known issue. There is a patch to fix it [here](http://sourceforge.net/p/nfsen/bugs/43/), I never bothered since it did not cause any issues for me. Disk full. Depending on your setup, you may generate a firehose worth of data. I have filled disks in less than a day in the past on a good sized regional WAN. I generally keep a month of data, but you can store as much data as disk you want to buy. I have a script run from cron to prune data, if you want to do the same:```&#34; data-lang=&#34;You&#39;ll likely see &#34;Frontend - Backend version mismatch!&#34;, this is a known issue. There is a patch to fix it [here](http://sourceforge.net/p/nfsen/bugs/43/), I never bothered since it did not cause any issues for me. Disk full. Depending on your setup, you may generate a firehose worth of data. I have filled disks in less than a day in the past on a good sized regional WAN. I generally keep a month of data, but you can store as much data as disk you want to buy. I have a script run from cron to prune data, if you want to do the same:```&#34;&gt;vi /usr/local/etc/rmflowdata.sh&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;Paste this in:```
#!/bin/bash&lt;/p&gt;

&lt;h1 id=&#34;prune-flow-data&#34;&gt;prune flow data&lt;/h1&gt;

&lt;h1 id=&#34;usage&#34;&gt;Usage:&lt;/h1&gt;

&lt;h1 id=&#34;30-is-the-number-of-days-adjust-accordingly&#34;&gt;+30 is the number of days, adjust accordingly.&lt;/h1&gt;

&lt;p&gt;/bin/find /home/netflow/profiles-data/live -name &amp;ldquo;nfcapd.*&amp;rdquo; -type f -mtime +30 -delete&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre style=&#34;color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4&#34;&gt;&lt;code class=&#34;language-Add this to your crontab:```&#34; data-lang=&#34;Add this to your crontab:```&#34;&gt;@daily /usr/local/bin/rmflowdata.sh&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;Make it executable&lt;code&gt;
chmod 755 /usr/local/bin/rmflowdata.sh
&lt;/code&gt;There are probably more elegant ways to do it but this works just fine, is lightweight and can be run manually if needed. There are a lot of great use cases for this.  If you&amp;rsquo;re looking for an SDN tie-in, guess what, there is one.  &lt;a href=&#34;http://blog.sflow.com/2010/05/configuring-open-vswitch.html&#34;&gt;OpenVSwitch supports sflow export&lt;/a&gt; and low-and-behold, nfsen and nfdump can easily consume and display sflow data. Want flow statistics on your all VM, OVS based SDN lab?  Guess what, you can! There are some other great things you can do with flow data, too, specifically sflow.  It&amp;rsquo;s not just for network statistics, there is a host &lt;a href=&#34;http://host-sflow.sourceforge.net/&#34;&gt;based sflow implementation&lt;/a&gt; that track any number of interesting metrics.  &lt;a href=&#34;http://blog.sflow.com/&#34;&gt;blog.sflow.com&lt;/a&gt; is a great resource for all things sflow (also, it does IPv6 by default, as it should). Ok, now you have &lt;strong&gt;absolutely&lt;/strong&gt; no good reason not to be collecting flow data.   It&amp;rsquo;s easy, it&amp;rsquo;s useful and almost everything (hosts, routers, virtual switches) supports exporting &lt;strong&gt;&lt;em&gt;some&lt;/em&gt;&lt;/strong&gt; kind of flow information.  You can even generate it from an inline linux box or a box off of an optical tap or a span port running &lt;a href=&#34;https://code.google.com/p/softflowd/&#34;&gt;softflowd&lt;/a&gt; or &lt;a href=&#34;http://www.ntop.org/products/nprobe/&#34;&gt;nprobe&lt;/a&gt;.   Both of which I can confirm work wonderfully (the above collector is gathering flows from softflowd running on my &lt;a href=&#34;http://www.forwardingplane.net/2013/07/building-a-secured-network-in-a-box/&#34; title=&#34;Building a secured network in a box&#34;&gt;security onion box&lt;/a&gt; as well as exported flows from pfflowd on a &lt;a href=&#34;http://www.pfsense.org/&#34;&gt;pfsense&lt;/a&gt; router).&lt;/p&gt;
</description>
    </item>
    
    <item>
      <title>Speculation and soapboxing about the leaked NSA spy catalog.</title>
      <link>https://forwardingplane.net/post/speculation-and-soapboxing-about-the-leaked-nsa-spy-catalog/</link>
      <pubDate>Sat, 04 Jan 2014 17:15:40 +0000</pubDate>
      
      <guid>https://forwardingplane.net/post/speculation-and-soapboxing-about-the-leaked-nsa-spy-catalog/</guid>
      <description>&lt;p&gt;The buzz as of late around the security and networking communities has been about the &lt;a href=&#34;http://www.spiegel.de/international/world/nsa-secret-toolbox-ant-unit-offers-spy-gadgets-for-every-need-a-941006.html&#34;&gt;NSA and their catalog or spy toolkit&lt;/a&gt;.  I&amp;rsquo;ve spent time in my career thinking about and doing infosec and I did a brief stint working for the FBI in a project called &lt;a href=&#34;http://gcn.com/articles/2007/08/20/fbi-launches-cybersecurity-project.aspx&#34;&gt;NCDIR&lt;/a&gt;.  I like to think that I can provide at least a peripherally competent commentary about it [take it with a grain of salt].  Instead of thinking about the morality of it or the violation of privacy that everyone else seems to be focused on, I want to think about the mechanics. If one takes the emotion and outrage out of the equation, there are some &lt;a href=&#34;http://permalink.gmane.org/gmane.comp.encryption.general/17244&#34;&gt;really interesting tools here&lt;/a&gt;.  My initial thoughts, though, are &amp;ldquo;how is the backdoor installed?&amp;rdquo; and &amp;ldquo;how is the data harvested?&amp;rdquo; There are cases where I&amp;rsquo;m sure the backdoors are installed via local access and the data is harvested in uninteresting ways like optical taps, wireless bridges, etc., however, what how about in cases where this isn&amp;rsquo;t possible?  What about when the equipment is in a bunker with no viable wireless in or out, it&amp;rsquo;s have to be done either in-band or via a tap, which would require physical access.   It&amp;rsquo;d be interesting to see a &lt;a href=&#34;http://www.bro.org/&#34;&gt;BroIDS&lt;/a&gt; or &lt;a href=&#34;http://www.snort.org/&#34;&gt;Snort&lt;/a&gt; policy for the &amp;ldquo;DNT Implant Communications Protocol&amp;rdquo; once that is deconstructed. As far as installation of the backdoor, how about the case about when interception of hardware in transit isn&amp;rsquo;t an option and physical access is also not viable?  The implications of remotly exploitable network equipment for things such as this are very-wide scoped and &lt;strong&gt;&lt;em&gt;extremely&lt;/em&gt;&lt;/strong&gt; unpleasant.  One can assume that if our government can exploit something like this, so can another nation-state.  Not good.  Not good at all.  How much of our gear is manufactured abroad?  They have physical access because they &lt;strong&gt;&lt;em&gt;build&lt;/em&gt;&lt;/strong&gt; it, one could assert that it is plausible that &amp;ldquo;they&amp;rdquo; could insert whatever they wanted in the hardware.  Again, I&amp;rsquo;m not a hardware engineer, but I can speculate. &lt;a href=&#34;http://www.forwardingplane.net/wp-content/uploads/2014/01/40g-tap-500x500.jpg&#34;&gt;&lt;img src=&#34;http://www.forwardingplane.net/wp-content/uploads/2014/01/40g-tap-500x500-300x126.jpg&#34; alt=&#34;40g-tap-500x500&#34; /&gt;&lt;/a&gt; I&amp;rsquo;d be really interested in seeing if data is being harvested inline, without a tap and how that is being done.  It&amp;rsquo;s implied in some of the descriptions of the *THROUGH listings that there is inline control available.  What I&amp;rsquo;d really be interested in seeing is someone that can capture that traffic flow data in an upstream device.  Flow data doesn&amp;rsquo;t lie, and it is highly likely that there is a router in the path somewhere exporting flow data that isn&amp;rsquo;t obfuscating traffic by being compromised.  Where is the traffic going?  How is it transported (encrypted, for sure, but how?) How does this change how we, as network engineers, feel about RMA&amp;rsquo;d hardware?  If the manufacturers don&amp;rsquo;t know about modded boot ROMS, it&amp;rsquo;s likely that RMA&amp;rsquo;d hardware is being shipped all over with backdoors that were intended for someone else in it.  Oh, and another thing, this is an &lt;em&gt;old&lt;/em&gt; document.  2008 is a lifetime ago in terms of networking and computing technology.  I saw no mention of the &lt;a href=&#34;http://www.juniper.net/us/en/products-services/security/srx-series/&#34;&gt;Juniper SRX&lt;/a&gt;, &lt;a href=&#34;http://www.juniper.net/us/en/products-services/routing/mx-series/&#34;&gt;Juniper MX&lt;/a&gt;, &lt;a href=&#34;http://www.cisco.com/en/US/products/ps9343/prod_models_comparison.html&#34;&gt;Cisco ASR&lt;/a&gt;, &lt;a href=&#34;http://www.brocade.com/products/all/routers/index.page&#34;&gt;Brocade MLX/CES&lt;/a&gt; or &lt;a href=&#34;http://www.alcatel-lucent.com/&#34;&gt;Alcatel-Lucent&lt;/a&gt; devices.  I&amp;rsquo;d bet real money all of that exists now. Additionally, what about &lt;a href=&#34;http://en.wikipedia.org/wiki/FIPS_140&#34;&gt;FIPS 140&lt;/a&gt;?  I want to believe this can come into play, but admittedly I don&amp;rsquo;t know a lot about FIPS, just what I&amp;rsquo;ve read on the &lt;a href=&#34;http://csrc.nist.gov/groups/STM/cmvp/standards.html#02&#34;&gt;NIST site&lt;/a&gt;.  How does FIPS assist in preventing the software hacks? Or does it? As far as most of the the network equipment backdoors, they imply that boot time code modifies the OS, can cryptographic checks aide in rooting some of these out?  I have not done much in this aspect of security, but I have to believe there is a way to detect this kind of boot time modification of the OS. This opens up an entirely new aspect of SDN, too. When your control plane is decoupled and likely running on a linux box of some sort, the targeting of &amp;ldquo;the network&amp;rdquo; becomes far more simple of a compromise.  Ever done linux forensics?  Most of the hacks are fairly low-brow.  Root one box and you have access to the control plane of a data center, internet backbone or campus network.  What about all of the white box network devices that are just linux like &lt;a href=&#34;http://www.aristanetworks.com/&#34;&gt;Arista&lt;/a&gt; and &lt;a href=&#34;http://cumulusnetworks.com/&#34;&gt;Cumulus Networks&lt;/a&gt;? Now we&amp;rsquo;re managing linux boxes like we are with Juniper and FreeBSD, except they are less customized and more vanilla (read: potentially more likely to be exploitable).  This is a problem.  Think because you have a firewall and a NAT device you&amp;rsquo;re safe?  You&amp;rsquo;re wrong [clearly].  Hardening controllers will be increasingly important, perhaps even running them on trusted unix platforms.  It&amp;rsquo;s a problem that is now much easier than intercepting hardware in transit and installing backdoors into it, but an in-depth SDN security talk is an &lt;em&gt;entirely&lt;/em&gt; different can of worms. This just solidifies my thought that if something is &lt;strong&gt;&lt;em&gt;so&lt;/em&gt;&lt;/strong&gt; critically important that it must remain secret and secure, don&amp;rsquo;t put it on a computer.  Especially one with a network connection.&lt;/p&gt;
</description>
    </item>
    
    <item>
      <title>Sonicwall revisited - Now with IPv6 - and way too much licensing cruft.</title>
      <link>https://forwardingplane.net/post/sonicwall-revisited-now-with-ipv6-and-way-too-much-licensing-cruft/</link>
      <pubDate>Sat, 07 Dec 2013 15:45:06 +0000</pubDate>
      
      <guid>https://forwardingplane.net/post/sonicwall-revisited-now-with-ipv6-and-way-too-much-licensing-cruft/</guid>
      <description>&lt;p&gt;About a year ago &lt;a href=&#34;http://www.forwardingplane.net/2012/12/sonicwall-old-dog-learns-some-new-tricks/&#34; title=&#34;Sonicwall – Old dog learns [some] new tricks&#34;&gt;I did a brief review of the &amp;ldquo;new Sonicwall&amp;rdquo;&lt;/a&gt;, specifically a smaller branch office device that was said should have had all of the features of the larger devices.  I proposed that it had some significant limitations (much to the disagreement of a great deal of folks).  However, I stand by my statements.  If you ignore the fact that firewalls often cause more problems than they solve, that NAT is a nightmarish kludge (and not a security mechanism), and &lt;a href=&#34;http://www.forwardingplane.net/2013/03/why-hardware-firewalls-are-the-walking-dead/&#34; title=&#34;Why hardware firewalls are the walking dead&#34;&gt;will likely be phased out for better options eventually&lt;/a&gt;, the SonicOS I tested was pretty limited as far as what I believe should be features. Let&amp;rsquo;s be clear, I&amp;rsquo;m mostly talking about IPv6.  I&amp;rsquo;ve ranted and raved that anyone not doing IPv6 is already years behind.  Get on the ball, you&amp;rsquo;re already late to the game.  Yesterday, a colleague said something that resonated with me regarding this and it got me thinking about how much IPv6 support SonicOS had added.  Many folks that aren&amp;rsquo;t doing IPv6 think that instead of doing something that may be a little hard that they&amp;rsquo;re just not going to do anything.   They&amp;rsquo;re dead wrong.  They&amp;rsquo;re forcing themselves to do something else like CGN or multi-layer NAT, or something else equally (or more) unpleasant.  And then they&amp;rsquo;ll do IPv6 anyway after that. It &lt;strong&gt;is&lt;/strong&gt; inevitable. But I digress…. I pulled my old TZ-210 out and upgraded it to SonicOS Enhanced 5.9.0.2-107o.  What a pleasant surprise!  A &lt;strong&gt;huge&lt;/strong&gt; amount of IPv6 support added!  &lt;a href=&#34;http://www.forwardingplane.net/wp-content/uploads/2013/12/sonicwall-v6-v4.png&#34;&gt;&lt;img src=&#34;http://www.forwardingplane.net/wp-content/uploads/2013/12/sonicwall-v6-v4.png&#34; alt=&#34;sonicwall-v6-v4&#34; /&gt;&lt;/a&gt; They&amp;rsquo;ve really done their homework here.  I was very surprised to see things like DHCPv6-PD with interface tracking.  Well done, Dell.  This will allow for small and home offices to take advantage of the Comcast and AT&amp;amp;T DHCPv6-PD that they&amp;rsquo;ve been offering for a while now, and lets be honest, once it&amp;rsquo;s on, most folks will never even realize they&amp;rsquo;re using IPv6. &lt;a href=&#34;http://www.forwardingplane.net/wp-content/uploads/2013/12/sonicwall-dhcpv6.png&#34;&gt;&lt;img src=&#34;http://www.forwardingplane.net/wp-content/uploads/2013/12/sonicwall-dhcpv6-257x300.png&#34; alt=&#34;sonicwall-dhcpv6&#34; /&gt;&lt;/a&gt; &amp;lt;== This is a giant step forward for reasons that are far beyond simple protocol support.   &lt;img src=&#34;http://www.forwardingplane.net/wp-content/uploads/2013/12/sonicwall-v6-fw-rules.png&#34; alt=&#34;sonicwall-v6-fw-rules&#34; /&gt;   I&amp;rsquo;m very happy to see this level of support from Dell/Sonicwall.  I expected to put this box in, turn it on, use it for a few days and turn it off.  I set it up in transparent mode, tuned the rules a bit….and I have no real plans of taking it out.  I&amp;rsquo;m actually pretty happy with it for the application I&amp;rsquo;m using it for.  It doesn&amp;rsquo;t seem to really impede anything I want to do (after TCP ssh timeout rules to a reasonable time; BTW, timeouts are one of the reasons I don&amp;rsquo;t like firewalls).     This brings me to my problem with Sonicwall (and many network and network security vendors).  My licenses have all expired. I can understand having to license services that cost money because they&amp;rsquo;re licensed upstream services.  I get that, I really do.  However,  Some of the things that Dell requires licenses for seem a bit extreme to me.  The fact that I get essentially zero visualization options once the licenses expire is downright shameful.  No worries, I&amp;rsquo;ll just export Netflow/IPFIX data.  Nope, also a licensed feature.  You heard that right.  No flow export, no real time monitor.  Heck, I can&amp;rsquo;t even look at interface graphs on-box. I have to poll with a 3rd party tool suite.  Realistically, one gets significantly better instrumentation from a default &lt;a href=&#34;http://www.pfsense.org&#34;&gt;pfSense&lt;/a&gt; load.  And pfSense has had IPv6 support for years. If you take away all of the downright shameful licensing requirements to do anything useful with trending and instrumentation, this is a good platform. Their IPv6 support is solid now.   However, for anyone running  networks  that require instrumentation and visualization, you had better budget for [unnecessary] fees or have 3rd party mechanisms for collecting the data.&lt;/p&gt;
</description>
    </item>
    
    <item>
      <title>Calendar</title>
      <link>https://forwardingplane.net/post/calendar/</link>
      <pubDate>Thu, 05 Dec 2013 16:16:36 +0000</pubDate>
      
      <guid>https://forwardingplane.net/post/calendar/</guid>
      <description>&lt;p&gt;Free/Busy Calendar: The best way to schedule time with me is via my &lt;a href=&#34;https://doodle.com/buraglio&#34;&gt;Doodle MeetMe Page&lt;/a&gt;.&lt;/p&gt;
</description>
    </item>
    
    <item>
      <title>OpenvSwitch 2.0 Debian packages</title>
      <link>https://forwardingplane.net/post/openvswitch-2-0-debian-packages/</link>
      <pubDate>Fri, 29 Nov 2013 20:15:17 +0000</pubDate>
      
      <guid>https://forwardingplane.net/post/openvswitch-2-0-debian-packages/</guid>
      <description>&lt;p&gt;As part of a larger fun project I&amp;rsquo;m working on (OVS for the ALIX platform; more to come on that once I have it 100% working), I have been playing a lot with &lt;a href=&#34;http://openvswitch.org/&#34;&gt;OVS&lt;/a&gt;.  It&amp;rsquo;s a great platform, and &lt;a href=&#34;http://networkstatic.net/install-open-vswitch-v2-redhat-fedora-19/&#34;&gt;as others have mentioned&lt;/a&gt;, it&amp;rsquo;s as close to an SDN reference data plane implementation as we have.  I&amp;rsquo;d be surprised if many if not all commercial implementations of OpenFlow aren&amp;rsquo;t based on OVS.  Anyway, I wanted to build debian packages since I&amp;rsquo;d never done it before and thought it&amp;rsquo;d be fun.  I wanted to use OVS2 so that I can play with some of the newer features and specifically to see how well the IPv6 support is in 2.0 when paired with &lt;a href=&#34;http://www.opendaylight.org/&#34;&gt;OpenDaylight&lt;/a&gt;(more to come on this, too. I promise =). This proved to be more simple than I anticipated mostly due to lots of good documentation.  To accomplish it, I decided to start with a VM since I lie to work in virtualized environments for experimentation and lambing. I spun up a Debian 7 VM from scratch and began configuring it as I usually do with the inclusion of the tools necessary to build packages. _** I originally tried this from the git repo via _git clone git://openvswitch.org/openvswitch&lt;em&gt; but kept seeing weird errors so I moved to the 2.0.0 tarball.  &lt;/em&gt;```
apt-get -y install screen sudo vim etckeeper mlocate autoconf2.13 &lt;br /&gt;
libssl-dev graphviz python-all python-qt4 python-zopeinterface &lt;br /&gt;
python-twisted-conch tcpdump build-essential fakeroot debhelper &lt;br /&gt;
gdebi-core pkg-config&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre style=&#34;color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4&#34;&gt;&lt;code class=&#34;language-Grab the OVS tarball```&#34; data-lang=&#34;Grab the OVS tarball```&#34;&gt;&lt;span style=&#34;color:#a6e22e&#34;&gt;wget&lt;/span&gt; [&lt;span style=&#34;color:#a6e22e&#34;&gt;http&lt;/span&gt;:&lt;span style=&#34;color:#75715e&#34;&gt;//openvswitch.org/releases/openvswitch-2.0.0.tar.gz](http://openvswitch.org/releases/openvswitch-2.0.0.tar.gz)
&lt;/span&gt;&lt;span style=&#34;color:#75715e&#34;&gt;&lt;/span&gt;&lt;span style=&#34;color:#e6db74&#34;&gt;``````&lt;/span&gt;
&lt;span style=&#34;color:#a6e22e&#34;&gt;mv&lt;/span&gt; &lt;span style=&#34;color:#a6e22e&#34;&gt;openvswitch&lt;/span&gt;&lt;span style=&#34;color:#f92672&#34;&gt;-&lt;/span&gt;&lt;span style=&#34;color:#ae81ff&#34;&gt;2.0.0&lt;/span&gt;.&lt;span style=&#34;color:#a6e22e&#34;&gt;tar&lt;/span&gt;.&lt;span style=&#34;color:#a6e22e&#34;&gt;gz&lt;/span&gt; &lt;span style=&#34;color:#a6e22e&#34;&gt;openvswitch&lt;/span&gt;&lt;span style=&#34;color:#f92672&#34;&gt;-&lt;/span&gt;&lt;span style=&#34;color:#ae81ff&#34;&gt;2.0.0&lt;/span&gt;.&lt;span style=&#34;color:#a6e22e&#34;&gt;orig&lt;/span&gt;.&lt;span style=&#34;color:#a6e22e&#34;&gt;tar&lt;/span&gt;.&lt;span style=&#34;color:#a6e22e&#34;&gt;gz&lt;/span&gt;
&lt;span style=&#34;color:#e6db74&#34;&gt;``````&lt;/span&gt;
&lt;span style=&#34;color:#a6e22e&#34;&gt;cd&lt;/span&gt; &lt;span style=&#34;color:#a6e22e&#34;&gt;openvswitch&lt;/span&gt;&lt;span style=&#34;color:#f92672&#34;&gt;-&lt;/span&gt;&lt;span style=&#34;color:#ae81ff&#34;&gt;2.0.0&lt;/span&gt;
&lt;span style=&#34;color:#e6db74&#34;&gt;``````&lt;/span&gt;
&lt;span style=&#34;color:#a6e22e&#34;&gt;dpkg&lt;/span&gt;&lt;span style=&#34;color:#f92672&#34;&gt;-&lt;/span&gt;&lt;span style=&#34;color:#a6e22e&#34;&gt;buildpackage&lt;/span&gt; &lt;span style=&#34;color:#f92672&#34;&gt;-&lt;/span&gt;&lt;span style=&#34;color:#a6e22e&#34;&gt;b&lt;/span&gt;
&lt;span style=&#34;color:#e6db74&#34;&gt;``````&lt;/span&gt;
&lt;span style=&#34;color:#a6e22e&#34;&gt;cd&lt;/span&gt; ..&lt;span style=&#34;color:#f92672&#34;&gt;/&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;Install all of the packages ( # Answer Y to all prompts )```
gdebi openvswitch-datapath-source_2.0.0-1_all.deb&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre style=&#34;color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4&#34;&gt;&lt;code class=&#34;language-module-assistant auto-install openvswitch-datapath gdebi openvswitch-common\_2.0.0-1\_amd64.deb gdebi openvswitch-switch\_2.0.0-1\_amd64.deb&#34; data-lang=&#34;module-assistant auto-install openvswitch-datapath gdebi openvswitch-common\_2.0.0-1\_amd64.deb gdebi openvswitch-switch\_2.0.0-1\_amd64.deb&#34;&gt;You should now be able to check the version:  ```
buraglio@deb7ovs-vm:/home/buraglio# ovs-vsctl -V
ovs-vsctl (Open vSwitch) 2.0.0
Compiled Nov 29 2013 13:18:32&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;Check the OpenFlow versions supported:```
buraglio@deb7ovs-vm:/home/buraglio# ovs-ofctl -V
ovs-ofctl (Open vSwitch) 2.0.0
Compiled Nov 29 2013 13:18:32
OpenFlow versions 0x1:0x4&lt;/p&gt;

&lt;p&gt;```More to come on this.  For anyone that doesn&amp;rsquo;t want to build the .debs themselves, they&amp;rsquo;re available to download from &lt;a href=&#34;http://www.forwardingplane.net/wp-content/uploads/OVS2.0/&#34;&gt;here&lt;/a&gt;, no warranty implied or expressed =)&lt;/p&gt;
</description>
    </item>
    
    <item>
      <title>How to be a [good] Network Engineer (and network engineer appreciation day)</title>
      <link>https://forwardingplane.net/post/how-to-be-a-good-network-engineer-and-network-appreciation-engineer-day/</link>
      <pubDate>Sun, 10 Nov 2013 04:02:52 +0000</pubDate>
      
      <guid>https://forwardingplane.net/post/how-to-be-a-good-network-engineer-and-network-appreciation-engineer-day/</guid>
      <description>&lt;p&gt;My personal background in computing (specifically networking) is atypical.  I have a bachelors in visual arts and only took a handful of computing classes in my relatively long tenure in college.  However, I did learn one valuable lesson that has served me pretty well over the 15 or so years I have been doing networking and I&amp;rsquo;d bet money any good network engineer that has more than 10 years of experience will nod their head at this and agree. A &lt;em&gt;&lt;strong&gt;really&lt;/strong&gt;&lt;/em&gt; good Network Engineer knows enough about any discipline to successfully function in that role. A network engineer is the &amp;ldquo;grout&amp;rdquo; of nearly every place I have ever worked.  They fill in all the gaps left behind by departures, lack of funding or just general need.  It takes a certain kind of personality to be a good one and when you find a good one, you should keep them, they&amp;rsquo;re hard to come by. As an example, in the course of my career, it has been necessary for me to: 1. Be a UNIX and Linux sysadmin.  This includes such things as:&lt;/p&gt;

&lt;p&gt;a. being a mail server admin&lt;/p&gt;

&lt;p&gt;b. maintaining web servers&lt;/p&gt;

&lt;p&gt;c. running monitoring systems&lt;/p&gt;

&lt;p&gt;d. administrating virtual machine hosts (and guests)&lt;/p&gt;

&lt;p&gt;e. creating, managing, troubleshooting and upgrading DNS and DHCP servers&lt;/p&gt;

&lt;p&gt;2. Function as a network security policy writer&lt;/p&gt;

&lt;p&gt;3. Act in a desktop support role 4. Modify, debug and create code. 5. Work as a windows server admin 6. Perform as a network security engineer (evaluate, install, debug and maintain firewall, IDS, IPS and VPN devices and platforms) 7. Install, test and debug physical infrastructure such as inside and outside plant fiber and copper. 8. Act as a facility coordinator for power, heat and cooling 9. Test, evaluate and maintain phone systems, PBX, CentrEx and VoIP 10. Aid in the creation of grant proposals 11. Present as a subject matter expert to internal and public audiences 12. Operate as a trusted source of knowledge on nearly everything IT related (and if we don&amp;rsquo;t know, we find out). 13. Oh yeah, keep the network running by having intimate knowledge of networking equipment like routers, switches, customer provisioning gear, DWDM equipment and the interfaces and protocols that make them work. That is just scratching the surface&amp;hellip;..and I absolutely &lt;strong&gt;love&lt;/strong&gt; what I do.  The &lt;a href=&#34;http://www.packetpushers.net&#34;&gt;packet pushers&lt;/a&gt; said it well.  &amp;ldquo;Too much networking would never be enough&amp;rdquo;. For all of the up and coming network engineers [and the seasoned veterans, too], I offer this bit of unsolicited advice: Don&amp;rsquo;t be a Luddite. Love what you do.  In IT the only constant is change.  Embrace it.  Learn new technology.  Think outside of the box and step outside of your comfort zone.  Never be comfortable with &amp;ldquo;good enough&amp;rdquo;.  Strive to know more about whatever it is you are working on.  Be positive.  Help others learn.  Don&amp;rsquo;t worry about credit and recognition and just do great work, if you do the rest will work itself out. This post is my ode to the network engineer.  On Network Engineer appreciation day (which should be a thing.  if it doesn&amp;rsquo;t exist, I decree it is every November 12th), think of these things and remember that even if no one remembers network engineer appreciation day, we&amp;rsquo;ll still keep the packets moving and fill in the rest of the gaps too. Cheers.&lt;/p&gt;
</description>
    </item>
    
    <item>
      <title>Being single vendor does your brain a disservice.</title>
      <link>https://forwardingplane.net/post/being-single-vendor-does-your-brain-a-disservice/</link>
      <pubDate>Sat, 21 Sep 2013 15:30:33 +0000</pubDate>
      
      <guid>https://forwardingplane.net/post/being-single-vendor-does-your-brain-a-disservice/</guid>
      <description>&lt;p&gt;Let me be clear, when I say &amp;ldquo;single vendor&amp;rdquo; I&amp;rsquo;m talking about being &amp;ldquo;single vendor&amp;rdquo; in what you work on, not necessarily what you install (although one basically forces the other) and what I &lt;em&gt;really&lt;/em&gt; mean is multilingual.  I&amp;rsquo;ll explain after a brief history of why I am the way I am. I&amp;rsquo;m idealistic but I&amp;rsquo;m also realistic.  I generally propose solutions that I think are best even if it is non-standard or out of current comfort level along with an alternative or two.  I&amp;rsquo;ve never had the opportunity to work in a single vendor shop.  As an art student in the 1990s I had been gaming over a 10Base-2 network that my roommate and I had built and realized that building that network was more fun than playing &lt;a href=&#34;http://en.wikipedia.org/wiki/Doom_%28video_game%29&#34;&gt;Doom&lt;/a&gt; over IPX.  &lt;a href=&#34;http://www.forwardingplane.net/wp-content/uploads/2013/09/Doom_cover_art.jpg&#34;&gt;&lt;img src=&#34;http://www.forwardingplane.net/wp-content/uploads/2013/09/Doom_cover_art.jpg&#34; alt=&#34;Doom_cover_art&#34; /&gt;&lt;/a&gt;I wanted to get into networking so badly that I worked on almost anything that presented itself.  In the early days I would take on all of the projects that no one wanted, often on things I had never seen before, learning them on the fly just so I could get my hands on more things to learn from.  This was pretty easy to get away with in the 1990s since networking wasn&amp;rsquo;t considered as much of a utility and folks willing to work on these kinds of things were few and far between.  It gave me an environment very conducive to learning every aspect of a protocol or platform.  This actually made me more versatile and essentially forced me to learn standards based networking.  It removed the reliance on proprietary technologies and forced me to really know the protocols or at the very least know where to find the info.  It taught me early on that memorizing was not the best way for me and that I had to know were to look instead of just knowing.   Doing work like this taught me how to study better than college had. I&amp;rsquo;ve made my insignificant mark in the world of networking by &lt;a href=&#34;http://www.nickburaglio.com/2013/08/24/boba-fett-1981/&#34;&gt;being able to adapt&lt;/a&gt; to whatever I had to work on, admittedly sometimes begrudgingly.   Just like almost everyone else, my base was in Cisco IOS but I always had a Cisco &lt;em&gt;and&lt;/em&gt; a something else to work on or install.  Be that an Ascend, Netopia, OpenRoute, Livingston/Lucent, Xylan, Juniper, Redback, Force10, Extreme, Fujitsu, Foundry, Nortel&amp;hellip;..this list can go on and on.  I found that being able to adapt and work on whatever was there opened my mind to different and often more simple and supportable ways of doing things and freed me from the tunnel vision that can sometimes accompany the marketing speak. In the networking world, Cisco has the lions share of the market, no question.  Cisco has been a company of acquisitions and one could probably successfully argue that working on CatOS, IOS, NXOS and IOS-XR is technically &amp;ldquo;multi-vendor&amp;rdquo; by the spirit of the law.  That&amp;rsquo;s actually a valid point, however, vendors tend to build and market proprietary solutions based around their products.  They want you to buy their widget, their cog, their $whatever, because they all work together. &lt;a href=&#34;http://www.forwardingplane.net/wp-content/uploads/2013/09/Grumpy-old-man.jpg&#34;&gt;&lt;img src=&#34;http://www.forwardingplane.net/wp-content/uploads/2013/09/Grumpy-old-man.jpg&#34; alt=&#34;Grumpy old man&#34; /&gt;&lt;/a&gt;Although I&amp;rsquo;m sure it is close to true, I tire of the old adage &amp;ldquo;no one ever got fired for buying cisco&amp;rdquo;. Now, before you go and get your grumpy old man pants on and start flashing your Cisco tattoo, let me better explain my logic. Network operating systems are not unlike programming languages. I don&amp;rsquo;t think anyone will argue against that too passionately.  Programming languages are generally very different in structure from language to language and are processed in the brain much like a spoken or written language.  &lt;a href=&#34;http://science.time.com/2013/07/18/how-the-brain-benefits-from-being-bilingual/&#34;&gt;Studies have shown that being multilingual actually makes the brain more nimble, quicker, better able to deal with ambiguities, resolve conflicts and even resist Alzheimer’s disease and other forms of dementia longer&lt;/a&gt;. Being able to context switch keeps your mind sharp. In addition, utilizing hardware and software from different vendors forces standards based networking and reduces what I consider a crutch of relying on proprietary protocols that stifle the ability to migrate to different vendors. I have run into the excuse of &amp;ldquo;we already have institutional knowledge of x&amp;rdquo; all throughout my career, and while I certainly understand the viewpoint, I find this to be a surmountable excuse.  If there exists a product or solution that is better suited for the task at hand, brand should be irrelevant.  There are enough valid, cost effective and [arguably] technically superior options out there that brand loyalty should take a far, far back seat.  Learning is our job and we need to be willing and able to adapt to thrive.  I&amp;rsquo;m not saying that comfort level and familiarity should not be a factor, not at all.  Supportability is paramount.  However, that should be &lt;strong&gt;a&lt;/strong&gt; factor, not the &lt;strong&gt;only&lt;/strong&gt; factor. Don&amp;rsquo;t be afraid to take risks.  Lab up new things.  You will truly never know if something is better, worse or a wash unless you give it a chance.  You may just learn something by accident. The point I&amp;rsquo;m trying to make is that we do ourselves and potentially the consumers of the service we build a disservice when we blindly write off options because of our own personal comfort level.&lt;/p&gt;
</description>
    </item>
    
    <item>
      <title>Inline-jflow on MX series Juniper</title>
      <link>https://forwardingplane.net/post/inline-jflow-on-mx-series-juniper/</link>
      <pubDate>Sun, 01 Sep 2013 15:40:29 +0000</pubDate>
      
      <guid>https://forwardingplane.net/post/inline-jflow-on-mx-series-juniper/</guid>
      <description>&lt;p&gt;One of the things that I&amp;rsquo;ve always lamented about using non-Cisco hardware is the lack of true 1:1 &lt;a href=&#34;http://en.wikipedia.org/wiki/Netflow&#34;&gt;netflow&lt;/a&gt; support.  Say what you will about jflow, cflow, sflow&amp;hellip;.there is no substitute for netflow, with sflow being the exception to that since it is a protocol that inherently supports ipv6 and &lt;a href=&#34;http://www.forwardingplane.net/2012/10/host-based-sflow-or-sflow-for-more-than-just-network-traffic/&#34; title=&#34;Host based sflow, or, sflow for more than just network traffic&#34;&gt;can transport far more than simple network information&lt;/a&gt; if configured in certain ways on certain devices. On newer MX series Juniper routers the game has changed.  One to one flow data export (in IPFIX format) is now available, in hardware, for IPv4 and IPv6.  Queue the service providers rejoice.  Configuring this on the MX is a tad more involved than a Cisco, but it&amp;rsquo;s still pretty straightforward. In set commands:```
 buraglio@mx480&amp;gt; show configuration forwarding-options | display set
 set forwarding-options sampling traceoptions file ipfix.log
 set forwarding-options sampling traceoptions file size 10k
 set forwarding-options sampling instance 1to1 input rate 1
 set forwarding-options sampling instance 1to1 family inet output flow-server &lt;br /&gt;
 10.16.120.204 port 9995
 set forwarding-options sampling instance 1to1 family inet output flow-server &lt;br /&gt;
 10.16.120.204 version-ipfix template ipv4
 set forwarding-options sampling instance 1to1 family inet output \
 inline-jflow source-address 10.16.120.1
 set forwarding-options sampling instance 1to1 family inet6 output flow-server \
 10.16.120.204 port 9995
 set forwarding-options sampling instance 1to1 family inet6 output flow-server \
 10.16.120.204 version-ipfix template ipv6
 set forwarding-options sampling instance 1to1 family inet6 output inline-jflow \
 source-address 10.16.120.1&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre style=&#34;color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4&#34;&gt;&lt;code class=&#34;language-Once the forwarding-options are set the chassis hardware has to be told what it can do.  Lets say you want to configure the inline-jflow on interfaces that exist on fpc0 (MPC0):```&#34; data-lang=&#34;Once the forwarding-options are set the chassis hardware has to be told what it can do.  Lets say you want to configure the inline-jflow on interfaces that exist on fpc0 (MPC0):```&#34;&gt;buraglio@ur1rtr&amp;gt; show configuration chassis fpc 0 | display set
set chassis fpc 0 pic 0 tunnel-services bandwidth 1g
set chassis fpc 0 pic 1 tunnel-services bandwidth 1g
set chassis fpc 0 sampling-instance 1to1
set chassis fpc 0 inline-services flow-table-size ipv4-flow-table-size 5
set chassis fpc 0 inline-services flow-table-size ipv6-flow-table-size 5&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;Notice we&amp;rsquo;re referencing the sampling instance we created in the forwarding-options.  This tells the MPC (FPC) and MIC (PIC) that you want a traceoptions file (deactivate this after the setup is all working; I generaly keep a traceoptions section configured but deactivated in nearly every protocol for quick debugging.)  Enables the sampling instance we jut added to the forwarding options and sets the flow collector address and port.  It also sets the protocol as &lt;a href=&#34;http://en.wikipedia.org/wiki/IP_Flow_Information_Export&#34;&gt;IPFIX&lt;/a&gt; (Essentially netflow v9).  Now that we have the framework set up, we need to add the bits to the interface that tell it to sample the traffic```
buraglio@ur1rtr&amp;gt; show configuration interfaces xe-0/0/1 | display set
set interfaces xe-0/0/1 description &amp;ldquo;trib port 1&amp;rdquo;
set interfaces xe-0/0/1 flexible-vlan-tagging
set interfaces xe-0/0/1 encapsulation flexible-ethernet-services
set interfaces xe-0/0/1 unit 105 description &amp;ldquo;Trib peering #1&amp;rdquo;
set interfaces xe-0/0/1 unit 105 vlan-id 1005
set interfaces xe-0/0/1 unit 105 family inet mtu 9000
set interfaces xe-0/0/1 unit 105 family inet sampling input
set interfaces xe-0/0/1 unit 105 family inet address 10.17.120.&lt;sup&gt;1&lt;/sup&gt;&amp;frasl;&lt;sub&gt;30&lt;/sub&gt;
set interfaces xe-0/0/1 unit 105 family inet6 mtu 9000
set interfaces xe-0/0/1 unit 105 family inet6 sampling input
set interfaces xe-0/0/1 unit 105 family inet6 address 2001:DB8:1:dead:beef::&lt;sup&gt;1&lt;/sup&gt;&amp;frasl;&lt;sub&gt;64&lt;/sub&gt;&lt;/p&gt;

&lt;pre&gt;&lt;code&gt;
Point this at your favorite flow collector and reap the benefits of having flow data. As far as collectors there are a lot of options, I prefer [nfdump](http://nfdump.sourceforge.net/)/[nfsen](http://nfsen.sourceforge.net/) because it&#39;s FOSS, very flexible, has [plugins](http://sourceforge.net/apps/trac/nfsen-plugins/) and is well supported, but there are fantastic commercial options for every flavor.  I&#39;ve used the Arbor Peakflow and like it but it has a very expensive licensing model so it is generally deployed in larger environments.   I&#39;ve also heard good things about the [SolarWinds Netflow Analyzer](http://www.solarwinds.com/netflow-traffic-analyzer.aspx) but I&#39;ve never used it. Caveats: On the older ichip platform with the MS-DPC you can view the actual flows on the box itself using the command &amp;lt;command&amp;gt;  much like show cef on a cisco.  I cannot find a way to do that on in the inline-jflow configuration on the trio hardware. This was configured on JunOS 12.3R3.4 on MX480 hardware with MPC3/Trio hardware. I can&#39;t seem to get the IPv6 flow data from the flow records.  I suspect it&#39;s either not in there yet or I&#39;ve configured that part wrong. -----EDIT----- IPv6 flow data is working fine, flows are just being obfuscated by IPv4.  Using nfdump and singling out the IPv6 traffic shows what we expect:```
nfdump -M /home/netflow/profiles-data/testlab/rtr1  -T  -r \\ 
2013/09/03/nfcapd.201309030945 -n 20 -s ip/flows -6
nfdump filter:
inet6
Top 20 IP Addr ordered by flows:

---SNIP---

Summary: total flows: 19222, total bytes: 28.7 M, total packets: \\ 
45173, avg bps: 732, avg pps: 0, avg bpp: 636
Time window: 2013-07-15 16:42:57 - 2013-09-03 09:50:20
Total flows processed: 4134975, Blocks skipped: 0, Bytes read: 281643580
Sys: 1.235s flows/second: 3345958.0  Wall: 1.770s flows/second: 2335921.0
&lt;/code&gt;&lt;/pre&gt;
</description>
    </item>
    
    <item>
      <title>Fixing the dreaded &#34;error: could not open configuration database (juniper.data&#43;)&#34; problem.</title>
      <link>https://forwardingplane.net/post/fixing-the-dreaded-error-could-not-open-configuration-database-juniper-data-problem/</link>
      <pubDate>Wed, 07 Aug 2013 16:52:04 +0000</pubDate>
      
      <guid>https://forwardingplane.net/post/fixing-the-dreaded-error-could-not-open-configuration-database-juniper-data-problem/</guid>
      <description>&lt;p&gt;Working on some MX series routers recently I encountered a problem I&amp;rsquo;d never seen before, essentially preventing the configuration from being committed:```
buraglio@rtr# commit check
re0:
error: could not open configuration database (juniper.data+)&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre style=&#34;color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4&#34;&gt;&lt;code class=&#34;language-This is a very annoying problem and is terribly inconvenient as you can probably imagine. So, my first instinct is to drop down to the shell and starting hacking at it UNIX style.```&#34; data-lang=&#34;This is a very annoying problem and is terribly inconvenient as you can probably imagine. So, my first instinct is to drop down to the shell and starting hacking at it UNIX style.```&#34;&gt;buraglio@rtr&amp;gt;start shell&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;From there I wanted to see the file system and check out the stats of what it thinks we have.```
buraglio@rtr% df -h
Filesystem     Size    Used   Avail Capacity  Mounted on
/dev/ad0s1a    3.5G    313M    2.9G    10%    /
devfs          1.0K    1.0K      0B   100%    /dev
/dev/md0        63M     63M      0B   100%    /packages/mnt/jbase
/dev/md1        53M     53M      0B   100%    /packages/mnt/jkernel64-12.3R3.4
buraglio@rtr%    82M     82M      0B   100%    /packages/mnt/jpfe-X960-12.3R3.4
/dev/md3       5.0M    5.0M      0B   100%    /packages/mnt/jdocs-12.3R3.4
buraglio@rtr%   104M    104M      0B   100%    /packages/mnt/jroute-12.3R3.4
buraglio@rtr% clearM     28M      0B   100%    /packages/mnt/jcrypto64-12.3R3.4
/dev/md6        38M     38M      0B   100%    /packages/mnt/jpfe-common-12.3R3.4
/dev/md7        92K     92K      0B   100%    /packages/mnt/jplatform-12.3R3.4
/dev/md8       422M    422M      0B   100%    /packages/mnt/jruntime-12.3R3.4
/dev/md9       7.9G     16K    7.2G     0%    /tmp
/dev/md10      7.9G     11M    7.2G     0%    /mfs
/dev/ad0s1e    393M     36K    362M     0%    /config
procfs         4.0K    4.0K      0B   100%    /proc
/dev/ad1s1f     18G    4.2G     12G    26%    /var&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre style=&#34;color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4&#34;&gt;&lt;code class=&#34;language-... and check the mounted partitions.```&#34; data-lang=&#34;... and check the mounted partitions.```&#34;&gt;buraglio@rtr% mount
/dev/ad0s1a on / (ufs, local, noatime)
devfs on /dev (devfs, local, multilabel)
/dev/md0 on /packages/mnt/jbase (cd9660, local, noatime, read-only, verified)
/dev/md1 on /packages/mnt/jkernel64-12.3R3.4 (cd9660, local, noatime, read-only, verified)
/dev/md2 on /packages/mnt/jpfe-X960-12.3R3.4 (cd9660, local, noatime, read-only)
/dev/md3 on /packages/mnt/jdocs-12.3R3.4 (cd9660, local, noatime, read-only, verified)
/dev/md4 on /packages/mnt/jroute-12.3R3.4 (cd9660, local, noatime, read-only, verified)
/dev/md5 on /packages/mnt/jcrypto64-12.3R3.4 (cd9660, local, noatime, read-only, verified)
/dev/md6 on /packages/mnt/jpfe-common-12.3R3.4 (cd9660, local, noatime, read-only)
/dev/md7 on /packages/mnt/jplatform-12.3R3.4 (cd9660, local, noatime, read-only, verified)
/dev/md8 on /packages/mnt/jruntime-12.3R3.4 (cd9660, local, noatime, read-only, verified)
/dev/md9 on /tmp (ufs, asynchronous, local, noatime)
/dev/md10 on /mfs (ufs, asynchronous, local, noatime)
/dev/ad0s1e on /config (ufs, local, noatime)
procfs on /proc (procfs, local, noatime)
/dev/ad1s1f on /var (ufs, local, noatime)&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;I ran a fsck to get some stats and see what the problem could be since it appears that there is no free space even though the router reports that it has it.```
buraglio@rtr% fsck -y -f /dev/ad1s1f
** /dev/ad1s1f (NO WRITE)
** Last Mounted on /var
** Phase 1 - Check Blocks and Sizes
** Phase 2 - Check Pathnames
** Phase 3 - Check Connectivity
** Phase 4 - Check Reference Counts
** Phase 5 - Check Cyl groups
FREE BLK COUNT(S) WRONG IN SUPERBLK
SALVAGE? no&lt;/p&gt;

&lt;p&gt;605 files, 2202492 used, 7040218 free (786 frags, 879929 blocks, 0.0% fragmentation)&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre style=&#34;color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4&#34;&gt;&lt;code class=&#34;language-Playing around in the shell presented this error as well```&#34; data-lang=&#34;Playing around in the shell presented this error as well```&#34;&gt;/var: create/symlink failed, no inodes free&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;So, it appears as if the /var partition is the issue. On my router /var is mounted as /dev/ad1s1f, so lets unmount this partition and try to fix it. In my experience Juniper will shy away from telling you to do anything in the shell, so do this at your own risk. Rebooting the router would also fix this issue, but I&amp;rsquo;m a form believer that rebooting networking equipment to fix issues is a lazy way to fix problems and will only serve to atrophy any troubleshooting skills you may have.```&lt;/p&gt;

&lt;p&gt;buraglio@rtr% umount -f /var&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre style=&#34;color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4&#34;&gt;&lt;code class=&#34;language-Now run fsck again to repair the file system```&#34; data-lang=&#34;Now run fsck again to repair the file system```&#34;&gt;buraglio@rtr% fsck -y -f /dev/ad1s1f
\*\* /dev/ad1s1f
\*\* Last Mounted on /var
\*\* Phase 1 - Check Blocks and Sizes
\*\* Phase 2 - Check Pathnames
\*\* Phase 3 - Check Connectivity
\*\* Phase 4 - Check Reference Counts
\*\* Phase 5 - Check Cyl groups
FREE BLK COUNT(S) WRONG IN SUPERBLK
SALVAGE? yes

605 files, 2203376 used, 7039334 free (782 frags, 879819 blocks, 0.0% fragmentation)

\*\*\*\*\* FILE SYSTEM WAS MODIFIED \*\*\*\*\*&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;Now that the problematic bits have been repaired, we re-mount the partition```
buraglio@rtr% mount /dev/ad1s1f /var/&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre style=&#34;color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4&#34;&gt;&lt;code class=&#34;language-Verify the mount```&#34; data-lang=&#34;Verify the mount```&#34;&gt;buraglio@rtr% mount
/dev/ad0s1a on / (ufs, local, noatime)
devfs on /dev (devfs, local, multilabel)
/dev/md0 on /packages/mnt/jbase (cd9660, local, noatime, read-only, verified)
/dev/md1 on /packages/mnt/jkernel64-12.3R3.4 (cd9660, local, noatime, read-only, verified)
/dev/md2 on /packages/mnt/jpfe-X960-12.3R3.4 (cd9660, local, noatime, read-only)
/dev/md3 on /packages/mnt/jdocs-12.3R3.4 (cd9660, local, noatime, read-only, verified)
/dev/md4 on /packages/mnt/jroute-12.3R3.4 (cd9660, local, noatime, read-only, verified)
/dev/md5 on /packages/mnt/jcrypto64-12.3R3.4 (cd9660, local, noatime, read-only, verified)
/dev/md6 on /packages/mnt/jpfe-common-12.3R3.4 (cd9660, local, noatime, read-only)
/dev/md7 on /packages/mnt/jplatform-12.3R3.4 (cd9660, local, noatime, read-only, verified)
/dev/md8 on /packages/mnt/jruntime-12.3R3.4 (cd9660, local, noatime, read-only, verified)
/dev/md9 on /tmp (ufs, asynchronous, local, noatime)
/dev/md10 on /mfs (ufs, asynchronous, local, noatime)
/dev/ad0s1e on /config (ufs, local, noatime)
procfs on /proc (procfs, local, noatime)
/dev/ad1s1f on /var (ufs, local, noatime)&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;We should now be able to commit correctly.```
buraglio@rtr% cli
{master}
buraglio@rtr&amp;gt;&lt;/p&gt;

&lt;p&gt;{master}
buraglio@rtr&amp;gt; edit
Entering configuration mode
The configuration has been changed but not committed&lt;/p&gt;

&lt;p&gt;{master}[edit]
buraglio@rtr# commit check
re0:
configuration check succeeds
re1:
configuration check succeeds&lt;/p&gt;

&lt;p&gt;{master}[edit]
buraglio@rtr# commit
re0:
configuration check succeeds
re1:
commit complete
re0:
commit complete&lt;/p&gt;

&lt;p&gt;{master}[edit]
buraglio@rtr#
```And&amp;hellip;.you&amp;rsquo;re done. Hopefully this will help someone fight this problem, I only found a &lt;a href=&#34;http://www.gns3.net/labs/juniper/jncia-junos/operational-monitoring-and-maintenance/&#34;&gt;handful&lt;/a&gt; of &lt;a href=&#34;http://forums.juniper.net/t5/Junos-and-Junosphere/Commit-Errors/td-p/17615&#34;&gt;other references&lt;/a&gt; to it that was useful but it didn&amp;rsquo;t address my exact scenario.&lt;/p&gt;
</description>
    </item>
    
    <item>
      <title>The sad state of IPv6 and why you need to learn it.</title>
      <link>https://forwardingplane.net/post/the-sad-state-of-ipv6-and-why-you-need-to-learn-it/</link>
      <pubDate>Mon, 05 Aug 2013 11:18:03 +0000</pubDate>
      
      <guid>https://forwardingplane.net/post/the-sad-state-of-ipv6-and-why-you-need-to-learn-it/</guid>
      <description>&lt;p&gt;I have been learning and using IPv6 for a quite a while, even before I worked in research and education, back in the ISP days.  I thought I should learn it because, frankly, I figured we&amp;rsquo;d all be converted to it by now, already whole hog using it like it was the layer 3 addressing mechanism that it is.  Flashback: My first IPv6 access was via a tunnel to HE a long, long time ago and before that I was reading what I could about it.  I&amp;rsquo;ve been evangelizing IPv6 for about that long, too.  I&amp;rsquo;ve taught IPv6 networking workshops on many occasions showing eager network engineers, security engineers, sysadmins, incident responders and even the occasional CIO how to understand, interpret and plumb v6. Now, I love OpenFlow and SDN as much as the next network geek, and I think it&amp;rsquo;s about as disruptive and game changing as the next guy.  However, IPv6 is next.  There.  I said it.  We need it.  Hey, OpenFlow 1.3 supports it so there is your tie in.  We&amp;rsquo;re out of v4 for the most part and, lets be honest, NAT is a freaking abomination. It&amp;rsquo;s not a solution to anything other than over complicating a transit path with translational mappings. I recently received an email from a buddy from my first days in tech about &lt;a href=&#34;http://www.enhancedip.org/home&#34;&gt;a project that some colleagues of his had been working on&lt;/a&gt; and while at a base technical level it&amp;rsquo;s an interesting concept, this project infuriated me.  This is the problem with the industry, especially in North America. The right thing, in my opinion, is to put effort like this aside and concentrate on IPv6 development and deployment. Projects like this, while good intentioned and technically innovative, delay he inevitable and give lazy, &amp;ldquo;luddist&amp;rdquo; engineers and developers a way to keep ipv4 even longer. &lt;a href=&#34;http://www.forwardingplane.net/wp-content/uploads/2013/08/alarm_clock.jpg&#34;&gt;&lt;img src=&#34;http://www.forwardingplane.net/wp-content/uploads/2013/08/alarm_clock.jpg&#34; alt=&#34;alarm_clock&#34; /&gt;&lt;/a&gt; I have mostly just kept this to myself publicly.  Sure, I blather on about it the office and preach about IPv6 over beers with networking professionals, but mostly I just suffer and bite my tongue when I hear some enterprise architect talk about firewalls, NAT, IPv4 only security appliances and how &amp;ldquo;they don&amp;rsquo;t need IPv6&amp;rdquo; or how &amp;ldquo;the enterprise isn&amp;rsquo;t ready&amp;rdquo; [for IPv6]. Wake up call, you&amp;rsquo;re late. &lt;strong&gt;IPv6 is here&lt;/strong&gt;.  It&amp;rsquo;s &lt;strong&gt;been&lt;/strong&gt; here.  It&amp;rsquo;s all over in Asia and other parts of the world.  It&amp;rsquo;s supported by default by your consumer service provider.  Guess what?  It&amp;rsquo;s too bad that your lazy developers didn&amp;rsquo;t code your apps for it. It&amp;rsquo;s too bad that your specialized app only supports IPv4 and probably doesn&amp;rsquo;t even understand DNS.  You&amp;rsquo;ll eventually have to deal with IPv6.  In actuality, you&amp;rsquo;re likely already using it and have no idea it is happening.  If someone finally tore that legacy XP machine from your change-despising hands you&amp;rsquo;re probably tunneling your traffic.  Unless you explicitly disable IPv6 on a modern operating system, you&amp;rsquo;re using it.  It may be just locally on your segment, but it&amp;rsquo;s on.  &lt;a href=&#34;http://www.forwardingplane.net/wp-content/uploads/2013/08/borg.jpg&#34;&gt;&lt;img src=&#34;http://www.forwardingplane.net/wp-content/uploads/2013/08/borg.jpg&#34; alt=&#34;borg&#34; /&gt;&lt;/a&gt; Get on board.  Resistance is futile.  There are great resources for learning IPv6.  Your desktop and server OS have probably supported it for years.  Your routers likely support routing it.  The last parts are going to be the security devices, policy and the legacy apps.  If you&amp;rsquo;re a networking guy, go do the &lt;a href=&#34;http://ipv6.he.net/certification/&#34;&gt;HE tunnelbroker certification process. &lt;/a&gt; They have a very good fundamentals tutorial and it covers everything you need to know to get started.  You can also get a cool shirt and some code to shove into your website.  Mine looks like this:// &amp;lt;![CDATA[ var user = &amp;ldquo;buraglio&amp;rdquo;; display_swf(user); // ]]&amp;gt;   Take the plunge, get some IPv6 going in your enterprise, home network, lab, whatever.  Learn and educate.  It will only improve your value and you&amp;rsquo;re going to have to learn it later anyway.&lt;/p&gt;
</description>
    </item>
    
    <item>
      <title>Building a secured network in a box</title>
      <link>https://forwardingplane.net/post/building-a-secured-network-in-a-box/</link>
      <pubDate>Fri, 26 Jul 2013 05:28:15 +0000</pubDate>
      
      <guid>https://forwardingplane.net/post/building-a-secured-network-in-a-box/</guid>
      <description>&lt;p&gt;In many environments, the move to virtualization is a path well traveled.  My home and lab networks are no exception to this and I&amp;rsquo;m sure nearly everyone who reads these pages has at least been exposed to it in one way or another.  I have played with nearly all of the virtualization platforms and am firmly in the camp that there will be a large segment of networking that will move to a virtualized platform especially in the data center and campus segments.  Virtualization of routing tables has existed for a long time, see &lt;a href=&#34;http://en.wikipedia.org/wiki/Virtual_Routing_and_Forwarding&#34;&gt;VRF-Lite  and MPLS VRF&lt;/a&gt; as well as multi-tenancy technologies like Junipers logical systems so the concept, at some level, has existed in networking for quite some time. &amp;ldquo;How is a small to medium sized environment going to take advantage of this and more interestingly, how can it be secured?&amp;rdquo; &lt;a href=&#34;http://www.forwardingplane.net/wp-content/uploads/2013/07/Red_onions.jpg&#34;&gt;&lt;img src=&#34;http://www.forwardingplane.net/wp-content/uploads/2013/07/Red_onions-1024x763.jpg&#34; alt=&#34;Red_onions&#34; /&gt;&lt;/a&gt;This is a question I inadvertently found at least one answer to when building out my own network and testing a great little project called &lt;a href=&#34;http://securityonion.blogspot.com/&#34;&gt;security onion&lt;/a&gt;.  I&amp;rsquo;d seen and used this platform a bit in the past, but it had been at least a version ago and my exposure was pretty short. The problem now, though, was that everything I have in use other than a gigabit switch and a NAS is virtualized.  My firewall, my router, all of my dev and test boxes and all but one of my non-portable machines.  All VMs.  I&amp;rsquo;d gone back and forth between VMware and KVM, and while I like KVM better, management of edge case or non-standard networking stuff wasn&amp;rsquo;t as well documented and &lt;a href=&#34;http://openvswitch.org/&#34;&gt;OVS&lt;/a&gt; either wasn&amp;rsquo;t in the build of CentOS I was using or I didn&amp;rsquo;t know about its inclusion yet, so I settled on VMware ESXi 5 for this particular box.  I needed to be able to span a port on a vswitch.  My hopes were not high, but I figured there may be an unsupported way. Interestingly enough, the VMWare operating system has a mechanism for makeshift &amp;ldquo;spanning&amp;rdquo; a port.  More correctly, it has a way to see &amp;ldquo;all vlans&amp;rdquo; on a given vswitch, and it&amp;rsquo;s quite simple.  Essentially, you have to create a port group on vlan 4095 on the vswitch then set that port group to promiscuous mode. Add the vm NIC that you are going to use to monitor traffic to that port group.  &lt;a href=&#34;http://kb.vmware.com/selfservice/microsites/search.do?language=en_US&amp;amp;cmd=displayKC&amp;amp;externalId=1004099&#34;&gt;From VMware site&lt;/a&gt;: &lt;a href=&#34;http://www.forwardingplane.net/wp-content/uploads/2013/07/VMWare-site.png&#34;&gt;&lt;img src=&#34;http://www.forwardingplane.net/wp-content/uploads/2013/07/VMWare-site.png&#34; alt=&#34;VMWare-site&#34; /&gt;&lt;/a&gt; I was pleasanty surprised at how easy it was and was at the point of telling security onion to have interfaces on both of the vswitches in less than 15 minutes. Configuration, Networking, Properties, Security. VLAN 4095. Done.Here are a few screenshots of my VMware config following the steps laid out above. It&amp;rsquo;s far more simple than I could have imagined.   &lt;a href=&#34;http://www.forwardingplane.net/wp-content/uploads/2013/07/VMWAre-config-networking.png&#34;&gt;&lt;img src=&#34;http://www.forwardingplane.net/wp-content/uploads/2013/07/VMWAre-config-networking.png&#34; alt=&#34;VMWAre-config-networking&#34; /&gt;&lt;/a&gt; &lt;a href=&#34;http://www.forwardingplane.net/wp-content/uploads/2013/07/VMWare-SPAN-WAN1.png&#34;&gt;&lt;img src=&#34;http://www.forwardingplane.net/wp-content/uploads/2013/07/VMWare-SPAN-WAN1.png&#34; alt=&#34;VMWare-SPAN-WAN1&#34; /&gt;&lt;/a&gt;           &lt;a href=&#34;http://www.forwardingplane.net/wp-content/uploads/2013/07/VMWARE-Span-WAN2.png&#34;&gt;&lt;img src=&#34;http://www.forwardingplane.net/wp-content/uploads/2013/07/VMWARE-Span-WAN2.png&#34; alt=&#34;VMWARE-Span-WAN2&#34; /&gt;&lt;/a&gt;             At this point Security onion was able to see what was going on.  In my case I allowed for visibility on both sides of my routing firewall, so there was a decent amount of data.     This is the interesting part, I think.  My initial thoughts are that this could be a &amp;ldquo;network in a box&amp;rdquo; for small offices.  No router, no servers (other than the VMware host), essentially a fully functional &amp;ldquo;enterprise&amp;rdquo; network of hosts, including a very high quality IDS device in a single device.  Put whatever firewall / vrouter in there that is supported or familiar, &lt;a href=&#34;http://www.pfsense.org&#34;&gt;pfsense&lt;/a&gt;, &lt;a href=&#34;http://www.juniper.net&#34;&gt;Juniper vSRX&lt;/a&gt;, &lt;a href=&#34;http://www.fortinet.com&#34;&gt;fortinet&lt;/a&gt;, &lt;a href=&#34;http://www.paloaltonetworks.com&#34;&gt;Palo Alto&lt;/a&gt;, they all have virtual devices and they all do a fine job [with the exception of IPv6; the only one I could get DHCPv6-PD to work with was pfsense.  Still need to test the fortinet]. Here is a high level diagram of how mine is put together. &lt;a href=&#34;http://www.forwardingplane.net/wp-content/uploads/2013/07/VMWare-SPAN.jpg&#34;&gt;&lt;img src=&#34;http://www.forwardingplane.net/wp-content/uploads/2013/07/VMWare-SPAN.jpg&#34; alt=&#34;VMWare SPAN&#34; /&gt;&lt;/a&gt; Is this a viable option?  I have no idea, but it does work pretty darned well.  In fact, ironically enough, the day I got this working (July 13, 2013), a post went up over at &lt;a href=&#34;http://www.geekempire.com/2013/07/virtual-security-onion-via-ubuntu-kvm.html&#34;&gt;GeekEmpire&lt;/a&gt; doing almost exactly the same thing with KVM and OVS.  The setup is shockingly similar, right down to using pfSense. I was actually a bit envious, not only because his post went up first, but because he did what I had actually wanted to do by using KVM and OVS.  It&amp;rsquo;s well done, I recommend reading it. I think this is a sign of what will come.  &amp;ldquo;network in a box&amp;rdquo; is an intriguing concept, and I&amp;rsquo;m absolutely &lt;a href=&#34;https://www.google.com/search?q=network+in+a+box&amp;amp;ie=utf-8&amp;amp;oe=utf-8&amp;amp;aq=t&amp;amp;rls=org.mozilla:en-US:official&amp;amp;client=firefox-a&amp;amp;channel=fflb&#34;&gt;positive I am not the only one thinking about it&lt;/a&gt;.  I think, however, that the important part is to see the options available and make sure the masses know that there are many ways to do it.  It is not VMware or nothing, and it&amp;rsquo;s certainly not cisco or the highway.  OpenSource tools like OVS and KVM under a free operating system like Linux can compete at the highest levels and there are documents and how-tos out there.  More importantly, it&amp;rsquo;s not hard.  The same goes for security appliances and even vrouters.  Security Onion and pfSense are both viable platforms and they&amp;rsquo;re just the tip of the iceberg.  At the end of the day it all comes down to options. Opensource, commercial, they all have virtualization strategies and the more you know the better off you&amp;rsquo;ll be in the long run because virt is here to stay.&lt;/p&gt;
</description>
    </item>
    
    <item>
      <title>Building FlowVisor on Centos 6 - quick and dirty</title>
      <link>https://forwardingplane.net/post/building-flowvisor-on-centos-6-quick-and-dirty/</link>
      <pubDate>Fri, 05 Jul 2013 10:22:23 +0000</pubDate>
      
      <guid>https://forwardingplane.net/post/building-flowvisor-on-centos-6-quick-and-dirty/</guid>
      <description>&lt;p&gt;I had the need to build a FlowVisor instance under CentOS.  Since nearly all of the docs I could find were for debian, I threw this together.  I utilized this &lt;a href=&#34;http://groups.geni.net/geni/wiki/FlowVisor&#34;&gt;GENI doc&lt;/a&gt; and the &lt;a href=&#34;https://github.com/OPENNETWORKINGLAB/flowvisor/wiki/Installation-from-Source&#34;&gt;github docs&lt;/a&gt; as a simple reference.  This is the quick and dirty method I used: Install the prerequisites:```
sudo yum -y install ant eclipse java-1.6.0-openjdk.x86_64 git
sudo yum -y groupinstall &amp;ldquo;Development Tools&amp;rdquo;&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre style=&#34;color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4&#34;&gt;&lt;code class=&#34;language-Create my standard directories:```&#34; data-lang=&#34;Create my standard directories:```&#34;&gt;mkdir /services
cd /services
git clone git://github.com/OPENNETWORKINGLAB/flowvisor.git&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;Navigate, add user and install```
cd flowvisor
adduser flowvisor
sudo make fvuser=flowvisor fvgroup=flowvisor install&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre style=&#34;color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4&#34;&gt;&lt;code class=&#34;language-Here is the relativde output I saw:```&#34; data-lang=&#34;Here is the relativde output I saw:```&#34;&gt;\[root@collector flowvisor\]# sudo make fvuser=flowvisor fvgroup=flowvisor install
ant
Buildfile: build.xml

init:
\[mkdir\] Created dir: /services/flowvisor/build
\[mkdir\] Created dir: /services/flowvisor/build.tests

compile:
\[javac\] Compiling 239 source files to /services/flowvisor/build
\[javac\] Note: /services/flowvisor/src/org/flowvisor/config/LoadConfig.java uses or overrides a deprecated API.
\[javac\] Note: Recompile with -Xlint:deprecation for details.

dist:
\[mkdir\] Created dir: /services/flowvisor/dist
\[jar\] Building jar: /services/flowvisor/dist/flowvisor.jar
\[jar\] Building jar: /services/flowvisor/dist/flowvisor.jar

BUILD SUCCESSFUL
Total time: 3 seconds
./scripts/install-script.sh
Using source dir: ./scripts/..
Installation prefix (/usr/local):
Install to different root directory ()
Installing FlowVisor into /usr/local with prefix=/usr/local as user/group flowvisor:flowvisor
Updating fvctl-xml.sh to fvctl-xml
Updating fvconfig.sh to fvconfig
Updating flowvisor.sh to flowvisor
Updating envs.sh to envs
Creating directories
Creating /usr/local/bin
Creating /usr/local/sbin
Creating /usr/local/libexec/flowvisor
Creating /usr/local/share/man/man1
Creating /usr/local/share/man/man8
Creating /usr/local/share/doc/flowvisor
Creating /usr/local/share/db/flowvisor
Creating /etc/flowvisor (owned by user=flowvisor  group=flowvisor)
Installing scripts
Installing SYSV startup script (not enabled by default)
Installing jars
Installing flowvisor.jar
Installing manpages
Installing FlowVisorDB
Installing configs
Installing Logrotate config
Installing documentation
Linking fvctl to fvctl-json
ln: creating symbolic link \`fvctl&amp;#39;: File exists
Generating a default config FlowVisor config
Trying to generate SSL Server Key with passwd from scripts/envs.sh
Generating cert with common name == flowvisor
keytool error: java.lang.Exception: Key pair not generated, alias &amp;lt;mykey&amp;gt; already exists
Enter password for account &amp;#39;fvadmin&amp;#39; on the flowvisor:
Generating default config in db
Outputing config file /etc/flowvisor/config.json&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;Start the controller:```
sudo /etc/init.d/flowvisor start&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre style=&#34;color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4&#34;&gt;&lt;code class=&#34;language-Output from controller starting:```&#34; data-lang=&#34;Output from controller starting:```&#34;&gt;Starting flowvisor with the configuration stored in DB
If DB unpopulated, load config using &amp;#39;fvconfig load config.json&amp;#39;
\[root@collector flowvisor\]#
Message from syslogd@collector at Jul  3 08:49:51 ...
1&amp;gt;Jul  3 08:49:51 flowvisor: ERROR none : log level enabled: CRIT

Message from syslogd@collector at Jul  3 08:49:51 ...
1&amp;gt;Jul  3 08:49:51 flowvisor: ERROR none : log level enabled: ALERT

Message from syslogd@collector at Jul  3 08:49:51 ...
1&amp;gt;Jul  3 08:49:51 flowvisor: WARN none : log level enabled: WARN
``````
This yields a &amp;#34;working&amp;#34; flow visor.

Lock it down with a password:
``````
yum -y install pwgen
test -f /etc/flowvisor.passwd || sudo sh -c &amp;#39;pwgen -sB 24 &amp;gt; /etc/flowvisor.passwd&amp;#39;
service flowvisor restart&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;</description>
    </item>
    
    <item>
      <title>I want to love cumulus networks.....</title>
      <link>https://forwardingplane.net/post/i-want-to-love-cumulus-networks/</link>
      <pubDate>Wed, 03 Jul 2013 22:08:48 +0000</pubDate>
      
      <guid>https://forwardingplane.net/post/i-want-to-love-cumulus-networks/</guid>
      <description>&lt;p&gt;&lt;em&gt;I want to preface this by saying that I have not seen or worked on the cumulus networks system yet. This is a stream of consciousness post on my thoughts and opinions based on what I&amp;rsquo;ve read publicly.&lt;/em&gt; Recently a &lt;a href=&#34;http://cumulusnetworks.com/&#34;&gt;new network player&lt;/a&gt; has emerged on the scene with a very simple, straightforward idea. Take linux and put it on a switch. While this isn&amp;rsquo;t exactly new (see Juniper and FreeBSD, Arista with Linux, Force10 with NetBSD or the plethora of other vendors using an opensource OS as the underpinnings of their NOS), the angle that cumulus networks is taking is a bit more&amp;hellip;.raw. Take a standard Cisco or Juniper box. The engineers that work on these devices know a pseudo-programming language. They program the routers using that language and syntax. They&amp;rsquo;re familiar with it and it is well documented. Heck, aside from &lt;a href=&#34;http://www.juniper.net/us/en/community/junos/training-certification/day-one/fundamentals-series/cli/&#34;&gt;JunOS&lt;/a&gt;, &lt;a href=&#34;http://www.enterasys.com/&#34;&gt;Enterasys&lt;/a&gt; and the &lt;a href=&#34;https://infoproducts.alcatel-lucent.com/html/0_add-h-f/93-0070-10-01/7750_SR_OS_System_Basics_Guide/CLI%20Usage.html&#34;&gt;Alcatel-Lucent,&lt;/a&gt; 90% of the NOS you see on equipment is arguably derivative of &lt;a href=&#34;http://www.cisco.com/&#34;&gt;Cisco&lt;/a&gt;&amp;rsquo;s venerable &lt;a href=&#34;http://www.cisco.com/en/US/docs/ios/fundamentals/configuration/guide/cf_cli-basics.html&#34;&gt;IOS&lt;/a&gt;. Automation is [unfortunately] not nearly as common as it could be on network gear. Sure, there are a handful of opensource tools, overpriced, bloated and [arguably] poorly functioning tools available to &amp;ldquo;automate&amp;rdquo; and &amp;ldquo;manage&amp;rdquo; equipment, but none are that great, especially if you have a large, diverse environment. Enter the sysadmin. Sysadmins have been automating tasks for as long as I&amp;rsquo;ve been around. &lt;a href=&#34;http://cfengine.com/&#34;&gt;cfengine&lt;/a&gt;, home grown tools and now &lt;a href=&#34;https://puppetlabs.com/&#34;&gt;puppet&lt;/a&gt; and the like are marvelous tools that are a makeshift &amp;ldquo;controller&amp;rdquo; for managing distributed systems. Big Iron cluster admins have had tools like this forever as well. How often are these people the same? In a large environment where there is a need for automation I will wager that the answer to that question is &amp;ldquo;not very often&amp;rdquo;. This is my concern with cumulus networks. Make no mistake, I love the simplicity and idea behind it. I think that it&amp;rsquo;s wonderfully simple and innovative. It&amp;rsquo;s the &amp;ldquo;duh&amp;rdquo; of networking OS choices, but it introduces a lot of issues, many of which aren&amp;rsquo;t really pleasant to solve (and only a handful are actually technical). You&amp;rsquo;ve got the fractured nature of IT in large environments. Server guys aren&amp;rsquo;t often the same as networks guys. Often they are in totally different silos. This is problematic due to territoriality not to mention subject matter expertise. Am I as a network engineer of 15+ years comfortable running *IX systems? Sure. Is everyone? Likely not and even less likely on a large scale like this. Automation is key, but even running puppet systems isn&amp;rsquo;t exactly a network engineers core competency. I think that building those systems will be either cost prohibitive (either time or salary) or will just be a non-started because it&amp;rsquo;s &amp;ldquo;too different&amp;rdquo;. Let me reiterate that I think it&amp;rsquo;s a very cool idea and know that it&amp;rsquo;d probably take a week or so to make work for any decent sysadmin or system savvy network engineer, but the large swath is going to recoil. The lack of a single configuration file is also off putting to many network engineers. Management systems may be able to handle some of these functions, but nothing is easier than nearly zero touch deployment and a single config file is a poor-mans, widely accepted method. They have a quagga instance their version which provides a &amp;ldquo;non-model CLI&amp;rdquo;, and if the quagga is anything like what I&amp;rsquo;ve used it can sorta be used to manage the network, but is a poor overlay to the system tools that adds very basic routing protocols. It&amp;rsquo;s encouraging, but feels like a bolt on at face value. Then there is the issue of the raw OS. It&amp;rsquo;s just Linux. This statement alone opens up a new vector. Does one need to now worry about having compromised switches? Can my switch be turned into a bit cannon or a warez distribution site? A Tor relay? Hardening a switch or router has always been important, but this feels different to me and how many times has a RE protect ACL or loopback filter been mistakenly forgotten? What happens when there is a kernel exploit? Sure, puppet and cfengine can help with that, but these are also mechanisms and processes that need to be taken into account as far as resources on the switches. How will these extra processes affect the transit traffic? What happens when Linux decides it doesn&amp;rsquo;t have enough resources and starts killing off processes? Now, I think there are good precurser to this model that have been around for quite some time. I&amp;rsquo;d really love to see something like &lt;a href=&#34;http://www.pfsense.org&#34;&gt;pfSense&lt;/a&gt; or &lt;a href=&#34;http://www.microtic.com&#34;&gt;RouterOS&lt;/a&gt; on a merchant silicon Layer3 switch. The foundations are already there, they are seasoned, well documented and feature rich platforms. RouterOS even has &lt;a href=&#34;http://www.forwardingplane.net/wp-content/uploads/2013/07/pfsense_logo.jpg&#34;&gt;&lt;img src=&#34;http://www.forwardingplane.net/wp-content/uploads/2013/07/pfsense_logo.jpg&#34; alt=&#34;pfsense_logo&#34; /&gt;&lt;/a&gt; &lt;a href=&#34;http://www.forwardingplane.net/wp-content/uploads/2013/07/Vrz21.jpg&#34;&gt;&lt;img src=&#34;http://www.forwardingplane.net/wp-content/uploads/2013/07/Vrz21.jpg&#34; alt=&#34;Vrz21&#34; /&gt;&lt;/a&gt;OpenFlow support now and I&amp;rsquo;d bet money pfSense is looking at integrating SDN of some sort. Both have central management platforms and are Linux or BSD based, so they are very extensible and at their foundation they are Open Source. Both should be portable and most importantly they are more of a intermediate step into a hybrid networking OS. I know some of this may sound negative, but these are all things that need to be addressed and answered as we move more into the new wave of networking. I am confident that cumulus networks is onto something great with their model. It it too bold? Too soon? I wish I knew.&lt;/p&gt;
</description>
    </item>
    
    <item>
      <title>VMWare ESXi CLI reference</title>
      <link>https://forwardingplane.net/post/vmware-esxi-cli-reference/</link>
      <pubDate>Sun, 30 Jun 2013 14:24:51 +0000</pubDate>
      
      <guid>https://forwardingplane.net/post/vmware-esxi-cli-reference/</guid>
      <description>&lt;p&gt;One of my biggest complaints about VMware is that it is an enterprise application. It has historically catered to the masses, which I completely understand, but those of us that aren&amp;rsquo;t a fortune 500 company are figuratively and operationally shoved into a corner and forced to find hackish ways of doing things to work around the enterprise nature. One really, really good example of this is OS dependency. I hated architecture dependencies back in the old days (x86, SPARC, PPC) and I absolutely despise things that are OS platform dependent now.  It&amp;rsquo;s inconvenient and just plain sucks for anyone using anything but that required platform. This goes for anything, mac dependent, MS dependent, unix dependent, whatever. I don&amp;rsquo;t discriminate in my idealism.  While I realize it is an impossible, idealistic expectation,  I back up my stance 100% regardless. That being said, one of the most irritating of those in recent memory has been VMware. Managing the VMWare ESXi instances that I run for both lab and production work is a pain. Since I&amp;rsquo;m not really a sysadmin or a virtualization engineer my knowledge of this stuff is surely limited I may be going about this in a non-optimal way, but until recently it has required a one-off host or VM running windows with the client to do anything useful. Apparently this has changed with the pay version in 5.something adding a web interface.  Unfortunately this isn&amp;rsquo;t an option at this time for me, it&amp;rsquo;s cost prohibitive. So, when I found it necessary to do some management without a windows VM or host, I was pleasantly surprised to find that I can do simple tasks via the SSH CLI. was able to query power state, start, stop, etc. using simple CLI tools. Now, these are all documented at the VMware KB, but I wanted to throw together a quick reference sheet for all of them in one place so I started compiling it &lt;a href=&#34;http://www.forwardingplane.net/unix/vmware-esxi-cli-reference/&#34;&gt;here&lt;/a&gt;.  Please feel free to shoot over any additions or quick tips that should be on there. This is just the tip of the iceberg, I suspect (or maybe I&amp;rsquo;m just going about my VMware management all wrong; I&amp;rsquo;m open to that as well and suggestions on how to remedy). The most useful for me so far have been inventory and power related.```
List all VMs:
vim-cmd vmsvc/getallvms&lt;/p&gt;

&lt;p&gt;List power state of VM:
vim-cmd vmsvc/power.getstate &lt;VM ID&gt;&lt;/p&gt;

&lt;p&gt;Power on VM
vim-cmd vmsvc/power.on &lt;VM ID&gt;&lt;/p&gt;

&lt;p&gt;Power off VM
vim-cmd vmsvc/power.off &lt;VM ID&gt;&lt;/p&gt;

&lt;p&gt;```&lt;/p&gt;
</description>
    </item>
    
    <item>
      <title>Broadcast input with iTerm</title>
      <link>https://forwardingplane.net/post/broadcast-input-with-iterm/</link>
      <pubDate>Sat, 22 Jun 2013 15:56:12 +0000</pubDate>
      
      <guid>https://forwardingplane.net/post/broadcast-input-with-iterm/</guid>
      <description>&lt;p&gt;As much as I like to think I automate everything, I&amp;rsquo;m pretty bad at writing code to make my life easier since it tends to take me longer to write the code and it tends to make be a bit grumpy (this is eomthing I&amp;rsquo;m fixing by learning as much code dev as I can during my limited spare time).  However, I like to think I can be fairly smart about working around my limited programming skills (think boba fett rather than jedi) by using the tools available to common folk.  Enter &lt;a href=&#34;http://www.iterm2.com/#/section/home&#34;&gt;iTerm2&lt;/a&gt;. Last I looked at this is was buggy and unstable. &amp;hellip;.that was years and years ago. This has changed.  &lt;a href=&#34;http://www.iterm2.com/#/section/home&#34;&gt;&lt;img src=&#34;http://www.forwardingplane.net/wp-content/uploads/2013/06/iTerm.png&#34; alt=&#34;iTerm&#34; /&gt;&lt;/a&gt; iTerm has been vastly improved.   In fact, after someone suggested I look at it again, it took all of about 10 minutes for me to go all in as mt primary terminal.  The list of features is good, split pane, tabs and a wealth of customization options.  One of the big weinners for me, though, goes back to my original statement.   Being able to do broadcast input across panes, tabs or windows is fantastically useful.  If you manage systems, need to look at statistics at the same time on routers or switches or just want to do some quick and dirty &amp;ldquo;automation&amp;rdquo;, this is the ticket. I like it so much I did a quick screencast on how to do basic broadcast input.  It&amp;rsquo;s really straightforward.&lt;/p&gt;
</description>
    </item>
    
    <item>
      <title>Generating flow data without Cisco</title>
      <link>https://forwardingplane.net/post/677/</link>
      <pubDate>Mon, 17 Jun 2013 14:01:17 +0000</pubDate>
      
      <guid>https://forwardingplane.net/post/677/</guid>
      <description></description>
    </item>
    
    <item>
      <title>Debugging Brocade MLX/XMR ip_rx CPU issues</title>
      <link>https://forwardingplane.net/post/debugging-brocade-mlxxmr-ip_rx-cpu-issues/</link>
      <pubDate>Mon, 17 Jun 2013 00:35:42 +0000</pubDate>
      
      <guid>https://forwardingplane.net/post/debugging-brocade-mlxxmr-ip_rx-cpu-issues/</guid>
      <description>&lt;p&gt;I recently had the need to debug a run away ip_rx process on an older Brocade MLX.  For anyone that has had to do any type of low level debugging on the Brocade (Foundry) platform, you know that there many somewhat deep level diagnostics that are possible.  The debug (like cisco debug) is a bit lacking, but the dm, LP and MP commands are very useful (and a tad scary). Regardless, I&amp;rsquo;ve had to utilize them a lot in the last few years so my aversion to using them has been pretty much completely callused over. So, when there was notification of CPU issues (common on the platform in environments I&amp;rsquo;m familiar with), I started poking around.  First off, the  &lt;a href=&#34;http://www.brocade.com/downloads/documents/product_manuals/B_NetIron/Brocade_XMRMLX_05200_DiagnosticGuide.pdf&#34;&gt;diagnostic documents&lt;/a&gt; are your friend.  They&amp;rsquo;re fairly deep and wide in scope.  After looking at the cpu, it was pretty clear what the culprit was. rtr4-2#sh cpu-utilization | e 0 &amp;hellip; Usage average for all tasks in the last 1 seconds  &amp;hellip; ========================================================== Name            us/sec        % idle                    68435           11 ip_rx                   724619          72 ospf                    36942           3 snmp                    82753           8 I needed to get info on that ip_rx process.  Google actually wasn&amp;rsquo;t terribly helpful, so I dig out what I wanted, except for the process for breaking into the management module monitor mode.  The golden ticket ended up being &amp;ldquo;ctrl+y m enter&amp;rdquo; from the console.  That drops you into the OS mode or management module monitor mode that looks like this.&lt;a href=&#34;http://www.forwardingplane.net/wp-content/uploads/2013/06/Screen-Shot-2013-06-16-at-7.04.20-PM.png&#34;&gt;&lt;img src=&#34;http://www.forwardingplane.net/wp-content/uploads/2013/06/Screen-Shot-2013-06-16-at-7.04.20-PM.png&#34; alt=&#34;Screen Shot 2013-06-16 at 7.04.20 PM&#34; /&gt;&lt;/a&gt;               Basically this is what I gathered for the Brocade TAC.```
MP-1 OS&amp;gt;set sample-task ip_rx
MP-1 OS&amp;gt;set sample-rate 5
MP-1 OS&amp;gt;show sample
CPU Sample: Trace&amp;hellip; (Repeat)
202e4eb8&lt;2021ec08&lt;202e5c18&lt;202e6238&lt;2030c2c4&lt;202ec2d8&lt;202eac00&lt;202eac74
 .....
MP-1 OS&gt;set sample-rate 0
MP-1 OS&amp;gt;exit
Back to Application console&amp;hellip;&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre style=&#34;color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4&#34;&gt;&lt;code class=&#34;language-Setting the task to sample is pretty simple:set sample-task &lt;task&gt;```&#34; data-lang=&#34;Setting the task to sample is pretty simple:set sample-task &lt;task&gt;```&#34;&gt;set sample-rate&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;to show the sample, simply```
show sample&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre style=&#34;color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4&#34;&gt;&lt;code class=&#34;language-and then to disable the sampling```&#34; data-lang=&#34;and then to disable the sampling```&#34;&gt;set sample-rate 0&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;This can be used to gather all kinds of disgnostic data for seemingly any running process for the brocade TAC to decipher.&lt;/p&gt;
</description>
    </item>
    
    <item>
      <title>MPLS Bootstrap</title>
      <link>https://forwardingplane.net/post/mpls-bootstrap/</link>
      <pubDate>Fri, 07 Jun 2013 13:04:02 +0000</pubDate>
      
      <guid>https://forwardingplane.net/post/mpls-bootstrap/</guid>
      <description>&lt;p&gt;I&amp;rsquo;ve been doing a lot of MPLS in the last 45 or so days (which is one of the reasons I have been absentee in the OpenFlow world lately). Having had almost no real world MPLS experience aside from a handful of pseudo-wires and a very small LDP signaled network, I had to spend some time reading, hacking at routers and essentially learning. In doing so, I found a few things.&lt;/p&gt;

&lt;ul&gt;
&lt;li&gt;MPLS isn&amp;rsquo;t that different than any other networking, it&amp;rsquo;s taking a criteria and moving data based on that criteria (duh?!?)&lt;/li&gt;
&lt;li&gt;Many of the concepts are familiar.  Frame Relay and ATM come to mind.  OpenFlow does as well in certain circumstances.&lt;/li&gt;
&lt;li&gt;There is a lot of documentation on the MPLS suite of protocols.&lt;/li&gt;
&lt;li&gt;I didn&amp;rsquo;t find a condensed set of data for the information I was looking for.  Jerely Stretch has some of it on his &lt;a href=&#34;http://media.packetlife.net/media/library/18/Frame_Mode_MPLS.pdf&#34;&gt;cheat sheet&lt;/a&gt;, but it&amp;rsquo;s not as complete as what I wanted and heavily vendor biased.  I was looking for conceptual information and not necessarily operational commands.&lt;/li&gt;
&lt;/ul&gt;

&lt;p&gt;&lt;a href=&#34;http://www.forwardingplane.net/wp-content/uploads/2013/06/Basic-Cloud.jpg&#34;&gt;&lt;img src=&#34;http://www.forwardingplane.net/wp-content/uploads/2013/06/Basic-Cloud.jpg&#34; alt=&#34;Basic Cloud&#34; /&gt;&lt;/a&gt; I spent some time coming up with a slide deck I could present to others that, in theory, would build a foundation to work from.  I understand that this may be incomplete and is mostly a compilation of data found elsewhere (there is a reference section).  Using this bootstrap I was able to pick up the concepts well enough to understand when to use what and where as well as build the foundational requirements for a fairly complex MPLS environment.  Feel free to correct anything that is blatantly wrong, send me an email and I&amp;rsquo;ll address it. The slide deck can be found as a PDF &lt;a href=&#34;http://www.forwardingplane.net/wp-content/uploads/2013/07/MPLS-101.pdf&#34;&gt;here&lt;/a&gt;.  If you want the pptx it is available &lt;a href=&#34;http://www.forwardingplane.net/wp-content/uploads/2013/07/MPLS-101.pptx&#34;&gt;here&lt;/a&gt;.   I will continue to update them as I hone the deck and / or find and correct errors.&lt;/p&gt;
</description>
    </item>
    
    <item>
      <title>MPLS PseudoWire (VLL) between JunOS and Brocade MLX/XMR</title>
      <link>https://forwardingplane.net/post/mpls-pseudowire-vll-between-junos-and-brocade-mlxxmr/</link>
      <pubDate>Sun, 19 May 2013 16:24:03 +0000</pubDate>
      
      <guid>https://forwardingplane.net/post/mpls-pseudowire-vll-between-junos-and-brocade-mlxxmr/</guid>
      <description>&lt;p&gt;I love to be the &amp;ldquo;uncola&amp;rdquo; of networking sites.  I like interop and I don&amp;rsquo;t do a lot with Cisco because I don&amp;rsquo;t have access to much of their gear anymore.  So, that being the case, I had a need to bring up a l2circuit (in JunOS speak), or VLL (in Brocade speak) between an MX480 and an MLX.  Since they are very different platforms, I had to do some digging and playing around to get it to work. You should have a rudimentary understanding of MPLS (which is about what I have) to do this. l2circuit / pseudowire / vll are all synonymous for the scope of this post. JunOS:```
set protocols l2circuit neighbor interface virtual-circuit-id
set protocols l2circuit neighbor interface encapsulation-type ethernet&lt;/p&gt;

&lt;p&gt;set interfaces xe-3/3/0 description
set interfaces xe-3/3/0 vlan-tagging
set interfaces xe-3/3/0 encapsulation flexible-ethernet-services
set interfaces xe-3/3/0 unit encapsulation vlan-ccc
set interfaces xe-3/3/0 unit vlan-id&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre style=&#34;color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4&#34;&gt;&lt;code class=&#34;language-Brocade:```&#34; data-lang=&#34;Brocade:```&#34;&gt;MLX1#show mpls config
router mpls
policy
no propagate-ttl

mpls-interface e1/1
ldp-enable

mpls-interface e1/4
ldp-enable

vll TEST-ICCN-VLL-1 raw-mode
vll-peer
vlan
tagged e 5/2&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;Some commands I found helpful for debugging while testing this out: JunOS: Useful for debugging connections that won&amp;rsquo;t come up:```
set protocols l2circuit traceoptions file l2-VLL
set protocols l2circuit traceoptions file size 20240
set protocols l2circuit traceoptions flag all
show log l2-VLL&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre style=&#34;color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4&#34;&gt;&lt;code class=&#34;language-Brocade:```&#34; data-lang=&#34;Brocade:```&#34;&gt;logging console
terminal monitor
debug mpls all
debug mpls ldp&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;Show commands that are very useful: JunOS: check end to end l2circuit / VLL connectivity```
ping mpls l2circuit interface  detail&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre style=&#34;color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4&#34;&gt;&lt;code class=&#34;language-Show detail of l2circuit / pseudowire / vll show interfaces extensive # or detail Brocade:```&#34; data-lang=&#34;Show detail of l2circuit / pseudowire / vll show interfaces extensive # or detail Brocade:```&#34;&gt;show VLL detail &lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;</description>
    </item>
    
    <item>
      <title>IPv6 Feature Matrix (Again)</title>
      <link>https://forwardingplane.net/post/ipv6-feature-matrix-again/</link>
      <pubDate>Fri, 17 May 2013 22:01:27 +0000</pubDate>
      
      <guid>https://forwardingplane.net/post/ipv6-feature-matrix-again/</guid>
      <description>&lt;p&gt;There has been some recent chatter on the &lt;a href=&#34;http://lists.cluenet.de/mailman/listinfo/ipv6-ops&#34;&gt;IPv6 Ops mailing list&lt;/a&gt; about the feature matrix. Sadly, I&amp;rsquo;ve let this sort of wither on the vine for a while in favor of OpenFlow and SDN.  At the end of the day, though, as a whole we actually &lt;strong&gt;need&lt;/strong&gt; IPv6 more than SDN and OpenFlow at this moment in time, so I&amp;rsquo;m resurrecting it.  It is available &lt;a href=&#34;https://docs.google.com/spreadsheet/ccc?key=0AkRPccDFxV1kdEVNNEhFbG9UZWJlNVJ4NHJlWGtWV1E&amp;amp;amp;usp=sharing&#34;&gt;here&lt;/a&gt;. A few additions have been made and there is now a &amp;ldquo;last edited&amp;rdquo; cell so folks can tell if the data is stale or not.  What we need now is your input.  Do you have experience with something that isn&amp;rsquo;t on here?  Send over some details.  We&amp;rsquo;ll get it added.  Don&amp;rsquo;t be shy.  This is important.&lt;/p&gt;
</description>
    </item>
    
    <item>
      <title>Scripting the build of OpenDayight Controller under CentOS</title>
      <link>https://forwardingplane.net/post/scripting-the-build-of-opendayight-controller-under-centos/</link>
      <pubDate>Fri, 03 May 2013 21:45:41 +0000</pubDate>
      
      <guid>https://forwardingplane.net/post/scripting-the-build-of-opendayight-controller-under-centos/</guid>
      <description>

&lt;p&gt;&lt;a href=&#34;https://twitter.com/blinken_lichten&#34;&gt;Jon Langemak&lt;/a&gt; has a great write up on &lt;a href=&#34;http://www.dasblinkenlichten.com/installing-opendaylight-on-centos/&#34;&gt;building the OpenDaylight controller under CentOS&lt;/a&gt;. Since I&amp;rsquo;ll have to do this a bunch of times, I though tI&amp;rsquo;d take what he so generously put online and build a very rudimentary script for deploying ODC under CentOS. The prerequisites are that you already have an account and ssh key at the &lt;a href=&#34;https://git.opendaylight.org/&#34;&gt;OpenDaylight GIT repo&lt;/a&gt; and that you &lt;a href=&#34;http://www.revsys.com/writings/quicktips/turn-off-selinux.html&#34;&gt;disable SELinux&lt;/a&gt;. Here is the script:```
#!/bin/bash&lt;/p&gt;

&lt;h1 id=&#34;install-opendaylight-controller-under-centos&#34;&gt;Install Opendaylight controller under CentOS&lt;/h1&gt;

&lt;h1 id=&#34;by-nick-at-buraglio-com-http-www-twitter-com-buraglio&#34;&gt;by nick [at] buraglio.com &lt;a href=&#34;http://www.twitter.com/buraglio&#34;&gt;http://www.twitter.com/buraglio&lt;/a&gt;&lt;/h1&gt;

&lt;h1 id=&#34;http-www-forwardingplane-net&#34;&gt;&lt;a href=&#34;http://www.forwardingplane.net&#34;&gt;http://www.forwardingplane.net&lt;/a&gt;&lt;/h1&gt;

&lt;h1 id=&#34;based-on-post-by-jon-langemak-http-www-twitter-com-blinken-lichten&#34;&gt;Based on post by Jon Langemak (&lt;a href=&#34;http://www.twitter.com/blinken_lichten&#34;&gt;http://www.twitter.com/blinken_lichten&lt;/a&gt;)&lt;/h1&gt;

&lt;h1 id=&#34;http-www-dasblinkenlichten-com-installing-opendaylight-on-centos&#34;&gt;&lt;a href=&#34;http://www.dasblinkenlichten.com/installing-opendaylight-on-centos/&#34;&gt;http://www.dasblinkenlichten.com/installing-opendaylight-on-centos/&lt;/a&gt;&lt;/h1&gt;

&lt;p&gt;yum=&amp;ldquo;/usr/bin/yum&amp;rdquo;
servivce=&amp;ldquo;/sbin/service&amp;rdquo;
chkconfig=&amp;ldquo;/sbin/chkconfig&amp;rdquo;&lt;/p&gt;

&lt;p&gt;echo &amp;ldquo;************************&amp;ldquo;
echo &amp;ldquo;************************&amp;ldquo;
echo &amp;ldquo;Disable SELINUX before starting this process&amp;rdquo;
echo &amp;ldquo;Edit the /etc/selinux/config file and restart the server&amp;rdquo;
echo &amp;ldquo;************************&amp;ldquo;
echo &amp;ldquo;************************&amp;ldquo;
echo &amp;ldquo;Change the username in the GIT section to your own&amp;rdquo;
echo &amp;ldquo;you&amp;rsquo;ll need to create it and upload&amp;rdquo;
echo &amp;ldquo;your ssh key at git.opendaylight.org&amp;rdquo;
echo &amp;ldquo;************************&amp;ldquo;
echo &amp;ldquo;************************&amp;ldquo;&lt;/p&gt;

&lt;p&gt;echo &amp;ldquo;************************&amp;ldquo;
echo &amp;ldquo;Installing Development tools and other deps&amp;rdquo;
echo &amp;ldquo;************************&amp;ldquo;
yum install -y wget vim java ant python eclipse-platform git
yum groupinstall -y “Development tools”A&lt;/p&gt;

&lt;p&gt;echo &amp;ldquo;************************&amp;ldquo;
echo &amp;ldquo;Downloading and installing maven&amp;rdquo;
echo &amp;ldquo;************************&amp;ldquo;
wget &lt;a href=&#34;http://www.poolsaboveground.com/apache/maven/maven-3/3.0.5/binaries/apache-maven-3.0.5-bin.zip&#34;&gt;http://www.poolsaboveground.com/apache/maven/maven-3/3.0.5/binaries/apache-maven-3.0.5-bin.zip&lt;/a&gt;
unzip apache-maven-3.0.5-bin.zip -d /usr/share/
ln -s /usr/share/apache-maven-3.0.5/bin/mvn /usr/bin/mvn&lt;/p&gt;

&lt;p&gt;echo &amp;ldquo;************************&amp;ldquo;
echo &amp;ldquo;Downloading GIT code&amp;rdquo;
echo &amp;ldquo;************************&amp;ldquo;&lt;/p&gt;

&lt;h1 id=&#34;change-the-username-here-to-your-own-you-ll-need-to-create-it-and-upload&#34;&gt;Change the username here to your own, you&amp;rsquo;ll need to create it and upload&lt;/h1&gt;

&lt;h1 id=&#34;your-ssh-key-at-git-opendaylight-org&#34;&gt;your ssh key at git.opendaylight.org&lt;/h1&gt;

&lt;p&gt;mkdir -p /services/opendaylight/
cd /services/opendaylight/
git clone &lt;a href=&#34;https://buraglio@git.opendaylight.org/gerrit/p/controller.git&#34;&gt;https://buraglio@git.opendaylight.org/gerrit/p/controller.git&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;echo &amp;ldquo;************************&amp;ldquo;
echo &amp;ldquo;Building OpenDaylight Controller with Maven&amp;rdquo;
echo &amp;ldquo;************************&amp;ldquo;
cd controller/opendaylight/distribution/opendaylight/
mvn clean install&lt;/p&gt;

&lt;p&gt;echo &amp;ldquo;************************&amp;ldquo;
echo &amp;ldquo;Configure Java Env variables&amp;rdquo;
echo &amp;ldquo;************************&amp;ldquo;
export JAVA_HOME=/usr/lib/jvm/java-1.6.0-openjdk.x86_64
echo &amp;ldquo;JAVA_HOME=/usr/lib/jvm/java-1.6.0-openjdk.x86_64&amp;rdquo; &amp;gt;&amp;gt; /etc/environment&lt;/p&gt;

&lt;p&gt;echo &amp;ldquo;************************&amp;ldquo;
echo &amp;ldquo;Load the controller&amp;rdquo;
echo &amp;ldquo;************************&amp;ldquo;
cd /services/opendaylight/controller/opendaylight/distribution/opendaylight/target/distribution.opendaylight-0.1.0-SNAPSHOT-osgipackage/opendaylight&lt;/p&gt;

&lt;p&gt;echo &amp;ldquo;************************&amp;ldquo;
echo &amp;ldquo;Start OpenDaylight OF controller&amp;rdquo;
echo &amp;ldquo;************************&amp;ldquo;
./run.sh&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre style=&#34;color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4&#34;&gt;&lt;code class=&#34;language-Once up and running, it&#39;s pretty trivial to point something like an HP switch at the controller. For an HP5400, just decide what VLAN(s) you want to use OpenFlow on. I chose 999 as my test VLAN.```&#34; data-lang=&#34;Once up and running, it&#39;s pretty trivial to point something like an HP switch at the controller. For an HP5400, just decide what VLAN(s) you want to use OpenFlow on. I chose 999 as my test VLAN.```&#34;&gt;sw-5400-of# conf t
sw-5400-of(config)# vlan 999 name test-openflow999
sw-5400-of(vlan-999)# untagged A3-A4 
sw-5400-of(vlan-999)# exit
sw-5400-of(config)# openflow vlan 999
sw-5400-of(openFlow vlan-999)# enable
sw-5400-of(openFlow vlan-999)# controller &amp;#34;tcp:10.17.4.22:6633&amp;#34;
sw-5400-of(openFlow vlan-999)# exit       
sw-5400-of(openFlow)# exit
sw-5400-of(config)# 
w-5400-of(config)# exit
sw-5400-of# show openflow 

sw-5400-of# show openflow 

 Openflow Configuration

  Openflow aggregate VLANs \[Disabled\] :           
  Openflow aggregate management VlanId \[0\] : 0     
  Openflow second aggregate management VlanId \[0\] : 0     
  Openflow aggregate configuration VlanId \[0\] : 0     

  VID  State HW  Active controller Pseudo-URL                       Conn
  ---- ----- --- -------------------------------------------------- ----
  666  Off   On                                                     No  
  999  On    On  tcp:10.17.4.22:6633                                Yes&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;From here we can see the box in the openflow controller.    &lt;/p&gt;

&lt;p&gt;&lt;a href=&#34;http://www.forwardingplane.net/wp-content/uploads/2013/05/Screen-Shot-2013-05-03-at-4.20.03-PM.png&#34;&gt;&lt;img src=&#34;http://www.forwardingplane.net/wp-content/uploads/2013/05/Screen-Shot-2013-05-03-at-4.20.03-PM.png&#34; alt=&#34;Screen Shot 2013-05-03 at 4.20.03 PM&#34; /&gt;&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;  I&amp;rsquo;m still having some issues pushing flows, I&amp;rsquo;m sure I can work it out but here is a quick screencast of me trying to push a flow.  More posts will be added as soon as I can get the flows to push correctly. I suspect it is user error and I just need to read the docs.  More to come for sure.  This controller is very, very slick.&lt;/p&gt;
</description>
    </item>
    
    <item>
      <title>VNC Console on VMware ESXi</title>
      <link>https://forwardingplane.net/post/vnc-console-on-vmware-esxi/</link>
      <pubDate>Sun, 28 Apr 2013 03:39:54 +0000</pubDate>
      
      <guid>https://forwardingplane.net/post/vnc-console-on-vmware-esxi/</guid>
      <description>&lt;p&gt;Let me preface this post by saying that I am absolutely not an enterprise IT or systems guy, take everything that I write here on out with that as a side dish.  I&amp;rsquo;m also very, very cheap. That said, one of the things I really like about KVM is the ability to easily view the console of a guest system using free, non-windows software like VNC. However, much like everything in life, there are reasons to do one thing or another. I love VMware as well. It&amp;rsquo;s refined, well documented, incredibly feature rich and works phenomenally well. It&amp;rsquo;s also an enterprise app and to get a lot of the elegant features you either need a windows machine or the expensive paid version. Or both. I generally have neither money to spend on lab stuff or software licenses, which is why I generally use OSS. VMware, does, however, allow for free limited use of ESXi in such a way that is more than I need for my lab environments.  This is a great compliment to the XEN, KVM and other virtualization stuff I use for entertaining myself, learning new tech and labbing things up. So, when I wanted to see if I could get to the console of a few VMs I have without the paid app or a windows machine running vsphere, &lt;a href=&#34;http://t3chnot3s.blogspot.com/2012/03/how-to-enable-vnc-access-to-vms-on.html&#34;&gt;the internets took care of me&lt;/a&gt;.  This is actually really straight forward and takes very little time.  I made a quick screen cast of adding it to one of my template VMs. There are, of course, a few caveats.  Knowing how to &lt;a href=&#34;http://kb.vmware.com/selfservice/microsites/search.do?language=en_US&amp;amp;cmd=displayKC&amp;amp;externalId=1714&#34;&gt;properly edit the VMX file&lt;/a&gt; is important.  Knowing that VNC is insecure is also very important. In my lab, this is all behind my security perimeter and it&amp;rsquo;s fairly safe to open it up. In a nutshell, Here is what you need to do:```
chmod 777 /etc/vmware/firewall/service.xml&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre style=&#34;color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4&#34;&gt;&lt;code class=&#34;language-Edit the firewall file:```&#34; data-lang=&#34;Edit the firewall file:```&#34;&gt;vi /etc/vmware/firewall/service.xml&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;Add this to the bottom before the last line:```
 VNC
    outbound
        tcp
        dst
        5800
           5999
     inbound
        tcp
        dst
        5800
           5999
     true
     false&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre style=&#34;color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4&#34;&gt;&lt;code class=&#34;language-Make sure the ports are configured at you want them to be. I chose 5900 - 5999 since it made sense to me. Then:```&#34; data-lang=&#34;Make sure the ports are configured at you want them to be. I chose 5900 - 5999 since it made sense to me. Then:```&#34;&gt;esxcli network firewall refresh
esxcli network firewall ruleset list&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;Should now see:```
VNC true&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre style=&#34;color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4&#34;&gt;&lt;code class=&#34;language-at the very bottom. In the .vmx file of each VM:```&#34; data-lang=&#34;at the very bottom. In the .vmx file of each VM:```&#34;&gt;RemoteDisplay.vnc.enabled = &amp;#34;TRUE&amp;#34;
RemoteDisplay.vnc.port = 5910
RemoteDisplay.vnc.password = &amp;#34;VNCPassword&amp;#34;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;Directly from the VMware site: Any manual additions to the .vmx file from ESX/ESXi are overwritten by the entries stored in the vCenter Server database. If you need to edit a virtual machine&amp;rsquo;s .vmx file, first remove it from vCenter Server&amp;rsquo;s inventory (right-click it and choose Remove from Inventory). After you edit it, register the virtual machine again from the ESX command line.```
vmware-cmd -s register /vmfs/volumes/datastore/virtual machine directory/virtual machine name.vmx&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre style=&#34;color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4&#34;&gt;&lt;code class=&#34;language-Where datastore is the datastore name, virtual machine directory is the directory containing the virtual machine files, and virtual machine name is the name of the virtual machine files. This needs to be the full path, it gave me a weird error trying to do it in the directory without the full path. For example:```&#34; data-lang=&#34;Where datastore is the datastore name, virtual machine directory is the directory containing the virtual machine files, and virtual machine name is the name of the virtual machine files. This needs to be the full path, it gave me a weird error trying to do it in the directory without the full path. For example:```&#34;&gt;vim-cmd solo/registervm /vmfs/volumes/Storage1/vm1/vm1.vmx&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;Start the VM and connect to the VNC console configured.&lt;/p&gt;
</description>
    </item>
    
    <item>
      <title>Basic reference openflow controller VMs running in CentOS 6 for KVM.</title>
      <link>https://forwardingplane.net/post/basic-reference-openflow-controller-vms-running-in-centos-6-for-kvm/</link>
      <pubDate>Fri, 26 Apr 2013 04:56:07 +0000</pubDate>
      
      <guid>https://forwardingplane.net/post/basic-reference-openflow-controller-vms-running-in-centos-6-for-kvm/</guid>
      <description>&lt;p&gt;I had been working, off and on, on a how-to for building the &lt;a href=&#34;http://www.opendaylight.org/&#34;&gt;daylight openflow controller&lt;/a&gt; under CentOS.  Most openflow docs and dev are done under ubuntu or debian, and while those are both fantastic alternatives, there are a huge number of folks that will want or need to use RHEL or CentOS. So, seeing as that is the case, having someone be mindful of that is important.  When I saw the &lt;a href=&#34;http://www.dasblinkenlichten.com/installing-opendaylight-on-centos/&#34;&gt;write up&lt;/a&gt; by &lt;a href=&#34;https://twitter.com/blinken_lichten&#34;&gt;Jon Langemak&lt;/a&gt;, I scrapped my attempt at a how-to since his was so much better. If you&amp;rsquo;re not following Jon and reading his blog, you should be.  He&amp;rsquo;s a sharp guy with interesting things to say. &lt;a href=&#34;http://www.forwardingplane.net/wp-content/uploads/2013/04/projectfloodlight-logo-header.png&#34;&gt;&lt;img src=&#34;http://www.forwardingplane.net/wp-content/uploads/2013/04/projectfloodlight-logo-header.png&#34; alt=&#34;projectfloodlight-logo-header&#34; /&gt;&lt;/a&gt; That got me thinking about references and resources, and I decided that I would take a few of the things I had been working on on my home lab and make them available to the masses.  I&amp;rsquo;m a fan of importable base VMs.  So, seeing that I am working on testing openflow controllers, it made sense in my [constantly racing] mind to make the reference, base level VMs available.  If anyone is interested in the &lt;a href=&#34;http://www.projectfloodlight.org/floodlight/&#34;&gt;floodlight controller&lt;/a&gt; running under CentOS 6.3 built using the method documented &lt;a href=&#34;http://www.forwardingplane.net/2013/02/building-a-floodlight-openflow-controller-on-centos-6/&#34; title=&#34;Building a Floodlight OpenFlow controller on CentOS 6&#34;&gt;here&lt;/a&gt;, a KVM image is now available to download from &lt;a href=&#34;http://www.forwardingplane.net/wp-content/uploads/vm-images/centos-floodlight-template.tbz&#34;&gt;here&lt;/a&gt;.  It is, as stated, a KVM image, created by using the method I documented in &lt;a href=&#34;http://www.forwardingplane.net/2013/03/centos-kvm-install-quick-start-to-a-vm/&#34; title=&#34;CentOS KVM Install – Quick Start to a VM&#34;&gt;this post&lt;/a&gt; a few months ago.    There is a readme file in the archive wth basic instructions.  You&amp;rsquo;ll need a basic understanding of &lt;a href=&#34;http://www.linux-kvm.org/page/Main_Page&#34;&gt;KVM&lt;/a&gt; to make it work, or you can try to convert it to something else like vmware, XEN or virtualbox. I&amp;rsquo;ll be adding one of these soon for &lt;a href=&#34;http://www.opendaylight.org/&#34;&gt;daylight&lt;/a&gt; as well.&lt;/p&gt;
</description>
    </item>
    
    <item>
      <title>OpenFlow Hybrid.  It&#39;s a must, not an option.</title>
      <link>https://forwardingplane.net/post/openflow-hybrid-its-a-must-not-an-option/</link>
      <pubDate>Thu, 18 Apr 2013 16:17:37 +0000</pubDate>
      
      <guid>https://forwardingplane.net/post/openflow-hybrid-its-a-must-not-an-option/</guid>
      <description>&lt;p&gt;OpenFlow is, of course, a hot buzzword.  It&amp;rsquo;s the newest, and in my opinion, the most innovative thing to hit data networking since dynamic routing.  The ability to programmatically, systematically and potentially dynamically control traffic at the flow level through a network is innovative, exciting and terrifying [to many network engineers and architects] at the same time.  Allowing applications to touch the network change behavior is something that many engineers are not terribly comfortable with.  I will even admit that a few years ago I was pretty tentative about software changing network hardware.  &lt;a href=&#34;http://www.forwardingplane.net/2011/10/black-hole-routing/&#34; title=&#34;Black Hole routing&#34;&gt;Building a Blackhole router&lt;/a&gt; was an easy way for me to acquaint myself with this and get comfortable with software changing things without human interaction.   Most of my discomfort with this process was the fact that I&amp;rsquo;m not a good developer.  I can hack scripts and read most basic code in Shell, C, Perl, Python and Ruby but I don&amp;rsquo;t actively do anything but an occasional script or &lt;a href=&#34;http://www.forwardingplane.net/2012/11/vdxrancid-contrib-scripts/&#34; title=&#34;VDXrancid contrib scripts&#34;&gt;hack&lt;/a&gt; &lt;a href=&#34;http://www.forwardingplane.net/2011/06/alurancid-and-pfrancid/&#34; title=&#34;alurancid and pfrancid&#34;&gt;to&lt;/a&gt; &lt;a href=&#34;http://www.forwardingplane.net/2010/12/alcatel-lucent-rancid-scripts/&#34; title=&#34;Alcatel Lucent RANCID scripts&#34;&gt;existing projects&lt;/a&gt;. &lt;a href=&#34;http://www.forwardingplane.net/wp-content/uploads/2013/04/Enterprise-Network.jpg&#34;&gt;&lt;img src=&#34;http://www.forwardingplane.net/wp-content/uploads/2013/04/Enterprise-Network-265x300.jpg&#34; alt=&#34;Enterprise Network&#34; /&gt;&lt;/a&gt;Conversely, we&amp;rsquo;re all pretty comfortable with networks as they exist today.  The typical &amp;ldquo;enterprise pyramid&amp;rdquo; is best practice and works very well.  Good physical design is good physical design.  However, where this, and any other network gets hairy is when it scales to hyper scale or the operations team is thin. Here is where things get interesting.  Call it what you want, SDN is changing the way we as networking professionals think about this support model.  Remember managing fat wireless access points?  It became unruly and impossible at scale and once wireless ceased to be a convenience network it was nearly impossible.  Enter wireless controllers and thin access points.  5-7 years later this is now the standard.  The differences, though, is that wireless was still a relatively small footprint comparatively speaking and it wasn&amp;rsquo;t a critical infrastructure before those changes had to happen. The problem that we face now is that we have critical infrastructure and legacy support mechanisms.  It is unreasonable to think that we&amp;rsquo;ll be ripping out a traditional, functional network and replacing it with a greenfield OpenFlow network, regardless of what the researchers and heavy proponents think.  Just like with the transitional mechanisms used in IPv6 deployments, there needs to be a transitional period where both traditional and OpenFlow networks can coexist.  There are a few options for this, but this is a problem that the &lt;a href=&#34;http://networkstatic.net/hybrid-openflow-using-the-normal-action/&#34;&gt;OFPP Normal action&lt;/a&gt; can potentially solve.     &lt;a href=&#34;https://openflow.stanford.edu/static/openflowj/releases/1.0.1/apidocs/org/openflow/protocol/OFPort.html#OFPP_NORMAL&#34;&gt;OFPP Normal&lt;/a&gt; will send a packet in the openflow pipeline to the native switching mechanisms for traditional forwarding, much like having a default route in an IGP handles anything without a more specific route. Based on the &lt;a href=&#34;http://www.openflow.org/documents/openflow-spec-v1.0.0.pdf&#34;&gt;OpenFlow 1.0 spec&lt;/a&gt;, an OpenFlow enabled switch is not required to support all actions, &lt;strong&gt;may&lt;/strong&gt; support the NORMAL action.  I am here to say that my opinion is that this is something that has to happen.  It&amp;rsquo;s is reasonable to say that my understanding of OpenFlow is still evolving, but building networks is something I&amp;rsquo;ve been doing for 15 years.  Green fielding a totally OpenFlow network is almost certainly not going to happen in 95% of cases.  Backwards compatibility with existing networking is going to have to happen. &lt;a href=&#34;http://www.forwardingplane.net/wp-content/uploads/2013/04/tantrum.jpg&#34;&gt;&lt;img src=&#34;http://www.forwardingplane.net/wp-content/uploads/2013/04/tantrum.jpg&#34; alt=&#34;tantrum&#34; /&gt;&lt;/a&gt;As a case study, lets look at the adoption of IPv6.  We actually *need* IPv6.  Has adoption been smooth?  No.  Entities have been dragged into it kicking and screaming and tightly holding on to mechanisms like NAT as a way to delay the inevitable.  I could go on forever about how enterprises, service providers and any other network has caused more harm, pain and unnecessary expense than good by delaying IPv6 over and over&amp;hellip;.but I digress. We [mostly] don&amp;rsquo;t &lt;strong&gt;need&lt;/strong&gt; OpenFlow yet.  Yes, it&amp;rsquo;s useful.  Yes, it has use cases that make a lot of sense.  Making it easy (read: painless) is the key to deployment.   My first reaction is that hybrid mode is the way to do this.  If your vendor doesn&amp;rsquo;t have a hybrid strategy, make them aware that they need one.&lt;/p&gt;
</description>
    </item>
    
    <item>
      <title>Daylight, a new dawn is approaching.</title>
      <link>https://forwardingplane.net/post/daylight-a-new-dawn-is-approaching/</link>
      <pubDate>Tue, 09 Apr 2013 04:25:59 +0000</pubDate>
      
      <guid>https://forwardingplane.net/post/daylight-a-new-dawn-is-approaching/</guid>
      <description>&lt;p&gt;The SDN world is abuzz with the announcement that the &lt;a href=&#34;http://www.opendaylight.org&#34;&gt;OpenDaylight controller&lt;/a&gt; came from stealth mode today.  Why is this important?  Well, SDN and OpenFlow are fractured.  It is Mac vs. PC, Beta vs VHS, Coke vs. Pepsi all over again&amp;hellip;&amp;hellip;multiplied by 100x and with a handful of players. &lt;a href=&#34;http://www.forwardingplane.net/wp-content/uploads/2013/04/logo_opendaylight.png&#34;&gt;&lt;img src=&#34;http://www.forwardingplane.net/wp-content/uploads/2013/04/logo_opendaylight.png&#34; alt=&#34;logo_opendaylight&#34; /&gt;&lt;/a&gt; Vendor zealots and brand loyalists will nearly always side with their camp.  Heck, even I have some biases of personal preference.  But at the end of the day, the greater good is always most important.  This is why I&amp;rsquo;m cautiously optimistic about the daylight project.  From their about page: &lt;em&gt;&amp;ldquo;At this early stage of SDN adoption, the industry acknowledges the benefits of establishing an open, reference framework for programmability and control through an open source SDN solution. Such a framework maintains the flexibility and choice to allow organizations to deploy SDN as they please, yet still mitigates many of the risks of adopting early stage technologies and integrating with existing infrastructure investments.&amp;rdquo;&lt;/em&gt; I find this refreshing.  I understand that there will be a bit of the &amp;ldquo;NDA this&amp;rdquo; and &amp;ldquo;closed that&amp;rdquo;.  These are new grounds being forged.  Vendors and humans in general don&amp;rsquo;t like to feel like they are giving away the farm and leaping into the fire. I tend to, personally, have a bit of the &amp;ldquo;jump and hope I have a parachute on&amp;rdquo; attitude.  I&amp;rsquo;m not risk averse and the thrill of the possibility of failure invigorates me.  That, obviously, is not how billion dollar companies think.  This is why the who&amp;rsquo;s who of &lt;a href=&#34;http://www.opendaylight.org/project/members&#34;&gt;Daylight members&lt;/a&gt; is so encouraging.&lt;/p&gt;

&lt;ul&gt;
&lt;li&gt;Bigswitch&lt;img src=&#34;http://upload.wikimedia.org/wikipedia/commons/thumb/6/67/Collaboration_logo_V2.svg/607px-Collaboration_logo_V2.svg.png&#34; alt=&#34;&#34; /&gt;&lt;/li&gt;
&lt;li&gt;Brocade&lt;/li&gt;
&lt;li&gt;Juniper&lt;/li&gt;
&lt;li&gt;Dell&lt;/li&gt;
&lt;li&gt;Cisco&lt;/li&gt;
&lt;li&gt;Citrix&lt;/li&gt;
&lt;li&gt;Ericsson&lt;/li&gt;
&lt;li&gt;IBM&lt;/li&gt;
&lt;li&gt;Microsoft&lt;/li&gt;
&lt;li&gt;Redhat&lt;/li&gt;
&lt;li&gt;NEC&lt;/li&gt;
&lt;li&gt;VMWare&lt;/li&gt;
&lt;li&gt;Arista&lt;/li&gt;
&lt;li&gt;Fujutsu&lt;/li&gt;
&lt;li&gt;HP&lt;/li&gt;
&lt;li&gt;Intel&lt;/li&gt;
&lt;li&gt;Nuage&lt;/li&gt;
&lt;li&gt;Plumgrid&lt;/li&gt;
&lt;/ul&gt;

&lt;p&gt;Look at that list.  Now look again.  There are names on there that I never would have expected. This project is associated with &lt;a href=&#34;http://www.linuxfoundation.org&#34;&gt;the linux foundation&lt;/a&gt;, an organization that has a core value of &amp;ldquo;Providing Neutral Collaboration and Education&amp;rdquo;&amp;hellip;  several names on this list are almost never associated with &amp;ldquo;Open&amp;rdquo;, Neutral&amp;rdquo; or &amp;ldquo;Transparent&amp;rdquo;. This list and the implications of it by themselves are enough to raise heads, eyebrows and to potentially levitate &lt;a href=&#34;http://ghostbusters.wikia.com/wiki/Dana_Barrett&#34;&gt;Dana Barrett&lt;/a&gt; four feet above her covers. &lt;img src=&#34;http://www.forwardingplane.net/wp-content/uploads/2013/04/levitate-dana.jpg&#34; alt=&#34;levitate-dana&#34; /&gt; Another double take piece of informationis that the project core components are based on the &lt;a href=&#34;http://www.opendaylight.org/announcements/2013/04/industry-leaders-collaborate-opendaylight-project-donate-key-technologies&#34;&gt;Cisco OnePK&lt;/a&gt;.  The fact that the core is the &lt;a href=&#34;http://www.cisco.com/en/US/prod/iosswrel/onepk.html&#34;&gt;Cisco OnePK&lt;/a&gt; is certainly interesting, but the real gem of this is that there is potential collaboration and, more importantly, competition [and innovation] for an SDN controller and networking industry recognition that this &amp;ldquo;software defined networking revolution&amp;rdquo; is happening. Just like any complicated relationship there will be problems, posturing, compromise and impasses.  My thoughts are that the outcome of whatever daylight becomes or doesn&amp;rsquo;t is actually irrelevant.  There is now a far more powerful and encompassing movement happening.  ASIC companies are on board. The Linux foundation is involved.  Flexibility is implied.  Community involvement is encouraged.  Mountains are moving.&lt;/p&gt;
</description>
    </item>
    
    <item>
      <title>A missing link in small MPLS, 10G devices.</title>
      <link>https://forwardingplane.net/post/a-missing-link/</link>
      <pubDate>Fri, 29 Mar 2013 04:43:17 +0000</pubDate>
      
      <guid>https://forwardingplane.net/post/a-missing-link/</guid>
      <description>&lt;p&gt;Lately I&amp;rsquo;ve been lamenting the fact that there seems to be a lack of options in a very specific product level.  Lets say you have a network that looks like this:   &lt;a href=&#34;http://www.forwardingplane.net/wp-content/uploads/2013/03/10G-Bldg1.jpg&#34;&gt;&lt;img src=&#34;http://www.forwardingplane.net/wp-content/uploads/2013/03/10G-Bldg1.jpg&#34; alt=&#34;10G-Bldg&#34; /&gt;&lt;/a&gt;Right Away you&amp;rsquo;re limited since you need MPLS and more than 2 10G interfaces. Even more so if you require full support for IPv6 and ISIS. If budget is of any concern, you&amp;rsquo;re in real trouble. For many, Cisco pricing and smartnet is potentially going to exclude anything reasonable from them.  There are a substantial amount of non-enterprise folks out there that can&amp;rsquo;t afford the significant Cisco price tag but need the features.  I am here to say, this is a problem.  The attitude of &amp;ldquo;if you want the best you have to pay for it&amp;rdquo; doesn&amp;rsquo;t apply.  There is a real need for viable alternatives, not just because we need them, but because competition is a good thing for everyone. Juniper has the MX80, but it has a carrier grade price tag as well.  Juniper has limited MPLS support on the EX series, but the EX4200, which is arguably the most tried and true, has only 2 ports of 10G and, as mentioned, limited MPLS support.  The EX4500 is a tad better with its huge amount of 10G ports, but it has the same limited MPLS support and a crippled ARP and FIB table.  The 4550 with it&amp;rsquo;s single PFE sounds exciting but it has even less. Then you have the Brocade CES/R.  It is close.  The newer version has  4 x 10G ports, MPLS support (with a license), more appropriately priced support and, as a value add, very good OpenFlow support.  It is still limited as far as 10G scalability, so adding more access switches could be problematic. HP has some great products in the Procurve series.  They&amp;rsquo;re inexpensive, rock solid and packed with features. Unfortunately, the ones that meet the port density are fairly good sized chassis and none of them have MPLS.  Now, they do have an intriguing line up in the H3C series.  I believe there may be an option there, however, I have no idea on pricing and have yet to see one actually do MPLS (although they claim support).  I&amp;rsquo;m cautiously optimistic. Then you have Alcatel Lucent.   They do MPLS, they&amp;rsquo;re carrier devices.  They offer a 1U ( (&lt;a href=&#34;http://www.alcatel-lucent.com/products/7210-service-access-switch&#34;&gt;7210 Service Access Switch&lt;/a&gt;) device but I have no idea on cost and I&amp;rsquo;m still looking for 10G port density.  I suspect it is very reasonable.  Their &lt;a href=&#34;http://www.forwardingplane.net/2010/12/alcatel-lucent-rancid-scripts/&#34; title=&#34;Alcatel Lucent RANCID scripts&#34;&gt;CLI is a bit different&lt;/a&gt; but they&amp;rsquo;re very robust devices.  I&amp;rsquo;ve not used any but the 7750, so I cant comment as to how the smaller ones look.  It&amp;rsquo;s a possibility if it has the 10G ports. Arista is very close but they fall short on the MPLS support.   The primary take away from this commentary is that there are not a lot of options that meet the following criteria:&lt;/p&gt;

&lt;ul&gt;
&lt;li&gt;1-2U&lt;/li&gt;
&lt;li&gt;&amp;gt; 4 10G ports&lt;/li&gt;
&lt;li&gt;MPLS&lt;/li&gt;
&lt;li&gt;Dual power supplies&lt;/li&gt;
&lt;li&gt;&amp;gt; 16,000/4,000 IPv4/IPv6 routes&lt;/li&gt;
&lt;li&gt;IPv6 support&lt;/li&gt;
&lt;li&gt;ISIS&lt;/li&gt;
&lt;li&gt;40G uplink&lt;/li&gt;
&lt;li&gt;OpenFlow support or roadmap&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;Reasonably priced&lt;/strong&gt;&lt;/li&gt;
&lt;/ul&gt;

&lt;p&gt;I keep coming back to the old adage of &amp;ldquo;Cheap, Fast, Reliable.  Pick Two&amp;rdquo; and it drives me crazy.  We should have more options but I don&amp;rsquo;t think we do.  I would absolutely &lt;strong&gt;love&lt;/strong&gt; to be wrong, but every time I look at this I feel like I am picking out a cell phone plan.  The affordable ones are never quite enough and the plan above is overkill and too expensive.&lt;/p&gt;
</description>
    </item>
    
    <item>
      <title>My SDN soapbox (now with IPv6!)</title>
      <link>https://forwardingplane.net/post/my-sdn-soapbox-now-with-ipv6/</link>
      <pubDate>Sat, 23 Mar 2013 21:45:17 +0000</pubDate>
      
      <guid>https://forwardingplane.net/post/my-sdn-soapbox-now-with-ipv6/</guid>
      <description>&lt;p&gt;This week there was a lot of buzz about SDN (as usual). There was a&lt;a href=&#34;http://www.lightreading.com/blog/software-defined-networking/sdns-killer-app-more-network-control/240151376&#34;&gt; lightreading thread that I commented on&lt;/a&gt; and a fantastic read by &lt;a href=&#34;http://www.twitter.com/networkstatic&#34;&gt;Brent Salisbury&lt;/a&gt; about &lt;a href=&#34;http://networkstatic.net/be-the-steamroller-not-the-road/&#34;&gt;being the steamroller and not the road&lt;/a&gt; that got me thinking about OpenFlow and SDN in a way I had not before. &lt;a href=&#34;http://www.forwardingplane.net/wp-content/uploads/2013/03/fearofchange.jpg&#34;&gt;&lt;img src=&#34;http://www.forwardingplane.net/wp-content/uploads/2013/03/fearofchange.jpg&#34; alt=&#34;fearofchange&#34; /&gt;&lt;/a&gt; &lt;soapbox&gt; All that is old is new again. I remember when internal networks were small and routing protocols were taboo in many internal environments. RIP (AKA routing by rumor) was about as innovative as we got, OSPF was &amp;ldquo;too complex&amp;rdquo; and was &amp;ldquo;software changing the network topology&amp;rdquo;, according to some folks I worked with in what seems like a lifetime ago. Clearly they didn&amp;rsquo;t have the entire picture and were clouded by FUD. Now using a link state protocol is a standard and one would probably not consider building a complex, production layer 3 network without an IGP like ISIS or OSPFv[&lt;sup&gt;2&lt;/sup&gt;&amp;frasl;&lt;sub&gt;3&lt;/sub&gt;] (or even EIGRP&amp;hellip;I guess). This is simple evolution and progression. The more folks try to resist, the further behind they&amp;rsquo;ll be left. SDN and OpenFlow are not unlike IPv6 in many ways when viewed from a technology implementation perspective, and in fact, we can probably learn from the resistance to IPv6 to help us with the acceptance of SDN and OpenFlow. V6 has been coming for years. It&amp;rsquo;s &lt;em&gt;mostly&lt;/em&gt; here. Backbones have been running it for a very long time and we actually &lt;strong&gt;need&lt;/strong&gt; it on the client side to account for the huge number of hosts now connecting to the public Internet. Many entities, especially very risk averse enterprises, are struggling to resist it (IPv6) and hold onto NAT and IPv4 as long as possible.  While this will almost certainly buy them a handful of years, it&amp;rsquo;s futile.  Translation and transition tech geared toward the folks that refuse to adapt will allow them to grasp onto legacy methodologies for a bit longer, but as the Borg say, &amp;ldquo;resistance is futile&amp;rdquo;. &lt;a href=&#34;http://www.forwardingplane.net/wp-content/uploads/2013/03/Borg.jpg&#34;&gt;&lt;img src=&#34;http://www.forwardingplane.net/wp-content/uploads/2013/03/Borg-300x274.jpg&#34; alt=&#34;Borg&#34; /&gt;&lt;/a&gt; These same things are all going to happen with SDN. What we say is &amp;ldquo;OpenFlow is simply an open protocol for creating flow based forwarding.  It allows for the inclusion of other factors such as Layer4 to make those decisions more tunable and granular.&amp;rdquo; What skeptics hear is &amp;ldquo;There is a hole in the boat, we&amp;rsquo;re all going to die&amp;rdquo; or &amp;ldquo;Network Engineers are all going to be out of a job!&amp;rdquo; or &amp;ldquo;your job is going to be replaced by software&amp;rdquo; or even &amp;ldquo;software and applications will make the way we think about and do everything obsolete&amp;rdquo;, all of which translate to &amp;ldquo;dramatic and drastic change&amp;rdquo;. Most of this is just sensationalism and FUD. In my opinion, though, it is all based in truth .  It may be &amp;ldquo;drastic&amp;rdquo; but it&amp;rsquo;s not dramatic.  It&amp;rsquo;s natural evolution.  It will happen slowly.  We will have to change they way we do things. The proven fact we as networking and security professionals need to remember is that change going to happen with or without SDN, it&amp;rsquo;s the nature of an innovative field like technology to change.  None of us would be doing what we do without being inquisitive enough to figure out problems, challenge norms and shift thinking. SDN, just like IPv6, is happening.  Personally I&amp;rsquo;d rather be knowledgeable about as opposed to in the dark and scrambling to learn about them at the 11th hour. &lt;/soapbox&gt;&lt;/p&gt;
</description>
    </item>
    
    <item>
      <title>Why hardware firewalls are the walking dead</title>
      <link>https://forwardingplane.net/post/why-hardware-firewalls-are-the-walking-dead/</link>
      <pubDate>Mon, 18 Mar 2013 11:02:42 +0000</pubDate>
      
      <guid>https://forwardingplane.net/post/why-hardware-firewalls-are-the-walking-dead/</guid>
      <description>&lt;p&gt;OK, maybe they&amp;rsquo;re not totally dead, but they&amp;rsquo;re being demoted. To the mail room. During the course of my career I&amp;rsquo;ve always had at least some responsibility for firewall and security devices.  In those ~15 years, how these boxes are built and function has shifted.  From the perspective of my career, there were IOS ACLs (yes, I know, not a firewall), there was the IOS firewall versions and there were software packages such as gauntlet, checkpoint.  There was the Cisco PIX. One installation I worked on in a past life even chose to use IPFW on BSD boxes.   Then came was the Sonicwall, a newer take on how to manage a security appliance via a web interface. There was the FWSM.  A few things stayed the same. Dedicated hardware. &lt;img src=&#34;http://www.forwardingplane.net/wp-content/uploads/2013/03/Firewall-1024x670.jpg&#34; alt=&#34;Free Firewall Clipart Illustrations at http://free.ClipartOf.com/&#34; /&gt; Being a networking guy by nature, it always irritated me that the inline security devices were 3 years behind networking&amp;hellip;.at best. Working in a service provider and in research and education has given me a bit of a different take on firewalls and IPS devices as well and has only solidified this belief.   There are a few things that make firewalls and IPS devices an unholy thing in the world that I live in. Since I &lt;strong&gt;love&lt;/strong&gt; bulleted lists, this is an opportunity to use one:&lt;/p&gt;

&lt;ul&gt;
&lt;li&gt;&lt;strong&gt;They get in the way.&lt;/strong&gt;  Of course they to, that is their job.  Big data flows, Multicast, jumbo frames, IPv6.  There are boxes that can &lt;strong&gt;finally&lt;/strong&gt; do these things, but they are 5-7 years behind and even now are often lacking in support and features.&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;They&amp;rsquo;re expensive.&lt;/strong&gt;  When considering CAPEX, they are often prohibitively expensive compared to something like a passive IDS.  Not many budget for a firewall / IPS that can do multi 10G at line rate, IPv6, Multicast and can handle things like GridFTP flows, because until recently they didn&amp;rsquo;t exist.&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;Speeds and Feeds are always first.&lt;/strong&gt;  I worked on 10G and OC192 on the WAN around 2002 with 10G on the LAN around the same time.  The first real firewall I saw that could even fall into consideration for that was the &lt;a href=&#34;http://webcache.googleusercontent.com/search?q=cache:pLu75PgugigJ:www.force10networks.com/news/pressreleases/2006/pr-2006-08-28_2.asp+&amp;amp;cd=1&amp;amp;hl=en&amp;amp;ct=clnk&amp;amp;gl=us&amp;amp;client=safari&#34;&gt;FPGA based P10&lt;/a&gt; from Force10 in 2005 (we had an early demo).  It was a really innovative device but even it was very clunky since it was an FPGA and caused service interruptions every time you needed to push rules to the FPGAs.  The Juniper SRX came much later at 2009, and even &lt;a href=&#34;http://www.forwardingplane.net/2010/09/updating-srx-idp-signatures/&#34; title=&#34;Updating SRX IDP signatures&#34;&gt;it&lt;/a&gt; &lt;a href=&#34;http://www.forwardingplane.net/2011/01/moving-junos-code-between-srx-cluster-nodes/&#34; title=&#34;Moving JunOS code between SRX cluster nodes&#34;&gt;had&lt;/a&gt; &lt;a href=&#34;http://www.forwardingplane.net/2010/10/enabling-ipv6-on-juniper-srx-5800-cluster/&#34; title=&#34;Enabling IPv6 on Juniper SRX 5800 cluster&#34;&gt;some&lt;/a&gt; &lt;a href=&#34;http://www.forwardingplane.net/2010/09/srx-ipv6-flow-based-processing/&#34; title=&#34;SRX IPv6 flow based processing&#34;&gt;issues&lt;/a&gt; back then.  There exists a handful of options now, the Sonicwall SuperMassive, the Juniper SRX  and the Palo Alto come to mind but they&amp;rsquo;re late.  10G is old hat to some of us.  We&amp;rsquo;re on to 40G and 100G.  What now?&lt;/li&gt;
&lt;/ul&gt;

&lt;p&gt;So, lets get down to the buzzwords.  Cloud.  Data Center.  Virtualization.  SDN.  OpenFlow.  Ironically enough, being &amp;ldquo;buzzword compliant&amp;rdquo; is actually relevant to this commentary. With the advent of virtualization of nearly everything, including the network, vendors are adding things like virtualized firewalls.  Juniper has added the &lt;a href=&#34;http://www.juniper.net/us/en/dm/edge/products/&#34;&gt;JunosV Firefly&lt;/a&gt;, Cisco has added the &lt;a href=&#34;http://www.cisco.com/en/US/products/ps12233/index.html&#34;&gt;VSG&lt;/a&gt;.  There are surely others.  This movement is just in it&amp;rsquo;s infancy, but it&amp;rsquo;s big and I would venture to say that it is game changing.  With the huge amounts of cores and memory in virtual machine hosts, it makes sense that the network become part of that for management, total cost of ownership and usability. The really interesting part of all of this comes not with the virtualization of firewalls, but with the commoditization of network silicon.  Chip makers that are spinning ASICS need to make sure their ducks are in a row since, in my personal opinion, there are a lot of options for LAN and data center equipment.  &lt;a href=&#34;http://www.aristanetworks.com&#34;&gt;Arista&lt;/a&gt; is already on top of this.  Others vendors will adopt this methodology as merchant silicon adds more abilities.  Firewalls will are on their way now.  Eventually WAN gear will come around. What I&amp;rsquo;m really excited about is the prospect of a merchant silicon based, 40 or 100G OpenFlow based &amp;ldquo;Firewall&amp;rdquo;.  The foundation is already laid for this.  &lt;a href=&#34;http://www.openflowhub.org/display/floodlightcontroller/Firewall+(Dev)&#34;&gt;Floodlight already has a dev module for building a firewall with OpenFlow&lt;/a&gt;.  I&amp;rsquo;ve not tested this extensively yet.  It&amp;rsquo;s on my short list but wether it works or not isn&amp;rsquo;t really even relevant.  The fact of the matter is that this is the way to a comfortable security perimeter at a reasonable speed for a far more reasonable price tag. &lt;a href=&#34;http://www.forwardingplane.net/wp-content/uploads/2013/03/OF-Firewall.jpg&#34;&gt;&lt;img src=&#34;http://www.forwardingplane.net/wp-content/uploads/2013/03/OF-Firewall.jpg&#34; alt=&#34;OF-Firewall&#34; /&gt;&lt;/a&gt;Think of buying an OpenFlow capable device with 40 and 100G interfaces in it as your firewall and IPS device.  Port cost is very low.  CAPEX is low.  OPEX is also fairly low since it is just a normal piece of network hardware.  Management is accomplished via an OpenFlow controller. Rules are pushed manually or programmatically based entirely on site policy.  IPS functions can be performed via a passive system like BroIDS or Snort triggering rules in OpenFlow much like is being commonly done with &lt;a href=&#34;http://www.forwardingplane.net/2011/10/black-hole-routing/&#34; title=&#34;Black Hole routing&#34;&gt;black hole routers&lt;/a&gt; now. This will happen.  It&amp;rsquo;s already happening. Firewall vendors take notice.  Have a strategy for Virtualization.  Have a strategy for dealing with OpenFlow and SDN. It is my belief that once the reporting and management is even half as good as a &lt;a href=&#34;http://www.paloaltonetworks.com&#34;&gt;Palo Alto&lt;/a&gt; or &lt;a href=&#34;http://www.sonicwall.com&#34;&gt;Sonicwall&lt;/a&gt;, the market will start to change based solely on cost.  &lt;a href=&#34;http://openflow.marist.edu/avior.html&#34;&gt;There is already work being done on this as well&lt;/a&gt;. Am I right?  Time will be the judge, but I suspect I am.&lt;/p&gt;
</description>
    </item>
    
    <item>
      <title>Building a Bridge Domain on MX series JunOS</title>
      <link>https://forwardingplane.net/post/building-a-bridge-domain-on-mx-series-junos/</link>
      <pubDate>Sat, 09 Mar 2013 16:48:48 +0000</pubDate>
      
      <guid>https://forwardingplane.net/post/building-a-bridge-domain-on-mx-series-junos/</guid>
      <description>&lt;p&gt;I started working on Juniper equipment around 2002. At my employer, we had an M40 with the serial number 256.  We did Layer3 only.  I had no idea if the Juniper even did layer2.  It certainly wasn&amp;rsquo;t a layer3 switch like a 6500 like I was used to.  It was like a deliciously robust version of any Layer 3 router I&amp;rsquo;d worked on previously.  Over the years &lt;a href=&#34;http://www.juniper.net/us/en/&#34;&gt;Juniper&lt;/a&gt; has added a &lt;a href=&#34;http://www.juniper.net/us/en/products-services/switching/ex-series/&#34;&gt;switching line&lt;/a&gt; utilizing their FreeBSD based OS, &lt;a href=&#34;http://www.juniper.net/us/en/products-services/nos/junos/&#34;&gt;JunOS&lt;/a&gt;. All that being said, I&amp;rsquo;d never really messed with doing a layer2 transit VLAN on a JunOS routing platform.  Lets say we want to make 2 VLANs and transit them up through the WAN.  Here is how to make it work on an MX: Create the bridge domains:```
set bridge-domains vlan-123 domain-type bridge
set bridge-domains vlan-123 vlan-id 123
set bridge-domains vlan-124 domain-type bridge
set bridge-domains vlan-123 vlan-id 124&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre style=&#34;color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4&#34;&gt;&lt;code class=&#34;language-Configure the interfaces facing south (LAN) to nbe members of the VLAN:```&#34; data-lang=&#34;Configure the interfaces facing south (LAN) to nbe members of the VLAN:```&#34;&gt;set interfaces xe-1/0/0 description &amp;#34;SW1 xe-1/1/0&amp;#34;
set interfaces xe-1/0/0 mtu 9192
set interfaces xe-1/0/0 unit 0 description &amp;#34;Untagged VLAN 123&amp;#34;
set interfaces xe-1/0/0 unit 0 family bridge interface-mode access
set interfaces xe-1/0/0 unit 0 family bridge vlan-id 123

set interfaces xe-1/0/1 description &amp;#34;SW1 xe-1/1/1&amp;#34;
set interfaces xe-1/0/1 mtu 9192
set interfaces xe-1/0/1 unit 0 description &amp;#34;Untagged VLAN 123&amp;#34;
set interfaces xe-1/0/1 unit 0 family bridge interface-mode access
set interfaces xe-1/0/1 unit 0 family bridge vlan-id 123

set interfaces xe-1/0/2 description &amp;#34;SW2 xe-1/1/2&amp;#34;
set interfaces xe-1/0/2 mtu 9192
set interfaces xe-1/0/2 unit 0 description &amp;#34;Untagged VLAN 124&amp;#34;
set interfaces xe-1/0/2 unit 0 family bridge interface-mode access
set interfaces xe-1/0/2 unit 0 family bridge vlan-id 124

set interfaces xe-1/0/3 description &amp;#34;SW2 xe-1/1/3&amp;#34;
set interfaces xe-1/0/3 mtu 9192
set interfaces xe-1/0/3 unit 0 description &amp;#34;Untagged VLAN 124&amp;#34;
set interfaces xe-1/0/3 unit 0 family bridge interface-mode access
set interfaces xe-1/0/3 unit 0 family bridge vlan-id 124&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;Now add it to the uplink (that in this case has a layer3 instance on it as well):```
set interfaces et-5/0/0 description &amp;ldquo;100G North&amp;rdquo;
set interfaces et-5/0/0 vlan-tagging
set interfaces et-5/0/0 mtu 9192
set interfaces et-5/0/0 unit 123 description &amp;ldquo;L3 testing vlan 123&amp;rdquo;
set interfaces et-5/0/0 unit 123 family bridge interface-mode trunk
set interfaces et-5/0/0 unit 123 family bridge vlan-id-list 123
set interfaces et-5/0/0 unit 124 description &amp;ldquo;L3 testing vlan 124&amp;rdquo;
set interfaces et-5/0/0 unit 124 family bridge interface-mode trunk
set interfaces et-5/0/0 unit 124 family bridge vlan-id-list 124
set interfaces et-5/0/0 unit 100 description &amp;ldquo;VLAN100 Layer3 Peering&amp;rdquo;
set interfaces et-5/0/0 unit 100 vlan-id 100
set interfaces et-5/0/0 unit 100 family inet mtu 9000
set interfaces et-5/0/0 unit 100 family inet address 10.100.100.&lt;sup&gt;1&lt;/sup&gt;&amp;frasl;&lt;sub&gt;30&lt;/sub&gt;
set interfaces et-5/0/0 unit 100 family inet6 mtu 9000
set interfaces et-5/0/0 unit 10 family inet6 address 2001:fd8:a100:100::&lt;sup&gt;1&lt;/sup&gt;&amp;frasl;&lt;sub&gt;64&lt;/sub&gt;&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre style=&#34;color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4&#34;&gt;&lt;code class=&#34;language-Now check your bridge table:```&#34; data-lang=&#34;Now check your bridge table:```&#34;&gt;buraglio@mx480&amp;gt; show bridge domain    

Routing instance        Bridge domain            VLAN ID     Interfaces
default-switch          vlan-123                 123      
                                                             et-5/0/0.123
                                                             xe-1/0/0.0
                                                             xe-1/0/1.0
                                                            
default-switch          vlan-124                 124      
                                                             et-5/0/0.124
                                                             xe-1/0/2.0
                                                             xe-1/0/3.0
                                                        &lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;That&amp;rsquo;s it. Pretty straightforward.&lt;/p&gt;
</description>
    </item>
    
    <item>
      <title>Network Field Day 5 - Participate Remotely</title>
      <link>https://forwardingplane.net/post/network-field-day-5/</link>
      <pubDate>Wed, 06 Mar 2013 14:59:05 +0000</pubDate>
      
      <guid>https://forwardingplane.net/post/network-field-day-5/</guid>
      <description>&lt;p&gt;Last year, &lt;a href=&#34;http://techfieldday.com/event/nfd5/&#34;&gt;Networking Field Day&lt;/a&gt; was something that I&amp;rsquo;d heard of but wasn&amp;rsquo;t really aware of what is really was.  I occasionally looked at Twitter and saw the hash tags but did not know much about how it was set up or what it was about.  In fact, I actually thought it was supposed to be like the HAM radio field day stuff where you go out and build out an emergency network on the fly.  OK, I should have done more homework, admittedly. Fast forward 6 months. I&amp;rsquo;m working more and more with &lt;a href=&#34;http://www.networkstatic.com&#34;&gt;Brent Salisbury&lt;/a&gt; on day job stuff and he&amp;rsquo;s encouraging me to brush the dust off of my &lt;a href=&#34;http://www.forwardingplane.net&#34;&gt;old blog&lt;/a&gt; (which became this site). I&amp;rsquo;m working more on &lt;a href=&#34;http://www.forwardingplane.net/2013/02/building-a-floodlight-openflow-controller-on-centos-6/&#34; title=&#34;Building a Floodlight OpenFlow controller on CentOS 6&#34;&gt;OpenFlow&lt;/a&gt;,  virtualization stuff like &lt;a href=&#34;http://www.forwardingplane.net/2013/03/centos-kvm-install-quick-start-to-a-vm/&#34; title=&#34;CentOS KVM Install – Quick Start to a VM&#34;&gt;KVM&lt;/a&gt;, &lt;a href=&#34;http://www.forwardingplane.net/2013/01/headless-virtualbox-host-on-centos/&#34; title=&#34;Headless VirtualBox host on CentOS&#34;&gt;VirtualBox&lt;/a&gt; and &lt;a href=&#34;http://www.vmware.com&#34;&gt;VMware&lt;/a&gt; and bringing up 100G WAN links.  I even had the extremely cool opportunity to do a &lt;a href=&#34;http://packetpushers.net/show-131-golf-cart-in-my-fibre-tunnel/&#34;&gt;Packet Pushers Podcast&lt;/a&gt;. Many of these things are a direct result of becoming more engaged in the larger community, a networking community I had pretty much carved myself out of back in 2002 when I left the service provider world for R&amp;amp;E.  This self isolation was a bit of an oversight on my part. What I did not realize was that, as someone in R&amp;amp;E, I had a unique perspective on some of the industry products and direction and was often seeing things a lot sooner than the general enterprise world. As I got more and more engaged I realized that there were a &lt;strong&gt;lot&lt;/strong&gt; of great folks out there that like to collaborate, share and write about their professional experiences in our field of choice.  These same people were doing innovative and interesting things that I didn&amp;rsquo;t know about.  &lt;a href=&#34;http://techfieldday.com/event/nfd5/&#34;&gt;NFD&lt;/a&gt; was one of those things.  So, I started to write down more of the things I was thinking and doing.  I figured that at least someone would find them useful or interesting or at least fodder for solving insomnia.  When I was asked to participate and come out to NFD5, I was both ecstatic and humbled at the same time.  This was the place where the networking industry thought leaders go to convene and discuss directionality as well as current networking technologies. Just to relay the scale and scope of the folks involved, here is the list of delegates for NFD5:  &lt;/p&gt;

&lt;p&gt;&lt;a href=&#34;http://techfieldday.com/delegate/brandon-carroll/&#34;&gt;&lt;img src=&#34;http://techfieldday.com/wp-content/uploads/2012/08/Carroll-wpcf_60x60.jpeg&#34; alt=&#34;http://techfieldday.com/wp-content/uploads/2012/08/Carroll-wpcf_60x60.jpeg&#34; title=&#34;http://techfieldday.com/wp-content/uploads/2012/08/Carroll-wpcf_60x60.jpeg&#34; /&gt;&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;&lt;a href=&#34;http://techfieldday.com/delegate/brandon-carroll/&#34;&gt;Brandon Carroll&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;&lt;a href=&#34;http://twitter.com/BrandonCarroll&#34;&gt;@BrandonCarroll&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;CCIE Instructor, Blogger, and Technology Enthusiast&lt;/p&gt;

&lt;p&gt;&lt;a href=&#34;http://techfieldday.com/delegate/brent-salisbury/&#34;&gt;&lt;img src=&#34;http://techfieldday.com/wp-content/uploads/2012/08/brent-salisbury1-wpcf_60x60.jpeg&#34; alt=&#34;http://techfieldday.com/wp-content/uploads/2012/08/brent-salisbury1-wpcf_60x60.jpeg&#34; title=&#34;http://techfieldday.com/wp-content/uploads/2012/08/brent-salisbury1-wpcf_60x60.jpeg&#34; /&gt;&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;&lt;a href=&#34;http://techfieldday.com/delegate/brent-salisbury/&#34;&gt;Brent Salisbury&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;&lt;a href=&#34;http://twitter.com/NetworkStatic&#34;&gt;@NetworkStatic&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;Brent Salisbury works as a Network Architect, CCIE #11972.&lt;/p&gt;

&lt;p&gt;&lt;a href=&#34;http://techfieldday.com/delegate/colin-mcnamara/&#34;&gt;&lt;img src=&#34;http://techfieldday.com/wp-content/uploads/2012/08/cmcnamara-headshot-2011-color-scaled-wpcf_42x60.jpg&#34; alt=&#34;http://techfieldday.com/wp-content/uploads/2012/08/cmcnamara-headshot-2011-color-scaled-wpcf_42x60.jpg&#34; title=&#34;http://techfieldday.com/wp-content/uploads/2012/08/cmcnamara-headshot-2011-color-scaled-wpcf_42x60.jpg&#34; /&gt;&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;&lt;a href=&#34;http://techfieldday.com/delegate/colin-mcnamara/&#34;&gt;Colin McNamara&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;&lt;a href=&#34;http://twitter.com/ColinMcNamara&#34;&gt;@ColinMcNamara&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;Colin McNamara is a seasoned professional with over 15 years experience with network and systems technologies.&lt;/p&gt;

&lt;p&gt;&lt;a href=&#34;http://techfieldday.com/delegate/ethan-banks/&#34;&gt;&lt;img src=&#34;http://techfieldday.com/wp-content/uploads/2012/08/ethan-banks-headshot-500x667-wpcf_44x60.jpg&#34; alt=&#34;http://techfieldday.com/wp-content/uploads/2012/08/ethan-banks-headshot-500x667-wpcf_44x60.jpg&#34; title=&#34;http://techfieldday.com/wp-content/uploads/2012/08/ethan-banks-headshot-500x667-wpcf_44x60.jpg&#34; /&gt;&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;&lt;a href=&#34;http://techfieldday.com/delegate/ethan-banks/&#34;&gt;Ethan Banks&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;&lt;a href=&#34;http://twitter.com/ECBanks&#34;&gt;@ECBanks&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;Ethan Banks, CCIE #20655, is a hands-on networking practitioner who has designed, built and maintained networks for higher education, state government, financial institutions, and technology corporations.&lt;/p&gt;

&lt;p&gt;&lt;a href=&#34;http://techfieldday.com/delegate/greg-ferro/&#34;&gt;&lt;img src=&#34;http://techfieldday.com/wp-content/uploads/2012/08/Ferro-wpcf_60x39.jpg&#34; alt=&#34;http://techfieldday.com/wp-content/uploads/2012/08/Ferro-wpcf_60x39.jpg&#34; title=&#34;http://techfieldday.com/wp-content/uploads/2012/08/Ferro-wpcf_60x39.jpg&#34; /&gt;&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;&lt;a href=&#34;http://techfieldday.com/delegate/greg-ferro/&#34;&gt;Greg Ferro&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;&lt;a href=&#34;http://twitter.com/EtherealMind&#34;&gt;@EtherealMind&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;Over the last twenty odd years, Greg has worked Sales, Technical and IT Management but mostly he delivers Network Architecture and Design. Today he works as a Freelance Consultant for F100 companies in the UK &amp;amp; Europe focussing on Data Centres, Security and Operational Automation.&lt;/p&gt;

&lt;p&gt;&lt;a href=&#34;http://techfieldday.com/delegate/john-herbert/&#34;&gt;&lt;img src=&#34;http://techfieldday.com/wp-content/uploads/2012/09/johnherbert-wpcf_60x60.jpeg&#34; alt=&#34;http://techfieldday.com/wp-content/uploads/2012/09/johnherbert-wpcf_60x60.jpeg&#34; title=&#34;http://techfieldday.com/wp-content/uploads/2012/09/johnherbert-wpcf_60x60.jpeg&#34; /&gt;&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;&lt;a href=&#34;http://techfieldday.com/delegate/john-herbert/&#34;&gt;John Herbert&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;&lt;a href=&#34;http://twitter.com/MrTugs&#34;&gt;@MrTugs&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;John has worked in the networking industry for 14 years, and obtained his CCIE Routing &amp;amp; Switching in early 2001.&lt;/p&gt;

&lt;p&gt;&lt;a href=&#34;http://techfieldday.com/delegate/jon-langemak/&#34;&gt;&lt;img src=&#34;http://techfieldday.com/wp-content/uploads/2013/02/profile_picture-wpcf_52x60.jpg&#34; alt=&#34;http://techfieldday.com/wp-content/uploads/2013/02/profile_picture-wpcf_52x60.jpg&#34; title=&#34;http://techfieldday.com/wp-content/uploads/2013/02/profile_picture-wpcf_52x60.jpg&#34; /&gt;&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;&lt;a href=&#34;http://techfieldday.com/delegate/jon-langemak/&#34;&gt;Jon Langemak&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;&lt;a href=&#34;http://twitter.com/blinken_lichten&#34;&gt;@blinken_lichten&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;Jon Langemak is a Network Engineer, tech blogger, and dedicated tech enthusiast.&lt;/p&gt;

&lt;p&gt;&lt;a href=&#34;http://techfieldday.com/delegate/josh-obrien/&#34;&gt;&lt;img src=&#34;http://techfieldday.com/wp-content/uploads/2012/08/OBrien-wpcf_60x60.jpeg&#34; alt=&#34;http://techfieldday.com/wp-content/uploads/2012/08/OBrien-wpcf_60x60.jpeg&#34; title=&#34;http://techfieldday.com/wp-content/uploads/2012/08/OBrien-wpcf_60x60.jpeg&#34; /&gt;&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;&lt;a href=&#34;http://techfieldday.com/delegate/josh-obrien/&#34;&gt;Josh O’Brien&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;&lt;a href=&#34;http://twitter.com/JoshOBrien77&#34;&gt;@JoshOBrien77&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;Josh has worked in the industry for 14 years and is now serving as CTO in the Telemedicine sector.&lt;/p&gt;

&lt;p&gt;&lt;a href=&#34;http://techfieldday.com/delegate/paul-stewart/&#34;&gt;&lt;img src=&#34;http://techfieldday.com/wp-content/uploads/2012/08/IMG_0264-002-wpcf_60x60.jpg&#34; alt=&#34;http://techfieldday.com/wp-content/uploads/2012/08/IMG_0264-002-wpcf_60x60.jpg&#34; title=&#34;http://techfieldday.com/wp-content/uploads/2012/08/IMG_0264-002-wpcf_60x60.jpg&#34; /&gt;&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;&lt;a href=&#34;http://techfieldday.com/delegate/paul-stewart/&#34;&gt;Paul Stewart&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;&lt;a href=&#34;http://twitter.com/PacketU&#34;&gt;@PacketU&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;Paul Stewart is a Network and Security Engineer, Trainer and Blogger who enjoys understanding how things really work.&lt;/p&gt;

&lt;p&gt;&lt;a href=&#34;http://techfieldday.com/delegate/pete-welcher/&#34;&gt;&lt;img src=&#34;http://techfieldday.com/wp-content/uploads/2013/02/DSC6539smaller2-wpcf_60x47.jpg&#34; alt=&#34;http://techfieldday.com/wp-content/uploads/2013/02/DSC6539smaller2-wpcf_60x47.jpg&#34; title=&#34;http://techfieldday.com/wp-content/uploads/2013/02/DSC6539smaller2-wpcf_60x47.jpg&#34; /&gt;&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;&lt;a href=&#34;http://techfieldday.com/delegate/pete-welcher/&#34;&gt;Pete Welcher&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;&lt;a href=&#34;http://twitter.com/pjwelcher&#34;&gt;@pjwelcher&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;Pete is a 15+ year CCIE who loves network design, and is currently avidly learning various datacenter technologies.&lt;/p&gt;

&lt;p&gt;&lt;a href=&#34;http://techfieldday.com/delegate/terry-slattery/&#34;&gt;&lt;img src=&#34;http://techfieldday.com/wp-content/uploads/2012/08/Slattery-wpcf_60x50.jpg&#34; alt=&#34;http://techfieldday.com/wp-content/uploads/2012/08/Slattery-wpcf_60x50.jpg&#34; title=&#34;http://techfieldday.com/wp-content/uploads/2012/08/Slattery-wpcf_60x50.jpg&#34; /&gt;&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;&lt;a href=&#34;http://techfieldday.com/delegate/terry-slattery/&#34;&gt;Terry Slattery&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;Terry Slattery, CCIE #1026, is a senior network engineer with decades of experience in the internetworking industry.&lt;/p&gt;

&lt;p&gt;&lt;a href=&#34;http://techfieldday.com/delegate/tom-hollingsworth/&#34;&gt;&lt;img src=&#34;http://techfieldday.com/wp-content/uploads/2012/08/bwry5mviq6ss0pe6m517-wpcf_46x60.png&#34; alt=&#34;http://techfieldday.com/wp-content/uploads/2012/08/bwry5mviq6ss0pe6m517-wpcf_46x60.png&#34; title=&#34;http://techfieldday.com/wp-content/uploads/2012/08/bwry5mviq6ss0pe6m517-wpcf_46x60.png&#34; /&gt;&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;&lt;a href=&#34;http://techfieldday.com/delegate/tom-hollingsworth/&#34;&gt;Tom Hollingsworth&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;&lt;a href=&#34;http://twitter.com/NetworkingNerd&#34;&gt;@NetworkingNerd&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;Tom Hollingsworth, CCIE #29213, is a Senior Solutions Architect for a small VAR focusing primarily on K-12 education.&lt;/p&gt;

&lt;p&gt;In addition to the above folks, &lt;a href=&#34;http://blog.fosketts.net&#34;&gt;Steven Foskett&lt;/a&gt;, who is as prolific of a tech writer as he is experienced in the industry holds it all together and brings it to the public. The list of vendor participants is also deep.  &lt;a href=&#34;http://www.cisco.com&#34;&gt;Cisco&lt;/a&gt;, &lt;a href=&#34;http://www.juniper.net&#34;&gt;Juniper&lt;/a&gt;, &lt;a href=&#34;http://www.ruckuswireless.com&#34;&gt;Ruckus Wireless&lt;/a&gt;, &lt;a href=&#34;www.plexxi.com/&#34;&gt;Plexxi&lt;/a&gt;, &lt;a href=&#34;www.brocade.com/&#34;&gt;Brocade&lt;/a&gt; and &lt;a href=&#34;http://www.solarwinds.com&#34;&gt;SolarWinds&lt;/a&gt; are all on the docket. Unfortunately for me, I was not able to attend due to work scheduling and coordination of family stuff, something I truly lament.  To think that I was even considered to be on that list is truly humbling and something I&amp;rsquo;m very proud of. Not being able to attend, I wanted to participate as much as I could, so I started looking around and talking to folks and found the link to the live feed as well as the Twitter hashtag. It seems like a good idea to put this out there to as many folks as possible to not only bring attention to the fact that this is happening, but that you can participate from wherever you are.  I would encourage anyone who reads this and is interested in Networking as a profession, or is already in our industry, to pay attention to the Tech Field Day events.  Watch the live stream.  Ask questions and make comments on Twitter via the hashtag &lt;a href=&#34;https://twitter.com/search?q=%23NFD5&#34;&gt;#NFD5&lt;/a&gt;.  Get involved. During the event you should be able to do a live stream from right inside this post or from the &lt;a href=&#34;http://techfieldday.com/event/nfd5/&#34;&gt;NFD5 page&lt;/a&gt;.&lt;/p&gt;
</description>
    </item>
    
    <item>
      <title>Tuning BGP installed IPv6 routes</title>
      <link>https://forwardingplane.net/post/tuning-bgp-installed-ipv6-routes/</link>
      <pubDate>Sat, 02 Mar 2013 13:15:37 +0000</pubDate>
      
      <guid>https://forwardingplane.net/post/tuning-bgp-installed-ipv6-routes/</guid>
      <description>&lt;p&gt;I&amp;rsquo;ve recently run into a situation where there was no longer enough space in the FIB to handle both the full IPv4 global table and the full IPv6 global table.  We prefer to run a default-free network within this particular SP network, but in this case, until a hardware refresh can happen, we&amp;rsquo;ll need to adjust that.  Given what we knew about the size of both tables, it made more sense to take a default IPv6 route from one transit provider and filter the rest.  How we did this isn&amp;rsquo;t a groundbreaking marvel by any means, but it&amp;rsquo;s probably worth writing down for someone else to reference since it also applies to IPv4. Since we already have global tables, a request to add IPv6 default to our existing full IPv6 table was made to one transit provider.  After that request was fulfilled, filter adjustments were made.  It should be note that all of these configs were generated off of Brocade MLX routers, so they may look a tad different than an IOS device. Create a prefix list to reference that will allow default:```
ipv6 prefix-list V6-PERMIT-DEFAULT seq 5 permit ::/0&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre style=&#34;color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4&#34;&gt;&lt;code class=&#34;language-Create the route map:```&#34; data-lang=&#34;Create the route map:```&#34;&gt;route-map IPv6-TRANSIT-DEFAULT-IN permit 100
match ipv6 address prefix-list IPv6-PERMIT-DEFAULT&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;Add the route-map to the peer:```
neighbor 2001:fd8:e00::2 route-map in IPv6-TRANSIT-DEFAULT-IN&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre style=&#34;color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4&#34;&gt;&lt;code class=&#34;language-Before:```&#34; data-lang=&#34;Before:```&#34;&gt;Neighbor Address AS#  State Time  Rt:Accepted Filtered Sent ToSend
2001:fd8:e00::2 65001 ESTAB 15d10h34m  12003    0       14    0&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;After:```
Neighbor Address AS#  State Time  Rt:Accepted Filtered Sent ToSend
2001:fd8:e00::2 65001 ESTAB 15d10h34m     1    12002     14    0&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre style=&#34;color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4&#34;&gt;&lt;code class=&#34;language-Now we&#39;ll need to filter the prefixes of every other peer to allow for only IPv6 routes sized /32 or larger:```&#34; data-lang=&#34;Now we&#39;ll need to filter the prefixes of every other peer to allow for only IPv6 routes sized /32 or larger:```&#34;&gt;route-map IPv6-BILAT-IN permit 100
 match ipv6 address prefix-list IPv6-PERMIT-ANY-32
 set community 65403:1425
 set local-preference 200 

ipv6 prefix-list IPv6-PERMIT-ANY-32 seq 5 permit ::/0 le 32&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;Once applied to the peers this will limit the routes installed into the FIB. Install them by adding the route-map to the appropriate peers:&lt;code&gt;
neighbor 2001:db8:0:300e::1 route-map in IPv6-BILAT-IN
&lt;/code&gt;```
SSH@RTR7#sh ipv6 bgp summary
  BGP4 Summary
  Router ID: 10.6.16.10   Local AS Number: 65403
  Confederation Identifier: not configured
  Confederation Peers:
  Maximum Number of IP ECMP Paths Supported for Load Sharing: 1
  Number of Neighbors Configured: 16, UP: 16
  Number of Routes Installed: 15297, Uses 1315542 bytes
  Number of Routes Advertising to All Neighbors: 50641 (5632 entries), Uses 270336 bytes
  Number of Attribute Entries Installed: 26036, Uses 2343240 bytes
  Neighbor Address  AS#         State     Time     Rt:Accepted Filtered Sent     ToSend&lt;/p&gt;

&lt;p&gt;2001:db8:1900:b::2
                      65531       ESTAB    56d 8h52m    14       0        2        0&lt;br /&gt;
  2001:db8:f000:213a::1
                      65164       ESTAB     3d19h31m    4187     4535     2        0&lt;br /&gt;
  2001:db8:0:300e::1
                      65381       ESTAB    56d 8h35m    5087     6532     2        0&lt;br /&gt;
  2001:db8:5fff:1::1
                      65237       ESTAB   149d16h18m    11       0        2        0&lt;br /&gt;
  2001:db8:1:102::1
                      65100       ESTAB    24d16h55m    3        0        2        0&lt;br /&gt;
  2001:db8:f10:1::1   65403       ESTAB   453d12h42m    3        0        5625     0&lt;br /&gt;
  2001:db8:f10:1::2   65403       ESTAB   101d21h24m    2        0        5625     0&lt;br /&gt;
  2001:db8:f10:1::3   65403       ESTAB   453d11h29m    1        0        5625     0&lt;br /&gt;
  2001:db8:f10:1::4   65403       ESTAB   453d11h 8m    1        0        5625     0&lt;br /&gt;
  2001:db8:f10:1::5   65403       ESTAB   453d12h17m    1        0        5625     0&lt;br /&gt;
  2001:db8:f10:1::6   65403       ESTAB   453d12h 3m    1        0        5625     0&lt;br /&gt;
  2001:db8:f10:1::7   65403       ESTAB   453d11h36m    1        0        5625     0&lt;br /&gt;
  2001:db8:f10:1::8   65403       ESTAB   160d17h52m    5078     0        5625     0&lt;br /&gt;
  2001:db8:f10:1::9   65403       ESTAB   453d11h 3m    1        0        5625     0&lt;br /&gt;
  2001:db8:f10:6013::2
                      65532       ESTAB    15d19h50m    904      3        2        0&lt;br /&gt;
  2001:db8:f10:6016::2
                      65527       ESTAB   126d15h29m    1        0        2        0
```As you can see, peers on AS65164 and AS65381 are both filtering a large amount of traffic that is smaller than /32. Couple that with the inclusion of a default route and the traffic has a good deal of best path and a default for everything else. Its not exactly the most elegant, but it does solve a problem that folks may be seeing on aging equipment with limited resources.&lt;/p&gt;
</description>
    </item>
    
    <item>
      <title>CentOS KVM Install - Quick Start to a VM</title>
      <link>https://forwardingplane.net/post/centos-kvm-install-quick-start-to-a-vm/</link>
      <pubDate>Sat, 02 Mar 2013 01:12:02 +0000</pubDate>
      
      <guid>https://forwardingplane.net/post/centos-kvm-install-quick-start-to-a-vm/</guid>
      <description>&lt;p&gt;I am a network engineer by profession, but with the proliferation of SDN and OpenFlow, I have had to spend a lot of time re-learning a lot of system admin skills that I&amp;rsquo;d shelved years ago.  Now, I&amp;rsquo;ve been a virtualization user forever. From &lt;a href=&#34;http://www.vmware.com&#34;&gt;VMware&lt;/a&gt; (Fusion, ESX), &lt;a href=&#34;https://www.virtualbox.org&#34;&gt;VirtualBox&lt;/a&gt;, to &lt;a href=&#34;www.parallels.com&#34;&gt;Parallels&lt;/a&gt;, I&amp;rsquo;ve used them at least in testing if not in production environments.  I&amp;rsquo;d not really spent any mentionable amount of time with &lt;a href=&#34;http://www.xen.org&#34;&gt;XEN&lt;/a&gt;, &lt;a href=&#34;http://www.qemu.org&#34;&gt;qEMU&lt;/a&gt; or &lt;a href=&#34;www.linux-kvm.org&#34;&gt;KVM&lt;/a&gt;, but some projects I was working on suggested it for the virtualization mechanism, so I figured I&amp;rsquo;d try to pick it up.  I think the hosting provider  of this blog is using it to provide the VPS that this site runs on, so it is clearly production quality.  In looking around for a straightforward how-to, a few things became obvious pretty quickly: KVM is very robust. KVM and qEMU have got a lot of documentation, but not all of it is straightforward. They have a lot of pieces needed to make it work efficiently. It wasn&amp;rsquo;t a plug and run experience, by any means.  I wanted a headless, remotely manageable system that ran on a bare minimum install (i.e. no GUI).  After a late evening of hacking at it,  here is what I finally had to do to get it running and build a functional VM on a fresh install of CentOS 6.3. Install all the dependancies.  And there were many.  Coming from using the VirtualBox CLI, little things that I expected didn&amp;rsquo;t work if I didn&amp;rsquo;t have this or that installed.```
yum install -y qemu-kvm.x86_64 qemu-kvm-tools.x86_64 &lt;br /&gt;
kvm libvirt bridge-utils tunctl python-virtinst.noarch avahi&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre style=&#34;color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4&#34;&gt;&lt;code class=&#34;language-Restart the deamons```&#34; data-lang=&#34;Restart the deamons```&#34;&gt;/etc/init.d/messagebus restart
/etc/init.d/avahi-daemon restart
/etc/init.d/libvirtd restart&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;Make the new daemons start at boot:```
/sbin/chkconfig messagebus on
/sbin/chkconfig avahi-daemon on&lt;/p&gt;

&lt;pre&gt;&lt;code&gt;
I want to bridge rather than NAT.  My VMs need to have a public (or same LAN segment) address as the rest of the hosts for external management and availability of inbound services.  For this, we need to adjust the interfaces.  I want to run the bridge on a second interface and keep the host system management on a dedicated interface.

&lt;/code&gt;&lt;/pre&gt;

&lt;p&gt;vi /etc/sysconfig/network-scripts/ifcfg-eth1&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre style=&#34;color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4&#34;&gt;&lt;code class=&#34;language-Your file should look something like this when done:```&#34; data-lang=&#34;Your file should look something like this when done:```&#34;&gt;DEVICE=&amp;#34;eth1&amp;#34;
HWADDR=&amp;#34;c0:ff:ee:c0:ff:ee&amp;#34; # (leave this as your MAC address)
NM\_CONTROLLED=&amp;#34;yes&amp;#34;
 BRIDGE=br0
 ONBOOT=&amp;#34;yes&amp;#34;
UUID=&amp;#34;a9c26927-7650-42e9-a86a-1ae1227eac4b&amp;#34; #leave this as your UUID)
``````
vi /etc/sysconfig/network-scripts/ifcfg-br0&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;Your file should look something like this when done:&lt;/p&gt;

&lt;pre&gt;&lt;code&gt;DEVICE=&amp;quot;br0&amp;quot;
TYPE=&amp;quot;Bridge&amp;quot;
BOOTPROTO=&amp;quot;static&amp;quot;
IPADDR=&amp;quot;10.10.10.50&amp;quot; # Use your own IP address
NETMASK=&amp;quot;255.255.255.128&amp;quot;
GATEWAY=&amp;quot;10.10.10.1&amp;quot;  # Provide your gateway
IPV6INIT=&amp;quot;yes&amp;quot;
IPV6\_AUTOCONF=&amp;quot;yes&amp;quot;
NM\_CONTROLLED=&amp;quot;yes&amp;quot;
ONBOOT=&amp;quot;yes&amp;quot;
&lt;/code&gt;&lt;/pre&gt;

&lt;p&gt;Restart the network to make it active.&lt;/p&gt;

&lt;pre&gt;&lt;code&gt;service network restart
&lt;/code&gt;&lt;/pre&gt;

&lt;p&gt;You&amp;rsquo;re going to use virt tools and virsh to manipulate the guests.  I tried it a few other ways and this seems far more supportable.  I wanted to install a CentOS 6.3 guest, I grabbed the install media from a &lt;a href=&#34;http://cosmos.cites.illinois.edu/pub/centos/6.3/isos/x86_64/&#34;&gt;local mirror&lt;/a&gt;.  I have a volume mounted as /services that I keep stuff in.```
mkdir /services/vm/template-host
cd /services/vm/template-host
wget &lt;a href=&#34;http://cosmos.cites.illinois.edu/pub/centos/6.3/isos/x86_64/CentOS-6.3-x86_64-bin-DVD1.iso&#34;&gt;http://cosmos.cites.illinois.edu/pub/centos/6.3/isos/x86_64/CentOS-6.3-x86_64-bin-DVD1.iso&lt;/a&gt;&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre style=&#34;color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4&#34;&gt;&lt;code class=&#34;language-Now use the virt-install command to boot the system with the following parameters: 2G of RAM 50G disk named disk.img Console redirected to a VNC instance on port 5901 Network interface attached to br0 4 CPUs CDROM points to install image```&#34; data-lang=&#34;Now use the virt-install command to boot the system with the following parameters: 2G of RAM 50G disk named disk.img Console redirected to a VNC instance on port 5901 Network interface attached to br0 4 CPUs CDROM points to install image```&#34;&gt;virt-install --name template-host --ram 2048 --disk /home/vm/template-host/disk.img,size=50 \\
--graphics vnc,port=5901 --network bridge=br0 --vcpus=4 --os-type=linux \\
--cdrom=/home/vm/Install\_Media/CentOS-6.3-x86\_64-bin-DVD1.iso&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;Now, to connect to the console, you&amp;rsquo;ll need to tunnel VNC over ssh.  This can be adjusted, but that&amp;rsquo;s outside of the scope of this. I like to redirect real port numbers for my own sanity.```
ssh -N -p 22 -c 3des buraglio@vmhost -L 5901/localhost/5901&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre style=&#34;color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4&#34;&gt;&lt;code class=&#34;language-The above command will redirect localhost port 5901 to port 5901 on the host vmhost Connect to the VNC server:&#34; data-lang=&#34;The above command will redirect localhost port 5901 to port 5901 on the host vmhost Connect to the VNC server:&#34;&gt;[![Screen Shot 2013-03-01 at 2.00.37 PM](http://www.forwardingplane.net/wp-content/uploads/2013/03/Screen-Shot-2013-03-01-at-2.00.37-PM.png)](http://www.forwardingplane.net/wp-content/uploads/2013/03/Screen-Shot-2013-03-01-at-2.00.37-PM.png)

Once connected you should drop right into the console of the KVM instance. Install as a normal system at that point.

Once installed It&amp;#39;ll appear as a normal host console.

[![Screen Shot 2013-03-01 at 2.01.21 PM](http://www.forwardingplane.net/wp-content/uploads/2013/03/Screen-Shot-2013-03-01-at-2.01.21-PM.png)](http://www.forwardingplane.net/wp-content/uploads/2013/03/Screen-Shot-2013-03-01-at-2.01.21-PM.png)

I found virsh to be the most useful for manipulating the virtual machine.&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;[root@behemoth Install_Media]# virsh list
Id            Name                                      State&lt;/p&gt;

&lt;hr /&gt;

&lt;p&gt;9              template-host                         running
```Helpful commands I found after 30 minutes of poking around and playing with virsh: virsh list &amp;ndash;show the list of virtual machines virsh destroy &lt;vm name&gt; &amp;ndash;hard shut down a host (I believe) virsh undefine &lt;vm name&gt; &amp;ndash;remove the VM from registration &amp;ndash;this one was hard for me to find.   &lt;a href=&#34;http://www.forwardingplane.net/unix/kvm-virsh-command-referenc/&#34; title=&#34;KVM virsh command reference&#34;&gt;Here&lt;/a&gt; is a complete list of the commands.&lt;/p&gt;
</description>
    </item>
    
    <item>
      <title>KVM virsh command reference</title>
      <link>https://forwardingplane.net/post/kvm-virsh-command-referenc/</link>
      <pubDate>Fri, 01 Mar 2013 20:28:32 +0000</pubDate>
      
      <guid>https://forwardingplane.net/post/kvm-virsh-command-referenc/</guid>
      <description>&lt;p&gt;From the help command, here is a reference sheet for the virsh command:```
virsh [options]&amp;hellip; [&lt;command\_string&gt;]
virsh [options]&amp;hellip;  [args&amp;hellip;]&lt;/p&gt;

&lt;p&gt;options:
    -c | &amp;ndash;connect=URI      hypervisor connection URI
    -r | &amp;ndash;readonly         connect readonly
    -d | &amp;ndash;debug=NUM        debug level [0-4]
    -h | &amp;ndash;help             this help
    -q | &amp;ndash;quiet            quiet mode
    -t | &amp;ndash;timing           print timing information
    -l | &amp;ndash;log=FILE         output logging to file
    -v                      short version
    -V                      long version
         &amp;ndash;version[=TYPE]   version, TYPE is short or long (default short)
    -e | &amp;ndash;escape     set escape sequence for console&lt;/p&gt;

&lt;p&gt;commands (non interactive mode):&lt;/p&gt;

&lt;p&gt;Domain Management (help keyword &amp;lsquo;domain&amp;rsquo;)
    attach-device                  attach device from an XML file
    attach-disk                    attach disk device
    attach-interface               attach network interface
    autostart                      autostart a domain
    blkdeviotune                   Set or query a block device I/O tuning parameters.
    blkiotune                      Get or set blkio parameters
    blockcopy                      Start a block copy operation.
    blockjob                       Manage active block operations
    blockpull                      Populate a disk from its backing image.
    blockresize                    Resize block device of domain.
    change-media                   Change media of CD or floppy drive
    console                        connect to the guest console
    cpu-baseline                   compute baseline CPU
    cpu-compare                    compare host CPU with a CPU described by an XML file
    cpu-stats                      show domain cpu statistics
    create                         create a domain from an XML file
    define                         define (but don&amp;rsquo;t start) a domain from an XML file
    desc                           show or set domain&amp;rsquo;s description or title
    destroy                        destroy (stop) a domain
    detach-device                  detach device from an XML file
    detach-disk                    detach disk device
    detach-interface               detach network interface
    domid                          convert a domain name or UUID to domain id
    domif-setlink                  set link state of a virtual interface
    domiftune                      get/set parameters of a virtual interface
    domjobabort                    abort active domain job
    domjobinfo                     domain job information
    domname                        convert a domain id or UUID to domain name
    dompmsuspend                   suspend a domain for a given time duration
    domuuid                        convert a domain name or id to domain UUID
    domxml-from-native             Convert native config to domain XML
    domxml-to-native               Convert domain XML to native config
    dump                           dump the core of a domain to a file for analysis
    dumpxml                        domain information in XML
    edit                           edit XML configuration for a domain
    inject-nmi                     Inject NMI to the guest
    send-key                       Send keycodes to the guest
    managedsave                    managed save of a domain state
    managedsave-remove             Remove managed save of a domain
    maxvcpus                       connection vcpu maximum
    memtune                        Get or set memory parameters
    migrate                        migrate domain to another host
    migrate-setmaxdowntime         set maximum tolerable downtime
    migrate-setspeed               Set the maximum migration bandwidth
    migrate-getspeed               Get the maximum migration bandwidth
    numatune                       Get or set numa parameters
    reboot                         reboot a domain
    reset                          reset a domain
    restore                        restore a domain from a saved state in a file
    resume                         resume a domain
    save                           save a domain state to a file
    save-image-define              redefine the XML for a domain&amp;rsquo;s saved state file
    save-image-dumpxml             saved state domain information in XML
    save-image-edit                edit XML for a domain&amp;rsquo;s saved state file
    schedinfo                      show/set scheduler parameters
    screenshot                     take a screenshot of a current domain console and store it into a file
    setmaxmem                      change maximum memory limit
    setmem                         change memory allocation
    setvcpus                       change number of virtual CPUs
    shutdown                       gracefully shutdown a domain
    start                          start a (previously defined) inactive domain
    suspend                        suspend a domain
    ttyconsole                     tty console
    undefine                       undefine a domain
    update-device                  update device from an XML file
    vcpucount                      domain vcpu counts
    vcpuinfo                       detailed domain vcpu information
    vcpupin                        control or query domain vcpu affinity
    vncdisplay                     vnc display&lt;/p&gt;

&lt;p&gt;Domain Monitoring (help keyword &amp;lsquo;monitor&amp;rsquo;)
    domblkerror                    Show errors on block devices
    domblkinfo                     domain block device size information
    domblklist                     list all domain blocks
    domblkstat                     get device block stats for a domain
    domcontrol                     domain control interface state
    domif-getlink                  get link state of a virtual interface
    domiflist                      list all domain virtual interfaces
    domifstat                      get network interface stats for a domain
    dominfo                        domain information
    dommemstat                     get memory statistics for a domain
    domstate                       domain state
    list                           list domains&lt;/p&gt;

&lt;p&gt;Host and Hypervisor (help keyword &amp;lsquo;host&amp;rsquo;)
    capabilities                   capabilities
    connect                        (re)connect to hypervisor
    freecell                       NUMA free memory
    hostname                       print the hypervisor hostname
    nodecpustats                   Prints cpu stats of the node.
    nodeinfo                       node information
    nodememstats                   Prints memory stats of the node.
    nodesuspend                    suspend the host node for a given time duration
    qemu-attach                    QEMU Attach
    qemu-monitor-command           QEMU Monitor Command
    sysinfo                        print the hypervisor sysinfo
    uri                            print the hypervisor canonical URI
    version                        show version&lt;/p&gt;

&lt;p&gt;Interface (help keyword &amp;lsquo;interface&amp;rsquo;)
    iface-begin                    create a snapshot of current interfaces settings, which can be later committed (iface-commit) or restored (iface-rollback)
    iface-bridge                   create a bridge device and attach an existing network device to it
    iface-commit                   commit changes made since iface-begin and free restore point
    iface-define                   define (but don&amp;rsquo;t start) a physical host interface from an XML file
    iface-destroy                  destroy a physical host interface (disable it / &amp;ldquo;if-down&amp;rdquo;)
    iface-dumpxml                  interface information in XML
    iface-edit                     edit XML configuration for a physical host interface
    iface-list                     list physical host interfaces
    iface-mac                      convert an interface name to interface MAC address
    iface-name                     convert an interface MAC address to interface name
    iface-rollback                 rollback to previous saved configuration created via iface-begin
    iface-start                    start a physical host interface (enable it / &amp;ldquo;if-up&amp;rdquo;)
    iface-unbridge                 undefine a bridge device after detaching its slave device
    iface-undefine                 undefine a physical host interface (remove it from configuration)&lt;/p&gt;

&lt;p&gt;Network Filter (help keyword &amp;lsquo;filter&amp;rsquo;)
    nwfilter-define                define or update a network filter from an XML file
    nwfilter-dumpxml               network filter information in XML
    nwfilter-edit                  edit XML configuration for a network filter
    nwfilter-list                  list network filters
    nwfilter-undefine              undefine a network filter&lt;/p&gt;

&lt;p&gt;Networking (help keyword &amp;lsquo;network&amp;rsquo;)
    net-autostart                  autostart a network
    net-create                     create a network from an XML file
    net-define                     define (but don&amp;rsquo;t start) a network from an XML file
    net-destroy                    destroy (stop) a network
    net-dumpxml                    network information in XML
    net-edit                       edit XML configuration for a network
    net-info                       network information
    net-list                       list networks
    net-name                       convert a network UUID to network name
    net-start                      start a (previously defined) inactive network
    net-undefine                   undefine an inactive network
    net-uuid                       convert a network name to network UUID&lt;/p&gt;

&lt;p&gt;Node Device (help keyword &amp;lsquo;nodedev&amp;rsquo;)
    nodedev-create                 create a device defined by an XML file on the node
    nodedev-destroy                destroy (stop) a device on the node
    nodedev-detach                 detach node device from its device driver
    nodedev-dumpxml                node device details in XML
    nodedev-list                   enumerate devices on this host
    nodedev-reattach               reattach node device to its device driver
    nodedev-reset                  reset node device&lt;/p&gt;

&lt;p&gt;Secret (help keyword &amp;lsquo;secret&amp;rsquo;)
    secret-define                  define or modify a secret from an XML file
    secret-dumpxml                 secret attributes in XML
    secret-get-value               Output a secret value
    secret-list                    list secrets
    secret-set-value               set a secret value
    secret-undefine                undefine a secret&lt;/p&gt;

&lt;p&gt;Snapshot (help keyword &amp;lsquo;snapshot&amp;rsquo;)
    snapshot-create                Create a snapshot from XML
    snapshot-create-as             Create a snapshot from a set of args
    snapshot-current               Get or set the current snapshot
    snapshot-delete                Delete a domain snapshot
    snapshot-dumpxml               Dump XML for a domain snapshot
    snapshot-edit                  edit XML for a snapshot
    snapshot-list                  List snapshots for a domain
    snapshot-parent                Get the name of the parent of a snapshot
    snapshot-revert                Revert a domain to a snapshot&lt;/p&gt;

&lt;p&gt;Storage Pool (help keyword &amp;lsquo;pool&amp;rsquo;)
    find-storage-pool-sources-as   find potential storage pool sources
    find-storage-pool-sources      discover potential storage pool sources
    pool-autostart                 autostart a pool
    pool-build                     build a pool
    pool-create-as                 create a pool from a set of args
    pool-create                    create a pool from an XML file
    pool-define-as                 define a pool from a set of args
    pool-define                    define (but don&amp;rsquo;t start) a pool from an XML file
    pool-delete                    delete a pool
    pool-destroy                   destroy (stop) a pool
    pool-dumpxml                   pool information in XML
    pool-edit                      edit XML configuration for a storage pool
    pool-info                      storage pool information
    pool-list                      list pools
    pool-name                      convert a pool UUID to pool name
    pool-refresh                   refresh a pool
    pool-start                     start a (previously defined) inactive pool
    pool-undefine                  undefine an inactive pool
    pool-uuid                      convert a pool name to pool UUID&lt;/p&gt;

&lt;p&gt;Storage Volume (help keyword &amp;lsquo;volume&amp;rsquo;)
    vol-clone                      clone a volume.
    vol-create-as                  create a volume from a set of args
    vol-create                     create a vol from an XML file
    vol-create-from                create a vol, using another volume as input
    vol-delete                     delete a vol
    vol-download                   Download a volume to a file
    vol-dumpxml                    vol information in XML
    vol-info                       storage vol information
    vol-key                        returns the volume key for a given volume name or path
    vol-list                       list vols
    vol-name                       returns the volume name for a given volume key or path
    vol-path                       returns the volume path for a given volume name or key
    vol-pool                       returns the storage pool for a given volume key or path
    vol-resize                     resize a vol
    vol-upload                     upload a file into a volume
    vol-wipe                       wipe a vol&lt;/p&gt;

&lt;p&gt;Virsh itself (help keyword &amp;lsquo;virsh&amp;rsquo;)
    cd                             change the current directory
    echo                           echo arguments
    exit                           quit this interactive terminal
    help                           print help
    pwd                            print the current directory
    quit                           quit this interactive terminal&lt;/p&gt;

&lt;p&gt;(specify help  for details about the commands in the group)&lt;/p&gt;

&lt;p&gt;(specify help  for details about the command)
```&lt;/p&gt;
</description>
    </item>
    
    <item>
      <title>IPv6 Toolkit 1.3 fun - scan6</title>
      <link>https://forwardingplane.net/post/ipv6-toolkit-1-3-fun-scan6/</link>
      <pubDate>Wed, 20 Feb 2013 10:53:38 +0000</pubDate>
      
      <guid>https://forwardingplane.net/post/ipv6-toolkit-1-3-fun-scan6/</guid>
      <description>&lt;p&gt;Recently &lt;a href=&#34;http://www.si6networks.com/tools/ipv6toolkit/&#34;&gt;SI6 released the IPv6 Toolkit 1.3 &lt;/a&gt;  This release is on the heels of this &lt;a href=&#34;http://tools.ietf.org/html/draft-ietf-opsec-ipv6-host-scanning-00&#34;&gt;IETF draft &lt;/a&gt; on IPv6 host scanning.  It was long thought that scanning an IPv6 network was impossible.  The address space was too large and reliably ascertaining the hosts from it would be too time consuming to even attempt.  However, as &lt;a href=&#34;http://en.wikipedia.org/wiki/Hans_Zarkov&#34;&gt;Dr. Hans Zarkov&lt;/a&gt; says in the 1980 classic cult film of my youth, &lt;a href=&#34;http://en.wikipedia.org/wiki/Flash_Gordon_(film)&#34;&gt;Flash Gordon&lt;/a&gt;, &amp;ldquo;You can&amp;rsquo;t beat the human spirit!&amp;ldquo;  That fine community out there has thought outside the box and found a way.&lt;/p&gt;

&lt;p&gt;&lt;img src=&#34;http://www.thiel-a-vision.com/wp-content/uploads/2010/07/flash68sm.jpg&#34; alt=&#34;&#34; /&gt;&lt;/p&gt;

&lt;p&gt;I&amp;rsquo;m a network engineer by profession, but I&amp;rsquo;ve been a security guy more than once during my ~15 years doing IT work; I think there is definite value in studying &amp;ldquo;the dark side&amp;rdquo; and learning it&amp;rsquo;s power.  Couple that with my zealotry of IPv6&amp;hellip;.and I&amp;rsquo;ve found a time vortex. Scanning IPv6 is not like scanning IPv4.   It can&amp;rsquo;t be.  A /64 network has 18,446,744,073,709,551,616 (18 quintillion) unique addresses and a /64 is the default allocation for an end user subnet.  Have fun scanning that one by one.  The methodology used by scan6 is pretty innovative, but first you have to build it. The &lt;a href=&#34;http://www.si6networks.com/tools/ipv6toolkit/&#34;&gt;IPv6 toolkit&lt;/a&gt; is available via download &lt;a href=&#34;http://www.si6networks.com/tools/ipv6toolkit/ipv6-toolkit-v1.3.1.tar.gz&#34;&gt;here&lt;/a&gt;.  It is current;y supported under FreeBSD, NetBSD, OpenBSD, Linux, and Mac OS X.  I&amp;rsquo;ve chosen to build mine on my laptop, a macbook pro running OS 10.8. It&amp;rsquo;s pretty straightforward to build assuming you have the Developers Tools and CLI support added. &lt;em&gt;(~/Downloads/ipv6-toolkit-v1.3) Tardis $ make&lt;/em&gt; &lt;em&gt;gcc -Wall -o flow6 tools/flow6.c -lpcap -lm&lt;/em&gt; &lt;em&gt;gcc -Wall -o frag6 tools/frag6.c -lpcap -lm&lt;/em&gt; &lt;em&gt;gcc -Wall -o icmp6 tools/icmp6.c -lpcap -lm&lt;/em&gt; &lt;em&gt;gcc -Wall -o jumbo6 tools/jumbo6.c -lpcap -lm&lt;/em&gt; &lt;em&gt;gcc -Wall -o na6 tools/na6.c -lpcap -lm&lt;/em&gt; &lt;em&gt;gcc -Wall -o ni6 tools/ni6.c -lpcap -lm&lt;/em&gt; &lt;em&gt;gcc -Wall -o ns6 tools/ns6.c -lpcap -lm&lt;/em&gt; &lt;em&gt;gcc -Wall -o ra6 tools/ra6.c -lpcap -lm&lt;/em&gt; &lt;em&gt;gcc -Wall -o rd6 tools/rd6.c -lpcap -lm&lt;/em&gt; &lt;em&gt;gcc -Wall -o rs6 tools/rs6.c -lpcap -lm&lt;/em&gt; &lt;em&gt;gcc -Wall -o scan6 tools/scan6.c -lpcap -lm&lt;/em&gt; &lt;em&gt;gcc -Wall -o tcp6 tools/tcp6.c -lpcap -lm&lt;/em&gt;   That&amp;rsquo;s it.  If you want to install it in the global environment, to a &amp;ldquo;&lt;em&gt;make install&lt;/em&gt;&amp;rdquo; Now for the good stuff.  The docs are well written for this tool. Here is an example of scanning a local segment in verbose mode and the output: &lt;em&gt;(~/Downloads/ipv6-toolkit-v6.8) tardis $ sudo ./scan6 -i en6 -l -e -v&lt;/em&gt; &lt;em&gt;Link-local addresses:&lt;/em&gt; &lt;em&gt;fe80::20d:b9ff:fe68:8ca6 @ 00:0d:b9:68:8c:a6&lt;/em&gt; &lt;em&gt;fe80::264:d6ff:fe25:9704 @ 00:64:d6:25:97:04&lt;/em&gt; &lt;em&gt;fe80::26f:f8ff:fe06:dcb4 @ 00:6f:f8:06:dc:b4&lt;/em&gt; &lt;em&gt;fe80::22cf:80ff:fea8:ec26 @ 20:cf:80:a8:ec:26&lt;/em&gt; &lt;em&gt;fe80::224:86ff:fe9f:c628 @ 00:24:86:9f:c6:28&lt;/em&gt; &lt;em&gt;fe80::267:f2ff:fe52:8574 @ 00:67:f2:52:85:74&lt;/em&gt; &lt;em&gt;fe80::8ed0:f8ff:fe8a:4d29 @ 8c:d0:f8:8a:4d:29&lt;/em&gt; &lt;em&gt;fe80::62fa:cdff:fe86:62bd @ 60:fa:cd:86:62:bd&lt;/em&gt; &lt;em&gt;fe80::629a:ddff:fe45:6c08 @ 60:9a:dd:45:6c:08&lt;/em&gt; &lt;em&gt;Global addresses:&lt;/em&gt; &lt;em&gt;2001:db8:86c0:24::6 @ 00:0d:b9:68:8c:a6&lt;/em&gt; &lt;em&gt;2001:db8:86c0:24:224:86ff:fe9f:c628 @ 00:24:86:9f:c6:28&lt;/em&gt; &lt;em&gt;2001:db8:86c0:24:22cf:80ff:fea8:ec26 @ 20:cf:80:a8:ec:26&lt;/em&gt; &lt;em&gt;2001:db8:86c0:24:26f:f8ff:fe06:dcb4 @ 00:6f:f8:06:dc:b4&lt;/em&gt; &lt;em&gt;2001:db8:86c0:24:267:f2ff:fe52:8574 @ 00:67:f2:52:85:74&lt;/em&gt; &lt;em&gt;2001:db8:86c0:24:62fa:cdff:fe86:62bd @ 60:fa:cd:86:62:bd&lt;/em&gt; &lt;em&gt;2001:db8:86c0:24:8ed0:f8ff:fe8a:4d29 @ 8c:d0:f8:8a:4d:29&lt;/em&gt; &lt;em&gt;2001:db8:86c0:24:629a:ddff:fe45:6c08 @ 60:9a:dd:45:6c:08&lt;/em&gt; This example,  taken straight from the documentation and run on my local network (with MAC and v6 addresses changed to protect the innocent), will &amp;ldquo;Perform host scanning on the local network (“-l” option) using interface “eth0” (“-i” option). Use both ICMPv6 echo requests and unrecognized IPv6 options of type 10xxxxxx (default). Print link- link layer addresses along with IPv6 addresses (“-e” option). Be verbose (“-v” option).&amp;rdquo; One of the interesting things I saw available in this scan6 tool was the ability to narrow down a search based on a known OUI.  If someone wanted to search for virtual machines hosted by VMWare host and the IPv4 address of the VMWare host is known, this command would be useful for scanning from a host off net, scanning a network in the lab area:&lt;/p&gt;

&lt;p&gt;&lt;em&gt;sudo ./scan6 -i en0 -d 2001:db8:e00:4000::/64 –tgt-virtual-machines vmware –tgt-ipv4-embedded 10.17.4.&lt;sup&gt;195&lt;/sup&gt;&amp;frasl;&lt;sub&gt;32&lt;/sub&gt;&lt;/em&gt;&lt;/p&gt;

&lt;p&gt; What this does is target the /64 but narrow down the search to vmwre specific virtual machines hosted on the vmware host at IPv4 address 10.17.4.&lt;sup&gt;195&lt;/sup&gt;&amp;frasl;&lt;sub&gt;32&lt;/sub&gt;. It is able to accomplish this because it can make assumptions about vmware (or virtual box) based on their OUI and how they build their The OUI will always be set to  00:05:59 for VMWare.  Additionally, The next 16-bits of the MAC address are set to the same value as the last 16 bits of the console operating system&amp;rsquo;s primary IPv4 address. If that were not enough, the final eight bits of the MAC address are set to a hash value based on the name of the virtual machine&amp;rsquo;s configuration file. That, according to the IETF draft and math, means that if you know the VMWare host IPv4 address you can reduce a scan of 64 bits down to just 8 bits.  This is a powerful set of tools that this post does not even scratch the surface of. Be careful using this scan tool, there are a number of devices that will have their neighbor table exhausted and potentially cause a DoS by running the networking gear out of resources, which in and of itself is another potential use of this tool.  There is a HUGE amount of work to be done and learned about IPv6, it&amp;rsquo;s not going away and, in fact, I&amp;rsquo;ve been using it in one form or another for 10 years or so.  If you&amp;rsquo;re a network engineer or a security professional you&amp;rsquo;re doing yourself a disservice by not learning it. In addition to the scan6 binary, the toolkit includes: flow6 frag6 icmp6 jumbo6 na6 ni6 ns6 ra6 rd6 rs6 scan6 tcp6 With the content providers and consumer ISPs providing native IPv6 more and more every day (my comcast service has a DHCPv6-PD /64 and a DHCPv6 /128 provisioned by default) the world at large is doing more v6.  If you&amp;rsquo;ve got MS windows on your network and it&amp;rsquo;s even relatively new, you&amp;rsquo;ve got v6 unless you policy it as disabled.  It&amp;rsquo;s tunneling it. Make these part of your arsenal for testing gear, pen testing, whatever. I promise it&amp;rsquo;s worth your time.&lt;/p&gt;
</description>
    </item>
    
    <item>
      <title>Watch out, Gigamon (and others), Arista is bringing their A game</title>
      <link>https://forwardingplane.net/post/watch-out-gigamon-and-others-arista-is-bringing-their-a-game/</link>
      <pubDate>Sat, 16 Feb 2013 03:11:20 +0000</pubDate>
      
      <guid>https://forwardingplane.net/post/watch-out-gigamon-and-others-arista-is-bringing-their-a-game/</guid>
      <description>&lt;p&gt;It&amp;rsquo;s no secret that I&amp;rsquo;m a fan of the model &lt;a href=&#34;http://www.aristanetworks.com&#34;&gt;Arista Networks&lt;/a&gt; is using to make gear and provide innovative services and products. In my opinion, they&amp;rsquo;re changing the landscape of campus and data center networking gear. I&amp;rsquo;m always a fan of the little guy trying to change the world and this falls under that category. For those that don&amp;rsquo;t know, Arista Networks is a &amp;ldquo;hardware&amp;rdquo; networking company that is using merchant silicon wrapped in their custom linux based operating system (which is very much like IOS).&lt;/p&gt;

&lt;p&gt;&lt;a href=&#34;http://www.forwardingplane.net/wp-content/uploads/2013/02/ARISTA-TAP.jpg&#34;&gt;&lt;img src=&#34;http://www.forwardingplane.net/wp-content/uploads/2013/02/ARISTA-TAP-1024x768.jpg&#34; alt=&#34;ARISTA-TAP&#34; /&gt;&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;This model does a few things. It takes the time it would normally take a vendor to engineer and spin an ASIC, typically 1-3 years) and completely removes it. Instead, they rely on silicon manufacturers like Intel and &lt;a href=&#34;http://www.fulcrummicro.com&#34;&gt;Fulcrum&lt;/a&gt; for their already engineered and tested chips. Arista is generally touted as an extremely low latency box and has been widely deployed in the financial industry because of this. However, they&amp;rsquo;re not a one trick pony, not by any means. Their open architecture and OS allows for &lt;strong&gt;heavy&lt;/strong&gt; customization. In fact, unlike most others, it&amp;rsquo;s encouraged. Arista has put together an &lt;a href=&#34;https://eos.aristanetworks.com/home.php&#34;&gt;ecosystem for extending and expanding&lt;/a&gt; their &lt;a href=&#34;https://eos.aristanetworks.com/2011/03/eos-so-what-is-it/&#34;&gt;EOS&lt;/a&gt; networking operating system. Want something added to the CLI? Easy, it&amp;rsquo;s all python and can be changed on-box and submitted back to the community. They also have a very, very slick internal mechanism called the sysdb, but that&amp;rsquo;s another blog post altogether.   None of this is really new. Folks have been using merchant silicon forever. What is new and refreshing is the open nature of it. Additionally, the exclusive use of merchant silicon is something [I believe] is now in this class of hardware. With the open nature of this platform, it also lends itself well to the OpenFlow movement in that it&amp;rsquo;s essentially a linux box on well documented hardware of which the vendor is encouraging modification. In addition, it is a well tested data center product. I&amp;rsquo;m calling it now, this platform is going to go places in it&amp;rsquo;s market. For the newest addition to the capabilities portfolio, this is where it really gets interesting. As of 2/13/2013 Arista has added some very &lt;a href=&#34;http://www.aristanetworks.com/en/news/pressrelease/532-pr-20130212-01&#34;&gt;compelling tap aggregation options&lt;/a&gt;. What this means, is that you can now aggregate Nx1 or 10G at 40G, then symmetrically hash that across another 10G array to an IDS cluster. Why is this important? Monitoring fat links. Have some 100G? Good luck finding a security mechanism to watch that.&lt;/p&gt;

&lt;p&gt;&lt;a href=&#34;http://www.forwardingplane.net/wp-content/uploads/2013/02/ARISTA-TAP.png&#34;&gt;&lt;img src=&#34;http://www.forwardingplane.net/wp-content/uploads/2013/02/ARISTA-TAP.png&#34; alt=&#34;ARISTA TAP&#34; /&gt;&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;Until now the only options for this are players like &lt;a href=&#34;http://www.gigamon.com&#34;&gt;Gigamon&lt;/a&gt;, &lt;a href=&#34;http://www.cpacket.com&#34;&gt;cPacket&lt;/a&gt; and maybe &lt;a href=&#34;http://www.mrv.com&#34;&gt;MRV&lt;/a&gt;. All are very expensive and one-off solutions. Arista offers a standard ethernet switch that can be managed by an existing networking team, integrated into existing network tools and maintained like any other router or switch. OpEx is a wash. Capital expenditure is standard [probably cheaper] than a normal Layer2 switch. It looks JUST like IOS, so the old networking guy that hates change will only complain a little that it&amp;rsquo;s not a blue box with a bridge on it. This may seem like a small deal, but the implications for passive security monitoring are huge. This feature alone will have a trickle down effect over the next few years since it&amp;rsquo;s something that is only recently being exercised in enterprise worlds. I suspect this will also have a very large impact to gigamon, who is really the current industry leader in this corner of the market, but is priced well beyond what many can afford. Arista can now do the symmetric hashing on layer2, layer3 or layer4 parameters. ACL support is also coming, although I&amp;rsquo;ve not seen it work like I have the hashing.   Oh, you want to know how to do it? =) It currently doesn&amp;rsquo;t exist in the CLI, but here is basically how it&amp;rsquo;s done. Thanks to an awesome Arista rep, the heavy lifting of parsing through the Acons interface is all condensed to a simple script. from the CLI: Log in and enable.```
7150-Source#bash
Arista Networks EOS shell
[arista@7150-Source ~]$ cd /mnt/flash&lt;/p&gt;

&lt;p&gt;[arista@7150-Source ~]$vi set_hash.sh
#!/bin/ti
rm /mnt/flash/set_hash_log.txt
cat &amp;lt;&amp;lt; EOF | Acons FocalPointV2 &amp;gt;&amp;gt; /mnt/flash/set_hash_log.txt 2&amp;gt;&amp;amp;1
from FmApi import *
fmDbgWriteRegisterField(0,0,0,0,&amp;ldquo;FM6000_HASH_LAYER3_PROFILE&amp;rdquo;,&amp;ldquo;SymmetrizeL3&amp;rdquo;,1)
fmDbgWriteRegisterField(0,0,0,0,&amp;ldquo;FM6000_HASH_LAYER3_PROFILE&amp;rdquo;,&amp;ldquo;SymmetrizeL4&amp;rdquo;,1)
fmDbgWriteRegisterField(0,0,0,0,&amp;ldquo;FM6000_HASH_LAYER2_KEY_PROFILE&amp;rdquo;,&amp;ldquo;SymmetrizeMAC&amp;rdquo;,1)
EOF
exit 0&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre style=&#34;color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4&#34;&gt;&lt;code class=&#34;language-Done. This, of course, doesn&#39;t include any of the port channel and monitor interface configuration, but if you&#39;re this deep, you probably know how to do that already. If you&#39;d like to dump this to a log, add the following lines to the end of the script before the &#34;EOF&#34;```&#34; data-lang=&#34;Done. This, of course, doesn&#39;t include any of the port channel and monitor interface configuration, but if you&#39;re this deep, you probably know how to do that already. If you&#39;d like to dump this to a log, add the following lines to the end of the script before the &#34;EOF&#34;```&#34;&gt;fmDbgDumpRegisterV2(0,0,0,&amp;#34;FM6000\_HASH\_LAYER2\_KEY\_PROFILE&amp;#34;)
fmDbgDumpRegisterV2(0,0,0,&amp;#34;FM6000\_HASH\_LAYER3\_PROFILE&amp;#34;)&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;*As the CLI bits become available in EOS 4.12, this post will be amended to the more supportable way of managing this awesome new feature.&lt;/p&gt;
</description>
    </item>
    
    <item>
      <title>Optical SDN and the future of DWDM</title>
      <link>https://forwardingplane.net/post/437/</link>
      <pubDate>Tue, 12 Feb 2013 16:41:49 +0000</pubDate>
      
      <guid>https://forwardingplane.net/post/437/</guid>
      <description></description>
    </item>
    
    <item>
      <title>Building a Floodlight OpenFlow controller on CentOS 6</title>
      <link>https://forwardingplane.net/post/building-a-floodlight-openflow-controller-on-centos-6/</link>
      <pubDate>Mon, 04 Feb 2013 13:10:24 +0000</pubDate>
      
      <guid>https://forwardingplane.net/post/building-a-floodlight-openflow-controller-on-centos-6/</guid>
      <description>&lt;p&gt;A bit of back history: I came from BSD land. I was a FreeBSD user from way back in the 1990s. BSD land is a land of secure boxes and very high uptimes. It&amp;rsquo;s also a land of arguably clunky package support, a lot of compiling by hand and these days, not nearly as encompassing package and network tuning support. &lt;a href=&#34;http://www.forwardingplane.net/2011/06/better-support-for-linux-and-annoyed-about-it/ &amp;quot;Better support for Linux (and annoyed about it&#34;&gt;I decided to move to Linux&lt;/a&gt;&amp;rdquo;) a while ago, reluctantly, and chose Debian as my flavor of choice. I do love debian, however, I very quiuckly realized that even debian is a bit of a fringe OS build of Linux. Commercial support is nearly all based on RHEL. Folks that run RHEL also run CentOS. We run both in my day job. About a year ago to I, once again, decided I needed to learn CentOS. There are a lot of posts about building floodlight as an openflow controller. I used this tutorial &lt;a href=&#34;http://networkstatic.net/floodlight-openflow-controller-gui-applet/&#34;&gt;Brent Salisbury did&lt;/a&gt; to build mine. There is a good one on the &lt;a href=&#34;http://floodlight.openflowhub.org/getting-started/&#34;&gt;openflow hub&lt;/a&gt; site as well. I&amp;rsquo;ve found that many are based on Debian or Ubuntu, which can be subtly different than a CentOS / RHEL experience.   In CentOS, log in and sudo -s or su to root. Install the prereqs: &lt;em&gt;yum -y install build-essential default-jdk ant python-dev eclipse git&lt;/em&gt; &lt;em&gt;mkdir /services/floodlight&lt;/em&gt; &lt;em&gt;cd /services/floodlight/&lt;/em&gt; &lt;em&gt;git clone git://github.com/floodlight/floodlight.git ant&lt;/em&gt; Start floodlight in the background. &lt;em&gt;./floodlight.sh &amp;amp;&lt;/em&gt; Because I&amp;rsquo;m terrible at looking at directions, I went to the base URL. This will yield an error that looks something like this: &lt;em&gt;{&amp;ldquo;name&amp;rdquo;:&amp;ldquo;Not Found&amp;rdquo;,&amp;ldquo;error&amp;rdquo;:true,&amp;ldquo;throwable&amp;rdquo;:null,&amp;ldquo;description&amp;rdquo;:&amp;ldquo;The server has not found anything matching the request URI&amp;rdquo;,&amp;ldquo;success&amp;rdquo;:false,&amp;ldquo;informational&amp;rdquo;:false,&amp;ldquo;code&amp;rdquo;:404,&amp;ldquo;reasonPhrase&amp;rdquo;:&amp;ldquo;Not Found&amp;rdquo;,&amp;ldquo;uri&amp;rdquo;:&amp;ldquo;&lt;a href=&#34;http://www.w3.org/Protocols/rfc2616/rfc2616-sec10.html#sec10.4.5&amp;quot;,&amp;quot;serverError&amp;quot;:false,&amp;quot;connectorError&amp;quot;:false,&amp;quot;clientError&amp;quot;:true,&amp;quot;globalError&amp;quot;:false,&amp;quot;redirection&amp;quot;:false,&amp;quot;recoverableError&amp;quot;:false&#34;&gt;http://www.w3.org/Protocols/rfc2616/rfc2616-sec10.html#sec10.4.5&amp;quot;,&amp;quot;serverError&amp;quot;:false,&amp;quot;connectorError&amp;quot;:false,&amp;quot;clientError&amp;quot;:true,&amp;quot;globalError&amp;quot;:false,&amp;quot;redirection&amp;quot;:false,&amp;quot;recoverableError&amp;quot;:false&lt;/a&gt;}&lt;/em&gt; The right way to access floodlight is to use the entire URL: http://&lt;address&gt;:8080/ui/index.html Learn from my stupidity.   Here is a script to build it for you:```
#!/bin/bash&lt;/p&gt;

&lt;p&gt;echo &amp;ldquo;Installing prerequisits:&amp;rdquo;
yum -y install build-essential default-jdk ant python-dev eclipse git&lt;/p&gt;

&lt;p&gt;echo &amp;ldquo;Installing floodlight to /services/floodight/&amp;rdquo;
mkdir /services/floodlight
cd /services/floodlight/
git clone git://github.com/floodlight/floodlight.git
ant&lt;/p&gt;

&lt;p&gt;echo &amp;ldquo;Starting floodlight:&amp;rdquo;&lt;/p&gt;

&lt;p&gt;./floodlight.sh&amp;amp;
echo &amp;ldquo;Floodlight started, point your beowser at http://&lt;address&gt;:8080/ui/index.html&amp;rdquo;
```&lt;/p&gt;
</description>
    </item>
    
    <item>
      <title>Identify and remedy problem IKE and eventd processes on Juniper SRX</title>
      <link>https://forwardingplane.net/post/identify-and-remedy-problem-ike-and-eventd-processes-on-juniper-srx/</link>
      <pubDate>Mon, 04 Feb 2013 12:45:18 +0000</pubDate>
      
      <guid>https://forwardingplane.net/post/identify-and-remedy-problem-ike-and-eventd-processes-on-juniper-srx/</guid>
      <description>&lt;p&gt;Recently we encountered a very strange behavior on an SRX 5800 cluster.  The cluster, which is in active/active mode, started dropping OSPF adjacencies to it&amp;rsquo;s neighboring routing equipment, in this case, Juniper MX480 and Brocade/Foundry MLX8.  Strange behavior indeed, since for us, these had been rock solid for around 2 years and we&amp;rsquo;d never seen this odd behavior before. Honestly, we started looking at the routers first since this was something the SRX has never done before.  After noticing that it was actually link dropping and not just OSPF having issues, we dug deeper into logs (as an aside, this is an &lt;strong&gt;excellent&lt;/strong&gt; reason to centrally syslog everything.  And I do mean &lt;strong&gt;everything&lt;/strong&gt;).  To our surprise and dismay, it was actually the SRX node0 actually rebooting all of its interface line cards. &amp;ldquo;&lt;em&gt;show chassis routing-engine&lt;/em&gt;&amp;rdquo; showed that User was taking up a very significant amount of CPU.  This is a problem.&lt;/p&gt;

&lt;p&gt;&lt;a href=&#34;http://www.forwardingplane.net/wp-content/uploads/2013/02/Screen-Shot-2013-02-01-at-10.37.27-AM.png&#34;&gt;&lt;img src=&#34;http://www.forwardingplane.net/wp-content/uploads/2013/02/Screen-Shot-2013-02-01-at-10.37.27-AM.png&#34; alt=&#34;Screen Shot 2013-02-01 at 10.37.27 AM&#34; /&gt;&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;  As you can probably guess, this isn&amp;rsquo;t a good state.  So, in order to drill down what was causing User to be so abnormally high, we had to do a little sleuthing.  Running &amp;ldquo;&lt;em&gt;show system processes extensive | except 0.00&lt;/em&gt;&amp;rdquo; will display any process that isn&amp;rsquo;t zero.  From here it was pretty obvious what was eating the CPU.&lt;/p&gt;

&lt;p&gt;&lt;a href=&#34;http://www.forwardingplane.net/wp-content/uploads/2013/02/Screen-Shot-2013-02-01-at-10.43.50-AM.png&#34;&gt;&lt;img src=&#34;http://www.forwardingplane.net/wp-content/uploads/2013/02/Screen-Shot-2013-02-01-at-10.43.50-AM.png&#34; alt=&#34;Screen Shot 2013-02-01 at 10.43.50 AM&#34; /&gt;&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;  &amp;ldquo;kmd&amp;rdquo; and &amp;ldquo;eventd&amp;rdquo;, as you can see, are chewing up an abnormally high amount of CPU.  First things first, make sure no traceoptions are on. &amp;ldquo;&lt;em&gt;show conf | display set | match traceoptions&lt;/em&gt;&amp;rdquo;  We had some on so we disabled them.  Next, lets make sure we know what &amp;ldquo;kid&amp;rdquo; and &amp;ldquo;eventd&amp;rdquo; are. &lt;a href=&#34;http://www.juniper.net/techpubs/software/junos/junos94/syslog-messages/kmd-system-log-messages.html&#34;&gt;KMD&lt;/a&gt; is the key management process. It provides IP Security (IPSec) authentication services for encryption Physical Interface Cards (PICs). &lt;a href=&#34;http://www.juniper.net/techpubs/en_US/junos10.1/information-products/topic-collections/syslog-messages/jd0e22130.html&#34;&gt;eventd&lt;/a&gt; is the event policy process. It performs configured actions in response to events on a routing platform that trigger system log messages. It&amp;rsquo;s all starting to add up.  I&amp;rsquo;ll bet there are a LOT of IPsec messeges in the log. &amp;ldquo;&lt;em&gt;show log messages&lt;/em&gt;&amp;rdquo; confirms this.  There are a LOT of KMD messages, which is likely causing events to eat even more resources to generate them. &lt;em&gt;Jan 29 12:02:53 fw1 (FPC Slot 11, PIC Slot 0) init: kmd1 (PID 176) started&lt;/em&gt; _Jan 29 12:02:53 _fw1&lt;em&gt; (FPC Slot 11, PIC Slot 0) init: kmd2 (PID 177) started&lt;/em&gt; _Jan 29 12:02:53 _fw1&lt;em&gt; (FPC Slot 11, PIC Slot 0) init: kmd3 (PID 178) started&lt;/em&gt; _Jan 29 12:02:53 _fw1&lt;em&gt; (FPC Slot 11, PIC Slot 0) init: kmd4 (PID 179) started&lt;/em&gt; _Jan 29 12:02:54 _fw1&lt;em&gt; (FPC Slot 11, PIC Slot 1) init: kmd1 (PID 176) started&lt;/em&gt; _Jan 29 12:02:55 _fw1&lt;em&gt; (FPC Slot 11, PIC Slot 1) init: kmd2 (PID 177) started&lt;/em&gt; _Jan 29 12:02:55 _fw1&lt;em&gt; (FPC Slot 11, PIC Slot 1) init: kmd3 (PID 178) started&lt;/em&gt; _Jan 29 12:02:55 _fw1&lt;em&gt; (FPC Slot 11, PIC Slot 1) init: kmd4 (PID 180) started&lt;/em&gt; _Jan 29 12:03:13 _fw1&lt;em&gt; (FPC Slot 4, PIC Slot 0) init: kmd1 (PID 176) started&lt;/em&gt; _Jan 29 12:03:13 _fw1&lt;em&gt; (FPC Slot 4, PIC Slot 0) init: kmd2 (PID 177) started&lt;/em&gt; _Jan 29 12:03:13 _fw1&lt;em&gt; (FPC Slot 4, PIC Slot 0) init: kmd3 (PID 178) started&lt;/em&gt; _Jan 29 12:03:13 _fw1&lt;em&gt; (FPC Slot 4, PIC Slot 0) init: kmd4 (PID 179) started&lt;/em&gt; _Jan 29 12:03:14 _fw1&lt;em&gt; (FPC Slot 5, PIC Slot 0) init: kmd1 (PID 176) started&lt;/em&gt; _Jan 29 12:03:14 _fw1&lt;em&gt; (FPC Slot 5, PIC Slot 0) init: kmd2 (PID 177) started&lt;/em&gt; _Jan 29 12:03:14 _fw1&lt;em&gt; (FPC Slot 5, PIC Slot 0) init: kmd3 (PID 178) started&lt;/em&gt; _Jan 29 12:03:15 _fw1&lt;em&gt; (FPC Slot 5, PIC Slot 0) init: kmd4 (PID 179) started&lt;/em&gt;   Check the security log to verify &amp;ldquo;&lt;em&gt;show log kmed&lt;/em&gt;&amp;rdquo; &lt;em&gt;Dec 27 05:58:05 KMD_INTERNAL_ERROR: iked_re_ipc_err_handler: status: 1: usp_ipc_client_open: failed to connect to the server after 5 retries Dec 27 05:58:05 KMD_INTERNAL_ERROR: iked_re_send_msg_to_spu: failed to connect to iked_spu on SPU - Connection refused. Dec 27 05:58:05 KMD_INTERNAL_ERROR: iked_re_ipc_err_handler: status: 1: usp_ipc_client_open: failed to connect to the server after 5 retries Dec 27 05:58:05 KMD_INTERNAL_ERROR: iked_re_send_msg_to_spu: failed to connect to iked_spu on SPU - Connection refused. Dec 27 05:58:05 KMD_INTERNAL_ERROR: iked_re_ipc_err_handler: status: 1: usp_ipc_client_open: failed to connect to the server after 5 retries Dec 27 05:58:05 KMD_INTERNAL_ERROR: iked_re_send_msg_to_spu: failed to connect to iked_spu on SPU - Connection refused. Dec 27 05:58:05 KMD_INTERNAL_ERROR: iked_re_ipc_err_handler: status: 1: usp_ipc_client_open: failed to connect to the server after 5 retries Dec 27 05:58:05 KMD_INTERNAL_ERROR: iked_re_send_msg_to_spu: failed to connect to iked_spu on SPU - Connection refused. Dec 27 05:58:05 KMD_INTERNAL_ERROR: iked_re_ipc_err_handler: status: 1: usp_ipc_client_open: failed to connect to the server after 5 retries&lt;/em&gt;   Yeah, looks suspicious.  Lets restart ipsec-key-management and see if that helps. &amp;ldquo;&lt;em&gt;restart ipsec-key-management&amp;rdquo;.  &lt;/em&gt; &lt;strong&gt;&lt;em&gt;Note: If this does not work, you may have to drop to the shell and kill it like a unix process.  &lt;/em&gt;&lt;/strong&gt; &lt;em&gt;&amp;ldquo;start shell&amp;rdquo;&lt;/em&gt; &amp;ldquo;kill -9 kmd&amp;rdquo; Idle process should now be back to normal.&lt;/p&gt;

&lt;p&gt;&lt;a href=&#34;http://www.forwardingplane.net/wp-content/uploads/2013/02/Screen-Shot-2013-02-02-at-12.24.11-PM.png&#34;&gt;&lt;img src=&#34;http://www.forwardingplane.net/wp-content/uploads/2013/02/Screen-Shot-2013-02-02-at-12.24.11-PM.png&#34; alt=&#34;Screen Shot 2013-02-02 at 12.24.11 PM&#34; /&gt;&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;  CPU&amp;rsquo;s were at a &amp;ldquo;normal&amp;rdquo; state in our environment has the idle process near 90% (+/-).  In the future this will be monitored so that this problem does sneak up on us. Now, the right way to remedy this is to disable those services if you don&amp;rsquo;t need them.  If you do not plan to terminate VPN tunnels, there is no reason to run the services (on by default) to do so.  We opted to both disable and do a more inclusive loopback filter which seems to have taken care of the problem. Take aways from this is multi faceted.  The SRX is a weird beast. It&amp;rsquo;s JunOS, so the inclination is to treat it like a router, but it &amp;rsquo;s not.  It&amp;rsquo;s a firewall.  And an IPS. And a router. I&amp;rsquo;m planning to write up an &amp;ldquo;SRX command cheat sheet&amp;rdquo; for this because it&amp;rsquo;s got enough different pieces and commands that I believe it warrants one.  Secondly, there are a lot of intricacies in monitoring these devices since they arent just routers.  I&amp;rsquo;m hoping to come up with a best practice for monitoring an SRX cluster in a carrier type environment as well.  I&amp;rsquo;m sure they&amp;rsquo;ll both be living documents.&lt;/p&gt;
</description>
    </item>
    
    <item>
      <title>Open source or open standards?</title>
      <link>https://forwardingplane.net/post/427/</link>
      <pubDate>Sun, 03 Feb 2013 19:39:24 +0000</pubDate>
      
      <guid>https://forwardingplane.net/post/427/</guid>
      <description></description>
    </item>
    
    <item>
      <title>Networking and the PC parallel</title>
      <link>https://forwardingplane.net/post/networking-and-the-pc-parallel/</link>
      <pubDate>Sat, 02 Feb 2013 23:24:02 +0000</pubDate>
      
      <guid>https://forwardingplane.net/post/networking-and-the-pc-parallel/</guid>
      <description>&lt;p&gt;Pc and networking timeline. Commodity hardware. Custom hardware. Asics. White box.&lt;/p&gt;
</description>
    </item>
    
    <item>
      <title>Headless VirtualBox host on CentOS</title>
      <link>https://forwardingplane.net/post/headless-virtualbox-host-on-centos/</link>
      <pubDate>Thu, 31 Jan 2013 21:48:47 +0000</pubDate>
      
      <guid>https://forwardingplane.net/post/headless-virtualbox-host-on-centos/</guid>
      <description>&lt;p&gt;Starting from a base CentOS system with nothing configured, and referencing the &lt;a href=&#34;http://wiki.centos.org/HowTos/Virtualization/VirtualBox&#34;&gt;CentOS wiki&lt;/a&gt;, here is how I like to set up a headless virtualbox environment: Disable selinux. It&amp;rsquo;s overly cumbersome and is enabled by default in CentOS.  I like to permanently disable it even though the default is permissive.  I ride the edge, I know.```
vi /etc/selinux/config&lt;/p&gt;

&lt;pre&gt;&lt;code&gt;
 and change

&lt;/code&gt;&lt;/pre&gt;

&lt;p&gt;SELINUX=enabled&lt;/p&gt;

&lt;pre&gt;&lt;code&gt;
to

&lt;/code&gt;&lt;/pre&gt;

&lt;p&gt;SELINUX=disabled&lt;/p&gt;

&lt;pre&gt;&lt;code&gt;
Then reboot.

Using the methodology I originally found found [here](http://stackoverflow.com/questions/14016286/how-to-programmatically-install-the-latest-epel-release-rpm-without-knowing-its), I like to install the epel repo using this method:```
cat &amp;lt;&amp;lt;EOM &amp;gt;/etc/yum.repos.d/epel-bootstrap.repo
 \[epel\]
 name=Bootstrap EPEL
 mirrorlist=http://mirrors.fedoraproject.org/mirrorlist?repo=epel-\\$releasever&amp;amp;arch=\\$basearch
 failovermethod=priority
 enabled=0
 gpgcheck=0
 EOM
``````
yum --enablerepo=epel -y install epel-release
 rm -f /etc/yum.repos.d/epel-bootstrap.repo
&lt;/code&gt;&lt;/pre&gt;

&lt;p&gt;Install rpmforge repo```
rpm &amp;ndash;import &lt;a href=&#34;http://apt.sw.be/RPM-GPG-KEY.dag.txt&#34;&gt;http://apt.sw.be/RPM-GPG-KEY.dag.txt&lt;/a&gt;
 rpm -Uvh &lt;a href=&#34;http://packages.sw.be/rpmforge-release/rpmforge-release-0.5.2-2.el6.rf.x86_64.rpm&#34;&gt;http://packages.sw.be/rpmforge-release/rpmforge-release-0.5.2-2.el6.rf.x86_64.rpm&lt;/a&gt;
 yum clean all&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre style=&#34;color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4&#34;&gt;&lt;code class=&#34;language-Install the virtualbox repo```&#34; data-lang=&#34;Install the virtualbox repo```&#34;&gt;yum install -y wget
cd /etc/yum.repos.d
wget http://download.virtualbox.org/virtualbox/rpm/rhel/virtualbox.repo
yum update&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;Now the interesting bits, lets get to the vbox install.  Although we have enabled dkms, I like to also install as if we didn&amp;rsquo;t.  It populates the system with the pieces we need in a way that I&amp;rsquo;m used to.  I&amp;rsquo;m not a sysadmin by day, so this may be redundant.  YMMV, etc.   First, install the Development Tools. There are a lot here, it may take a bit depending on machine specs and connectivity speed in relation to mirrors. ```
yum groupinstall &amp;ldquo;Development Tools&amp;rdquo;
yum install VirtualBox-4.2&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre style=&#34;color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4&#34;&gt;&lt;code class=&#34;language-Then start up the service and you should see something like this:```&#34; data-lang=&#34;Then start up the service and you should see something like this:```&#34;&gt;service vboxdrv setup
Stopping VirtualBox kernel modules \[ OK \]
Uninstalling old VirtualBox DKMS kernel modulesError! There are no instances of module: vboxhost
4.2.6 located in the DKMS tree.
 \[ OK \]
Trying to register the VirtualBox kernel modules using DKMS
 \[ OK \]
Starting VirtualBox kernel modules \[ OK \]&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;At this point you&amp;rsquo;ve got virtualbox done and installed. Now, the &lt;em&gt;real&lt;/em&gt; interesting part begins: VMs. I have a centos template that I built on my laptop.  It&amp;rsquo;s got the settings I like and I can just import it.  You can also build a new one, but that&amp;rsquo;s for a different post.  I moved the template via scp over to the newly anointed VM host. Now, I just need to import it and I can start cloning.  &lt;a href=&#34;http://www.virtualbox.org/manual/ch08.html&#34;&gt;vboxmanage&lt;/a&gt; is the command we&amp;rsquo;re going to be utilizing heavily and it&amp;rsquo;s really powerful.  ```
vboxmanage import /home/buraglio/centos-63-template.ova&lt;/p&gt;

&lt;pre&gt;&lt;code&gt;0%...10%...20%...30%...40%...50%...60%...70%...80%...90%...100%
Interpreting /home/buraglio/centos-63-template.ova...
OK.
Disks: vmdisk1 150 1359413248 http://www.vmware.com/interfaces/specifications/vmdk.html#streamOptimized centos-63-template-disk1.vmdk 512919552 -1 
Virtual system 0:
 0: Suggested OS type: &amp;quot;Linux26\_64&amp;quot;
 (change with &amp;quot;--vsys 0 --ostype &amp;lt;type&amp;gt;&amp;quot;; use &amp;quot;list ostypes&amp;quot; to list all possible values)
 1: Suggested VM name &amp;quot;centos-63-template&amp;quot;
 (change with &amp;quot;--vsys 0 --vmname &amp;lt;name&amp;gt;&amp;quot;)
 2: Number of CPUs: 2
 (change with &amp;quot;--vsys 0 --cpus &amp;lt;n&amp;gt;&amp;quot;)
 3: Guest memory: 4096 MB
 (change with &amp;quot;--vsys 0 --memory &amp;lt;MB&amp;gt;&amp;quot;)
 4: Network adapter: orig ur1-vm1 72.36.126.200/29, config 5, extra type=Bridged
 5: CD-ROM
 (disable with &amp;quot;--vsys 0 --unit 5 --ignore&amp;quot;)
 6: SCSI controller, type LsiLogic
 (change with &amp;quot;--vsys 0 --unit 6 --scsitype {BusLogic|LsiLogic}&amp;quot;;
 disable with &amp;quot;--vsys 0 --unit 6 --ignore&amp;quot;)
 7: IDE controller, type PIIX4
 (disable with &amp;quot;--vsys 0 --unit 7 --ignore&amp;quot;)
 8: IDE controller, type PIIX4
 (disable with &amp;quot;--vsys 0 --unit 8 --ignore&amp;quot;)
 9: Hard disk image: source image=centos-63-template-disk1.vmdk, target path=/home/buraglio/VirtualBox VMs/centos-63-template/centos-63-template-disk1.vmdk, controller=6;channel=0
 (change target path with &amp;quot;--vsys 0 --unit 9 --disk path&amp;quot;;
 disable with &amp;quot;--vsys 0 --unit 9 --ignore&amp;quot;)
0%...10%...20%...30%...40%...50%...60%...70%...80%...90%...100%
Successfully imported the appliance.
```

It&#39;s there. you should now have a folder in your home directory that has the VM in it. 

```
ls -la VirtualBox\\ VMs/
&lt;/code&gt;&lt;/pre&gt;

&lt;p&gt;total 12
drwx&amp;mdash;&amp;mdash; 3 buraglio buraglio 4096 Jan 29 20:23 .
drwx&amp;mdash;&amp;mdash;. 4 buraglio buraglio 4096 Jan 29 20:23 ..
drwx&amp;mdash;&amp;mdash; 2 buraglio buraglio 4096 Jan 29 20:23 centos-63-template&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre style=&#34;color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4&#34;&gt;&lt;code class=&#34;language-to really make this useful, I clone all the VMs to the names I want and don&#39;t use the template at all. Now list the vms to verify what you have:```&#34; data-lang=&#34;to really make this useful, I clone all the VMs to the names I want and don&#39;t use the template at all. Now list the vms to verify what you have:```&#34;&gt;vboxmanage list vms
&amp;#34;centos-63-template&amp;#34; {4875b540-5514-4d0b-bba8-ce255b7f44a2}&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;We have one VM named &amp;ldquo;centos-63-template&amp;rdquo;, which is exactly what I wanted. Now clone this VM to the first usable VM, I&amp;rsquo;m building a floodlight OpenFlow controller, so I&amp;rsquo;ll name it accordingly.```
vboxmanage clonevm centos-63-template &amp;ndash;name floodlight1 &amp;ndash;register
0%&amp;hellip;10%&amp;hellip;20%&amp;hellip;30%&amp;hellip;40%&amp;hellip;50%&amp;hellip;60%&amp;hellip;70%&amp;hellip;80%&amp;hellip;90%&amp;hellip;100%
Machine has been successfully cloned as &amp;ldquo;floodlight1&amp;rdquo;&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre style=&#34;color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4&#34;&gt;&lt;code class=&#34;language-Now list the vms to make sure it is listed:```&#34; data-lang=&#34;Now list the vms to make sure it is listed:```&#34;&gt;vboxmanage list vms
``````
&amp;#34;centos-63-template&amp;#34; {4875b540-5514-4d0b-bba8-ce255b7f44a2}
``````
&amp;#34;floodlight1&amp;#34; {8fb4f03d-d117-43d5-b4bf-24cdcc481686}&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;Now here is the part I really like about virtualbox headless mode (and yes, I know others like qemu and xen can do this), when a virtual machine is started in headless mode, the console of that host can be redirected to an RDP instance. This makes it very convenient to manage systems on an out of band network like an isolated vlan or other non-routed or non-publically available network. It also makes it very convenient for spinning up a new VM that doesn&amp;rsquo;t have an IP stack configured. Its also very handy if you have a bad day and typo a host firewall rule or network config file. This has saved me a trip more than one time. To do this, you&amp;rsquo;ll need the vrdp extension pack.  To list the installed extension packs, once again, use the vboxmanage command  ```
VBoxManage list extpacks
Extension Packs: 0&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre style=&#34;color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4&#34;&gt;&lt;code class=&#34;language-The extension pack for my version is available [here](http://download.virtualbox.org/virtualbox/4.2.6/Oracle_VM_VirtualBox_Extension_Pack-4.2.6-82870.vbox-extpack).```&#34; data-lang=&#34;The extension pack for my version is available [here](http://download.virtualbox.org/virtualbox/4.2.6/Oracle_VM_VirtualBox_Extension_Pack-4.2.6-82870.vbox-extpack).```&#34;&gt;sudo VBoxManage extpack install Oracle\_VM\_VirtualBox\_Extension\_Pack-4.2.6-82870.vbox-extpack 
0%...10%...20%...30%...40%...50%...60%...70%...80%...90%...100%
Successfully installed &amp;#34;Oracle VM VirtualBox Extension Pack&amp;#34;.&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;At this point we&amp;rsquo;re ready to fire up the VM and connect to the console.```
vboxheadless -startvm floodlight1 -vrde on -vrdeproperty &amp;ldquo;TCP/Ports&amp;rdquo;=3390&amp;amp;
Oracle VM VirtualBox Headless Interface 4.2.6
&amp;copy; 2008-2012 Oracle Corporation
All rights reserved.&lt;/p&gt;

&lt;p&gt;VRDE server is listening on port 3390.
```The above command will start the VM &amp;ldquo;floodlight1&amp;rdquo;, enable vrde and set the vrde port to 3390. You should now be able to connect to the console of the host using any free or included RDP compatible client. I use the microsoft office for mac provided rdp client. &lt;img src=&#34;http://www.forwardingplane.net/wp-content/uploads/2013/01/RDC.png&#34; alt=&#34;RDC&#34; /&gt; You&amp;rsquo;ll see an error when connecting since the server can&amp;rsquo;t be verified.  This is expected.     &lt;a href=&#34;http://www.forwardingplane.net/wp-content/uploads/2013/01/RDC-Verify.png&#34;&gt;&lt;img src=&#34;http://www.forwardingplane.net/wp-content/uploads/2013/01/RDC-Verify.png&#34; alt=&#34;RDC Verify&#34; /&gt;&lt;/a&gt;   Hit connect and ta-da! Console on your VM.&lt;/p&gt;

&lt;p&gt;&lt;a href=&#34;http://www.forwardingplane.net/wp-content/uploads/2013/01/Console.png&#34;&gt;&lt;img src=&#34;http://www.forwardingplane.net/wp-content/uploads/2013/01/Console-1024x658.png&#34; alt=&#34;Console&#34; /&gt;&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;  The best part about this is that it allows for really flexible management of virtual machines from a geographically different location.  Other than the initial install of CentOS 6, this was done 100% remotely, without a windows host and without an expensive hypervisor license. This is perfect for labs and learning virtualization, I&amp;rsquo;d even consider this totally fine for production.&lt;/p&gt;
</description>
    </item>
    
    <item>
      <title>Diff RANCID router configs with SVN</title>
      <link>https://forwardingplane.net/post/diff-rancid-router-configs-with-svn/</link>
      <pubDate>Fri, 25 Jan 2013 00:27:09 +0000</pubDate>
      
      <guid>https://forwardingplane.net/post/diff-rancid-router-configs-with-svn/</guid>
      <description>

&lt;p&gt;If you are running a network and aren&amp;rsquo;t using &lt;a href=&#34;http://shrubbery.net/rancid/&#34;&gt;RANCID&lt;/a&gt;, you should give it a serious look.  RANCID is a cross platform configuration management toolkit for backing up router configurations and certain environmental and hardware information into version control.  It&amp;rsquo;s been around for as long as I can remember and supports nearly every platform I can think of, including a &lt;a href=&#34;http://www.forwardingplane.net/2012/11/vdxrancid-contrib-scripts/&#34; title=&#34;VDXrancid contrib scripts&#34;&gt;few&lt;/a&gt; &lt;a href=&#34;http://www.forwardingplane.net/2011/06/alurancid-and-pfrancid/&#34; title=&#34;alurancid and pfrancid&#34;&gt;modules&lt;/a&gt; that I cobbled together myself.  There is are a few nice web based front ends for CVS and SVN, I prefer to use &lt;a href=&#34;http://www.viewvc.org&#34;&gt;ViewVC&lt;/a&gt; because I have a lot of experience with it, however, there may be cases where a web server isn&amp;rsquo;t a good option, unavailable or just too much work.  In this case, you&amp;rsquo;ll want to know how to diff those configs from the CLI using the existing tools.  I find myself always forgetting the exact syntax of how to do this, so here it is. I prefer to use SVN, so we&amp;rsquo;ll talk about that one here.   svn list will give a list of current devices in version control:&lt;code&gt;
svn list
&lt;/code&gt;```
rtr1.company.com
rtr2.company.com
rtr3.company.com
sw1.company.com
sw2.company.com&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre style=&#34;color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4&#34;&gt;&lt;code class=&#34;language-To look at a router config:```&#34; data-lang=&#34;To look at a router config:```&#34;&gt;svn cat &amp;lt;router&amp;gt;
svn cat rtr1.company.com&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;See all revisions: svn log &lt;router&gt;```&lt;/p&gt;

&lt;h2 id=&#34;svn-log-rtr1-company-com&#34;&gt;svn log rtr1.company.com&lt;/h2&gt;

&lt;p&gt;r863 | _rancid | 2013-01-18 12:51:59 -0600 (Fri, 18 Jan 2013) | 1 line&lt;/p&gt;

&lt;h2 id=&#34;updates-change-made-by-buraglio&#34;&gt;updates - Change made by: buraglio&lt;/h2&gt;

&lt;p&gt;r848 | _rancid | 2013-01-09 14:00:27 -0600 (Wed, 09 Jan 2013) | 1 line&lt;/p&gt;

&lt;h2 id=&#34;updates&#34;&gt;updates&lt;/h2&gt;

&lt;p&gt;r847 | _rancid | 2013-01-09 02:07:42 -0600 (Wed, 09 Jan 2013) | 1 line&lt;/p&gt;

&lt;h2 id=&#34;updates-1&#34;&gt;updates&lt;/h2&gt;

&lt;p&gt;r832 | _rancid | 2012-12-12 09:42:33 -0600 (Wed, 12 Dec 2012) | 1 line&lt;/p&gt;

&lt;h2 id=&#34;updates-change-made-by-buraglio-1&#34;&gt;updates - Change made by: buraglio&lt;/h2&gt;

&lt;p&gt;r804 | _rancid | 2012-11-27 14:00:28 -0600 (Tue, 27 Nov 2012) | 1 line
updates&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre style=&#34;color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4&#34;&gt;&lt;code class=&#34;language-Diff revisions: svn diff -r &lt;version1&gt;:&lt;version2&gt; &lt;router&gt;```&#34; data-lang=&#34;Diff revisions: svn diff -r &lt;version1&gt;:&lt;version2&gt; &lt;router&gt;```&#34;&gt;svn diff -r r863:r847 rtr1.company.com

Index: 710rtr.ui-iccn.org
===================================================================
--- rtr1.company.com	(revision 863)
+++ rtr1.company.com	(revision 847)
@@ -497,7 +497,6 @@
 !
 interface ethernet 1/1
  port-name rtr2 (1-1-11-2:e1/2)
- enable
  ip ospf area 0
  ip ospf cost 8
  ip address 10.209.143.1/30&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;That&amp;rsquo;s basically it. Anything you can do from svn, you can do with your RANCID gathered SVN data.&lt;/p&gt;
</description>
    </item>
    
    <item>
      <title>Alternate model for Service Provider networks; or how to keep net neutrality intact</title>
      <link>https://forwardingplane.net/post/alternate-model-for-sp-networks/</link>
      <pubDate>Wed, 23 Jan 2013 05:34:38 +0000</pubDate>
      
      <guid>https://forwardingplane.net/post/alternate-model-for-sp-networks/</guid>
      <description>&lt;p&gt;There has been a lot of buzz about the service provider model, &lt;a href=&#34;http://en.wikipedia.org/wiki/Net_neutrality&#34;&gt;net neutrality&lt;/a&gt; and tiered access for consumers in the past few years.  Just this week &lt;a href=&#34;http://www.theverge.com/2013/1/19/3894182/french-isp-orange-says-google-pays-to-send-traffic&#34;&gt;Google has been accused of paying Orange&lt;/a&gt; (more likely Orange is forcing google) for handling its traffic.  This is a VERY slippery slope that teeters on the edge of what we all want to avoid as consumers or content creators. This recent story has sparked something I&amp;rsquo;ve been thinking about for a very long time. Rewind to 1999. I worked for a small, regional broadband provider what seems like a lifetime ago, back when broadband was new and shiny and not terribly common.  We provided ATM based DSL, T1, ISDN and on some occasions dry copper gorilla net access to southern Chicago communities, Champaign-Urbana, IL, Danville, IL, Kankakee, IL,  a bit of west Indiana and a handful of small communities in between.  It was a proving ground for a young, motivated networking guy.  I was the senior network engineer, technical lead and for a while had a handful of direct report employees and students. This was where I really cut my teeth with routing, switching, content delivery and service levels. I ended up leaving there and moving on to work on a lot of HPC work and bleeding edge WAN stuff (think n x 10Gbps across the country in 2003).  However, one thing I took away from that ISP job was something that wasn&amp;rsquo;t really a new idea as much as just a uniquely positioned service and a good idea.  There was this local POP connection run by the university that allowed for exchange of  routes between any network that could pay the local loop charge.  It was a way to get cheap, fast access to anything local.  Unmetered, unfiltered.  Exchange any routes you want (that you own), take whatever routes you need. This was a clever model because down where we are located, 2.5 hours south of Chicago, transit bandwidth wasn&amp;rsquo;t (and isn&amp;rsquo;t) cheap.  Every local provider connected as did the community hospital, the university and a handful of others.  We took FULL advantage of fast connectivity between each other and all saved on transit bandwidth.  &lt;a href=&#34;http://en.wikipedia.org/wiki/National_research_and_education_network&#34;&gt;This kind of thing has been in place in the R&amp;amp;E&lt;/a&gt; community for far longer than I&amp;rsquo;ve been around. Fast forward 11 years. I&amp;rsquo;m still a huge fan of bi-lateral BGP peerings.  I want as many as I can get.  As a service provider I want a default free network with a lot of peers in many geographically diverse locations. I propose a [not-so]new model for service providers.  Create peering points, meet me routers.  Allow any network to connect for a port fee and exchange local routes.  Make these local routes free, unlimited and unfiltered (do your proper capacity planning, of course).  Opening up exchanges promotes better, diverse paths to resources and allows for a better overall user experience. Data is where the telecom companies make their money nowadays.  Net Neutrality is constantly in the news and in danger of being compromised.  Tiered services are everywhere.  I understand the need to meter service.  I did the ISP thing, I know that 5% of the users use 80% of the bandwidth.  That&amp;rsquo;s not new either.  I challenge larger service providers to think about it in a new way, though.  We&amp;rsquo;re making it work.  It&amp;rsquo;s a smaller scale, but it works.  I think it can scale if architected correctly.  It may have more operational overhead, but I suspect it can also command a bit more in price.  It could also allow for the non-asterisked use of the word &amp;ldquo;unlimited&amp;rdquo;, so marketing guys will love it.&lt;/p&gt;

&lt;p&gt;Is it more engineering? Sure.  Is it harder to manage? Maybe, but likely not harder than architecting around content providers that don&amp;rsquo;t want to pay.  It is a better idea and promoting better service for both content providers and consumers of their service than making content providers pay for transit?  Absolutely.&lt;/p&gt;

&lt;p&gt;We&amp;rsquo;re doing this on &lt;a href=&#34;http://uc2b.net&#34;&gt;UC2B&lt;/a&gt;. It played a part in winning us the &lt;a href=&#34;http://www.natoa.org/2012/09/natoa-announces-recipients-of-4.html&#34;&gt;Community Broadband Project of the Year award from the NATOA&lt;/a&gt;.  It&amp;rsquo;s a good idea.&lt;/p&gt;
</description>
    </item>
    
    <item>
      <title>SDN Across the WAN, part deux.  Primitives.</title>
      <link>https://forwardingplane.net/post/sdn-across-the-wan-part-deux-primitives/</link>
      <pubDate>Fri, 11 Jan 2013 03:18:47 +0000</pubDate>
      
      <guid>https://forwardingplane.net/post/sdn-across-the-wan-part-deux-primitives/</guid>
      <description>&lt;p&gt;I&amp;rsquo;ve been &lt;a href=&#34;http://www.forwardingplane.net/2012/11/sdn-across-domains-in-the-wan-a-novice-look/&#34; title=&#34;SDN across domains in the WAN – a novice look&#34;&gt;lamenting about the SDN WAN&lt;/a&gt; options for a while now.  Having SDN/OpenFlow in a data center or campus is relatively well documented and already widely deployed.  Google has been doing SDN across their private WAN in production.  These pieces are easy.  What isn&amp;rsquo;t easy is the ability to plumb SDN across many domains that are under disparate control.   This part is hard. What is lacking is a fundamental framework, or set of primitives to build from.  As an example, how does one build a SDN path across this:   &lt;a href=&#34;http://www.forwardingplane.net/wp-content/uploads/2013/01/SDN-Reference-Architecture-Sanitized.png&#34;&gt;&lt;img src=&#34;http://www.forwardingplane.net/wp-content/uploads/2013/01/SDN-Reference-Architecture-Sanitized.png&#34; alt=&#34;&#34; title=&#34;SDN Reference Architecture -Sanitized&#34; /&gt;&lt;/a&gt; First I think we need to define what we want out of the SDN path.  A reserved bandwidth allocation?  A Layer2 path?  Flow instantiation across the entire path?  The first two have a least common denominator.  The third is hard, especially if the path transits a segment with no SDN capability. This piece is making my brain hurt.  There seems to be a lot of early work on this, &lt;a href=&#34;http://events.internet2.edu/speakers/speakers.php?go=people&amp;amp;id=2865&#34;&gt;Inder Monga&lt;/a&gt; from &lt;a href=&#34;http://www.es.net&#34;&gt;ESnet&lt;/a&gt; has been working at making this happen, and I think he&amp;rsquo;s the closest from what I&amp;rsquo;ve seen in my searching and researching.   I want to know how to do this across &lt;strong&gt;all&lt;/strong&gt; networks.   I want to see the future of carrier WAN connectivity, to taste the unicorn milk. The methodology so far has been to break this down into small black boxes.  After doing that, I realized that there is going to have to be a common protocol.  The least common denominator to all of this is the SDN.  It doesn&amp;rsquo;t much matter what that SDN is as long as there is a central controller.  It can be OpenFlow, &lt;a href=&#34;http://www.es.net/services/virtual-circuits-oscars/&#34;&gt;OSCARS&lt;/a&gt;, &lt;a href=&#34;http://en.wikipedia.org/wiki/Generalized_Multi-Protocol_Label_Switching&#34;&gt;GMPLS&lt;/a&gt;, &lt;a href=&#34;http://ext.delaat.net/olex/index.html&#34;&gt;Open LightPath Exchange&lt;/a&gt;, whatever.  It doesn&amp;rsquo;t matter.  They all need a controller.  Within those controllers there needs to be &amp;ldquo;an energy field created by all SDN. It surrounds us and penetrates us; it binds the galaxy together&amp;rdquo;.  Yes, I like Star Wars. So, how would one do this?  It would be ideal, to me at least, if there was a standard set of protocols that all of these controllers could speak.  This standard communication could be as simple as how a BGP peering functions.  Site A has a controller, it &amp;ldquo;peers&amp;rdquo; with it&amp;rsquo;s upstream and announces its capabilities. For example, &lt;a href=&#34;http://www.forwardingplane.net/wp-content/uploads/2013/01/SDN-peering.png&#34;&gt;&lt;img src=&#34;http://www.forwardingplane.net/wp-content/uploads/2013/01/SDN-peering.png&#34; alt=&#34;&#34; title=&#34;SDN peering&#34; /&gt;&lt;/a&gt; All of these peers exchange capability information and pass it on with a standardized set of language and a location identifier (think ASN and route announcements).  To me this appears to be the lowest hanging fruit. I&amp;rsquo;m not a developer but there doesn&amp;rsquo;t seem to be to be any reason that this couldn&amp;rsquo;t be built into any controller, commercial or opensource. That way, regardless of vendor, SDN implementation or capabilities everyone can create a SDN path based on the available implementations upstream. Of course, there would need to be a &amp;ldquo;multihop&amp;rdquo; option for those that have to upstream SDN paths. In this case something like a GRE tunnel could be the lowest common denominator. This would have to transcend OpenFlow and be a true &amp;ldquo;SDN&amp;rdquo; at the fundamental level to actually work, but it needs to take into account managing the flow table of networks outside of a given administrative domain. As a starting point, here is the framework I came up with:&lt;/p&gt;

&lt;ul&gt;
&lt;li&gt;Reliable transport: TCP&lt;/li&gt;
&lt;li&gt;Authentication method: MD5 Capabilities exchanged:&lt;/li&gt;
&lt;li&gt;Number of circuits&lt;/li&gt;
&lt;li&gt;Types of SDN (MPLS, VLAN, DWDM Waves, OpenFlow Version, Flow manipulation)&lt;/li&gt;
&lt;li&gt;Bandwidth per circuit (if applicable)&lt;/li&gt;
&lt;li&gt;Duration of circuit or flow (path TTL, permanent?)&lt;/li&gt;
&lt;li&gt;Path validation (to ensure end to end connectivity over negotiated methodology)&lt;/li&gt;
&lt;/ul&gt;

&lt;p&gt;I&amp;rsquo;ve been talking a lot with &lt;a href=&#34;http://www.networkstatic.net/&#34;&gt;Brent Salisbury&lt;/a&gt; about this.  I know folks are thinking about it.  Bill Owens &lt;a href=&#34;http://www.forwardingplane.net/2012/11/sdn-across-domains-in-the-wan-a-novice-look/#comment-47&#34;&gt;had some great comments&lt;/a&gt; to my last post regarding this and I think he&amp;rsquo;s totally spot on.  However, I want to hit 88mph in my Delorean and see the future.  I think it&amp;rsquo;s a ways way off but someone needs to come up with this framework.  SDN is so disjointed that it needs a one ring.  Controlling the forwarding plane of someone else network is scary and needs to have a leash on it.  Building this standard protocol could be it.  Unfortunately, I am no developer but I do know a little bit about running a decent sized network.  There will need to be safeguards, policy and knobs to tweak.  I keep coming back to BGP.  It&amp;rsquo;s not as much of a routing protocol as it is a policy framework disguised as a routing protocol.  There needs to be something similar with SDN. I&amp;rsquo;m going to continue to think through this publicly and I welcome constructive input.     &lt;strong&gt;EDIT&lt;/strong&gt;:  &lt;a href=&#34;https://datatracker.ietf.org/doc/draft-ietf-alto-protocol/&#34;&gt;ALTO&lt;/a&gt; is pretty close.  There has been a lot of work going on but I don&amp;rsquo;t think it&amp;rsquo;s all the way to where we need it to be.  Some interesting proof of concept and detail stuff can be read &lt;a href=&#34;http://www.ewsdn.eu/presentations/ALTOwrtSDN.pdf&#34;&gt;here&lt;/a&gt; and &lt;a href=&#34;http://opennetsummit.org/talks/ward-wed.pdf&#34;&gt;here&lt;/a&gt;.&lt;/p&gt;
</description>
    </item>
    
    <item>
      <title>How to install and use the Airport utility under Mountain Lion</title>
      <link>https://forwardingplane.net/post/how-to-install-and-use-the-airport-utility-under-mountain-lion/</link>
      <pubDate>Wed, 09 Jan 2013 09:58:47 +0000</pubDate>
      
      <guid>https://forwardingplane.net/post/how-to-install-and-use-the-airport-utility-under-mountain-lion/</guid>
      <description>&lt;p&gt;I have a bunch of Apple wireless gear  at my house.  It&amp;rsquo;s inexpensive, feature rich and easy to maintain.  However, with the update to mountain lion a while ago, the ability to install  the older Airport Utility stopped.  This is annoying since I have what apple now considers &amp;ldquo;advanced&amp;rdquo; features like IPv6 at my home and essentially all my gear here is a lab (except for the plex server =) I&amp;rsquo;ve been spending a lot of time on &lt;a href=&#34;http://www.cacti.net&#34;&gt;cacti&lt;/a&gt; lately, and I wanted to test out the syslog plugin&amp;hellip;.ok, easy.  It&amp;rsquo;s all set up.  Then I got to thinking &amp;ldquo;why not just let this run and syslog all my gear like the good &amp;lsquo;ol days?&amp;rdquo;  Nerdy?  Yes, but hey, I collect flow data at home and have a &lt;a href=&#34;http://www.forwardingplane.net/homenet/&#34;&gt;weathermap&lt;/a&gt; of my home network.  It keeps me eating my own dog food with the netflow exporter plugin on &lt;a href=&#34;http://www.pfsense.org&#34;&gt;pfSense&lt;/a&gt; and it&amp;rsquo;s fun. Uh, oh.  No ability to set syslog receiver on the airport gear anymore.  Not cool.  [Guess what, no way to change IPv6 settings anymore either] No way to do a standard install of the old utility. Lame, Apple, Lame.  After poking around a bit I found a pretty easy way to do it as long as you&amp;rsquo;re not afraid of the command line. Since at least a few other folks will want to do this, here it is: &lt;a href=&#34;http://support.apple.com/kb/DL1536&#34;&gt;Download the App&lt;/a&gt; from Apple. Mount the Downloaded disk. Open Terminal. Type:&lt;code&gt;
pkgutil --expand /Volumes/AirPortUtility/AirPortUtility56.pkg
cd ~/Desktop/AirPortTemp~/Desktop/AirPortTemp/AirPortUtility56Lion.pkg/
open Payload
cd &amp;quot;Payload 2 2/Applications/Utilities/&amp;quot;
open .
&lt;/code&gt;&lt;a href=&#34;http://www.forwardingplane.net/wp-content/uploads/2013/01/Screen-Shot-2013-01-08-at-11.32.08-PM.png&#34;&gt;&lt;img src=&#34;http://www.forwardingplane.net/wp-content/uploads/2013/01/Screen-Shot-2013-01-08-at-11.32.08-PM.png&#34; alt=&#34;&#34; title=&#34;Screen Shot 2013-01-08 at 11.32.08 PM&#34; /&gt;&lt;/a&gt; Done.  That should open a finder window with the App in it.  You can copy it to you /Applications/Utilities folder and use it alongside the newer one.  You&amp;rsquo;ll need to authenticate to copy into the /Applications/Utilities directory. Edits made and Poof!  Now I can see my syslogs from within cacti.&lt;/p&gt;
</description>
    </item>
    
    <item>
      <title>DNS utilities on CentOS</title>
      <link>https://forwardingplane.net/post/dns-utilities-on-centos/</link>
      <pubDate>Fri, 04 Jan 2013 10:13:28 +0000</pubDate>
      
      <guid>https://forwardingplane.net/post/dns-utilities-on-centos/</guid>
      <description>&lt;p&gt;It&amp;rsquo;s always annoying to me, being a convert from *BSD to Linux, that tools lke dig and host aren&amp;rsquo;t in the minimal base install.  I realise that this makes me somewhat of a hypocrite, as I prefer an additive system rather than a subtractive base OS.  Nevertheless, I&amp;rsquo;m continually surprised that &amp;ldquo;host&amp;rdquo; isn&amp;rsquo;t available after installing a minimal CentOS system without adding an additional package.  So, since I always forget, here is a quick blog post to remind me and any other converts how to install those tools:```
 yum -y install bind-utils&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre style=&#34;color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4&#34;&gt;&lt;code class=&#34;language-That&#39;s it.  Tragedy avoided.  Now I can make sure my AAAA records are working.```&#34; data-lang=&#34;That&#39;s it.  Tragedy avoided.  Now I can make sure my AAAA records are working.```&#34;&gt;\[buraglio@cupcake httpd\]# dig www.forwardingplane.net -t AAAA
; &amp;lt;&amp;lt;&amp;gt;&amp;gt; DiG 9.8.2rc1-RedHat-9.8.2-0.10.rc1.el6\_3.6 &amp;lt;&amp;lt;&amp;gt;&amp;gt; www.forwardingplane.net -t AAAA
;; global options: +cmd
;; Got answer:
;; -&amp;gt;&amp;gt;HEADER&amp;lt;&amp;lt;- opcode: QUERY, status: NOERROR, id: 47725
;; flags: qr rd ra; QUERY: 1, ANSWER: 1, AUTHORITY: 0, ADDITIONAL: 0
;; QUESTION SECTION:
;www.forwardingplane.net. IN AAAA
;; ANSWER SECTION:
www.forwardingplane.net. 86364 IN AAAA 2607:f2f8:4980::2
;; Query time: 1 msec
;; SERVER: 10.209.209.1#53(10.209.209.1)
;; WHEN: Thu Jan 3 22:49:35 2013
;; MSG SIZE rcvd: 69&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;</description>
    </item>
    
    <item>
      <title>HomeNet</title>
      <link>https://forwardingplane.net/post/homenet/</link>
      <pubDate>Thu, 03 Jan 2013 18:43:29 +0000</pubDate>
      
      <guid>https://forwardingplane.net/post/homenet/</guid>
      <description>&lt;p&gt;Maybe It&amp;rsquo;s a bit overkill, but I used my home network as an exercise for building a Network Weathermap for another consulting gig I had.  It continues to run.  Why? Because it can =)   &lt;img src=&#34;http://home.buraglio.com:3181/plugins/weathermap/weathermap-cacti-plugin.php?action=viewimage&amp;amp;id=1d0c35513c3db48d53f4&#34; alt=&#34;&#34; /&gt;&lt;/p&gt;
</description>
    </item>
    
    <item>
      <title>Where will Cisco go from here?</title>
      <link>https://forwardingplane.net/post/where-will-cisco-go-from-here/</link>
      <pubDate>Thu, 03 Jan 2013 00:46:09 +0000</pubDate>
      
      <guid>https://forwardingplane.net/post/where-will-cisco-go-from-here/</guid>
      <description>&lt;p&gt;After reading &lt;a href=&#34;http://blog.fosketts.net/about/stephen-foskett/&#34;&gt;Stephen Foskett&lt;/a&gt;s post &amp;ldquo;&lt;a href=&#34;http://blog.fosketts.net/2013/01/02/cisco-recover-consumer-strategy-blunder/&#34;&gt;How Will Cisco Recover From The Consumer Strategy Blunder?&lt;/a&gt;&amp;rdquo;, it got me thinking.  It&amp;rsquo;s a very different world than when Cisco got started all those years ago.  I don&amp;rsquo;t have any brand loyalty to Cisco, I learned on cisco gear 14-15 years ago for the most part, but I try to keep the mentality of &amp;ldquo;the right tool for the job&amp;rdquo;, which means constantly surveying th emarket for new and interesting ways to do things.  In doing this, it&amp;rsquo;s really opened my eyes over the last 10 years.  There are so many more ways to do what needs to be done in networking day to day that are cheaper, supportable and in some cases easier, than going with the big Cisco.  that&amp;rsquo;s not saying that their gear isn&amp;rsquo;t fantastic.  I do love it, it works well for the most part and is very sell supported and documented.   &lt;img src=&#34;http://lcolumbus.files.wordpress.com/2010/10/ciscosystems.jpg&#34; alt=&#34;&#34; /&gt; I mostly agree with his sentiments.  I think Cisco needs to re-evaluate all of their offerings.  Re-focusing on what worked before is one strategy, but it may not be the best one. They&amp;rsquo;ve gone into the data center in the last 10 years with new products, their aquisition of topspin gave them IB when it was hot.  I&amp;rsquo;ve personally not seen much of anything from them with Infiniband in recent memory and I believe they killed off their IB switches. They&amp;rsquo;ve done deals and made purpose built servers in the past (think call manager and compaq) that were less than stellar.  Storage is key, but he&amp;rsquo;s right, they&amp;rsquo;d have to buy some key or upstart gold mine players since it&amp;rsquo;s a total shift in technology.  Convergence is a nice idea.  I&amp;rsquo;ve never seen it really done well but I&amp;rsquo;d love to, so if they can pull it off that&amp;rsquo;d be a great feather in their cap.  Brocade is very well positioned to master convergence and steal that away. The Nexus is a fine box, but it&amp;rsquo;s got a lot of competition from the likes of Brocade, Arista, Extreme and even Juniper for the DC. In the service provider space they&amp;rsquo;ve been getting inched out by Juniper for a very long time and technically speaking Alcatel Lucent has a very good platform in that area as well. Their large / carrier security platforms have a lot of arguably better offerings from the likes of Juniper, Fortinet and Palo Alto. Their core routers have been getting inched out by Brocade, Extreme, Juniper and even Alcatel Lucent. And what about price? Is their venerable IOS enough to warrant the double and triple price tags and high cost of maintenance? In my small corner of the world it isn&amp;rsquo;t. Operationally it&amp;rsquo;s no harder or more cost for us to run a box that is IOS-like, or JunOS. From my admittedly skewed perspective their bread and butter is in the MPLS PE devices, smaller security appliances and possibly the ASR series. &amp;hellip;unless they can pull a Hail Mary SDN solution and corner in the already entrenched customers. It&amp;rsquo;s a very different world in networking today than when Cisco took the Lions share of the market. There is real competition. More competition. Cheaper competition with just an many features that is every bit as reliable. My opinion is that they need a complete rethink of their world, they have good, widely deployed products, leverage existing relationships and get some fresh ideas in.  Or buy someone with some.&lt;/p&gt;
</description>
    </item>
    
    <item>
      <title>Most popular posts of 2012</title>
      <link>https://forwardingplane.net/post/294/</link>
      <pubDate>Wed, 02 Jan 2013 05:54:15 +0000</pubDate>
      
      <guid>https://forwardingplane.net/post/294/</guid>
      <description>&lt;p&gt;I am very happy and flattered that this site actually proves to be useful to folks. It was always my intention to use this as a platform to try to give back a bit, to help with any data I may have run across that was interesting, useful, or obscure.  I utilize sites like &lt;a href=&#34;http://www.etherialmind.com&#34;&gt;etherialmind.com&lt;/a&gt;, &lt;a href=&#34;http://www.packetpushers.net&#34;&gt;packetpushers.net&lt;/a&gt;, &lt;a href=&#34;http://www.evilrouters.net&#34;&gt;evilrouters.net&lt;/a&gt;, &lt;a href=&#34;http://wwwmetworkstatic.net&#34;&gt;networkstatic.net&lt;/a&gt; and &lt;a href=&#34;http://blog.ioshints.info&#34;&gt;ioshints&lt;/a&gt; more than I can even measure.  I wanted to try to contribute as much as I could to pay it back.  So, seeing at it&amp;rsquo;s a new year and all, I couldn&amp;rsquo;t resist doing some data mining on the analytics of this site over the course of the last 12 months. I was once again surprised to see that a firewall post was clearly the most popular.  The &lt;a href=&#34;http://www.forwardingplane.net/2012/12/sonicwall-old-dog-learns-some-new-tricks/&#34; title=&#34;Sonicwall – Old dog learns [some] new tricks&#34;&gt;recent post on the Sonicwall&lt;/a&gt; was the clear, overwhelming winner having more than twice the views as it&amp;rsquo;s closest rival. &lt;a href=&#34;http://www.forwardingplane.net/wp-content/uploads/2013/01/rear_view_mirror.jpg&#34;&gt;&lt;img src=&#34;http://www.forwardingplane.net/wp-content/uploads/2013/01/rear_view_mirror.jpg&#34; alt=&#34;&#34; title=&#34;rear_view_mirror&#34; /&gt;&lt;/a&gt; It&amp;rsquo;s interesting to see that, especially since most of what I do every day is routing and switching.  However, when this site was originally brought online back in 2008 (as tech.buraglio.com) to house my &lt;a href=&#34;http://www.forwardingplane.net/2010/09/updating-srx-idp-signatures/&#34; title=&#34;Updating SRX IDP signatures&#34;&gt;very&lt;/a&gt; &lt;a href=&#34;http://www.forwardingplane.net/2010/08/juniper-srx-cluster/&#34; title=&#34;Juniper SRX Cluster&#34;&gt;rough&lt;/a&gt; &lt;a href=&#34;http://www.forwardingplane.net/2010/09/srx-ipv6-flow-based-processing/&#34; title=&#34;SRX IPv6 flow based processing&#34;&gt;notes&lt;/a&gt; &lt;a href=&#34;http://www.forwardingplane.net/2010/10/multicast-through-juniper-srx-5800/&#34; title=&#34;Multicast through Juniper SRX 5800&#34;&gt;on&lt;/a&gt; &lt;a href=&#34;http://www.forwardingplane.net/2010/10/enabling-ipv6-on-juniper-srx-5800-cluster/&#34; title=&#34;Enabling IPv6 on Juniper SRX 5800 cluster&#34;&gt;the&lt;/a&gt; &lt;a href=&#34;http://www.forwardingplane.net/2011/01/moving-junos-code-between-srx-cluster-nodes/&#34; title=&#34;Moving JunOS code between SRX cluster nodes&#34;&gt;Juniper&lt;/a&gt; &lt;a href=&#34;http://www.forwardingplane.net/2011/02/upgrading-a-new-srx-3600/&#34; title=&#34;Upgrading a new SRX 3600&#34;&gt;SRX&lt;/a&gt; platform that I had the pleasure of being a very early adopter of, it was really obvious that folks wanted to see that data.  Those posts, although somewhat old, continue to be pretty popular. The &lt;a href=&#34;http://www.forwardingplane.net/2012/12/plexxi-could-be-wdm-for-the-rest-of-us/&#34; title=&#34;Plexxi could be WDM for the rest of us.&#34;&gt;post on Plexxi&lt;/a&gt; and the &lt;a href=&#34;http://www.forwardingplane.net/2012/11/sdn-across-domains-in-the-wan-a-novice-look/&#34; title=&#34;SDN across domains in the WAN – a novice look&#34;&gt;post on SDN across the WAN&lt;/a&gt; are also pretty popular and both are subjects I will likely revisit as time permits. I&amp;rsquo;m working on many, many cool projects this year and I plan to write notes on every one of them.  Hopefully they&amp;rsquo;ll be useful to someone.   Welcome to 2013.  Let&amp;rsquo;s blow some minds, melt some faces and push some envelopes.&lt;/p&gt;
</description>
    </item>
    
    <item>
      <title>Installing OwnCloud on CentOS</title>
      <link>https://forwardingplane.net/post/291/</link>
      <pubDate>Sun, 30 Dec 2012 13:32:17 +0000</pubDate>
      
      <guid>https://forwardingplane.net/post/291/</guid>
      <description>&lt;pre&gt;&lt;code&gt;wget http://dl.fedoraproject.org/pub/epel/6/x86\_64/epel-release-6-8.noarch.rpm
wget http://rpms.famillecollet.com/enterprise/remi-release-6.rpm
yum -y install apache2 php5 php5-json php-xml php-mbstring php5-zip php5-gd
yum -y install php5-sqlite curl libcurl3 libcurl3-dev php5-curl php-pd
&lt;/code&gt;&lt;/pre&gt;

&lt;p&gt;php5-sqlite isn&amp;rsquo;t available in the repos I use. I wasn&amp;rsquo;t able to find it elsewhere either. Per &lt;a href=&#34;http://php.net/manual/de/sqlite.installation.php&#34;&gt;this page&lt;/a&gt;, I have to install it by source.&lt;code&gt;
cd /etc/yum.repos.d/
wget http://download.opensuse.org/repositories/isv:ownCloud:community/CentOS\_CentOS-6/isv:ownCloud:community.repo
yum install owncloud
&lt;/code&gt;&lt;/p&gt;
</description>
    </item>
    
    <item>
      <title>Random Tech Predictions for 2013</title>
      <link>https://forwardingplane.net/post/random-tech-predictions-for-2013/</link>
      <pubDate>Thu, 20 Dec 2012 19:39:17 +0000</pubDate>
      
      <guid>https://forwardingplane.net/post/random-tech-predictions-for-2013/</guid>
      <description>&lt;p&gt;I have a love-hate feeling about &amp;ldquo;predictions&amp;rdquo; about the upcoming year, especially tech predictions.  I don&amp;rsquo;t like media sensationalism of any kind, and a lot of the tech predctions are just that, sensational, extreme talk to draw in readers or viewers.  I&amp;rsquo;m choosing to go down a more subtle path, these are things I&amp;rsquo;ve thought about lately but will likely forget in the upcoming year, unless they actually happen, in which case I&amp;rsquo;d likely do an &amp;ldquo;ah, I remember thinking that may happen&amp;rdquo; gesture.  Additionally, many of these things are well underway already, but I have a mind like a FIFO pipe, so I&amp;rsquo;m gonna write them down here to remember to go back and look at them in a few months.  They&amp;rsquo;re sort of a mixed bag of stuff, in no particular order. Lets call these, &amp;ldquo;plausible but not necessarily inevitable; possibly already happening&amp;rdquo;. &lt;a href=&#34;http://www.forwardingplane.net/wp-content/uploads/2012/12/crystal-ball.jpg&#34;&gt;&lt;img src=&#34;http://www.forwardingplane.net/wp-content/uploads/2012/12/crystal-ball.jpg&#34; alt=&#34;&#34; title=&#34;crystal-ball&#34; /&gt;&lt;/a&gt; 1. Google buys or invests in a mobile carrier.  I was thinking Sprint, but T-Mobile makes more sense because of their GSM network and more global compatibility.  Thins kind of thing has been proposed many times over the last few years and it still makes sense. 2.  Apple buys or invests in Twitter.  This makes a lot of sense to me and would solidify their place in the social networking arena. 3. &lt;a href=&#34;http://www.aristanetworks.com&#34;&gt;Arista Networks &lt;/a&gt; moves into a larger data center and cloud computing role.  I see big things for this company. they have a very solid pedigree, have an innovative business model and a &lt;strong&gt;very&lt;/strong&gt; compelling product.   Which leads me to #4. 4. Talks of larger companies (Cisco, Juniper, Dell, Google) purchasing &lt;a href=&#34;http://www.aristanetworks.com&#34;&gt;Arista Networks&lt;/a&gt;.  This hapens to many of the very innnovative companies.  Remember &lt;a href=&#34;http://en.wikipedia.org/wiki/Procket_Networks&#34;&gt;Procket&lt;/a&gt;?  Yeah, most folks don&amp;rsquo;t.  I had the same thoughts about them.  cisco purchased, absorbed and buried them.  I believe their routing pieces were shoved into the nexus. 5. SDN controllers become more mainstream.  BigSwitch stands more or less unchallenged in the commercial controller space and has done it right.  Seed the opensource community and make a commercial product for those that want it (i.e. businesses that need support, don&amp;rsquo;t want to deal with code).  It makes sense to me that this become a big market in the next few years, and next year will likely be the mad dash.  I expect to see SDN controllers from big names and hopefully some start ups. 6. &lt;a href=&#34;http://www.plexxi.com&#34;&gt;Plexxi&lt;/a&gt; starts to become a more well known name.  They&amp;rsquo;ve got a really cool product and a unique and innovative feature set.  I also wouldn&amp;rsquo;t be surprised if a big name tried to buy them. 7. More and more &amp;ldquo;Ethernet Fabric&amp;rdquo; products emerge.  This is the new marketing favorite son and there are &lt;a href=&#34;http://gnodal.com&#34;&gt;many&lt;/a&gt; new players here.  Sprinkle in SDN and &amp;ldquo;Cloud&amp;rdquo;, shake with &amp;ldquo;data center&amp;rdquo; and you&amp;rsquo;ve got a buzzword cocktail worthy of a king. 8. Productized optical (WDM) SDN starts to mature and become available. This is already happening in he background and on the periphery. 9. &lt;a href=&#34;http://www.crn.com/news/networking/240007827/microsoft-confirms-more-details-of-lync-skype-integration.htm&#34;&gt;Skype is integrated into MS Lync&lt;/a&gt;.  I don&amp;rsquo;t think this is really unexpected or a surprise at all since it&amp;rsquo;s been announced.  I think it&amp;rsquo;ll happen in 2013, though. 10.  &lt;a href=&#34;http://www.openstack.org&#34;&gt;OpenStack&lt;/a&gt; starts taking a more publicized role in production cloud computing.  This is sort of inevitable and obvious, I think, and it&amp;rsquo;s already starting to happen.&lt;/p&gt;
</description>
    </item>
    
    <item>
      <title>CentOS sshguard install for limiting ssh scans</title>
      <link>https://forwardingplane.net/post/centos-sshguard-install-for-limiting-ssh-scans/</link>
      <pubDate>Sun, 16 Dec 2012 03:18:27 +0000</pubDate>
      
      <guid>https://forwardingplane.net/post/centos-sshguard-install-for-limiting-ssh-scans/</guid>
      <description>

&lt;p&gt;Securing SSH is a form or art.  It&amp;rsquo;s often debated, much like blocking all ICMP packets (which I normally disagree with).  If you need good proof, read &lt;a href=&#34;http://lonesysadmin.net/2012/11/20/changing-sshd-port-numbers-continues-to-be-a-bad-idea/&#34;&gt;these&lt;/a&gt; &lt;a href=&#34;http://lonesysadmin.net/2012/10/19/on-using-alternate-ports-for-ssh/&#34;&gt;posts&lt;/a&gt; by &lt;a href=&#34;https://twitter.com/plankers&#34;&gt;Bob Plankers&lt;/a&gt;.  There is a camp that likes to promote moving to a non-standard port.  There is a faction that likes to block it completely except from a handful of hosts.  Then there are those that like to leave it open all together.  Running naked in the digital jungle. I tend to err on the side of blocking except for jump hosts.  This is a pretty time proven methodology.  However, what about the hosts that &lt;strong&gt;need&lt;/strong&gt; to be open? A hardened jump host or public shell box comes to mind. Enter &lt;a href=&#34;http://www.sshguard.net&#34;&gt;sshguard&lt;/a&gt;. SSH Guard is an amazing little piece of software that takes the heavy lifting out of blocking all of those scans and automates removal of blocks.  It works across a myriad of popular unix platforms. From &lt;a href=&#34;http://www.sshguard.net&#34;&gt;http://www.sshguard.net&lt;/a&gt;: &lt;em&gt;Sshguard monitors servers from their logging activity. When logs convey that someone is doing a Bad Thing, sshguard reacts by blocking he/she/it for a bit. Sshguard has a touchy personality: when a naughty tyke insists disturbing your host, it reacts firmer and firmer.&lt;/em&gt; &lt;em&gt;Sshguard supports many services out of the box, recognizes severallog formats, and can operate many firewall systems. Many users appreciate its ease of use, compatibility and feature richness.&lt;/em&gt; I like it because they have not left out some of the less common distros, but sinceI&amp;rsquo;ve mostly converted over to CentOS, this focus is how to set it up on Centos 6.3.   We&amp;rsquo;ll assume you have epel repo and rpmforge repo installed. I prefer &lt;a href=&#34;http://www.balabit.com/network-security/syslog-ng&#34;&gt;syslog-ng&lt;/a&gt; so lets install that.```
sudo yum -y install syslog-ng&lt;/p&gt;

&lt;pre&gt;&lt;code&gt;chkconfig syslog-ng on
&lt;/code&gt;&lt;/pre&gt;

&lt;p&gt;chkconfig rsyslog off&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre style=&#34;color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4&#34;&gt;&lt;code class=&#34;language-This isn&#39;t necessary, but I&#39;d recommend it. Next, I lke to disable selinux.  It&#39;s on be default in CentOS and I really don&#39;t need what it offers.  I find it annoying and far too restrictive and this won&#39;t build correctly without it disabled in my experience.```&#34; data-lang=&#34;This isn&#39;t necessary, but I&#39;d recommend it. Next, I lke to disable selinux.  It&#39;s on be default in CentOS and I really don&#39;t need what it offers.  I find it annoying and far too restrictive and this won&#39;t build correctly without it disabled in my experience.```&#34;&gt;sudo vi /etc/selinux/config&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;Change the line that reads```
SELINUX=enabled&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre style=&#34;color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4&#34;&gt;&lt;code class=&#34;language-to```&#34; data-lang=&#34;to```&#34;&gt;SELINUX=disabled&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;You&amp;rsquo;ll need to reboot to make this take effect. Note that this will disable selinux completely and permanently.  &lt;a href=&#34;http://www.revsys.com/writings/quicktips/turn-off-selinux.html&#34;&gt;There are ways to temporarily disable it&lt;/a&gt; if you would prefer.```
sudo reboot&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre style=&#34;color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4&#34;&gt;&lt;code class=&#34;language-Download sshguard.  I didn&#39;t find it in any repos for Centos 6.x.  I may be mistaken, but I went this route.```&#34; data-lang=&#34;Download sshguard.  I didn&#39;t find it in any repos for Centos 6.x.  I may be mistaken, but I went this route.```&#34;&gt;wget http://sourceforge.net/projects/sshguard/files/sshguard/sshguard-1.5/sshguard-1.5.tar.bz2/download&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;Unpack it.```
bunzip2 sshguard-1.5.tar.bz2&lt;/p&gt;

&lt;pre&gt;&lt;code&gt;tar -xvf sshguard-1.5.tar
&lt;/code&gt;&lt;/pre&gt;

&lt;p&gt;cd sshguard-1.5&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre style=&#34;color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4&#34;&gt;&lt;code class=&#34;language-I like to do minimal installs of Linux, so I need to add gcc before I can compile.  This will likely install some dependancies if it&#39;s a new minimal install.  Same goes for make```&#34; data-lang=&#34;I like to do minimal installs of Linux, so I need to add gcc before I can compile.  This will likely install some dependancies if it&#39;s a new minimal install.  Same goes for make```&#34;&gt;sudo yum install gcc make
``````
sudo ./configure --with-firewall=iptables
``````
sudo make &amp;amp;&amp;amp; sudo make install&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;OK, you should have it installed at this point.  You can verify by doing:```
ls -la /usr/local/sbin/sshguard&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre style=&#34;color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4&#34;&gt;&lt;code class=&#34;language-which should yield something like this:```&#34; data-lang=&#34;which should yield something like this:```&#34;&gt;\-rwxr-xr-x 1 root root 399995 Dec 16 02:28 /usr/local/sbin/sshguard&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;Great, now we need to create firewall tables for sshguard for IPv4, and if you&amp;rsquo;re keeping up to date, IPv6.```
sudo iptables -N sshguard&lt;/p&gt;

&lt;pre&gt;&lt;code&gt;sudo ip6tables -N sshguard
```Now tell iptables to drop that traffic. Make sure you don&#39;t have a permit ssh rule above this line or it won&#39;t work.```
sudo iptables -A INPUT -j sshguard
&lt;/code&gt;&lt;/pre&gt;

&lt;p&gt;sudo ip6tables -A INPUT -j sshguard&lt;/p&gt;

&lt;pre&gt;&lt;code&gt;
Save your config.  ```
sudo iptables-save &amp;lt; /etc/sysconfig/iptables
``````
sudo ip6tables-save &amp;lt; /etc/sysconfig/ip6tables
&lt;/code&gt;&lt;/pre&gt;

&lt;p&gt;For the examples below, we&amp;rsquo;ll just look at IPv4 to keep the post a bit shorter, but the v6 pieces are all identical save for the file names.  If you&amp;rsquo;re running v6 you should remember to secure it just as you would v4. Mine ruleset is pretty vanilla, mostly stock with the exception of ssl and dns.```
# Completed on Sat Dec 15 21:02:09 2012&lt;/p&gt;

&lt;h1 id=&#34;generated-by-iptables-save-v1-4-7-on-sat-dec-15-21-02-09-2012&#34;&gt;Generated by iptables-save v1.4.7 on Sat Dec 15 21:02:09 2012&lt;/h1&gt;

&lt;p&gt;*filter
:INPUT ACCEPT [0:0]
:FORWARD ACCEPT [0:0]
:OUTPUT ACCEPT [6585:1425605]
:sshguard - [0:0]
-A INPUT -m state &amp;ndash;state RELATED,ESTABLISHED -j ACCEPT
-A INPUT -j sshguard
-A INPUT -p icmp -j ACCEPT
-A INPUT -i lo -j ACCEPT
-A INPUT -p tcp -m state &amp;ndash;state NEW -m tcp &amp;ndash;dport 22 -j ACCEPT
-A INPUT -p tcp -m state &amp;ndash;state NEW -m tcp &amp;ndash;dport 443 -j ACCEPT
-A INPUT -p udp -m state &amp;ndash;state NEW -m udp &amp;ndash;dport 53 -j ACCEPT
-A INPUT -p tcp -m state &amp;ndash;state NEW -m tcp &amp;ndash;dport 53 -j ACCEPT
-A INPUT -j REJECT &amp;ndash;reject-with icmp-host-prohibited
-A FORWARD -j REJECT &amp;ndash;reject-with icmp-host-prohibited
COMMIT&lt;/p&gt;

&lt;h1 id=&#34;completed-on-sat-dec-15-21-02-09-2012&#34;&gt;Completed on Sat Dec 15 21:02:09 2012&lt;/h1&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre style=&#34;color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4&#34;&gt;&lt;code class=&#34;language-Note: I did have to relocate the sshguard rule to right below the first INPUT rule to make it actually effective.&#34; data-lang=&#34;Note: I did have to relocate the sshguard rule to right below the first INPUT rule to make it actually effective.&#34;&gt;Now we need to activate it.  This is pretty straightforward.  We essentially need to tell syslog to call sshguard based on activity and it&amp;#39;s why I prefer syslog-ng.  It&amp;#39;s very flexible and easy to add this stuff right in.  I&amp;#39;ve been using it for over a decade and it the most flexible syslog server I&amp;#39;ve found.  ```
vi /etc/syslog-ng/syslog-ng.conf&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;Based on the &lt;a href=&#34;http://www.sshguard.net/docs/setup/getlogs/syslog-ng/&#34;&gt;instructions at the sshguard site&lt;/a&gt; (which also have details for extending this to more than just ssh; I&amp;rsquo;ll do a post on that for CentOS at some point too), just add the following to the bottom of your syslog-ng.conf file:```
# pass only entries with auth+authpriv facilities from programs other than sshguard
filter f_sshguard { facility(auth, authpriv) and not program(&amp;ldquo;sshguard&amp;rdquo;); };&lt;/p&gt;

&lt;h1 id=&#34;pass-entries-built-with-this-format&#34;&gt;pass entries built with this format&lt;/h1&gt;

&lt;p&gt;destination sshguard {
 program(&amp;ldquo;/usr/local/sbin/sshguard&amp;rdquo;
 template(&amp;ldquo;$DATE $FULLHOST $MSGHDR$MESSAGE\n&amp;rdquo;)
 );
};
log { source(s_sys); filter(f_sshguard); destination(sshguard); };&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre style=&#34;color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4&#34;&gt;&lt;code class=&#34;language-Then restart syslog-ng```&#34; data-lang=&#34;Then restart syslog-ng```&#34;&gt;sudo service syslog-ng stop
``````
sudo service syslog-ng start&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;You&amp;rsquo;ll probably see these errors, they can be ignored if you&amp;rsquo;re not using the afsql module.&lt;/p&gt;

&lt;pre&gt;&lt;code&gt;Plugin module not found in &#39;module-path&#39;; module-path=&#39;/lib64/syslog-ng&#39;, module=&#39;afsql&#39;
``````
Starting syslog-ng: Plugin module not found in &#39;module-path&#39;; module-path=&#39;/lib64/syslog-ng&#39;, module=&#39;afsql&#39;
&lt;/code&gt;&lt;/pre&gt;

&lt;p&gt;ssh into localhost or in from an outside host. This will create a log and cause syslog-ng to call sshguard. At that point you should see this when looking for sshguard:```
ps auxww | grep sshguard&lt;/p&gt;

&lt;pre&gt;&lt;code&gt;root 14010 0.0 0.0 16924 1260 ? Sl 20:49 0:00 /usr/local/sbin/sshguard
```You should see it in your iptables rules:```
\[buraglio@centos63 sysconfig\]# sudo iptables -L
Chain INPUT (policy ACCEPT)
target prot opt source destination 
ACCEPT all -- anywhere anywhere state RELATED,ESTABLISHED 
sshguard all -- anywhere anywhere 
ACCEPT icmp -- anywhere anywhere 
ACCEPT all -- anywhere anywhere 
ACCEPT tcp -- anywhere anywhere state NEW tcp dpt:ssh 
ACCEPT tcp -- anywhere anywhere state NEW tcp dpt:https 
ACCEPT udp -- anywhere anywhere state NEW udp dpt:domain 
ACCEPT tcp -- anywhere anywhere state NEW tcp dpt:domain 
ACCEPT tcp -- anywhere anywhere state NEW tcp dpt:ndmp 
ACCEPT tcp -- anywhere anywhere state NEW tcp dpt:dnp 
REJECT all -- anywhere anywhere reject-with icmp-host-prohibited
&lt;/code&gt;&lt;/pre&gt;

&lt;p&gt;Chain FORWARD (policy ACCEPT)
target prot opt source destination
REJECT all &amp;ndash; anywhere anywhere reject-with icmp-host-prohibited&lt;/p&gt;

&lt;pre&gt;&lt;code&gt;Chain OUTPUT (policy ACCEPT)
target prot opt source destination
&lt;/code&gt;&lt;/pre&gt;

&lt;p&gt;Chain sshguard (1 references)
target prot opt source destination
```That&amp;rsquo;s pretty much it. Let it sit and wait. It will block scanners automagically and then unblock them after a period of time.&lt;/p&gt;
</description>
    </item>
    
    <item>
      <title>SDN</title>
      <link>https://forwardingplane.net/post/sdn/</link>
      <pubDate>Thu, 13 Dec 2012 21:22:42 +0000</pubDate>
      
      <guid>https://forwardingplane.net/post/sdn/</guid>
      <description></description>
    </item>
    
    <item>
      <title>Data Center</title>
      <link>https://forwardingplane.net/post/data-center/</link>
      <pubDate>Thu, 13 Dec 2012 21:22:20 +0000</pubDate>
      
      <guid>https://forwardingplane.net/post/data-center/</guid>
      <description></description>
    </item>
    
    <item>
      <title>UNIX</title>
      <link>https://forwardingplane.net/post/unix/</link>
      <pubDate>Thu, 13 Dec 2012 21:05:32 +0000</pubDate>
      
      <guid>https://forwardingplane.net/post/unix/</guid>
      <description></description>
    </item>
    
    <item>
      <title>Routing</title>
      <link>https://forwardingplane.net/post/routing/</link>
      <pubDate>Thu, 13 Dec 2012 21:04:16 +0000</pubDate>
      
      <guid>https://forwardingplane.net/post/routing/</guid>
      <description></description>
    </item>
    
    <item>
      <title>Ramblings</title>
      <link>https://forwardingplane.net/post/ramblings/</link>
      <pubDate>Thu, 13 Dec 2012 21:03:35 +0000</pubDate>
      
      <guid>https://forwardingplane.net/post/ramblings/</guid>
      <description></description>
    </item>
    
    <item>
      <title>IPv6</title>
      <link>https://forwardingplane.net/post/ipv6/</link>
      <pubDate>Thu, 13 Dec 2012 18:23:37 +0000</pubDate>
      
      <guid>https://forwardingplane.net/post/ipv6/</guid>
      <description></description>
    </item>
    
    <item>
      <title>A day with only IPv6</title>
      <link>https://forwardingplane.net/post/a-day-with-only-ipv6/</link>
      <pubDate>Thu, 13 Dec 2012 17:58:46 +0000</pubDate>
      
      <guid>https://forwardingplane.net/post/a-day-with-only-ipv6/</guid>
      <description>&lt;p&gt;IPv6 is coming.  Like SDN, we can&amp;rsquo;t ignore it.  Are you ready?  Are you apps ready?  I&amp;rsquo;ll wager the answer is no.  Mine aren&amp;rsquo;t.  I&amp;rsquo;ve been working on IPv6 for about 11 years, from early days of tunnels to full native IPv6 at home and at work.  In teaching the IPv6 workshop for internet2, one of the things that I always suggest is to have a dual stacked host and an IPv6 only host available for testing.  These can be virtual machines or physical host, the important detail is that that need to be something that is deployed and a known working configuration. Ideally they&amp;rsquo;re a mirror or an analog of a typical workstation and or server on your network. I&amp;rsquo;ve been doing this for some time, but I must admit I&amp;rsquo;m a little ashamed that I&amp;rsquo;ve never tried to do this for my personal day to day workstation, only for one off testing.  Well, that ends now, and the results aren&amp;rsquo;t pretty. &lt;a href=&#34;http://www.forwardingplane.net/wp-content/uploads/2012/12/noipv42.png&#34;&gt;&lt;img src=&#34;http://www.forwardingplane.net/wp-content/uploads/2012/12/noipv42.png&#34; alt=&#34;&#34; title=&#34;noipv4&#34; /&gt;&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;My every day workstation is a mac. So, to remain productive, I didn&amp;rsquo;t use my primary workstation, but instead I attempted to mirror it as closely as possible.  The chosen analog was a mac mini running MacOS 10.7.  It was immediately clear that this wasn&amp;rsquo;t going to be a fully functional workstation. Right from the get go there was an issue.  IPv6 doesn&amp;rsquo;t do any options in the SLACC implementation that 90% of folks doing dual stack are going to use.  DHCPv6 is still not widely deployed, DHCPv6 relay isn&amp;rsquo;t available in a vast swath of network hardware and most folks are going to initially start with stateless auto config, at least until they realize it&amp;rsquo;s more or less unmanageable.  Translated: you have no DNS without explicitly setting it statically. Yuck.  I strongly discourage statically assigning things.  It makes changes far more painful than they need to be, is a support nightmare at nearly any scale  and decentralizes control. However, I had to for this test.  Fine, an IPv6 resolver was added. Next step, run patching.  Nope.  Apple doesn&amp;rsquo;t support patching via their automated process via IPv6.  Most of this should be served by Akamai, which does support v6 in many cases, but not this one.  I can&amp;rsquo;t even patch the workstation without either running my own IPv6 enabled patch service (which requires manual configuration of a host to utilize), using a thumb drive or IPv6 enabled network mapping to grab the patches or plumbing IPv4 into it. After fighting through patching the host, I wanted to actually use it.  This was mostly an exercise in patience as well.  The google based services I used all just worked.  Searches, gmail, blogger, etc.  I didn&amp;rsquo;t notice any difference whatsoever. One interesting thing that I noticed right away was that many ads and images on pages I was able to surf to weren&amp;rsquo;t working at all.  Ad content providers are behind the curve on delivering over IPv6.  This surprised me a bit since this is a revenue stream that is going to grow, and they&amp;rsquo;re missing the boat.  The upside was that I didn&amp;rsquo;t need to look at a bunch of ads, potentially distracting images and marketing hype. Many of my work services such as exchange aren&amp;rsquo;t yet IPv6 enabled, I knew that wasn&amp;rsquo;t going to work because it&amp;rsquo;s actually on my teams list to remedy, however, I gave it a try anyway.  No go on OWA.  No go on any of the exchange access whatsoever.  NTP sync worked just fine after adding in our NTP server, its been IPv6 ready for a very long time. Luckily for me, most of what I do is CLI based and the equipment I need to get into and help maintain has been IPv6 enabled for years.  SSH on this mac worked with absolutely no issues, as expected.  It&amp;rsquo;s one of those nice things that I&amp;rsquo;d been using IPv6 for in a dual stacked environment for years and is essentially transparent. I was able to work on this blog post, since &lt;a href=&#34;http://www.forwardingplane.net&#34;&gt;forwardingplane.net&lt;/a&gt; has been IPv6 compliant since it&amp;rsquo;s inception thanks to the hosting provider, &lt;a href=&#34;http://www.arpnetworks.com&#34;&gt;arp networks&lt;/a&gt;. Other services that I use regularly, are a mixed bag.  &lt;a href=&#34;http://www.box.net&#34;&gt;Box.net&lt;/a&gt; has no IPv6 support. &lt;a href=&#34;http://www.dropbox.com&#34;&gt;Dropbox&lt;/a&gt;, which I expected to work since it is hosted in the amazon cloud, doesn&amp;rsquo;t but probably trivially could.  &lt;a href=&#34;https://spideroak.com&#34;&gt;Spideroak&lt;/a&gt; didn&amp;rsquo;t work with only IPv6.  &lt;a href=&#34;http://www.crashplan.com&#34;&gt;Crashplan&lt;/a&gt; didn&amp;rsquo;t work to the cloud or my NAS.  NAS was expected since it doesn&amp;rsquo;t do v6.  This is a frightening wake-up call.  Enabling IPv6 support into these every day apps should have been done from the beginning or at the very least before IPv6 day. Some other things I noticed, my &lt;a href=&#34;http://www.amazon.com/D-Link-DNS-343-Network-Attached-Enclosure/dp/B0019VSU88&#34;&gt;2 NAS&lt;/a&gt; at home don&amp;rsquo;t do IPv6 at all.  The aging Dell powerconnect gig switch I have at home doesn&amp;rsquo;t do IPv6.  My &lt;a href=&#34;http://o-www.sonicwall.com/us/en/products/TZ_210.html&#34;&gt;Sonicwall TZ 210 wireless-N&lt;/a&gt; that I&amp;rsquo;ve been testing at home has no IPv6 support by default although I think there is Beta code that I&amp;rsquo;ve been trying to get my hands on. My appleTV, however, does do IPv6 as do my Linux VMs, Windows 7 VM and host Linux system.  My normal gateway device, a &lt;a href=&#34;http://www.pfsense.org&#34;&gt;pfSense&lt;/a&gt; install running on a &lt;a href=&#34;http://pcengines.ch/alix.htm&#34;&gt;PC Engines ALIX&lt;/a&gt; board has done IPv6, correctly mind you, for years, either by code I hacked into it (in the early days) or fully supported by the project.  It supports dhcpv6 server, dhcpv6-pd from my upstream provider and SLAAC.  It also does IPv6 firewall functions better than most commercial firewall devices. I&amp;rsquo;m 100% sure it&amp;rsquo;s just the tip of the iceberg. If you&amp;rsquo;re a networking professional and you&amp;rsquo;re not learning IPv6, you&amp;rsquo;re already 10 years behind.  Head in the sand won&amp;rsquo;t make it go away, it&amp;rsquo;s happening, just like SDN is happening.  In fact, they&amp;rsquo;ll &lt;a href=&#34;http://www.openflow.org/wk/index.php/OpenFlow_1_2_proposal#IPv6_support&#34;&gt;be happening together in some cases&lt;/a&gt;.  Learning new things is fun, and IPv6 is a necessity.  You can hide behind NAT and existing allocations for a while, but believe me, you&amp;rsquo;re doing yourself a disservice as well as missing out on some cool stuff if you&amp;rsquo;re not talking about your IPv6 plans and learning about this inevitable reality.&lt;/p&gt;
</description>
    </item>
    
    <item>
      <title>Plexxi could be WDM for the rest of us.</title>
      <link>https://forwardingplane.net/post/plexxi-could-be-wdm-for-the-rest-of-us/</link>
      <pubDate>Tue, 11 Dec 2012 05:15:42 +0000</pubDate>
      
      <guid>https://forwardingplane.net/post/plexxi-could-be-wdm-for-the-rest-of-us/</guid>
      <description>&lt;p&gt;&lt;a href=&#34;http://www.plexxi.com&#34;&gt;Plexxi&lt;/a&gt; is an interesting product that has recently emerged in the data center space.  While data center, fabric and cloud are all the rage in the buzzword world of data networking, this one caught my attention because it was something unique that I&amp;rsquo;d not seen before.  Their TOR boxes have a few interesting additions to them, the first of which is a WDM port on the back. Now, I&amp;rsquo;m not really a stranger to the WDM world.  I&amp;rsquo;ve been helping maintain a DWDM network in one capacity or another for a little over a decade, but seeing this, by default, in a data center positioned switch?  Now that got my attention. For those that don&amp;rsquo;t know what that is, &lt;a href=&#34;http://en.wikipedia.org/wiki/Wavelength-division_multiplexing&#34;&gt;Wave Division Multiplexing&lt;/a&gt; the ability to slice up light into what telco (and other networking folks) call waves. Each wave is a different &amp;ldquo;color&amp;rdquo; or wavelength.  Plexxi calls their flavor &amp;ldquo;Affinity Networking&amp;rdquo; and it allows for the ability to provision more bandwidth over a single pair of fiber, just like typical WDM. For example, say you have a pair of fiber from one data center to another, either in the same facility or across your city (distances up to 10K now, 70K on the roadmap).  You&amp;rsquo;d normally plug in a 1G or 10G (or 100G if you&amp;rsquo;re really, really well funded) and provision service over that pair of fiber, assuming it is in within distance and optical power spec of the other side.  You&amp;rsquo;re stuck with that interface speed, right?  Wrong. Enter WDM.   On WDM systems you have the ability to provision channels, sometimes in huge amounts, over the same pair.  I&amp;rsquo;ve seen multiple 100G waves, OC192 Waves, a plethora of 10G waves and a few 1G waves all working fine over the same pair of fiber, and where fiber is sparse or prohibitively expensive, this is a big deal. &lt;a href=&#34;http://www.forwardingplane.net/wp-content/uploads/2012/12/prism4c.gif&#34;&gt;&lt;img src=&#34;http://www.forwardingplane.net/wp-content/uploads/2012/12/prism4c.gif&#34; alt=&#34;&#34; title=&#34;prism4c&#34; /&gt;&lt;/a&gt; Plexxi &amp;rdquo;Affinity Networking&amp;rdquo; boasts the ability to do WDM right in the back of their 32 port 10G switches. Very slick.  But that&amp;rsquo;s not all.  Enter part 2.  They also boast software defined (but not OpenFlow) control over the product, enabling dynamic provisioning of  bandwidth, on demand.. They&amp;rsquo;ve purpose built their own proprietary and described as &amp;ldquo;extended&amp;rdquo; version of SDN, geared toward a bigger picture of their network equipment and what it can do.  Their  SDN is called called &amp;ldquo;Plexxi Control&amp;rdquo; and it ties all of their switches together, allowing for a flattening of the network.  I find this approach intriguing, I&amp;rsquo;m a fan of the fabric approach to layer 2 a la &lt;a href=&#34;http://www.juniper.net/us/en/products-services/switching/qfx-series/&#34;&gt;Juniper Qfabric&lt;/a&gt; or &lt;a href=&#34;http://www.forwardingplane.net/2012/12/brocade-vdx-first-impressions/&#34;&gt;Brocade VDX&lt;/a&gt;, but the WDM port and the decoupled control together is unique &amp;hellip;.and enthralling. Now, I have not yet had my hands on these boxes, but I think that they will be a piece in what has become a rapidly changing landscape of data centers.  WDM has been around forever in the service provider wide area, but the ability to change bandwidth allocations using WDM on the fly in a commercially supportable commoditized box is game changing.  There have been several research projects in the past that have attempted to do this, the &lt;a href=&#34;http://dragon.maxgigapop.net/twiki/bin/view/DRAGON/WebHome&#34;&gt;DRAGON project&lt;/a&gt;, of which one of the sites I helped maintain was a member, attempted to do something like this using &lt;a href=&#34;http://en.wikipedia.org/wiki/Generalized_Multi-Protocol_Label_Switching&#34;&gt;GMPLS&lt;/a&gt;  on the WAN gear. Doing it in the data center?  That&amp;rsquo;s new. I look forward to seeing some of these boxes function up close and personal.  I&amp;rsquo;m especially interested in the longer distance pieces of these for remote data centers and DR locations. For a comprehensive write up, see &lt;a href=&#34;http://searchnetworking.techtarget.com/news/2240173858/Plexxi-SDN-includes-tiered-controller-data-center-based-WDM&#34;&gt;this article&lt;/a&gt; by &lt;a href=&#34;http://searchnetworking.techtarget.com/contributor/Shamus-McGillicuddy&#34;&gt;Shamus McGillicuddy&lt;/a&gt;.  &lt;a href=&#34;http://searchnetworking.techtarget.com/news/2240173858/Plexxi-SDN-includes-tiered-controller-data-center-based-WDM&#34;&gt; &lt;/a&gt;&lt;/p&gt;
</description>
    </item>
    
    <item>
      <title>Brocade VDX First Impressions....</title>
      <link>https://forwardingplane.net/post/brocade-vdx-first-impressions/</link>
      <pubDate>Sat, 08 Dec 2012 17:53:00 +0000</pubDate>
      
      <guid>https://forwardingplane.net/post/brocade-vdx-first-impressions/</guid>
      <description>&lt;p&gt;I recently had the opportinity to work with the much-anticipated &lt;a href=&#34;http://www.brocade.com/launch/cloud-clarity/solutions-technology-innovation.html&#34;&gt;Brocade VDX &amp;ldquo;Ethernet Fabric&amp;rdquo;&lt;/a&gt; platform.  I do admit tha tI&amp;rsquo;m intrigued by this product.  I&amp;rsquo;d seen it work multiple times in demos and it worked so well and looked to easy that we actively tried to throw curve balls at the demo organizer to prove it wasn&amp;rsquo;t canned. &lt;img src=&#34;http://www.brocade.com/images/products/vdx-6720-dc-switches/VDX6720-24_front_large.jpg&#34; alt=&#34;&#34; /&gt; It succeeded. The hardware hashing across the VLAGs is very slick.  The VMware VSwitch integration worked well and was handy.  With the movement to virtualization, this is an important piece for most data center folks. That being said, some people have very specific data center requirements that aren&amp;rsquo;t really the same as an enterprise.  For example:&lt;/p&gt;

&lt;ul&gt;
&lt;li&gt;Don&amp;rsquo;t firewall everything at the DC. That&amp;rsquo;s right. I said it.  Firewalls don&amp;rsquo;t solve all security problems.  Take that &amp;ldquo;defense in depth&amp;rdquo;!&lt;/li&gt;
&lt;li&gt;A potential need to do non-standard or experimental protocols.&lt;/li&gt;
&lt;li&gt;A lot of line rate 10G internally and to the rest of network.&lt;/li&gt;
&lt;li&gt;Integration with legacy, existing and or in-house written tools&lt;/li&gt;
&lt;li&gt;Need for GSLB/SLB&lt;/li&gt;
&lt;li&gt;Self Healing&lt;/li&gt;
&lt;li&gt;Ease of fabric upgrade (software upgrade doesn&amp;rsquo;t cause fabric isolation)&lt;/li&gt;
&lt;li&gt;Ease of fabric upgrade (increase LAG numbers and capacity easily)&lt;/li&gt;
&lt;li&gt;Multi-Homed hosts&lt;/li&gt;
&lt;li&gt;IPv4&lt;/li&gt;
&lt;li&gt;IPv6&lt;/li&gt;
&lt;li&gt;IPv4 Multicast&lt;/li&gt;
&lt;li&gt;Future SDN support&lt;/li&gt;
&lt;li&gt;NAT&lt;/li&gt;
&lt;li&gt;Public Address space&lt;/li&gt;
&lt;li&gt;All at the same time&lt;/li&gt;
&lt;/ul&gt;

&lt;p&gt;But I digress.  We can get into the Data Center design details later.  Below would be a theoretical data center reference design for a fabric deployment.  Please bear in mind that I mostly like to focus on the WAN and SP bits, so take my data center speculations and musings with a grain of salt.&lt;/p&gt;

&lt;p&gt;&lt;a href=&#34;http://www.forwardingplane.net/wp-content/uploads/2012/11/Flexible-DC.jpg&#34;&gt;&lt;img src=&#34;http://www.forwardingplane.net/wp-content/uploads/2012/11/Flexible-DC.jpg&#34; alt=&#34;&#34; title=&#34;Flexible DC&#34; /&gt;&lt;/a&gt;   The Brocade VDX does most of what can be expected of a layer 2 fabric.  It really is the &amp;ldquo;easy&amp;rdquo; part of a DC design.  If you can avoid STP, I would heavily recommend it.  I have an unnatural dislike for spanning tree. The unexpected things I ran into with my very brief hands-on with the VDX were just that, unexpected.  I could reliably crash ssh on the boxes by sending a public key at login, which is default behavior for a normal ssh client.  This was very annoying and implied that they don&amp;rsquo;t yet support ssh keys for authentication.  One can work around it by doing &lt;em&gt;ssh -o PubkeyAuthentication=no -l &lt;name&gt;&lt;/em&gt; and worked with the newest version of putty, which I don&amp;rsquo;t use.  The version of OpenSSH on my Mac running 10.8.2 had an issue with it, as did the linux jumphost I used. There is no way, in current software to manage this centrally like you can with qfabric.  Each device is an individual switch.  I suspect this will change since it&amp;rsquo;s pretty inconvenient and I know many folks have asked for it.  This was my biggest issue with it. It doesn&amp;rsquo;t run spanning tree.  It has a loop detection mechanism, but it isn&amp;rsquo;t spanning tree.  It&amp;rsquo;s not meant to have anything but end hosts or other VDX plugged into it from what I gather, other than uplinks. Unknown SDN roadmap.  Currently it&amp;rsquo;s unsupported but with the level of commitment that Brocade has given to SDN so far, I&amp;rsquo;m cautiously optimistic. Untested Layer 3 capabilities.  It&amp;rsquo;s a new platform and they&amp;rsquo;ve just added layer3 into it.  I have no intention of testing the layer3 capabilities since I doubt that I&amp;rsquo;d want to route on them. Unknown IPv6 RA guard status.  Tis is important and I&amp;rsquo;m fairly certain they&amp;rsquo;ll add it, but it wasn&amp;rsquo;t in the code load that we had at SC12, at least that I could find. It is easily integrated into RANCID. &lt;a href=&#34;http://www.forwardingplane.net/2012/11/vdxrancid-contrib-scripts/&#34;&gt;I hacked together a script to do this&lt;/a&gt; in about 10 minutes and I&amp;rsquo;m an awful programmer. It looks EXACTLY like IOS so folks familiar with Ciscos venerable IOS command line will have absolutely no issue picking this right up. Some of the things I didn&amp;rsquo;t get to do during this first run were to put a packet cannon like an IXIA on it and jam traffic up to, and ideally beyond the limits and see how it reacts and to point existing SNMP based tools at it (other than basic up/down status).  I&amp;rsquo;d also like to push the limits of the interconnect between geographic locations and see the latency and efficiency of the VLAG ports when moving traffic and virtual machines.  With luck these will happen at some point soon. Bear in mind that this is a relatively new product.  I would probably place the best competitor for this as the Juniper Qfabric or Microfabric, bith of which are a larger scale product and suffer from some of the same issues.  I&amp;rsquo;m excited to see more about it, it did its job pretty well.  Juniper and cisco take notice, these bits are important and &lt;a href=&#34;http://www.plexxi.com&#34;&gt;more than just brocade are working on it&lt;/a&gt;.&lt;/p&gt;
</description>
    </item>
    
    <item>
      <title>Security</title>
      <link>https://forwardingplane.net/post/topicssecurity/</link>
      <pubDate>Sat, 08 Dec 2012 15:40:40 +0000</pubDate>
      
      <guid>https://forwardingplane.net/post/topicssecurity/</guid>
      <description></description>
    </item>
    
    <item>
      <title>Sonicwall - Old dog learns [some] new tricks</title>
      <link>https://forwardingplane.net/post/sonicwall-old-dog-learns-some-new-tricks/</link>
      <pubDate>Sat, 08 Dec 2012 00:00:26 +0000</pubDate>
      
      <guid>https://forwardingplane.net/post/sonicwall-old-dog-learns-some-new-tricks/</guid>
      <description>&lt;p&gt;~12 years ago I had a drinking buddy that worked with me at the regional ISP.   We had a lot in common, he had been an icon back in the &lt;a href=&#34;http://en.wikipedia.org/wiki/The_Didjits&#34;&gt;didjits&lt;/a&gt; era of punk rock in Champaign Urbana and we had briefly been in a terrible band together.  He introduced me to a dude that to this day I just knew as &amp;ldquo;Ravi Sonicwall&amp;rdquo;.  He had apparently been recruited from the U of I, written a lot of the low level pieces of the original sonicwall and retired to enjoy life and buy beers (he actually scolded me at a bar for buying him a beer saying &amp;ldquo;when I&amp;rsquo;m in town, I buy the beers&amp;rdquo;). I had purchased a few sonicwall boxes after that, having only really used linux, IOS, checkpoint on nokia boxes and *&lt;em&gt;shudder&lt;/em&gt;* Novell Border manager.  I liked the boxes since they had a GUI and I could hand off day-to-day operations to someone that !=Me.  After a year or so in production, I started to become frustrated with them,  the ones I had lacked a CLI completely and had fallen behind on the things I needed to do with them.   Their cost to feature wasn&amp;rsquo;t there for what I needed and the ones I had purchased systematically had hardware failures all within 7 months.  I wrote off sonicwall completely at that point. Fast forward a decade. Sonicwall purchased by Dell. We&amp;rsquo;ve heavily invested in the &lt;a href=&#34;http://www.juniper.net/us/en/products-services/security/srx-series/&#34;&gt;Juniper SRX&lt;/a&gt;. The SRX mostly does what we ask of it (talk to me about Oracle replication through one and their SQL ALG). The SRX has some limitation as far as management and display of eye candy. While I personally like a CLI to rummage around in, not everyone does.  &lt;a href=&#34;http://www.paloaltonetworks.com&#34;&gt;Palo Alto Networks&lt;/a&gt; has an amazing GUI.  Like, the best I&amp;rsquo;ve ever seen.  Sonicwall&amp;hellip;&amp;hellip;well, theirs always left me wanting back in the day.  Now&amp;hellip;..wow, a totally different ballgame. Don&amp;rsquo;t get me wrong, I&amp;rsquo;m not confident that the Sonicwall &amp;ldquo;Super Massive&amp;rdquo; won&amp;rsquo;t compete (in this guys opinion) with a Juniper 5800.  &lt;strong&gt;However, &lt;/strong&gt;their transparent mode is a tad better and their web management is an order of magnitude better.  Performance?  I don&amp;rsquo;t think anything can touch an SRX loaded with SPCs, but the numbers are impressive.  I&amp;rsquo;d like to do a bake off once I get some time (and a super massive in my lab) That being said, I gave the Sonicwall we have as a demo a good go around.  I found it&amp;rsquo;s ease of setup pretty refreshing.  For those that have non-networking savvy security folks running these boxes, they&amp;rsquo;ll likely love the interface.  I like the AppFlow Monitor.  It&amp;rsquo;s a nice reprensentation of the transit data in an easy to understand format.  Here is an example of the box in my lab after running a few days. &lt;a href=&#34;http://www.forwardingplane.net/wp-content/uploads/2012/12/Screen-Shot-2012-12-07-at-4.09.41-PM.png&#34;&gt;&lt;img src=&#34;http://www.forwardingplane.net/wp-content/uploads/2012/12/Screen-Shot-2012-12-07-at-4.09.41-PM-1024x256.png&#34; alt=&#34;&#34; title=&#34;SonicWall AppFlow Monitor &#34; /&gt;&lt;/a&gt;  [](&lt;a href=&#34;http://www.forwardingplane.net/wp-content/uploads/2012/12/Screen-Shot-2012-12-07-at-4.09.41-PM.png&#34;&gt;http://www.forwardingplane.net/wp-content/uploads/2012/12/Screen-Shot-2012-12-07-at-4.09.41-PM.png&lt;/a&gt;)   The threat reports are nice as well, very eye candy and they seem pretty accurate based on what we threw at it and what we generally see in the wild west.   &lt;a href=&#34;http://www.forwardingplane.net/wp-content/uploads/2012/12/Screen-Shot-2012-12-07-at-4.09.48-PM.png&#34;&gt;&lt;img src=&#34;http://www.forwardingplane.net/wp-content/uploads/2012/12/Screen-Shot-2012-12-07-at-4.09.48-PM-1024x256.png&#34; alt=&#34;&#34; title=&#34;Screen Shot 2012-12-07 at 4.09.48 PM&#34; /&gt;&lt;/a&gt; &lt;a href=&#34;http://www.forwardingplane.net/wp-content/uploads/2012/12/Screen-Shot-2012-12-07-at-4.09.41-PM1.png&#34;&gt;&lt;img src=&#34;http://www.forwardingplane.net/wp-content/uploads/2012/12/Screen-Shot-2012-12-07-at-4.09.41-PM1-1024x256.png&#34; alt=&#34;&#34; title=&#34;Screen Shot 2012-12-07 at 4.09.41 PM&#34; /&gt;&lt;/a&gt; &lt;a href=&#34;http://www.forwardingplane.net/wp-content/uploads/2012/12/Screen-Shot-2012-12-07-at-4.10.00-PM.png&#34;&gt;&lt;img src=&#34;http://www.forwardingplane.net/wp-content/uploads/2012/12/Screen-Shot-2012-12-07-at-4.10.00-PM-1024x256.png&#34; alt=&#34;&#34; title=&#34;Screen Shot 2012-12-07 at 4.10.00 PM&#34; /&gt;&lt;/a&gt;                         The real time monitor reminds me a lot of the Palo Alto.  It gives some serious eye candy, live, realtime graphs of any traffic transiting the box.  Very eye catching and I can see a use case for it. &lt;a href=&#34;http://www.forwardingplane.net/wp-content/uploads/2012/12/Screen-Shot-2012-12-07-at-4.48.44-PM.png&#34;&gt;&lt;img src=&#34;http://www.forwardingplane.net/wp-content/uploads/2012/12/Screen-Shot-2012-12-07-at-4.48.44-PM-1024x635.png&#34; alt=&#34;&#34; title=&#34;Sonicwall Real Time Monitor&#34; /&gt;&lt;/a&gt; However, I find the management of the interfaces a bit clunky and the lack of non-beta IPv6 support is a but disappointing.  I&amp;rsquo;ll be testing the IPv6 support soon, I&amp;rsquo;m just waiting on the activation of the box I have to support it. Firmware updates seem to require a registration of the machine in their system, something I understand but the old school networking guy in me really hates feature licensing and remote activation of network hardware.  A lot.  the fact that every vendor seems to be doing it just makes my skin crawl, but such is life. The box comes with an SSL VPN server as well, I&amp;rsquo;ve still been twiddling with getting mine working.  The smaller SOHO devices have wifi built in, but that&amp;rsquo;s way outside of my scope, so I&amp;rsquo;ll leave it at that.   The CLI isn&amp;rsquo;t terrible, either.  It&amp;rsquo;s more IOS that I remember, but a far cry from JunOS.  Tab complete works and there are a decent amount of options.  I&amp;rsquo;ve not yet tried to configure much with it but have used the show commands some.  Here is an example from the small box we have: &lt;em&gt;User:admin&lt;/em&gt; &lt;em&gt;Password:&lt;/em&gt; &lt;em&gt;labfw&amp;gt; show interface sta&lt;/em&gt; _labfw&amp;gt; show interface statistics _ &lt;em&gt;Interface statistics for X0&lt;/em&gt; _ InDiscards : 0_ _ InNUcast : 401464_ _ InUcast : 4921467_ _ InOctets : 2207976060_ _ InErrs : 0_ _ OutDiscards : 37_ _ OutNUcast : 9733_ _ OutUcast : 5407031_ _ OutOctets : 3031626437_ _ OutErrs : 0_ _ InUnkProto : 0_ _ InMcast : 291793_ _ InBcast : 109671_ _ OutMcast : 0_ _ OutBcast : 9733_ &lt;em&gt;Interface statistics for X1&lt;/em&gt; _ InDiscards : 0_ _ InNUcast : 5401982_ _ InUcast : 4496250_ _ InOctets : 3192806274_ _ InErrs : 0_ _ OutDiscards : 0_ _ OutNUcast : 54_ _ OutUcast : 4582195_ _ OutOctets : 2114718776_ _ OutErrs : 0_ _ InUnkProto : 0_ _ InMcast : 1500142_ _ InBcast : 3901840_ _ OutMcast : 0_ _ OutBcast : 54_  Overall, not a bad platform.  They&amp;rsquo;ve certainly done their homework.&lt;/p&gt;
</description>
    </item>
    
    <item>
      <title>Workflow and my mobile device setups.</title>
      <link>https://forwardingplane.net/post/95/</link>
      <pubDate>Tue, 04 Dec 2012 21:28:53 +0000</pubDate>
      
      <guid>https://forwardingplane.net/post/95/</guid>
      <description>&lt;p&gt;Like many others, I rely heavily on my mobile devices to get my work done.  I&amp;rsquo;ve been a user of the iPhone since the original, with a year on a Nexus one android device.  I don&amp;rsquo;t have a strong preference and there are no &amp;ldquo;religious arguments&amp;rdquo; to be had with me on platform.  In fact, I&amp;rsquo;d probably choose PamlOS if I had a choice, it&amp;rsquo;s simple elegance and stability were a comfort to me&amp;hellip;it just didn&amp;rsquo;t make it to modernization. ..but I digress. I&amp;rsquo;ve chosen to go the Apple route, my machines are all Apple and so the integration makes sense.  That being said, there are a &lt;strong&gt;huge&lt;/strong&gt; amount of apps to choose from on all of the major platforms.  Here are the ones that I find myself using, either for work or pleasure, on a weekly basis.  All of these apps are free and work across iPad and iPhone unless otherwise noted.   iSSH - SSH, VNC and RDC client.  Excellent.  $9.99 Works on iPad and iPhone Mail -Stock Twitter - Standard Twitter Client. Tapatalk -forum app $? Untappd - Socialize your drinking, I use it to take tasting notes (pinky up).  IPhone only PixelPipe - Send images to multiple destinations at once, good for backing up to flickr and picasa, etc.  iPhone only. Public Radio - Stream NPR. iPhone only Wootie - I gotta have my woot fix for the day. eBay - I also love me some eBay. Amazon - &amp;ldquo; &amp;rdquo; Grocery G. - Share a grocery list with the wife.  Very handy and does push notifications.  $2.99? Shop Savvy - A barcode scanner, saves to dropbox, compares prices.  Very handy. iPhone only Nixie Clock - Nixie tube-like alarm clock.  Can stream radio as an alarm.  iPhone only $.99 SpiderOak - Browse my SpiderOak backup.  iPhone only Box - I don&amp;rsquo;t use box as much personally, but my job has a deal with them. Dropbox - A &lt;strong&gt;must&lt;/strong&gt; have.  you all know what dropbox is. WebEx - iPhone WebeX client.  Works well. iPhone only(?) GoToMeeting - Same drill as WebEx Skype - for video and audo internationally and with folks that can&amp;rsquo;t do FaceTime. GV Connect - Google Voice client.  Works better than the Google app, supports multiple accounts. iPhone only $99 Plex - Amazing client for Plex Media Server.  Works well over cellular data, very well supported. $? NetFLix - you know what this is FlicksMan - Netflix Queue Manager.  Very well done. Lync 2010 - Connect to my works MS Lync instance.  Works well. Reminders - Stock app.  Clopud sync reminders / todo app.  I can&amp;rsquo;t live without it. BlueOn - Turn on (but not off) bluetooth in one click.  I use this a lot. DataVault - Password Store.  Encrypted Dropbox sync with deskatop app and other mobile apps. Note Taking - Notes app, Free.  I need an alternative.&lt;/p&gt;
</description>
    </item>
    
    <item>
      <title>Converting (back) to wordpress from Blogger</title>
      <link>https://forwardingplane.net/post/converting-back-to-wordpress-from-blogger/</link>
      <pubDate>Sun, 02 Dec 2012 19:41:08 +0000</pubDate>
      
      <guid>https://forwardingplane.net/post/converting-back-to-wordpress-from-blogger/</guid>
      <description>&lt;p&gt;For a long time I ran a blog called &lt;a href=&#34;http://www.forwardingplane.net&#34;&gt;tech.buraglio.com&lt;/a&gt; that was a self hosted wordpress site. After having kids and getting a bit busier at work, I decided to move everything that I had been hosting (images, scripts, hacks, blogs and DNS) to &amp;ldquo;the cloud&amp;rdquo;. I managed to do this for everything but my primary DNS resolver, which I had always intended to keep, and one &lt;a href=&#34;http://www.shitenonions.com&#34;&gt;wordpress blog&lt;/a&gt; that I hosted for someone else.&lt;/p&gt;

&lt;p&gt;&lt;a href=&#34;http://www.forwardingplane.net/wp-content/uploads/2012/12/bloggerpress.jpg&#34;&gt;&lt;img src=&#34;http://www.forwardingplane.net/wp-content/uploads/2012/12/bloggerpress-300x200.jpg&#34; alt=&#34;&#34; title=&#34;bloggerpress&#34; /&gt;&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;  I moved my image hosting from gallery2 to flickr (backup on picasaweb), secondary DNS to nether.net and afraid.org, scripts, hacks and the like to google code and my blogs to blogger.  Blogger was &lt;strong&gt;very&lt;/strong&gt; easy, stable and highly available.  It was also far less flexible.&lt;/p&gt;

&lt;p&gt;&lt;img src=&#34;http://www.undertheradarblog.com/wp-content/uploads/2011/12/Top-5-Best-Free-Cloud-Storage-Services-That-You-Need-And-Are-Useful.png&#34; alt=&#34;&#34; /&gt;&lt;/p&gt;

&lt;p&gt;I continued to write from time to time, mostly ramblings or notes on some weird thing I has to set up.  I noticed that a few of my posts were getting a decent amount of traffic, something I was a bit surprised about.  I started to write a bit more&amp;hellip;&amp;hellip;more traffic.  I started cross posting to &lt;a href=&#34;http://www.twitter.com/buraglio&#34;&gt;twitter&lt;/a&gt;.  More traffic.  OK, maybe what I was jotting down was actually useful to someone.  Or I had a stalker.  Probably not the latter. &lt;img src=&#34;http://blog.dreamhost.com/wp-content/uploads/2009/09/23-wordpress_logo.png&#34; alt=&#34;&#34; /&gt;  &lt;img src=&#34;http://www.decodeunicode.org/en/u+003e/data/glyph/196x196/003E.gif&#34; alt=&#34;&#34; /&gt;&lt;img src=&#34;http://upload.wikimedia.org/wikipedia/commons/thumb/3/31/Blogger.svg/256px-Blogger.svg.png&#34; alt=&#34;&#34; /&gt; Since I already had apache working and serving other stuff, and one of them is another WP site, I already has MySQL running.  I just enabled SSL for the new domain that I had added and was ready to go.  I&amp;rsquo;m a really lazy sysadmin, so I used this as a reference. First, installing wordpress.  I chose the &lt;a href=&#34;http://codex.wordpress.org/Installing/Updating_WordPress_with_Subversion&#34;&gt;SVN install&lt;/a&gt; for easier upgrades down the road.  Upgrading WP was somethingI alweays hated doing, so I let it languish when I used it before.  At least now I should, in most cases, be able to just type &amp;ldquo;&lt;em&gt;svn update&lt;/em&gt;&amp;rdquo; to get it up to date (after verifying a back up, of course). After using the &lt;a href=&#34;http://wordpress.org/extend/plugins/blogger-importer/&#34;&gt;blogger importer&lt;/a&gt;, I had to go through and set all of my old blogger drafts to draft status again, wordpress has changed them all to published status. A minor detail. the rest  should be pretty straight forward, right?  Maybe not.  I&amp;rsquo;ve done a lot of twitter and bit.ly linking to my posts and I had a feedburner and quite a few RSS subscribers.  The feedburner stuff I&amp;rsquo;m probably going to have to write off.  The &lt;a href=&#34;http://feeds.feedburner.com/forwardingplane/WszR&#34;&gt;link&lt;/a&gt; needed to be more obvious as to what it was. The biggest thing I have to worry about is that Blogger formats it&amp;rsquo;s &amp;ldquo;pretty&amp;rdquo; links in a different way than wordpress.  Thankfully, however, I&amp;rsquo;m self gosting so I can use apache magic to fix this. &lt;em&gt;.htaccess&lt;/em&gt; to the rescue. For every post, I&amp;rsquo;ve had to create a redirect entry in my .htaccess file.  Most of it is done, but for reference, here is what it looks like: &lt;em&gt;Redirect 301 /2012/11/sdn-across-domains-in-wan-novice-look.html &lt;a href=&#34;http://www.forwardingplane.net/2012/11/sdn-across-domains-in-the-wan-a-novice-look/&#34;&gt;http://www.forwardingplane.net/2012/11/sdn-across-domains-in-the-wan-a-novice-look/&lt;/a&gt;&lt;/em&gt; &lt;em&gt;Redirect 301 /2012/11/and-purple-pony.html &lt;a href=&#34;http://www.forwardingplane.net/2012/11/sdn-across-domains-in-the-wan-a-novice-look/&#34;&gt;http://www.forwardingplane.net/2012/11/sdn-across-domains-in-the-wan-a-novice-look/&lt;/a&gt;&lt;/em&gt; &lt;em&gt;Redirect 301 /2012/11/using-brocade-mlxe-as-replicator-to-ids.html &lt;a href=&#34;http://www.forwardingplane.net/2012/11/using-a-brocade-mlxe-as-a-replicator-to-an-ids/&#34;&gt;http://www.forwardingplane.net/2012/11/using-a-brocade-mlxe-as-a-replicator-to-an-ids/&lt;/a&gt;&lt;/em&gt; &lt;em&gt;Redirect 301 /2012/11/workflow-and-my-every-day-workstation.html &lt;a href=&#34;http://www.forwardingplane.net/2012/11/workflow-and-my-every-day-workstation-setup/&#34;&gt;http://www.forwardingplane.net/2012/11/workflow-and-my-every-day-workstation-setup/&lt;/a&gt;&lt;/em&gt; &lt;em&gt;Redirect 301 /2012/11/vdxrancid-contrib-scripts.html &lt;a href=&#34;http://www.forwardingplane.net/2012/11/vdxrancid-contrib-scripts/&#34;&gt;http://www.forwardingplane.net/2012/11/vdxrancid-contrib-scripts/&lt;/a&gt;&lt;/em&gt; &lt;em&gt;Redirect 301 /2012/11/scinet-privileged-few.html &lt;a href=&#34;http://www.forwardingplane.net/2012/11/scinet-a-privileged-few/&#34;&gt;http://www.forwardingplane.net/2012/11/scinet-a-privileged-few/&lt;/a&gt;&lt;/em&gt; &lt;em&gt;Redirect 301 /2012/11/juniper-ex-4200-arp-ndp-problem-or.html &lt;a href=&#34;http://www.forwardingplane.net/2012/11/juniper-ex-4200-arp-ndp-problem-or-things-id-like-to-see-in-a-tac/&#34;&gt;http://www.forwardingplane.net/2012/11/juniper-ex-4200-arp-ndp-problem-or-things-id-like-to-see-in-a-tac/&lt;/a&gt;&lt;/em&gt; &lt;em&gt;Redirect 301 /2012/11/and-purple-pony.html &lt;a href=&#34;http://www.forwardingplane.net/2012/11/and-a-purple-pony/&#34;&gt;http://www.forwardingplane.net/2012/11/and-a-purple-pony/&lt;/a&gt;&lt;/em&gt; &lt;em&gt;Redirect 301 /2012/10/directionality_31.html &lt;a href=&#34;http://www.forwardingplane.net/2012/10/directionality/&#34;&gt;http://www.forwardingplane.net/2012/10/directionality/&lt;/a&gt;&lt;/em&gt; &lt;em&gt;Redirect 301 /2012/10/juniper-to-ios-conversion-chart.html &lt;a href=&#34;http://www.forwardingplane.net/2012/10/juniper-to-ios-conversion-chart/&#34;&gt;http://www.forwardingplane.net/2012/10/juniper-to-ios-conversion-chart/&lt;/a&gt;&lt;/em&gt; &lt;em&gt;Redirect 301 /2012/10/host-based-sflow-or-sflow-for-more-than.html &lt;a href=&#34;http://www.forwardingplane.net/2012/10/host-based-sflow-or-sflow-for-more-than-just-network-traffic/&#34;&gt;http://www.forwardingplane.net/2012/10/host-based-sflow-or-sflow-for-more-than-just-network-traffic/&lt;/a&gt;&lt;/em&gt; &amp;hellip;.and so on. I got really used to the google analytics, so I had to add a plugin for that.  I chose &lt;a href=&#34;http://wordpress.org/extend/plugins/google-analyticator/&#34;&gt;Google Analyticator&lt;/a&gt;.  &amp;hellip;.Then I realized that users having to create  accounts is lame, so I added &lt;a href=&#34;http://wordpress.org/extend/plugins/social-connect/&#34;&gt;Social Connect&lt;/a&gt;. So far, that&amp;rsquo;s pretty much it.  However, since this is a public unix box I need to make sure it&amp;rsquo;s relatively safe, so I would highly recommend installing &lt;a href=&#34;http://www.sshguard.net&#34;&gt;sshguard&lt;/a&gt; in addition to whatever other firewall rules it can dynamically block offensive hosts and then unblock them after a period of time.  I am also a big fan of &lt;a href=&#34;http://www.duosecurity.com&#34;&gt;duo security&lt;/a&gt; for &lt;a href=&#34;http://en.wikipedia.org/wiki/Two-factor_authentication&#34;&gt;two factor auth&lt;/a&gt;. We&amp;rsquo;ll see how this goes&amp;hellip;&amp;hellip;     // &amp;lt;![CDATA[ google_ad_client = &amp;ldquo;ca-pub-5397547757892743&amp;rdquo;; /* Wordpress Small */ google_ad_slot = &amp;ldquo;7170585744&amp;rdquo;; google_ad_width = 468; google_ad_height = 15; // ]]&amp;gt; // &amp;lt;![CDATA[ // ]]&amp;gt;&lt;/p&gt;
</description>
    </item>
    
    <item>
      <title>SDN across domains in the WAN - a novice look</title>
      <link>https://forwardingplane.net/post/sdn-across-domains-in-the-wan-a-novice-look/</link>
      <pubDate>Tue, 27 Nov 2012 05:04:00 +0000</pubDate>
      
      <guid>https://forwardingplane.net/post/sdn-across-domains-in-the-wan-a-novice-look/</guid>
      <description>&lt;p&gt;There has been a flurry of discussion on SDN in the WAN lately, specifically, why and how.  Brent Salsbury laid out a few use cases &lt;a href=&#34;http://networkstatic.net/sdn-use-cases-for-service-providers/&#34;&gt;here&lt;/a&gt;.  The why seems pretty straightforward.  I do believe it will happen, however, the &lt;strong&gt;how&lt;/strong&gt; is the interesting part.  Admittedly, I&amp;rsquo;m a tad of a greenhorn in the SDN space, I&amp;rsquo;ve made it work in a lab, I participate as much as I can in the working groups and I attempt (poorly) to keep up.   SDN, and likely OpenFlow, is in our roadmap at work.  Doing SDN in the data center is well documented and fairly well tested. Stanford has it all over their campus LAN and Google is pushing it around their walled garden WAN on custom built hardware.  None of this is new.   The interesting bit is &lt;strong&gt;how do you do it across multiple administrative entities&lt;/strong&gt;?  As I said before, I&amp;rsquo;ll never claim to be an SDN expert, so I need to break this down into simple pieces for my limited mind to comprehend.   BGP solved this years and years ago, how is that accomplished?  Can any of these bits be re-used (why re-invent the wheel)? My caveman mind wants to break this down into requirements: This can likely be controlled by access between peers via an access control mechanism of some sort, i.e. place software limits on how much a given peer can provision in your network, which can be broken down into:&lt;/p&gt;

&lt;ul&gt;
&lt;li&gt;Number of circuits&lt;/li&gt;
&lt;li&gt;Types of circuits (MPLS, VLAN, DWDM Waves, etc.)&lt;/li&gt;
&lt;li&gt;Bandwidth per circuit&lt;/li&gt;
&lt;li&gt;Duration of circuit (path TTL, permanent?)&lt;/li&gt;
&lt;li&gt;Number of devices involved per circuit&lt;/li&gt;
&lt;li&gt;Types of SDN (OpenFlow versions, OSCARS, etc)&lt;/li&gt;
&lt;li&gt;Probably more stuff&lt;/li&gt;
&lt;/ul&gt;

&lt;p&gt;How can this be done?  I don&amp;rsquo;t currently know enough to answer that question, but I suspect it may require a little bit of work in adding a peering framework between control planes (SDN controllers) not unlike how BGP works.  To put this in familiar terminology, for example,&lt;/p&gt;

&lt;ul&gt;
&lt;li&gt;Route maps could be replaced by permissions maps or even an ACL of some sort to establish the abilities of each peer.  &lt;/li&gt;
&lt;li&gt;Peers would need to agree (configuration-wise and politically) on what abilities can be exchanged before peers could operate, programmatically agree on parameters before any changes can be made.&lt;/li&gt;
&lt;li&gt;Security parameters would need to be met for the peers to establish to contain the control plane traffic in a safe way, much like an MD5 across a BGP peering.&lt;/li&gt;
&lt;/ul&gt;

&lt;p&gt;If this sounds like a tall order, I&amp;rsquo;ll wager you&amp;rsquo;re right and I&amp;rsquo;ll also bet that before it happens we&amp;rsquo;ll have a Blu Ray vs HD-DCD or VHS vs Beta throw down of SDN protocols.   Folks have been trying to do this for years, the &lt;a href=&#34;http://dragon.maxgigapop.net/twiki/bin/view/DRAGON/WebHome&#34;&gt;DRAGON project&lt;/a&gt; tried this years ago and did a decent job.  Our Arlington, VA site was one of the original build outs of it. &lt;a href=&#34;https://oscars.es.net/OSCARS/docs/&#34;&gt;OSCARS&lt;/a&gt; is doing similar stuff and is actively working across &lt;a href=&#34;http://www.es.net/&#34;&gt;ESnet&lt;/a&gt;. &lt;a href=&#34;http://www.internet2.edu/ion/&#34;&gt;Internet2 ION&lt;/a&gt; is another attempt. These have all had their effect on the Research and Education networks, but to be adopted acrossm and more importantly between, service provider networks, there needs to be ways to do them elegantly and securely.  There is nothing that a SP hates more than risk, and without these control mechanisms, there is a pretty large amount of risk.  It&amp;rsquo;s reasonable to think that this may be there and I&amp;rsquo;m just missing it, since I am admittedly a novice in the SDN world, but if by chance I have not missed it because it&amp;rsquo;s not there, it needs to be addressed.&lt;/p&gt;
</description>
    </item>
    
    <item>
      <title>Using a Brocade MLXe as a replicator to an IDS</title>
      <link>https://forwardingplane.net/post/using-a-brocade-mlxe-as-a-replicator-to-an-ids/</link>
      <pubDate>Sun, 25 Nov 2012 17:26:00 +0000</pubDate>
      
      <guid>https://forwardingplane.net/post/using-a-brocade-mlxe-as-a-replicator-to-an-ids/</guid>
      <description>&lt;p&gt;Have you ever needed to replicate a lot of data transparently to an IDS without the use of a rack of optical taps?  Not enough budget for a Gigamon or cPacket?  Have a spare MLXe laying around?  you&amp;rsquo;re in luck, we were in that boat too. Let me first preface this by saying that this would be fairly trivial using OpenFlow / SDN.  That being said, we didn&amp;rsquo;t have the time to set that up, so this is what we came with.&lt;/p&gt;

&lt;p&gt;&lt;a href=&#34;http://3.bp.blogspot.com/-dkBh5cQqBtc/UKPe167KFsI/AAAAAAABbFY/5DP_E2YVWgg/s1600/TransHWFlood.jpg&#34;&gt;&lt;img src=&#34;http://3.bp.blogspot.com/-dkBh5cQqBtc/UKPe167KFsI/AAAAAAABbFY/5DP_E2YVWgg/s640/TransHWFlood.jpg&#34; alt=&#34;&#34; /&gt;&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;This would also work using an input interface of 100G, but of course the flows would be limited to 10G. How this works is pretty simple, it just uses a policy based route to direct the flow of traffic out of the desired aggregate interface.  In this real world use case that this was built for, the destination was a Bro cluster, consuming as much of the data as possible.  The config on a brocade is pretty similar to Cisco IOS if you&amp;rsquo;re not familiar, but the VLAN bits are a tad different (actually more intuitive in my opinion).  Here are the bits to make all of this work: Create the vlans and tag them appropriately&lt;/p&gt;

&lt;p&gt;mlxe8# conf t mlxe8(config)# vlan 100 mlxe8(config-vlan-100)# untag ethernet 1/1 mlxe8(config-vlan-100)# transparent-hw-flooding mlxe8(config-vlan-100)# router-interface ve 100 mlxe8(config)# vlan 101 mlxe8(config-vlan-101)# untag ethernet 4/1 &amp;hellip; mlxe8(config-vlan-101)# untag ethernet 4/10 mlxe8(config-vlan-101)# router-interface ve 101 mlxe8(config-vlan-101)#exit mlxe8(config)#interface ve 100 mlxe8(config-vlan-100)#ip policy route-map PBR-TRAFFIC mlxe8(config-vlan-100)#ip access-group pbr-traffic-acl&lt;/p&gt;

&lt;p&gt;mlxe8(config-vlan-101)#exit&lt;/p&gt;

&lt;p&gt;mlxe8(config)#interface ve 101&lt;/p&gt;

&lt;p&gt;mlxe8(config)#ip address 10.101.101.&lt;sup&gt;1&lt;/sup&gt;&amp;frasl;&lt;sub&gt;24&lt;/sub&gt;&lt;/p&gt;

&lt;p&gt;Enable all of the interfaces.&lt;/p&gt;

&lt;p&gt;mlxe8(config)#interface ethernet 4/1&lt;/p&gt;

&lt;p&gt;mlxe8(config)#enable&lt;/p&gt;

&lt;p&gt;&amp;hellip;&lt;/p&gt;

&lt;p&gt;mlxe8(config)#interface ethernet 4/10&lt;/p&gt;

&lt;p&gt;mlxe8(config)#enable&lt;/p&gt;

&lt;p&gt;Create the LAG.&lt;/p&gt;

&lt;p&gt;mlxe8(config)# lag “IDS” static&lt;/p&gt;

&lt;p&gt;   mlxe8(config)#ports ethernet 4/1 to &lt;sup&gt;4&lt;/sup&gt;&amp;frasl;&lt;sub&gt;10&lt;/sub&gt;&lt;/p&gt;

&lt;p&gt;   mlxe8(config)#primary-port &lt;sup&gt;4&lt;/sup&gt;&amp;frasl;&lt;sub&gt;1&lt;/sub&gt;&lt;/p&gt;

&lt;p&gt;   mlxe8(config)#deploy&lt;/p&gt;

&lt;p&gt;s&lt;/p&gt;

&lt;p&gt;     Create the PBR ACL bits. This can also be done to filter types of traffic using more complex ACLs  if so desired&lt;/p&gt;

&lt;p&gt;  mlxe8(config)#access-list pbr-traffic-acl permit ip any any&lt;/p&gt;

&lt;p&gt;mlxe8(config)#exit&lt;/p&gt;

&lt;p&gt;mlxe8(config)#route-map PBR-TRAFFIC permit 1&lt;/p&gt;

&lt;p&gt;mlxe8(config)#matchipaddress pbr-traffic-acl&lt;/p&gt;

&lt;p&gt;mlxe8(config)#set ip next-hop 10.101.101.1&lt;/p&gt;

&lt;p&gt;Create a static ARP entry to tie it all together. &lt;/p&gt;

&lt;p&gt;arp 10.101.101.1 c0ff.eec0.ffee ethernet 1/1&lt;/p&gt;

&lt;p&gt;That&amp;rsquo;s it, let the security folks drink from the firehose.  =)&lt;/p&gt;

&lt;p&gt;[[ This is a content summary only. Visit my website for full links, other content, and more! ]]&lt;/p&gt;
</description>
    </item>
    
    <item>
      <title>Workflow and my every day workstation setup.</title>
      <link>https://forwardingplane.net/post/workflow-and-my-every-day-workstation-setup/</link>
      <pubDate>Sun, 25 Nov 2012 00:03:00 +0000</pubDate>
      
      <guid>https://forwardingplane.net/post/workflow-and-my-every-day-workstation-setup/</guid>
      <description>&lt;p&gt;Recently, there was a &lt;a href=&#34;http://forum.packetpushers.net/showthread.php/309-Productivity-or-Social-Apps?p=1276&#34;&gt;thread over at Packet Pushers&lt;/a&gt; about what folks use for their daily workflow.  I quickly realized that my setup is pretty simple (as I like it) and relied on a large amount of terminal based tools, which makes sense since I have been a UNIX (or UNIX based) OS user since my migration from the original MacOS back in the 1990s.  Anyway, Since I wrote most of this up already, I thought I&amp;rsquo;d post it here:&lt;/p&gt;

&lt;p&gt;&lt;strong&gt;Envoronment and Editing&lt;/strong&gt;&lt;/p&gt;

&lt;p&gt;Editor: VIM via Terminal.app or BBEdit. Occasionally Textedit, but primarily I use VIM&lt;br /&gt;
Calendar: iCalMail: &lt;a href=&#34;http://mailplaneapp.com/&#34;&gt;Mailplane&lt;/a&gt; ($24.95) and Mail.app (Free) (different accounts).Blogging software: Blogger interface or Wordpress editor depending on site.  Both Free.Screen capture: built in Mac hotkey (Apple+4), Free.Screen video capture: &lt;a href=&#34;http://www.evological.com/evocam.html&#34;&gt;Evocam&lt;/a&gt; or a clunky script I wrote that records to flv ($30)Reminder/ToDo: Apple reminders app (Free; works across all their platforms)Shell: zsh, of course (Free)&lt;br /&gt;
Network Diagram tool: &lt;a href=&#34;http://www.omnigroup.com/products/omnigraffle/&#34;&gt;OmniGraffle Professional&lt;/a&gt; ($199.99)&lt;/p&gt;

&lt;p&gt;&lt;strong&gt;Communications&lt;/strong&gt;&lt;br /&gt;
IM: Skype, MS Lync and Messages.app (Free, Free, Free)&lt;br /&gt;
&lt;strong&gt;Virtualization&lt;/strong&gt;&lt;br /&gt;
&lt;a href=&#34;https://www.virtualbox.org/&#34;&gt;Virtual Box&lt;/a&gt; or &lt;a href=&#34;http://store.vmware.com/store/vmware/pd/productID.165310200/Currency.USD/?src=PaidSearch_Google_eBiz_Fusion_US_Brand&#34;&gt;VMWare Fusion&lt;/a&gt; on my laptop, depending on the application. See &lt;a href=&#34;http://forum.packetpushers.net/showthread.php/309-Productivity-or-Social-Apps?p=1276&#34;&gt;this post&lt;/a&gt; for good reasons. (Free, $50)&lt;/p&gt;

&lt;p&gt;&lt;strong&gt;Random Apps&lt;/strong&gt;&lt;br /&gt;
&lt;a href=&#34;https://itunes.apple.com/us/app/caffeine/id411246225?mt=12&#34;&gt;Caffeine&lt;/a&gt; (Keep screen awake easily, prevents sleep mode; Free)  &lt;br /&gt;
&lt;a href=&#34;https://itunes.apple.com/us/app/growl/id467939042?mt=12&#34;&gt;Growl&lt;/a&gt; (Notifications; $3.99)&lt;a href=&#34;http://www.abyssoft.com/software/teleport/&#34;&gt;Teleport&lt;/a&gt; (Secure virtual KVM; Free)&lt;br /&gt;
&lt;a href=&#34;https://itunes.apple.com/us/app/datavault-password-manager/id408865957?mt=12&#34;&gt;DataVault Password Manager&lt;/a&gt; for password sync and storage ($9.99; may look into 1Password)&lt;br /&gt;
&lt;a href=&#34;http://db.tt/iIXz2oDO&#34;&gt;Dropbox&lt;/a&gt; for Cloud storage (Free, paid also available)&lt;br /&gt;
&lt;a href=&#34;https://spideroak.com/download/referral/1ddbb514c7eede1e37ad6411e76b549c&#34;&gt;Spideroak&lt;/a&gt; for Secure cloud folder sync (Free, Paid options available and worth the money)&lt;br /&gt;
&lt;a href=&#34;http://www.crashplan.com/&#34;&gt;Crashplan&lt;/a&gt; for Backup ($Varies depending on plan.  Free option available.  This app is amazing, check it out)&lt;/p&gt;

&lt;p&gt;&lt;a href=&#34;https://itunes.apple.com/us/app/pocket/id568494494?mt=12&#34;&gt;Pocket&lt;/a&gt; for offline reading (Free)&lt;/p&gt;

&lt;p&gt;&lt;strong&gt;Browser&lt;/strong&gt;&lt;br /&gt;
Chrome for day to day browsing  Disconnect and Collusion for privacy and blocking of tracking  Adblock  Flashblock  IPvfoo  Tapatalk Notifier   Tweetdeck&lt;br /&gt;
Safari for quick testingFirefox for stuff that won&amp;rsquo;t work in anything else.&lt;/p&gt;

&lt;p&gt;[[ This is a content summary only. Visit my website for full links, other content, and more! ]]&lt;/p&gt;
</description>
    </item>
    
    <item>
      <title>VDXrancid contrib scripts</title>
      <link>https://forwardingplane.net/post/vdxrancid-contrib-scripts/</link>
      <pubDate>Wed, 14 Nov 2012 16:50:00 +0000</pubDate>
      
      <guid>https://forwardingplane.net/post/vdxrancid-contrib-scripts/</guid>
      <description>&lt;p&gt;   For the &lt;a href=&#34;http://www.supercomputing.org/&#34;&gt;Supercomputing 2012&lt;/a&gt; show, as in years past, I was &amp;ldquo;the guy who installed and maintained &lt;a href=&#34;http://www.google.com/url?sa=t&amp;amp;rct=j&amp;amp;q=&amp;amp;esrc=s&amp;amp;source=web&amp;amp;cd=3&amp;amp;ved=0CEsQFjAC&amp;amp;url=http%3A%2F%2Fwww.shrubbery.net%2Francid%2F&amp;amp;ei=tcWjUOG2AeLCigK4qIGwBw&amp;amp;usg=AFQjCNGsMF1HpROC2BrtIXWL8thUtOKFLQ&amp;amp;sig2=CYLx8RCrdMSiuRuBjPrnaQ&#34;&gt;RANCID&lt;/a&gt;&amp;rdquo; as part of my duties for the &lt;a href=&#34;http://scinet.supercomputing.org/&#34;&gt;SCinet&lt;/a&gt; routing team.   If you don&amp;rsquo;t know about RANCID for change management and config back up, check the link.  It&amp;rsquo;s ree and works on a huge amount of gear.  Every year there is a new and interesting platform, this year is was &lt;a href=&#34;http://www.juniper.net/us/en/products-services/switching/qfx-series/&#34;&gt;Juniper qfabric&lt;/a&gt; and &lt;a href=&#34;http://www.google.com/url?sa=t&amp;amp;rct=j&amp;amp;q=&amp;amp;esrc=s&amp;amp;source=web&amp;amp;cd=2&amp;amp;ved=0CGIQFjAB&amp;amp;url=http%3A%2F%2Fwww.brocade.com%2Flaunch%2Fcloud-clarity%2Fsolutions-technology-innovation.html&amp;amp;ei=J8ajUOD3Ga3riQLpz4A4&amp;amp;usg=AFQjCNFpE2c-kkCHlqabJFwWu7opXzFiSg&amp;amp;sig2=fEcSzMl2PcCa4ajD-YnMvQ&#34;&gt;Brocade VDX&lt;/a&gt;.  The Juniper qFabric just worked with the existing jrancid pieces.&lt;/p&gt;

&lt;p&gt;&lt;a href=&#34;http://2.bp.blogspot.com/-BtfOWZ0KMHc/TyxvtyBEBYI/AAAAAAAAHc8/xue7_Nqj0DE/s400/Rancid+Urgg.jpg&#34;&gt;&lt;img src=&#34;http://2.bp.blogspot.com/-BtfOWZ0KMHc/TyxvtyBEBYI/AAAAAAAAHc8/xue7_Nqj0DE/s200/Rancid+Urgg.jpg&#34; alt=&#34;&#34; /&gt;&lt;/a&gt;&lt;a href=&#34;http://webobjects2.cdw.com/is/image/CDW/2273816?$product_large$&#34;&gt;&lt;img src=&#34;http://webobjects2.cdw.com/is/image/CDW/2273816?$product_large$&#34; alt=&#34;&#34; /&gt;&lt;/a&gt;&lt;a href=&#34;http://upload.wikimedia.org/wikipedia/commons/3/35/Plus_sign.jpg&#34;&gt;&lt;img src=&#34;http://upload.wikimedia.org/wikipedia/commons/3/35/Plus_sign.jpg&#34; alt=&#34;&#34; /&gt;&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;    The brocade VDX is different enough that it doesn&amp;rsquo;t work with francid, but was very similar to IOS.  I did some very minor modifications to the original rancid to make it work with the VDX.  The google code page is available &lt;a href=&#34;http://bit.ly/vdxrancid&#34;&gt;here&lt;/a&gt; and the source code is available &lt;a href=&#34;http://bit.ly/vdxrancid-source&#34;&gt;here&lt;/a&gt;.  &lt;/p&gt;

&lt;p&gt;  You&amp;rsquo;ll have to modify the rancid-fe script to make it work, or use the included one with the source.  It&amp;rsquo;s still very rudimentary, no VCS or platform information is being collected, just the config as of 11/14/2012.&lt;/p&gt;

&lt;p&gt;[[ This is a content summary only. Visit my website for full links, other content, and more! ]]&lt;/p&gt;
</description>
    </item>
    
    <item>
      <title>SCinet, a privileged few</title>
      <link>https://forwardingplane.net/post/scinet-a-privileged-few/</link>
      <pubDate>Fri, 09 Nov 2012 11:12:00 +0000</pubDate>
      
      <guid>https://forwardingplane.net/post/scinet-a-privileged-few/</guid>
      <description>&lt;p&gt;     Every year there is an international conference for High Performance Computing, or HPC as it is often called.  This is a bit of a niche in that it&amp;rsquo;s something that many enterprises and researchers need but don&amp;rsquo;t do themselves and so many don&amp;rsquo;t have a grasp as to what all is invoved.  It&amp;rsquo;s a specialized,  potentially expensive and very different environment as well as mindset than the general sysadmin or network engineer will ever see.  The compute power is rated on it&amp;rsquo;s &lt;a href=&#34;http://www.top500.org/&#34;&gt;own scale&lt;/a&gt; and it is very competitive.&lt;br /&gt;
    While this is a very interesting subject in and of itself, it&amp;rsquo;s not really the most compelling part of this corner of the technology world.  What &lt;strong&gt;is&lt;/strong&gt; the interesting piece is the foundation needed to make all of this work.  Compute power is obviously integral and I&amp;rsquo;ll never try to minimize its importance, but what happens when the huge data sets can&amp;rsquo;t get to the compute resources?  How do the big iron machines communicate?&lt;/p&gt;

&lt;p&gt;You guessed it, it&amp;rsquo;s the network.&lt;/p&gt;

&lt;p&gt;Over the course of my career I&amp;rsquo;ve done a lot of cool networking projects.  One of them, however, stands out far and away more than the others.&lt;/p&gt;

&lt;p&gt;&lt;a href=&#34;http://1.bp.blogspot.com/-bgjgEnK0U6s/UJyKPx1HLrI/AAAAAAABbBY/5ytF3GHKlX4/s1600/IMG_2417.JPG&#34;&gt;&lt;img src=&#34;http://1.bp.blogspot.com/-bgjgEnK0U6s/UJyKPx1HLrI/AAAAAAABbBY/5ytF3GHKlX4/s400/IMG_2417.JPG&#34; alt=&#34;&#34; /&gt;&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;    Building the network to support this conference is the real gem and real challenge.  A bit of history on this network called &lt;a href=&#34;http://en.wikipedia.org/wiki/SCinet&#34;&gt;SCinet, can be found on WikiPedia&lt;/a&gt;.&lt;/p&gt;

&lt;p&gt;&lt;strong&gt;&amp;ldquo;SCinet&lt;/strong&gt; is a high-performance &lt;a href=&#34;http://en.wikipedia.org/wiki/Computer_networking&#34;&gt;network&lt;/a&gt; that is built, once a year, in support of the annual &lt;em&gt;International Conference for High Performance Computing and Communications&lt;/em&gt; also known as the &lt;a href=&#34;http://en.wikipedia.org/wiki/Supercomputing_Conference&#34;&gt;Supercomputing Conference&lt;/a&gt;. It is the primary network for the conference and is used by attendees to demonstrate and test high-performance distributed applications.&lt;/p&gt;

&lt;p&gt;Originated in 1991 as an initiative within the SC conference to provide networking to attendees, SCinet has grown to become the &amp;ldquo;World&amp;rsquo;s Fastest Network&amp;rdquo; during the duration of the conference. Over the years, SCinet has been used as a platform to test networking technology and applications which have found their way into common use.&lt;/p&gt;

&lt;p&gt;At SC|05 &lt;a href=&#34;http://www.sc05.org/&#34;&gt;[1]&lt;/a&gt;, SCinet initiated a conference wide &lt;a href=&#34;http://en.wikipedia.org/wiki/InfiniBand&#34;&gt;InfiniBand&lt;/a&gt; infrastructure, combining various IB hardware vendors utilizing &lt;a href=&#34;http://en.wikipedia.org/w/index.php?title=OpenIB&amp;amp;action=edit&amp;amp;redlink=1&#34;&gt;OpenIB&lt;/a&gt; software.&lt;/p&gt;

&lt;p&gt;In previous years, SCinet deployed conference wide networking technologies such as &lt;a href=&#34;http://en.wikipedia.org/wiki/Asynchronous_Transfer_Mode&#34;&gt;ATM&lt;/a&gt;, &lt;a href=&#34;http://en.wikipedia.org/wiki/Fiber_distributed_data_interface&#34;&gt;FDDI&lt;/a&gt;, &lt;a href=&#34;http://en.wikipedia.org/w/index.php?title=HiPPi&amp;amp;action=edit&amp;amp;redlink=1&#34;&gt;HiPPi&lt;/a&gt; before they were deployed commercially.&amp;rdquo;&lt;/p&gt;

&lt;p&gt;    I&amp;rsquo;ve been involved since 2003, it made sense since my employer was a major supercomputing center, after all.  &lt;/p&gt;

&lt;p&gt;Over the years I&amp;rsquo;ve participated in different capacities and different roles, Security, Wireless, UNIX services and routing.  The team that builds this amazing network do it because they want to.  It&amp;rsquo;s a labor of love.  It&amp;rsquo;s also an amazing experience.  This network, called &amp;ldquo;The worlds fastest network&amp;rdquo; on more than one occasion is built and torn down in less than a month.  The network has more bandwidth than some small countries, and it&amp;rsquo;s built specifically to support &lt;a href=&#34;http://supercomputing.org/&#34;&gt;this conference&lt;/a&gt; and the big science that gets demonstrated.  It&amp;rsquo;s always built with differentheterogeneous equipment.  It&amp;rsquo;s an amazing interoperability experiment that has a &lt;a href=&#34;http://sc12.supercomputing.org/content/scinet-contributors&#34;&gt;who&amp;rsquo;s who of big names&lt;/a&gt;.  &lt;/p&gt;

&lt;p&gt;    This is interesting and worth mentioning because it is an amazing feat that many never even know happens.  It is happening now.  It will happen again next year.  And it will be in a different location, with different gear and a different architecture.  If that&amp;rsquo;s not enough, it&amp;rsquo;s also got a &lt;a href=&#34;http://sc12.supercomputing.org/content/scinet-research-sandbox&#34;&gt;research sandbox&lt;/a&gt; for all of your SDN needs.  &lt;/p&gt;

&lt;p&gt;&lt;a href=&#34;http://gan.doubleclick.net/gan_click?lid=41000613802463762&amp;amp;pid=UBM9780596100148&amp;amp;adurl=http%3A%2F%2Fwww.cdsbooksdvds.com%2Fproduct.jhtm%3Fsku%3DUBM9780596100148&amp;amp;usg=AFHzDLuaU0JGfNPJeXjijzZ9FD_gtq3QuQ&amp;amp;pubid=590157&#34;&gt;Junos Cookbook: by Garrett, Aviva [Paperback]&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;&lt;a href=&#34;http://gan.doubleclick.net/gan_click?lid=41000613802463762&amp;amp;pid=UBM9780792380979&amp;amp;adurl=http%3A%2F%2Fwww.cdsbooksdvds.com%2Fproduct.jhtm%3Fsku%3DUBM9780792380979&amp;amp;usg=AFHzDLv9M31JF4OoLZwreG26xo5qDVnDJg&amp;amp;pubid=590157&#34;&gt;Scalable High Performance Computing for Knowledge Discovery and Data Mining&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;[[ This is a content summary only. Visit my website for full links, other content, and more! ]]&lt;/p&gt;
</description>
    </item>
    
    <item>
      <title>Juniper EX 4200 ARP / NDP problem; or things I&#39;d like to see in a TAC</title>
      <link>https://forwardingplane.net/post/juniper-ex-4200-arp-ndp-problem-or-things-id-like-to-see-in-a-tac/</link>
      <pubDate>Tue, 06 Nov 2012 03:58:00 +0000</pubDate>
      
      <guid>https://forwardingplane.net/post/juniper-ex-4200-arp-ndp-problem-or-things-id-like-to-see-in-a-tac/</guid>
      <description>&lt;p&gt;    Recently we&amp;rsquo;ve run into an odd issue while routing on an EX4200 series.  These little JunOS boxes are a nice alternative for an entry level building router, they support L2/L3 functionality, a PVST+-ish protocol and, with advanced licensing, IPv6, ISIS and BGP. They have multi 10G interface options and come in a pluggable fiber option.  We use them all over for light layer 3.  They can also be stacked via stacking cables and fiber, which is very handy and makes them extremely versatile but not really applicable for the purpose of this entry.  Anyway, one of our buildings had some odd issues that popped up from time to time, normally over the course of several months.  How is manifests itself is an apparent corrupted ARP / NDP table.  Clearing both fixed their respective traffic&amp;hellip;.for a while.  While this problem in and of itself is moderately interesting, the real issue arose when, after an extensive JTAC experience, I couldn&amp;rsquo;t find any reference to the PR that they said was causing this issue (slow memory leak). PR664807.  Even looking through the &lt;a href=&#34;http://www.juniper.net/techpubs/en_US/junos10.4/information-products/topic-collections/release-notes/10.4/index.html?topic-51158.html&#34;&gt;techpub notes for the JunOS version 10.4R3&lt;/a&gt;, I can&amp;rsquo;t find any reference to this PR.&lt;/p&gt;

&lt;p&gt;    What I did find was multi-facited.  Either the JTAC engineer was just incorrect and mistyped, or the site is not efficiently relaying information.&lt;/p&gt;

&lt;p&gt;    It&amp;rsquo;s no secret that I&amp;rsquo;m hyper-critical of support engineers.  I don&amp;rsquo;t call any TAC very often, if anyone in my group calls a TAC, it&amp;rsquo;s an &amp;ldquo;oh sh!t&amp;rdquo; moment or we&amp;rsquo;ve exhausted all other resources.  We take a lot of pride, myself included, in being good at our jobs.  That being said, lets give the benefit of the doubt and make an assumption that the JTAC engineer gave us the correct PR.&lt;/p&gt;

&lt;p&gt;    The PR search that jtac offers is pretty awful.  It&amp;rsquo;s hard to find, can&amp;rsquo;t seem to find known PRs and is generally clunky and yuckie.  In their defense, most TAC KBs are not good.  However, and try doing a google search for this and you&amp;rsquo;ll find links to &lt;a href=&#34;https://www.juniper.net/prsearch/simplesearch.jsp&#34;&gt;https://www.juniper.net/prsearch/simplesearch.jsp&lt;/a&gt;, which doesn&amp;rsquo;t work.  You&amp;rsquo;ll also find a lot of reference to that URL when searching the JTAC KB, as noted &lt;a href=&#34;http://kb.juniper.net/InfoCenter/index?page=content&amp;amp;id=KB17924&amp;amp;actp=search&amp;amp;viewlocale=en_US&amp;amp;searchid=1352170024537&#34;&gt;here&lt;/a&gt; under the heading &amp;ldquo;Where can I search known Junos bugs?&amp;rdquo;.&lt;/p&gt;

&lt;p&gt;    I&amp;rsquo;m going to make a [giant] assumption that this is &lt;strong&gt;not&lt;/strong&gt; user error on my part.  This is a problem that needs fixed.  I&amp;rsquo;m into making lists lately, so here is another one:&lt;/p&gt;

&lt;p&gt;Things I would like to see in a TAC&lt;/p&gt;

&lt;ul&gt;
&lt;li&gt;&lt;p&gt;Competent first level engineers.  &lt;/p&gt;&lt;/li&gt;

&lt;li&gt;&lt;p&gt;Know when to escalate, there is no shame in asking for help. &lt;/p&gt;&lt;/li&gt;

&lt;li&gt;&lt;p&gt;Engineers that have at least some &lt;strong&gt;soft&lt;/strong&gt; skills. &lt;/p&gt;&lt;/li&gt;

&lt;li&gt;&lt;p&gt;People skills are nearly as important as tech chops, especially in a TAC&lt;/p&gt;&lt;/li&gt;

&lt;li&gt;&lt;p&gt;Efficient troubleshooting process.&lt;/p&gt;&lt;/li&gt;

&lt;li&gt;&lt;p&gt;This can be taught, come on guys, get to it.&lt;/p&gt;&lt;/li&gt;

&lt;li&gt;&lt;p&gt;A decent knowledge base.&lt;/p&gt;&lt;/li&gt;

&lt;li&gt;&lt;p&gt;Quit moving crap around or make the old links forward, this is web programming 101&lt;/p&gt;&lt;/li&gt;

&lt;li&gt;&lt;p&gt;Make searches work easily&lt;/p&gt;&lt;/li&gt;

&lt;li&gt;&lt;p&gt;Allow for multi-faceted searches&lt;/p&gt;&lt;/li&gt;

&lt;li&gt;&lt;p&gt;STOP ASKING FOR INFORMATION YOU ALREADY HAVE&lt;/p&gt;&lt;/li&gt;

&lt;li&gt;&lt;p&gt;We sent in the &amp;ldquo;show tech&amp;rdquo;, &amp;ldquo;request support info&amp;rdquo;, etc.  It&amp;rsquo;s in the file.  If it&amp;rsquo;s not a P1 case, read the freaking notes.  &lt;/p&gt;&lt;/li&gt;

&lt;li&gt;&lt;p&gt;Make sure you follow up with the next engineer.&lt;/p&gt;&lt;/li&gt;

&lt;li&gt;&lt;p&gt;We understand shifts change, please make sure hand off of cases is done correctly&lt;/p&gt;&lt;/li&gt;
&lt;/ul&gt;

&lt;p&gt;These would seem like easy things to accomplish, and I have seen them in the past, but they aren&amp;rsquo;t the norm.  They should be. &lt;/p&gt;

&lt;p&gt;[[ This is a content summary only. Visit my website for full links, other content, and more! ]]&lt;/p&gt;
</description>
    </item>
    
    <item>
      <title>And a purple pony.</title>
      <link>https://forwardingplane.net/post/and-a-purple-pony/</link>
      <pubDate>Mon, 05 Nov 2012 10:58:00 +0000</pubDate>
      
      <guid>https://forwardingplane.net/post/and-a-purple-pony/</guid>
      <description>&lt;p&gt;If I had my perfect world where I lived in a gumdrop house with lollypop trees and everything smelled like butterfly kisses, here is what I would like to see in WAN networking gear.   I can build a list for LAN and edge gear as well.  It&amp;rsquo;s not a golden rocket ship I&amp;rsquo;m looking for.  OK, maybe it is.&lt;/p&gt;

&lt;ul&gt;
&lt;li&gt;Full MPLS support &lt;/li&gt;
&lt;li&gt;Full IPv6 support, all the features, not just pieces.    &lt;/li&gt;
&lt;li&gt;Full VRF support &lt;/li&gt;
&lt;li&gt;LACP support&lt;/li&gt;
&lt;li&gt;Layer2 + Layer3, MPLS OpenFlow/SDN simultaneously on all hardware interfaces&lt;/li&gt;
&lt;li&gt;9000+ byte frame support&lt;/li&gt;
&lt;li&gt;Full instrumentation of software and hardware interfaces.&lt;/li&gt;
&lt;li&gt;OSPFv2/3&lt;/li&gt;
&lt;li&gt;ISIS&lt;/li&gt;
&lt;li&gt;mBGP4&lt;/li&gt;
&lt;li&gt;Multicast (MSDP, PIM-SM)&lt;/li&gt;
&lt;li&gt;Flow export (IPFIX/V9 or sFlow)&lt;/li&gt;
&lt;li&gt;Full ACL support on software and hardware interfaces, inbound and outbound, IPv4 and IPv6.&lt;/li&gt;
&lt;li&gt;v4 and v6 uRPF in all VRFs&lt;/li&gt;
&lt;li&gt;ACL support for control plane services (ssh, snmp, telnet, etc.)&lt;/li&gt;
&lt;li&gt;Non Stop Routing in all VRFs, ideally in logical systems as well  &lt;/li&gt;
&lt;li&gt;Logical systems / Multi-Tenant routers&lt;/li&gt;
&lt;li&gt;In-Service Software Upgrade (Hitless upgrades)&lt;/li&gt;
&lt;li&gt;Support for 4x the current global table&lt;/li&gt;
&lt;li&gt;Support for 4x global IPv6 table&lt;/li&gt;
&lt;li&gt;32+ nonblocking 10G interfaces&lt;/li&gt;
&lt;li&gt;4+ nonblocking 100G interfaces&lt;/li&gt;
&lt;li&gt;18000 byte frame support on 100G interfaces&lt;/li&gt;
&lt;li&gt;Separate control and forwarding plane and/or control plane policing&lt;/li&gt;
&lt;li&gt;All supported routing protocols in non-default VRF and/or logical router&lt;/li&gt;
&lt;li&gt;OpenFlow/SDN support in non-default VRFs&lt;/li&gt;
&lt;li&gt;Flow based policing on all software and hardware based interfaces&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;I want to be able to turn all of this on at the same time &lt;/strong&gt;&lt;/li&gt;
&lt;/ul&gt;

&lt;p&gt;Why would anyone want all of these things, you may ask?  Not everyone is an enterprise customer.  Not everyone is an ISP.  Some of us are all of those things, plus more.  Not everyone has a brinks truck full of money to pour into layers of network gear.  Some people try to innovate and step outside of comfort zones to create new ways of doing things.  &lt;/p&gt;

&lt;p&gt;In the research and education realm, we actually *need* some, if not all, of these things.  Is there any chance we can get this?  Maybe, The MX series juniper makes comes pretty close.  The Brocade MLXe claims to do a good portion of this stuff on paper.  &amp;hellip;I don&amp;rsquo;t actually know what is in the Cisco portfolio that can come close.  ASR 9K?  You tell me.  Can the Arista do it?  It&amp;rsquo;s a linux box at it&amp;rsquo;s core so maybe, but are the buffers deep enough?  If you take out the OpenFlow bits the Alcatel-Lucent can probably do it.  H3C?  Maybe I live in a fantasy world.  Come on, folks, point me at something.  &lt;/p&gt;

&lt;p&gt;Push limits or be limited.&lt;/p&gt;
</description>
    </item>
    
    <item>
      <title>ISIS or OSPFv2/3; a caveman case study</title>
      <link>https://forwardingplane.net/post/isis-or-ospfv23-a-caveman-case-study/</link>
      <pubDate>Thu, 01 Nov 2012 00:18:00 +0000</pubDate>
      
      <guid>https://forwardingplane.net/post/isis-or-ospfv23-a-caveman-case-study/</guid>
      <description></description>
    </item>
    
    <item>
      <title>Directionality</title>
      <link>https://forwardingplane.net/post/directionality-2/</link>
      <pubDate>Wed, 31 Oct 2012 21:47:00 +0000</pubDate>
      
      <guid>https://forwardingplane.net/post/directionality-2/</guid>
      <description>&lt;p&gt;    As I sit here thinking if this site is worth my time, some words that someone said to me recently ring true. &amp;ldquo;Take from things you&amp;rsquo;re doing every day&amp;rdquo; is what &lt;a href=&#34;http://www.twitter.com/networkstatic&#34;&gt;Brent Salisbury&lt;/a&gt; of &lt;a href=&#34;http://www.networkstatic.net/&#34;&gt;networkstatic.net&lt;/a&gt; said to me. He was right.&lt;br /&gt;
    &amp;hellip;And it was why I originally started this site, in a way. The original goal was to make a site I could take notes on and possibly help out someone trying to solve the same issues as me or look at something from the same perspective I had.  I do a lot of self study and tinkering in my home lab.  I also do a lot of off the wall things day to day.  I also do occasional consulting, when it&amp;rsquo;s interesting.  Taking notes on these things is probably useful to at least someone.&lt;br /&gt;
    However, there is a lot of content out there saying a lot of the same stuff and in better, smarter and more digestible ways that I can. There are numerous Cisco focused sites that are far better than I could hope to produce in my nearly non-existent &amp;ldquo;free time&amp;rdquo;.  I know because I frequent many of them to help me.  &lt;a href=&#34;http://blog.ioshints.info/&#34;&gt;IOSHints&lt;/a&gt;, &lt;a href=&#34;http://networkingnerd.net/&#34;&gt;Networking Nerd&lt;/a&gt;, &lt;a href=&#34;http://packetlife.net/&#34;&gt;Packet Life&lt;/a&gt; are all fantastic resources.  Another of my favorite reads is &lt;a href=&#34;http://www.evilrouters.net/&#34;&gt;Evil Routers&lt;/a&gt;.  It is sort of a unique bird, while the others are a tad cisco focused (not entirely, but mostly), &lt;a href=&#34;https://twitter.com/jlgaddis&#34;&gt;Jeremy Gaddis&lt;/a&gt; throws in all kinds of amazing networking info in a well written manner and adds a significant amount of spice that is what I can only believe is his personality (I&amp;rsquo;ve never met him).  I can&amp;rsquo;t *not* read it.  I utilize these resource, in addition to &lt;a href=&#34;http://www.networkstatic.net/&#34;&gt;Network Static&lt;/a&gt; and &lt;a href=&#34;http://packetpushers.net/&#34;&gt;Packet Pushers&lt;/a&gt; almost daily.  I hope this can be a shadow of those sites.  If something from my never ending, incoherent rambling can help out one person in a tight bind or a day-to-day problem, then I&amp;rsquo;ll consider it a success.&lt;/p&gt;

&lt;p&gt;    Back to the point.&lt;/p&gt;

&lt;p&gt;    I am in a fairly unique environment in my day job.  The history of networking is very deep here.  Working for a major research university that has not only a major computing research facility, but one that was part of ARPAnet gives me (and anyone that works in this environment) a very unique perspective.  We have to support and secure the network as if it is an enterprise, but it also has to facilitate research.  Additionally, it needs to be extremely flexible yet also supportable.  And we&amp;rsquo;re a government entity, so we have to go to RFP for equipment, so we don&amp;rsquo;t get to pick and choose what we want.  If it meeds the technical requirements and budget, that is what we get.  Also, we just built out a Fiber to the premises ISP that won &lt;a href=&#34;http://uc2b.net/2012/09/13/uc2b-awarded-national-association-of-telecommunications-officers-and-advisors-natoa-2012-community-broadband-project-of-the-year/&#34;&gt;NATOA Broadband project of the year award&lt;/a&gt;, so we&amp;rsquo;re supporting a commercial ISP, too. Oh, we also don&amp;rsquo;t have a huge budget.  We need to be able to work on any network gear, security appliances, network related software packages or optical transport gear laid in front of us, and become experts on that gear in extremely short order.  We don&amp;rsquo;t have the luxury that many do in that we can throw something out if it&amp;rsquo;s not brand X or has a different take on a particular way of doing things.  It&amp;rsquo;s a little like consulting (from what I remember from 14 years ago) in that it&amp;rsquo;s probably something different every day.&lt;/p&gt;

&lt;p&gt;    If you think these things are all diametrically opposed, you&amp;rsquo;re right.  Luckily we are blessed with a small but very clued and extremely diligent team.  I would consider us not unlike the spartans.  Few, but unwilling to fail and very long in drive to complete.&lt;/p&gt;

&lt;p&gt;    And that&amp;rsquo;s why I love it.&lt;/p&gt;

&lt;p&gt;   Enter this unkempt little corner of the internet.  Given that there is a bit of a lacking presence of non-cisco focused informational sites out there, maybe I can add some value&amp;hellip;&amp;hellip;or at least not detract.  Lets start with two things I&amp;rsquo;ve found useful.  One is something I&amp;rsquo;m always looking for and never seem to bookmark.  &lt;a href=&#34;http://kb.juniper.net/InfoCenter/index?page=content&amp;amp;id=KB21476&#34;&gt;JTAC Recommended Junos Software Versions&lt;/a&gt;.  This is invaluable, and unless you&amp;rsquo;re doing something bleeding edge or edge case, this is a fantastic page to bookmark.  The other is a good resource for HP H3C networking gear.  &lt;a href=&#34;https://twitter.com/jszc&#34;&gt;Jeff&lt;/a&gt; knows his stuff and likes to &lt;a href=&#34;http://thenetworkmonkey.blogspot.com/&#34;&gt;share it on his blog&lt;/a&gt;.  He also knows a lot about other HP gear.&lt;/p&gt;
</description>
    </item>
    
    <item>
      <title>Directionality</title>
      <link>https://forwardingplane.net/post/directionality/</link>
      <pubDate>Wed, 31 Oct 2012 16:03:00 +0000</pubDate>
      
      <guid>https://forwardingplane.net/post/directionality/</guid>
      <description>&lt;p&gt;    As I sit here thinking if this site is worth my time, some words that someone said to me recently ring true. &amp;ldquo;Take from things you&amp;rsquo;re doing every day&amp;rdquo; is what &lt;a href=&#34;http://www.twitter.com/networkstatic&#34;&gt;Brent Salisbury&lt;/a&gt; of &lt;a href=&#34;http://www.networkstatic.net/&#34;&gt;networkstatic.net&lt;/a&gt; said to me. He was right.&lt;br /&gt;
    &amp;hellip;And it was why I originally started this site, in a way. The original goal was to make a site I could take notes on and possibly help out someone trying to solve the same issues as me or look at something from the same perspective I had.  I do a lot of self study and tinkering in my home lab.  I also do a lot of off the wall things day to day.  I also do occasional consulting, when it&amp;rsquo;s interesting.  Taking notes on these things is probably useful to at least someone.&lt;br /&gt;
    However, there is a lot of content out there saying a lot of the same stuff and in better, smarter and more digestible ways that I can. There are numerous Cisco focused sites that are far better than I could hope to produce in my nearly non-existent &amp;ldquo;free time&amp;rdquo;.  I know because I frequent many of them to help me.  &lt;a href=&#34;http://blog.ioshints.info/&#34;&gt;IOSHints&lt;/a&gt;, &lt;a href=&#34;http://networkingnerd.net/&#34;&gt;Networking Nerd&lt;/a&gt;, &lt;a href=&#34;http://packetlife.net/&#34;&gt;Packet Life&lt;/a&gt; are all fantastic resources.  Another of my favorite reads is &lt;a href=&#34;http://www.evilrouters.net/&#34;&gt;Evil Routers&lt;/a&gt;.  It is sort of a unique bird, while the others are a tad cisco focused (not entirely, but mostly), &lt;a href=&#34;https://twitter.com/jlgaddis&#34;&gt;Jeremy Gaddis &lt;/a&gt;throws in all kinds of amazing networking info in a well written manner and adds a significant amount of spice that is what I can only believe is his personality (I&amp;rsquo;ve never met him).  I can&amp;rsquo;t *not* read it.  I utilize these resource, in addition to &lt;a href=&#34;http://www.networkstatic.net/&#34;&gt;Network Static&lt;/a&gt; and &lt;a href=&#34;http://packetpushers.net/&#34;&gt;Packet Pushers&lt;/a&gt; almost daily.  I hope this can be a shadow of those sites.  If something from my never ending, incoherent rambling can help out one person in a tight bind or a day-to-day problem, then I&amp;rsquo;ll consider it a success.&lt;/p&gt;

&lt;p&gt;    Back to the point.&lt;/p&gt;

&lt;p&gt;   Enter this unkempt little corner of the internet.  Given that there is a bit of a lacking presence of non-cisco focused informational sites out there, maybe I can add some value&amp;hellip;&amp;hellip;or at least not detract.  Lets start with two things I&amp;rsquo;ve found useful.  One is something I&amp;rsquo;m always looking for and never seem to bookmark.  &lt;a href=&#34;http://kb.juniper.net/InfoCenter/index?page=content&amp;amp;id=KB21476&#34;&gt;JTAC Recommended Junos Software Versions&lt;/a&gt;.  This is invaluable, and unless you&amp;rsquo;re doing something bleeding edge or edge case, this is a fantastic page to bookmark.  The other is a good resource for HP H3C networking gear.  &lt;a href=&#34;https://twitter.com/jszc&#34;&gt;Jeff&lt;/a&gt; knows his stuff and likes to &lt;a href=&#34;http://thenetworkmonkey.blogspot.com/&#34;&gt;share it on his blog&lt;/a&gt;.  He also knows a lot about other HP gear.&lt;/p&gt;

&lt;p&gt;[[ This is a content summary only. Visit my website for full links, other content, and more! ]]&lt;/p&gt;
</description>
    </item>
    
    <item>
      <title>Certifications, worth the money in todays market?</title>
      <link>https://forwardingplane.net/post/certifications-worth-the-money-in-todays-market/</link>
      <pubDate>Sat, 27 Oct 2012 22:53:00 +0000</pubDate>
      
      <guid>https://forwardingplane.net/post/certifications-worth-the-money-in-todays-market/</guid>
      <description></description>
    </item>
    
    <item>
      <title>Juniper to IOS conversion chart</title>
      <link>https://forwardingplane.net/post/juniper-to-ios-conversion-chart/</link>
      <pubDate>Sat, 27 Oct 2012 20:17:00 +0000</pubDate>
      
      <guid>https://forwardingplane.net/post/juniper-to-ios-conversion-chart/</guid>
      <description>&lt;p&gt;    Moving to JunOS from IOS can be a daunting task.  It&amp;rsquo;s a completely different command structure and the config, by default, looks like a programming language.  I was fortunate enough to have gotten in on using JunOS very early in my career, &lt;sup&gt;1&lt;/sup&gt;&amp;frasl;&lt;sub&gt;3&lt;/sub&gt; in to be exact (as of this writing).  Not to mention that wen I got started, IOS wasn&amp;rsquo;t the only game in town.  Remember Xylan?  Gandalf?  OpenRoute? How about Ascend?&lt;/p&gt;

&lt;p&gt;    That being said, a conversion chart is a useful thing.&lt;/p&gt;

&lt;p&gt;    These are everywhere on the net.  Recently I was asked to provide some of this for my job, so I took most of what I could find on the net and compiled it together using my favorite one as a template adding this and that from my own bag of what I thought was useful, which was very little since the initial one was pretty complete.  I suspect this may migrate to a &amp;ldquo;page&amp;rdquo; and not just a post, and will likely be a bit of a living document as I find more and more useful bits and pieces.&lt;/p&gt;

&lt;p&gt;&lt;strong&gt;Basic CLI and Systems Management Commands&lt;/strong&gt;&lt;/p&gt;

&lt;p&gt;Junos Command&lt;/p&gt;

&lt;p&gt;IOS Command&lt;/p&gt;

&lt;p&gt;set date&lt;/p&gt;

&lt;p&gt;clock set&lt;/p&gt;

&lt;p&gt;ping&lt;/p&gt;

&lt;p&gt;ping&lt;/p&gt;

&lt;p&gt;request system reboot&lt;/p&gt;

&lt;p&gt;reload&lt;/p&gt;

&lt;p&gt;request message&lt;/p&gt;

&lt;p&gt;send&lt;/p&gt;

&lt;p&gt;show system uptime&lt;/p&gt;

&lt;p&gt;show clock&lt;/p&gt;

&lt;p&gt;show chassis environment&lt;/p&gt;

&lt;p&gt;show environment&lt;/p&gt;

&lt;p&gt;show cli history&lt;/p&gt;

&lt;p&gt;show history&lt;/p&gt;

&lt;p&gt;show system statistics&lt;/p&gt;

&lt;p&gt;show ip traffic&lt;/p&gt;

&lt;p&gt;show logshow log &lt;em&gt;file name&lt;/em&gt;&lt;/p&gt;

&lt;p&gt;show logging&lt;/p&gt;

&lt;p&gt;show system processes&lt;/p&gt;

&lt;p&gt;show processes&lt;/p&gt;

&lt;p&gt;show configuration&lt;/p&gt;

&lt;p&gt;show running config&lt;/p&gt;

&lt;p&gt;request support information&lt;/p&gt;

&lt;p&gt;show tech-support&lt;/p&gt;

&lt;p&gt;show system users&lt;/p&gt;

&lt;p&gt;show users&lt;/p&gt;

&lt;p&gt;show version | show chassis hardware&lt;/p&gt;

&lt;p&gt;show version&lt;/p&gt;

&lt;p&gt;traceroute&lt;/p&gt;

&lt;p&gt;trace&lt;/p&gt;

&lt;p&gt;&lt;strong&gt;Switching Commands&lt;/strong&gt;&lt;/p&gt;

&lt;p&gt;Junos Command&lt;/p&gt;

&lt;p&gt;IOS Command&lt;/p&gt;

&lt;p&gt;show ethernet-switching interfaces&lt;/p&gt;

&lt;p&gt;No equivalent command&lt;/p&gt;

&lt;p&gt;show spanning-tree bridge&lt;/p&gt;

&lt;p&gt;show spanning-tree&lt;/p&gt;

&lt;p&gt;show ethernet-switching table&lt;/p&gt;

&lt;p&gt;show mac address-table&lt;/p&gt;

&lt;p&gt;show log messages&lt;/p&gt;

&lt;p&gt;show logging&lt;/p&gt;

&lt;p&gt;&lt;strong&gt;Interface Commands&lt;/strong&gt;&lt;/p&gt;

&lt;p&gt;Junos Command&lt;/p&gt;

&lt;p&gt;IOS Command&lt;/p&gt;

&lt;p&gt;clear interface statistics&lt;/p&gt;

&lt;p&gt;clear counters&lt;/p&gt;

&lt;p&gt;show interfaces&lt;br /&gt;
show interfaces detail&lt;br /&gt;
show interfaces extensive&lt;/p&gt;

&lt;p&gt;show interfaces&lt;/p&gt;

&lt;p&gt;show interfaces&lt;br /&gt;
show interfaces detail&lt;br /&gt;
show interfaces extensive&lt;/p&gt;

&lt;p&gt;show ip interface&lt;/p&gt;

&lt;p&gt;show interfaces terse&lt;/p&gt;

&lt;p&gt;show ip interface brief&lt;/p&gt;

&lt;p&gt;&lt;strong&gt;Routing Protocol Commands&lt;/strong&gt;&lt;/p&gt;

&lt;p&gt;Junos Command&lt;/p&gt;

&lt;p&gt;IOS Command&lt;/p&gt;

&lt;p&gt;clear arp&lt;/p&gt;

&lt;p&gt;clear arp-cache&lt;/p&gt;

&lt;p&gt;show arp&lt;/p&gt;

&lt;p&gt;show arp&lt;/p&gt;

&lt;p&gt;show route&lt;/p&gt;

&lt;p&gt;show ip route&lt;/p&gt;

&lt;p&gt;show route summary&lt;/p&gt;

&lt;p&gt;show ip route summary&lt;/p&gt;

&lt;p&gt;show policy&lt;br /&gt;
show policy &lt;em&gt;policy-name&lt;/em&gt;&lt;/p&gt;

&lt;p&gt;show route-map&lt;/p&gt;

&lt;p&gt;show system connections&lt;/p&gt;

&lt;p&gt;show tcp&lt;/p&gt;

&lt;p&gt;show ospf database&lt;/p&gt;

&lt;p&gt;show ip ospf database&lt;/p&gt;

&lt;p&gt;show ospf interface&lt;/p&gt;

&lt;p&gt;show ip ospf interface&lt;/p&gt;

&lt;p&gt;show ospf neighbor&lt;/p&gt;

&lt;p&gt;show ip ospf neighbor&lt;/p&gt;

&lt;p&gt;clear bgp neighbor&lt;/p&gt;

&lt;p&gt;clear ip bgp&lt;/p&gt;

&lt;p&gt;clear bgp damping&lt;/p&gt;

&lt;p&gt;clear ip bgp dampening&lt;/p&gt;

&lt;p&gt;show route protocol bgp&lt;/p&gt;

&lt;p&gt;show ip bgp&lt;/p&gt;

&lt;p&gt;show route community&lt;/p&gt;

&lt;p&gt;show ip bgp community&lt;/p&gt;

&lt;p&gt;show route damping decayed&lt;/p&gt;

&lt;p&gt;show ip bgp dampened paths&lt;/p&gt;

&lt;p&gt;show bgp neighbor&lt;/p&gt;

&lt;p&gt;show ip bgp neighbors&lt;/p&gt;

&lt;p&gt;show route advertising-protocol bgp&lt;em&gt;neighbor-address&lt;/em&gt;&lt;/p&gt;

&lt;p&gt;show ip bgp neighbors _address_ advertised-routes&lt;/p&gt;

&lt;p&gt;show route receive-protocol bgp&lt;em&gt;neighbor-address&lt;/em&gt;&lt;/p&gt;

&lt;p&gt;show ip bgp neighbors _address_ received-routes&lt;/p&gt;

&lt;p&gt;show bgp group&lt;/p&gt;

&lt;p&gt;show ip bgp peer-group&lt;/p&gt;

&lt;p&gt;show route aspath-regex&lt;/p&gt;

&lt;p&gt;show ip bgp regexp&lt;/p&gt;

&lt;p&gt;show bgp summary&lt;/p&gt;

&lt;p&gt;show ip bgp summary&lt;/p&gt;

&lt;p&gt;&lt;strong&gt;Other Useful JunOS commands&lt;/strong&gt;&lt;/p&gt;

&lt;p&gt;&lt;em&gt;show conf | display set&lt;/em&gt; &amp;ndash;display the configuration in a single line per command syntax, useful for cut and paste&lt;br /&gt;
&lt;em&gt;show conf | display xml&lt;/em&gt;--display the configuration as XML, useful for programming to the XMLRPC interface&lt;br /&gt;
Adding &lt;em&gt;| no-more&lt;/em&gt; to a command such as:&lt;br /&gt;
&lt;em&gt;request support information | no-more&lt;/em&gt; &amp;ndash;removes the need to space bar through long output.  Can also be used for piping to a file like&lt;br /&gt;
&lt;em&gt;request support information | no-more | save&lt;/em&gt;&lt;/p&gt;

&lt;p&gt;[[ This is a content summary only. Visit my website for full links, other content, and more! ]]&lt;/p&gt;
</description>
    </item>
    
    <item>
      <title>SDN, the disjointed project we all need to know about</title>
      <link>https://forwardingplane.net/post/sdn-the-disjointed-project-we-all-need-to-know-about/</link>
      <pubDate>Sat, 27 Oct 2012 08:48:00 +0000</pubDate>
      
      <guid>https://forwardingplane.net/post/sdn-the-disjointed-project-we-all-need-to-know-about/</guid>
      <description></description>
    </item>
    
    <item>
      <title>Host based sflow, or, sflow for more than just network traffic</title>
      <link>https://forwardingplane.net/post/host-based-sflow-or-sflow-for-more-than-just-network-traffic/</link>
      <pubDate>Sat, 27 Oct 2012 02:33:00 +0000</pubDate>
      
      <guid>https://forwardingplane.net/post/host-based-sflow-or-sflow-for-more-than-just-network-traffic/</guid>
      <description>&lt;p&gt;I&amp;rsquo;m an awful sysadmin.  Running services permanently isn&amp;rsquo;t really my forte, I tend to lean more on the &amp;ldquo;I&amp;rsquo;ll get this proof of concept all working, prove that it works or doesn&amp;rsquo;t, then roll it on for polishing by someone else&amp;rdquo; kinda guy.  That final 15% is something I&amp;rsquo;m constantly working to refine and better myself at accomplishing.   I&amp;rsquo;m decent at debugging network services, and can be handy in a &amp;ldquo;oh crap, it&amp;rsquo;s down!&amp;rdquo; scamerio, but day to day sysadmin&amp;hellip;not really my speciality.&lt;br /&gt;
I know enough programming to be dangerous and have enough experience to know how to set up or fix pretty much any OS with nearly any service on it.  15 years as a slash and burn Network Engineer will often lend itself to that.  That being said, I do enjoy playing with new options, software packages and and LOVE instrumentation.  Then I came across &lt;a href=&#34;http://host-sflow.sourceforge.net/&#34;&gt;this&lt;/a&gt;.     &lt;a href=&#34;http://blog.sflow.com/2012/01/host-sflow-distributed-agent.html&#34;&gt;Host based sflow&lt;/a&gt;&amp;hellip;..for more than just network traffic.&lt;br /&gt;
This idea is &lt;strong&gt;fantastic&lt;/strong&gt;.&lt;br /&gt;
&lt;strong&gt;Why&lt;/strong&gt; did I never think of it?!?!?!?&lt;/p&gt;

&lt;p&gt;Essentially it&amp;rsquo;s &lt;a href=&#34;http://en.wikipedia.org/wiki/SFlow&#34;&gt;sflow&lt;/a&gt;, a mechanism for monitoring network traffic, or thats at least how I thought of it being from the network side.  It&amp;rsquo;s a lot like Netflow, but an open standard.  Many network devices support it for sampling transit routed packets.  It never occured to me to run it on hosts for other things like&amp;hellip;..http hits, disk utilization&amp;hellip;.memory usage.  This seems perfect for a cloud environment, or for a VM farm&amp;hellip;.or anywhere you don&amp;rsquo;t want to run snmpd or some weird commercial agent on a host.&lt;br /&gt;
I already have an &lt;a href=&#34;http://nfsen.sourceforge.net/&#34;&gt;nfsen&lt;/a&gt;/&lt;a href=&#34;http://nfdump.sourceforge.net/&#34;&gt;nfdump&lt;/a&gt; instance, but it should work with any open source or commercial collector that supports sflow, which is a huge number.  Intermapper flow, inmon, there is a long list.&lt;/p&gt;

&lt;p&gt;I had to see this work, since we had just discussed this type of monitoring in our new [broadband project of the year award winning] ISP, &lt;a href=&#34;http://www.uc2b.net/&#34;&gt;UC2B&lt;/a&gt; that I am heavily involved in.&lt;br /&gt;
So, on to the meat and potato..&lt;br /&gt;
I grabbed the dpkg and installed it on my personal ubuntu server.&lt;/p&gt;

&lt;p&gt;&lt;em&gt;sudo dpkg -i hsflowd_1.22.2-1_x86_64.deb &lt;/em&gt;&lt;br /&gt;
From there I needed to edit the conf file to point it my test flow collector, which happens to reside on the same box.  Use your favorite editor, I like vi personally but I&amp;rsquo;ve been using it for 15 years. &lt;br /&gt;
&lt;em&gt;sudo vi /etc/hsflowd.conf&lt;/em&gt;&lt;br /&gt;
Change the following lines:&lt;/p&gt;

&lt;p&gt;&lt;em&gt;DNSSD = off&lt;/em&gt;&lt;/p&gt;

&lt;p&gt;  &lt;em&gt;polling = 30&lt;/em&gt;&lt;br /&gt;
&lt;em&gt;  sampling.http = 10&lt;/em&gt;&lt;br /&gt;
&lt;em&gt;  sampling.memcache = 500&lt;/em&gt;&lt;/p&gt;

&lt;p&gt;&lt;em&gt; collector {&lt;/em&gt;&lt;/p&gt;

&lt;p&gt;&lt;em&gt;    ip = 127.0.0.1&lt;/em&gt;&lt;/p&gt;

&lt;p&gt;&lt;em&gt;     udpport = 6997&lt;/em&gt;&lt;/p&gt;

&lt;p&gt;&lt;em&gt;  }&lt;/em&gt;&lt;/p&gt;

&lt;p&gt;Close out the file.  I chose to tweak a few of the defaults to see what it&amp;rsquo;d yield.  &lt;/p&gt;

&lt;p&gt;Now edit your nfsen.conf file&lt;/p&gt;

&lt;p&gt;&lt;em&gt;%sources = (&lt;/em&gt;&lt;br /&gt;
&lt;em&gt;    &amp;lsquo;home&amp;rsquo;    =&amp;gt; { &amp;lsquo;port&amp;rsquo; =&amp;gt; &amp;lsquo;6996&amp;rsquo;, &amp;lsquo;col&amp;rsquo; =&amp;gt; &amp;lsquo;#0000ff&amp;rsquo;, &amp;lsquo;type&amp;rsquo; =&amp;gt; &amp;lsquo;netflow&amp;rsquo; },&lt;/em&gt;&lt;br /&gt;
&lt;em&gt;    &amp;lsquo;cupcake&amp;rsquo;    =&amp;gt; { &amp;lsquo;port&amp;rsquo; =&amp;gt; &amp;lsquo;6997&amp;rsquo;, &amp;lsquo;col&amp;rsquo; =&amp;gt; &amp;lsquo;#0000ff&amp;rsquo;, &amp;lsquo;type&amp;rsquo; =&amp;gt; &amp;lsquo;sflow&amp;rsquo; },&lt;/em&gt;&lt;br /&gt;
&lt;em&gt;);&lt;/em&gt;&lt;/p&gt;

&lt;p&gt;&lt;em&gt;sudo /services/netflow/bin/nfsen reconfig&lt;/em&gt;&lt;br /&gt;
This should yield at the very least network data and provide a proof of concept. other services can be monitored by using the json options, but that&amp;rsquo;s beyond the scope of this writing.  I could see a big win from this in a home brew cloud environment or a large VM farm since it can provide a very straightforward way to generate very useful data in a standard format that can be very simply monitored, queried and archived.    &lt;br /&gt;
_&lt;a href=&#34;http://gan.doubleclick.net/gan_click?lid=41000000028007181&amp;amp;pid=UBM9786132095695&amp;amp;adurl=http%3A%2F%2Fwww.cdsbooksdvds.com%2Fproduct.jhtm%3Fsku%3DUBM9786132095695&amp;amp;usg=AFHzDLucmjq8niDqbnNmvyDzFPVpDnuqQQ&amp;amp;pubid=590157&#34;&gt;Paessler Router Traffic Grapher&lt;/a&gt;_&lt;/p&gt;

&lt;p&gt;[[ This is a content summary only. Visit my website for full links, other content, and more! ]]&lt;/p&gt;
</description>
    </item>
    
    <item>
      <title>MicroFlow policing on Cisco Sup2T</title>
      <link>https://forwardingplane.net/post/microflow-policing-on-cisco-sup2t/</link>
      <pubDate>Fri, 19 Oct 2012 07:21:00 +0000</pubDate>
      
      <guid>https://forwardingplane.net/post/microflow-policing-on-cisco-sup2t/</guid>
      <description>&lt;p&gt;Let me save you some time&amp;hellip;.Microflow Policing on the Catalyst 6500 / Sup2TXL doesn&amp;rsquo;t yet work. Inbound it &amp;ldquo;kinda works&amp;rdquo;.  You can configure it and it applies as a service policy, but even though outbound is &amp;ldquo;supported in hardware on the Supervisor2TXL&amp;rdquo;, there is no software support for it in either the 15.0SY or 12.2(50)SY.  It took me a month to suss this out&amp;hellip;..&lt;br /&gt;
Yes, I should have suspected.  I dont work on Cisco every day, I have Juniper MX, Brocade MLX and a multitude of other platforms to work on daily, so it took a bit.&lt;br /&gt;
The short answer is that the capability won&amp;rsquo;t be there until 15.1&amp;hellip;.something I&amp;rsquo;m not looking forward to since 15.x is very different, and, if you use any of the MLS features, get ready to re-learn them all.  I still have a strong belief that 15.0SY is missing half of the MLS knobs I need to turn.&lt;/p&gt;

&lt;p&gt;Please, someone correct me.  I&amp;rsquo;d be &lt;strong&gt;extremely&lt;/strong&gt; happy to be wrong about this one.  &lt;/p&gt;

&lt;p&gt;[[ This is a content summary only. Visit my website for full links, other content, and more! ]]&lt;/p&gt;
</description>
    </item>
    
    <item>
      <title>A tale of two ISPs...</title>
      <link>https://forwardingplane.net/post/a-tale-of-two-isps/</link>
      <pubDate>Thu, 18 Oct 2012 11:24:00 +0000</pubDate>
      
      <guid>https://forwardingplane.net/post/a-tale-of-two-isps/</guid>
      <description>&lt;p&gt;     I&amp;rsquo;ve been doing research, carrier and service provider networking for a long time.  I my first real service provider experience was beta testing DSL for GTE back in the 1990s, I prototyped and proposed a CLEC for an employer in 1998 and went to work for the only ISP in the area rolling it&amp;rsquo;s own DSL over ATM in early 2000.&lt;br /&gt;
    Everything seems to come full circle, though, given enough time.  Right now I&amp;rsquo;m working on many projects, but two of them jumped out as particularly interesting when contrasted against each other.  Alone they&amp;rsquo;re interesting but not anything never done before.  When compared, however, they become are polar opposites in case studies.&lt;br /&gt;
    The first, a smaller mom-and-pop ISP that is now pretty much a WISP for only rural customers, was originally part of the ISP I rebuilt back in 2000.  They had not employed a network engineer after I left in 2002, but retained a good tech who had great skill with RF but not enough time to really learn the ins and outs of routing.&lt;br /&gt;
The infrastructure was mostly stagnant for about 10 years, adding a new switch or a box to do some traffic shaping, but it was, in essence, a very large layer 2 network with one router at the border.&lt;br /&gt;
    The other ISP is a bleeding edge winner of the broadband project of the year award, heavily funded and very innovative in nature, offering 1GBps fiber to the home and unlimited access to all local resources that want to connect.  &lt;br /&gt;
    I was the senior network engineer for the ISP 10 years ago and was appointed lead network engineer for the fiber ISP project.  It&amp;rsquo;s interesting that both came to my circle of view at the same time, as I work on the fiber ISP in my &amp;ldquo;day job&amp;rdquo; and rebuild the WISP at night in my spare time as a consultant.&lt;/p&gt;

&lt;p&gt;A few take aways that I&amp;rsquo;ve [re-]discovered are:&lt;/p&gt;

&lt;p&gt;A pfsense box makes a fantastic router for a smaller operation.  It also makes a completely acceptable replacement for a Cisco for far less money.&lt;br /&gt;
Even spending half a million dollars with Cisco does &lt;strong&gt;not&lt;/strong&gt; entitle you to any features that may be available in the SUP2T hardware (and not yet in the software).  Lame, cisco, lame.&lt;br /&gt;
HP procurve makes very nice Layer2 boxes with lifetime warranties.&lt;br /&gt;
Cutting over an ISP live really is not a lot of fun.&lt;br /&gt;
Not having PI address space is &lt;strong&gt;very&lt;/strong&gt; inconvenient.&lt;br /&gt;
Traffic shaping, rate limiting or QoS are possibly my least favorite thing to do now.&lt;br /&gt;
End users don&amp;rsquo;t care about IPv6 (boo! hiss!)&lt;/p&gt;

&lt;p&gt;More to come, including:&lt;/p&gt;

&lt;p&gt;How the Cisco Sup2T doesn&amp;rsquo;t actually have software support for microflow policing yet&lt;br /&gt;
How to provision IPv6 RA through an Adtran TA5000&lt;br /&gt;
How to alias an overlay network on pfSense&lt;/p&gt;

&lt;p&gt;I guess I can sleep when I&amp;rsquo;m dead =)&lt;/p&gt;

&lt;p&gt;[[ This is a content summary only. Visit my website for full links, other content, and more! ]]&lt;/p&gt;
</description>
    </item>
    
    <item>
      <title>Data Centers.....</title>
      <link>https://forwardingplane.net/post/data-centers/</link>
      <pubDate>Tue, 22 May 2012 09:45:00 +0000</pubDate>
      
      <guid>https://forwardingplane.net/post/data-centers/</guid>
      <description>&lt;p&gt;Data centers are one of the hot things in networking tech right now.  Combine SDN, cloud, buzzword of the day, mix with data center and serve over ice.&lt;br /&gt;
I end up doing a lot with data centers for whatever reason.  &lt;a href=&#34;http://www.stanford.edu/~alizade/Site/DCTCP.html&#34;&gt;This&lt;/a&gt;, however, is something I found interesting.&lt;br /&gt;
&lt;em&gt;&amp;ldquo;DCTCP is an enhancement to the TCP congestion control algorithm for data center networks. It leverages Explicit Congestion Notification (ECN), a feature which is increasingly becoming available in modern data center switches. DCTCP sources extract multi-bit feedback on congestion from the single-bit stream of ECN marks by estimating the fraction of marked packets. In doing so, DCTCP sources react to the extent of congestion, not just the presence of congestion as in TCP.  This finer level of control allows DCTCP to operate with very low buffer occupancies while simultaneously achieving high throughput. &amp;ldquo;&lt;/em&gt;&lt;/p&gt;

&lt;p&gt;Check it out.  &lt;/p&gt;

&lt;p&gt;[[ This is a content summary only. Visit my website for full links, other content, and more! ]]&lt;/p&gt;
</description>
    </item>
    
    <item>
      <title>conditional route advertisement</title>
      <link>https://forwardingplane.net/post/conditional-route-advertisement/</link>
      <pubDate>Sun, 06 May 2012 02:42:00 +0000</pubDate>
      
      <guid>https://forwardingplane.net/post/conditional-route-advertisement/</guid>
      <description>&lt;p&gt;I&amp;rsquo;ve recently been tasked with bringing up a tertiary path into a multi-building research facility.&lt;/p&gt;
</description>
    </item>
    
    <item>
      <title>NSR and ISSU on Juniper MX series with logical routers.</title>
      <link>https://forwardingplane.net/post/nsr-and-issu-on-juniper-mx-series-with-logical-routers/</link>
      <pubDate>Fri, 27 Apr 2012 22:15:00 +0000</pubDate>
      
      <guid>https://forwardingplane.net/post/nsr-and-issu-on-juniper-mx-series-with-logical-routers/</guid>
      <description>&lt;p&gt;Lets just say, for instance, that you have an MX series router at somewhere on your network. Lets also say that said router is carved into more than just the main logical system. For the sake of this writing, lets say that your eBGP sessions are in the default logical system and your IGP is in the logical system, lets call it &amp;ldquo;internal&amp;rdquo;.&lt;br /&gt;
 JunOS has some wonderful mechanisms for keeping things running, one is called &lt;a href=&#34;http://www.juniper.net/techpubs/en_US/junos9.5/information-products/topic-collections/swconfig-high-availability/nsr-overview.html&#34;&gt;NSR&lt;/a&gt; (Non Stop Routing), the other is called ISSU (In Service Software Upgrade). Typically these are really, really useful for performing non-impacting RE fail overs and software upgrades. Heck, I&amp;rsquo;ve upgraded an MX960 in the middle of the day with no impact whatsoever. Thats right, I was that guy. It should be noted, that the MX960s in question didn&amp;rsquo;t have any logical systems configured, which brings us to why I jotted this down into this web page.&lt;/p&gt;

&lt;p&gt;Now, it&amp;rsquo;s no secret that I am a fan of Juniper gear, and &lt;a href=&#34;http://tech.buraglio.com/2010/12/junos-issu.html&#34;&gt;I&amp;rsquo;ve talked about this before&lt;/a&gt;. But frankly, our MX series that have logical systems need upgraded so infrequently, I actually forgot about this little tidbit.  For whatever reason, it really surprised me during the last upgrade I did even though it makes perfect sense and I knew about it already. What that time comes that you need to upgrade JunOS, you&amp;rsquo;ll have to keep one very important thing in mind:&lt;/p&gt;

&lt;p&gt;&lt;strong&gt;You can&amp;rsquo;t take advantage of NSR in any logical system that isn&amp;rsquo;t the default. &lt;/strong&gt;&lt;/p&gt;

&lt;p&gt;Additionally, You can&amp;rsquo;t choose the protocol or the logical system that NSR works on, it&amp;rsquo;s on for all protocols on the default logical system if you enable it.&lt;/p&gt;

&lt;p&gt;What does this actually mean?  Well, it means that if I do an ISSU (which you should still do even with logical systems), anything outside of my default logical system will re-converge.  If my eBGP sessions are outside, they&amp;rsquo;ll drop and have to re-establish.  This isn&amp;rsquo;t really that great of an idea if you peer with folks that keep dampen-happy.  Personally, I don;t like my BGP sessions to drop if they don&amp;rsquo;t need to.  I&amp;rsquo;d rather deal with an IGP adjacency change than a bunch of BGP sessions having to re-establish and churn through potentially a handful of full tables.&lt;/p&gt;

&lt;p&gt;How do we get around the interruption this causes?  Well, the way we&amp;rsquo;ve solved it is to have 2 MX480&amp;rsquo;s connected redundantly.  That way, even if ISSU is going to cause an interruption due to a peering or adjacency change, the alternate path still exists.  Why do we have this setup?  Well, ideally we&amp;rsquo;d have 4 MX480s and wouldn&amp;rsquo;t need the logical systems, but hey, they&amp;rsquo;re expensive.&lt;/p&gt;

&lt;p&gt;So, what it the take away from this episode of &amp;ldquo;as the packet turns&amp;rdquo;?&lt;/p&gt;

&lt;p&gt;If you must configure logical systems, know that NSR and ISSU doesn&amp;rsquo;t really work as you may think in the non default.  Plan for some interruption, adjacency changes and or BGP sessions to drop.&lt;/p&gt;

&lt;p&gt;Or buy more routers.&lt;/p&gt;

&lt;p&gt;[[ This is a content summary only. Visit my website for full links, other content, and more! ]]&lt;/p&gt;
</description>
    </item>
    
    <item>
      <title>Looking more deeply into iMessage</title>
      <link>https://forwardingplane.net/post/looking-more-deeply-into-imessage/</link>
      <pubDate>Sun, 06 Nov 2011 23:28:00 +0000</pubDate>
      
      <guid>https://forwardingplane.net/post/looking-more-deeply-into-imessage/</guid>
      <description>&lt;p&gt;I&amp;rsquo;ve been looking at iMessage from time to time as my schedule permits, for some reason that I can&amp;rsquo;t really explain I&amp;rsquo;m fixated on it.  So, just like I did with FaceTime, I started doing network sniffing to see just what it&amp;rsquo;s doing.  The results were not terribly unexpected.  &lt;/p&gt;

&lt;p&gt;   iPhone.buraglio.com.53140 &amp;gt; st11p01st-courier143-bz.push.apple.com.5223: Flags [R], cksum 0x5ec8 (correct), seq 4109691913, win 0, length 0&lt;br /&gt;
14:07:51.665485 IP (tos 0x20, ttl 49, id 11699, offset 0, flags [DF], proto TCP (6), length 64, bad cksum 0 (-&amp;gt;8fc7)!)&lt;br /&gt;
    st11p01st-courier143-bz.push.apple.com.5223 &amp;gt; iPhone.buraglio.com.53140: Flags [.], cksum 0xb792 (correct), seq 76, ack 475, win 192, options [nop,nop,TS val 154465503 ecr 230925781,nop,nop,sack 1 {474:475}], length 0&lt;br /&gt;
14:07:51.667170 IP (tos 0x20, ttl 64, id 22535, offset 0, flags [DF], proto TCP (6), length 40)&lt;br /&gt;
    iPhone.buraglio.com.53140 &amp;gt; st11p01st-courier143-bz.push.apple.com.5223: Flags [R], cksum 0x5ec8 (correct), seq 4109691913, win 0, length 0&lt;br /&gt;
14:07:51.677715 IP (tos 0x20, ttl 46, id 41627, offset 0, flags [none], proto TCP (6), length 52, bad cksum 0 (-&amp;gt;f541)!)&lt;/p&gt;

&lt;p&gt;However, it appears to me, in my initial looking, that the outgoing message is inconsistently using the cellular data network.  I can replicate this by sending a message via my iPhone to another iMessage user, and I never see any traffic from that host on my network.  However, if I get a response, it comes back in similar to the capture above.  It would make sense to me that the service would use wifi when available as opposed to the more expensive cellular data.&lt;/p&gt;

&lt;p&gt;If I have my iPad on, I see that traffic as well as it only has wifi.&lt;/p&gt;

&lt;p&gt;    iPhone.buraglio.com.52084 &amp;gt; st11p01st-courier094-bz.push.apple.com.5223: Flags [.], cksum 0x7f0b (correct), seq 160, ack 2436, win 8122, options [nop,nop,TS val 121427102 ecr 1305430889], length 0&lt;br /&gt;
    st11p01st-courier066-bz.push.apple.com.5223 &amp;gt; iPad.buraglio.com.57869: Flags [P.], cksum 0xbd1c (correct), seq 1327:2436, ack 160, win 501, options [nop,nop,TS val 3197914588 ecr 1393723712], length 1109&lt;/p&gt;

&lt;p&gt;So, nothing terribly conclusive so far in my small amount of testing, more data capture and variables to come.  &lt;/p&gt;

&lt;p&gt;[[ This is a content summary only. Visit my website for full links, other content, and more! ]]&lt;/p&gt;
</description>
    </item>
    
    <item>
      <title>A quick post about ARP Networks hosting.</title>
      <link>https://forwardingplane.net/post/a-quick-post-about-arp-networks-hosting/</link>
      <pubDate>Wed, 02 Nov 2011 00:25:00 +0000</pubDate>
      
      <guid>https://forwardingplane.net/post/a-quick-post-about-arp-networks-hosting/</guid>
      <description>&lt;p&gt;I&amp;rsquo;ve had a co-located server in one way or another for the last 11 years.  From hosting a bare metal box at the &lt;a href=&#34;http://www.soltec.net/&#34;&gt;ISP I worked for for a while&lt;/a&gt;, to sharing a bare metal box at a &lt;a href=&#34;http://www.google.com/url?sa=t&amp;amp;rct=j&amp;amp;q=layered%20tech&amp;amp;source=web&amp;amp;cd=1&amp;amp;ved=0CDQQFjAA&amp;amp;url=http%3A%2F%2Fwww.layeredtech.com%2F&amp;amp;ei=VTiwTuzyHPGDsgLIy_TCAQ&amp;amp;usg=AFQjCNGHUsG4YWgLSFwAwMC4E6zIIea5FQ&amp;amp;sig2=Xngd4LvUbIBFxPkV-cYvwA&#34;&gt;colo provider&lt;/a&gt; to switching to a &lt;a href=&#34;http://arpnetworks.com/&#34;&gt;VPS service&lt;/a&gt;, I&amp;rsquo;ve always had an &amp;ldquo;offsite box&amp;rdquo;.&lt;br /&gt;
I just wanted to post a quick &amp;ldquo;these guys are great&amp;rdquo; comment to my current VPS provider, ARP Networks.  Not only do they have native IPv6, they also don&amp;rsquo;t oversell their VPS hosts and have unparalleled customer service and reliability.  I&amp;rsquo;ve had bad, bad, bad hosting service and I&amp;rsquo;ve had mediocre hosting service, and without question, I&amp;rsquo;m the happiest with ARP Networks.&lt;br /&gt;
If you&amp;rsquo;re in the market for a VPS, check them out.  Great pricing, fantastic customer service and a solid, reliable product make them the cream of the crop in this guys&amp;rsquo;s opinion.&lt;/p&gt;

&lt;p&gt;As a data point, I get no benefit from evangelizing their service, I just think it&amp;rsquo;s that good.&lt;/p&gt;

&lt;p&gt;[[ This is a content summary only. Visit my website for full links, other content, and more! ]]&lt;/p&gt;
</description>
    </item>
    
    <item>
      <title>A security oversight in Mail.app, or, a hidden bcc: field</title>
      <link>https://forwardingplane.net/post/a-security-oversight-in-mail-app-or-a-hidden-bcc-field/</link>
      <pubDate>Sat, 22 Oct 2011 08:40:00 +0000</pubDate>
      
      <guid>https://forwardingplane.net/post/a-security-oversight-in-mail-app-or-a-hidden-bcc-field/</guid>
      <description>&lt;p&gt;Recently I was poking around Mail.app, setting up my new machine. I like to keep redundant copies of everything, email being no exception. I have backups of all of my email dating back to 1998, for the most part. It has come in handy from time to time and I like it for reference reasons. It&amp;rsquo;s a small amount of actual data as far as space goes, and it&amp;rsquo;s easy to do. I remembered the days of using mutt for email (which really weren&amp;rsquo;t that long ago for me), and really liked the idea of setting a bcc of a separate address, not necessarily myself, but an email address inside of my administrative control, for CYA types of archiving. Upon looking, I saw no way to do this within the default apple Mail.app.&lt;/p&gt;

&lt;p&gt;Doing a bit of google searching, I found that this is pretty easily doable with a default write command. OK, awesome. This is good news. So I applied it:&lt;br /&gt;
(Open Terminal)&lt;br /&gt;
&lt;em&gt;defaults write com.apple.mail UserHeaders &amp;lsquo;{&amp;ldquo;Bcc&amp;rdquo; = &amp;ldquo;archive-address@domain.com&amp;rdquo;; }&amp;lsquo; &lt;/em&gt;&lt;/p&gt;

&lt;p&gt;Done. Great. So, lets test it. Send email and check bcc&amp;rsquo;d address.  Email is there.  Strange, however, the bcc field doesn&amp;rsquo;t show up, or show anything at all.  That&amp;rsquo;s right, there is absolutely no indication that this email is being bcc&amp;rsquo;d to another address.&lt;br /&gt;
This isn&amp;rsquo;t really a problem for me, since I know that I set it up.  What it does mean, though, is that this could be applied to an unsuspecting user account, with absolutely &lt;strong&gt;no authentication necessary,&lt;/strong&gt; and have every outgoing message silently sent to a harvesting account.  There is no easy way to check for this that I have found save for using terminal:&lt;/p&gt;

&lt;p&gt;&lt;em&gt;[buraglio@dalek:~ ] defaults read com.apple.mail UserHeaders                                   &lt;/em&gt;&lt;br /&gt;
&lt;em&gt;{&lt;/em&gt;&lt;br /&gt;
&lt;em&gt;    Bcc = &amp;ldquo;archive-address@domain.com&amp;rdquo;;&lt;/em&gt;&lt;br /&gt;
&lt;em&gt;}&lt;/em&gt;&lt;/p&gt;

&lt;p&gt;OK, at least there is a way to tell.  Using the command &lt;em&gt;defaults read com.apple.mail UserHeaders&lt;/em&gt; from terminal will show the info, but the fact that it&amp;rsquo;s doable in such an obtuse way with no indication that mail is being bcc&amp;rsquo;d is a bit scary.&lt;br /&gt;
There is a preference pane that allows for tweaking of some of these &amp;ldquo;features&amp;rdquo;, it&amp;rsquo;s open source available &lt;a href=&#34;http://secrets.blacktree.com/&#34;&gt;here&lt;/a&gt;, called BlackTree Secrets.&lt;/p&gt;

&lt;p&gt;[[ This is a content summary only. Visit my website for full links, other content, and more! ]]&lt;/p&gt;
</description>
    </item>
    
    <item>
      <title>iMessage: I&#39;ve been left wanting</title>
      <link>https://forwardingplane.net/post/imessage-ive-been-left-wanting/</link>
      <pubDate>Sat, 15 Oct 2011 20:37:00 +0000</pubDate>
      
      <guid>https://forwardingplane.net/post/imessage-ive-been-left-wanting/</guid>
      <description>&lt;p&gt;I had very high hopes for iMessage. With the release of iOS 5, one of the big new features was iMessage, the ability to do Blackberry messenger style messaging on an iOS device. I had really hoped that this would be something like &lt;a href=&#34;https://github.com/treason/WifiSMS&#34;&gt;wifisms&lt;/a&gt; or the &lt;a href=&#34;http://lifehacker.com/5827451/desksms-is-the-best-phone+to+desktop-sms-solution-weve-seen-yet&#34;&gt;DeskSMS&lt;/a&gt; app for Android. At the very least I was hoping for iChat integration with iMessage.&lt;/p&gt;

&lt;p&gt;This didn&amp;rsquo;t happen.&lt;/p&gt;

&lt;p&gt;Don&amp;rsquo;t get me wrong, iMessage is still really cool. I can see most of my contacts that have an iPhone or iOS 5 device on my iPad. Unfortunately, there are some significant limitations.&lt;/p&gt;

&lt;p&gt;I have to have the Apple ID of anyone that I want to be able to iMessage from my iPad. This can be problematic for a few reasons. Some folks use a role account for stuff like this, like a specific email address that is only used for that service. They may not want to share this address, or, more likely, I&amp;rsquo;ll add it as a contact and accidentally email this address at some point, which could result in delays or never getting a reply depending on how often this address is checked.&lt;/p&gt;

&lt;p&gt;The authorization process of adding new addresses to iMesssage seems to be clunky and, in some cases, doesn&amp;rsquo;t work. I was also a bit put off by having (although not absolutely necessary) to add another email address in a username@me.com address. As an aside, I was happy to note that the ability to blanket forward all @me.com email to an existing email address. Very nice option, thanks Apple.&lt;/p&gt;

&lt;p&gt;iMessage doesn&amp;rsquo;t integrate contacts. If I iMessage from my phone using the 10 digit number, then message the apple ID, iMessage isn&amp;rsquo;t smart enough to integrate these together as a common contact. Instead, it shows them as separate threads.&lt;/p&gt;

&lt;p&gt;&lt;a href=&#34;http://www.flickr.com/photos/buraglio/6246727996/&#34; title=&#34;3299B94A-63AA-4901-897C-AB6A661F89A3 by buraglio, on Flickr&#34;&gt;&lt;img src=&#34;http://farm7.static.flickr.com/6211/6246727996_9c2bc88cd1.jpg&#34; alt=&#34;3299B94A-63AA-4901-897C-AB6A661F89A3&#34; /&gt;&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;I was also &lt;strong&gt;really&lt;/strong&gt; hoping for decent iMessage logging, available via iCloud, never mentioned but it was a pie-in-the-sky desire of mine for this new feature.&lt;/p&gt;

&lt;p&gt;Overall, I&amp;rsquo;m pretty disappointed with iMessage. However, I&amp;rsquo;m cautiously optimistic that some of these limitations will be addressed soonish.&lt;/p&gt;

&lt;p&gt;Another thing that would be nice to know, since this is being positioned as a &amp;ldquo;blackberry messenger replacement&amp;rdquo; is, what is the security policy on chat logs? I&amp;rsquo;m sure this is in the EULA somewhere, but I have yet to read it all. Does anyone have any condensed version? Maybe Im a bit naive, but my impression of BB messenger, and RIM services in general, seem to be pretty &amp;ldquo;on the side of the people&amp;rdquo;.&lt;/p&gt;

&lt;p&gt;&lt;a href=&#34;http://gigaom.com/apple/ios-5-imessage/&#34;&gt;Here&lt;/a&gt; is a decent write-up of the features and limitations of iMessage.&lt;/p&gt;

&lt;p&gt;Cross posted to &lt;a href=&#34;http://www.nickburaglio.com/&#34;&gt;nickburaglio.com&lt;/a&gt; and &lt;a href=&#34;http://tech.buraglio.com/&#34;&gt;tech.buraglio.com&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;[[ This is a content summary only. Visit my website for full links, other content, and more! ]]&lt;/p&gt;
</description>
    </item>
    
    <item>
      <title>ftps (secure ftp) from the command line</title>
      <link>https://forwardingplane.net/post/ftps-secure-ftp-from-the-command-line/</link>
      <pubDate>Tue, 04 Oct 2011 04:31:00 +0000</pubDate>
      
      <guid>https://forwardingplane.net/post/ftps-secure-ftp-from-the-command-line/</guid>
      <description>&lt;p&gt;I have recently enabled &lt;a href=&#34;http://www.duosecurity.com/&#34;&gt;Duo Security&lt;/a&gt; for many of my personal services, and I can&amp;rsquo;t recommend them enough. Personal &lt;a href=&#34;http://en.wikipedia.org/wiki/Two-factor_authentication&#34;&gt;two factor authentication&lt;/a&gt; is very useful and really powerful. It works on my iPhone and I have yet to run into any real issues&amp;hellip;.except for one. I can&amp;rsquo;t use automation to scp or sftp anything anymore and keep my two factor auth working in a way I&amp;rsquo;m comfortable with.&lt;/p&gt;

&lt;p&gt;Enter &lt;a href=&#34;http://en.wikipedia.org/wiki/Ftps&#34;&gt;ftps&lt;/a&gt;. FTP is a terrible, yet immensely useful protocol. I chose to use &lt;a href=&#34;https://security.appspot.com/vsftpd.html&#34;&gt;vsftp&lt;/a&gt; under debian Linux with Implicit TLS/SSL, meaning there is no negotiation of protocol as with explicit ftps (or ftpes). It&amp;rsquo;s secure, or none.&lt;/p&gt;

&lt;p&gt;Configuring this is pretty easy, but it does require some editing of the /etc/vsftpd.conf file. I added some stuff to make it do ftpes as such:&lt;/p&gt;

&lt;p&gt;_ssl_enable=YES&lt;br /&gt;
allow_anon_ssl=NO&lt;br /&gt;
force_local_data_ssl=YES&lt;br /&gt;
force_local_logins_ssl=YES&lt;br /&gt;
rsa_cert_file=/etc/ssl/certs/vsftpd.pem&lt;br /&gt;
_&lt;/p&gt;

&lt;p&gt;This and a few other tweaks that aren&amp;rsquo;t relevant here, make ftpes work on my machine.&lt;/p&gt;

&lt;p&gt;Now, clients are another story. Most of the modern GUI based clients work. I know &lt;a href=&#34;http://filezilla-project.org/&#34;&gt;filezilla&lt;/a&gt; works, and it&amp;rsquo;s free. The problem I have, is that I need to do this programmatically, via a script.&lt;/p&gt;

&lt;p&gt;A bit of digging didn&amp;rsquo;t yield much, however, I did come across &lt;a href=&#34;http://lftp.yar.ru/&#34;&gt;lftp&lt;/a&gt;. lftp is an extremely powerful command line ftp client that has a LOT of features, one of which is ftpes support. Now, the one problem with lftp is that it is extremely full featured. Like, overly featured. So much so, that it can be a bit daunting to make it do what you want, which in my case was pretty simple.&lt;/p&gt;

&lt;p&gt;I wrote a simple script to make it do what I wanted, which was just to upload a file and move it around.&lt;/p&gt;

&lt;p&gt;_&lt;br /&gt;
#!/bin/sh&lt;br /&gt;
_&lt;em&gt;/usr/bin/lftp -u user,password remote.host.com&lt;/em&gt;&lt;/p&gt;

&lt;p&gt;_&amp;lt;__&lt;/p&gt;

&lt;p&gt;cd data&lt;/p&gt;

&lt;p&gt;lcd /mnt/NAS/files/updates&lt;/p&gt;

&lt;p&gt;put updates.txt&lt;/p&gt;

&lt;p&gt;mv updates.txt data.txt&lt;/p&gt;

&lt;p&gt;quit 0&lt;/p&gt;

&lt;p&gt;EOF&lt;/p&gt;

&lt;p&gt;_&lt;/p&gt;

&lt;p&gt;This works fine, and since I&amp;rsquo;m using ftpes, it does all of the negotiation for me.&lt;/p&gt;

&lt;p&gt;[[ This is a content summary only. Visit my website for full links, other content, and more! ]]&lt;/p&gt;
</description>
    </item>
    
    <item>
      <title>Black Hole routing</title>
      <link>https://forwardingplane.net/post/black-hole-routing/</link>
      <pubDate>Tue, 04 Oct 2011 01:00:00 +0000</pubDate>
      
      <guid>https://forwardingplane.net/post/black-hole-routing/</guid>
      <description>&lt;p&gt;It&amp;rsquo;s no secret or ground breaking area to do black hole routing.&lt;/p&gt;

&lt;p&gt;ISPs and NSPs have been doing it forever to allow for a very low cost, very scriptable and very effective way to wholesale block a layer3 address. However, it can seem like a bit of a black box to anyone who has never done it.&lt;/p&gt;

&lt;p&gt;I recently did some work spinning this up in a good sized network that it didn&amp;rsquo;t currently exist, and remembered how monumentally useful (and simple) it actually is.&lt;/p&gt;

&lt;p&gt;There are lots of ways to do this. There are a lot of different &lt;a href=&#34;http://packetlife.net/blog/2009/jul/6/remotely-triggered-black-hole-rtbh-routing/&#34;&gt;articles&lt;/a&gt; written about how to do it. Cisco includes it in their CCIE Security track.&lt;/p&gt;

&lt;p&gt;The idea is a pretty simple one. Run &lt;a href=&#34;http://en.wikipedia.org/wiki/Reverse_path_forwarding#Unicast_RPF_.28uRPF.29&#34;&gt;uRPF&lt;/a&gt; on your eBGP speakers. Create a peering with a router on the inside. For my purposes I used a private ASN and peered it with eBGP to my border devices. Create a static route to null0 on the BHR (Black Hole Router), which then sends the route (possibly tagged with a community) to the eBGP speakers. They see an internal route for this external host, so any packets that come from that host on the outside get dropped on the floor by uRPF. In theory it&amp;rsquo;s all handled in hardware so the overhead is minimal and the blocks are as fast as a BGP route advertisement/withdrawal.&lt;/p&gt;

&lt;p&gt;There are, of course, lots of caveats to this, like, what if you are taking default on your eBGP speakers? How is that handled. One of the places I recently set this up takes default, one takes full tables. I suggest reading &lt;a href=&#34;http://www.cisco.com/web/about/security/intelligence/unicast-rpf.html&#34;&gt;this page&lt;/a&gt; if you aren&amp;rsquo;t experienced with uRPF, it explains how cissco handles it and is a decent primer on uRPF in general.&lt;/p&gt;

&lt;p&gt;I&amp;rsquo;m a simple guy and I like things to be easy to support, so my designs tend to be those that can easily be maintained by someone that !=me and not so overly complicated that they can be reverse engineered in case of emergency or replicated if need be.&lt;/p&gt;

&lt;p&gt;That said, I&amp;rsquo;ve chosen to do it in a pocketbook friendly way. It probably stems from cutting my teeth at a decent sized mom and pop ISP that had a very small operating budget so we did things in creative and cost savings ways while still keeping them simple and supportable. I&amp;rsquo;m not sure why, but it makes more sense to me to run a software router like &lt;a href=&#34;http://www.blogger.com/www.quagga.net&#34;&gt;Quagga&lt;/a&gt; or &lt;a href=&#34;http://www.openbgpd.org/&#34;&gt;OpenBGPd&lt;/a&gt; that I can run as a VM and connect to my IGP and EGP, scripting the adds and removal of the routes we want to blackhole. It can also be done with an actual router, but I personally prefer to drop it in as a software router.&lt;/p&gt;

&lt;p&gt;The use of a linux box allows for a bunch of neat options. You can use the iproute2 package to watch changes to the routing table, you can run it in a virtual machine, it can be done in a very economical way, etc.&lt;/p&gt;

&lt;p&gt;Using Quagga has its pros and its cons. Quagga is a great platform, but it is an open source project. Their ISISd support is a bit lacking, so if your IGP is ISIS, it will work, but it feels half baked to me (and there is zero documentation that I could find). The ospf[v2 and v3] versions work fine. BGPd works well enough. It can be put into RANCID for configuration management and it is easily scriptable using vtysh and its IOS-like interface.&lt;/p&gt;

&lt;p&gt;Here is a basic design for a black hole router running inside a network with an external peering with something like a bogon route server:&lt;/p&gt;

&lt;p&gt;&lt;a href=&#34;http://4.bp.blogspot.com/-5lZmt2zsQ3Y/T3oMBMHyysI/AAAAAAABIS4/T5lzIgb0I2I/s1600/BHR+Example.jpg&#34;&gt;&lt;img src=&#34;http://4.bp.blogspot.com/-5lZmt2zsQ3Y/T3oMBMHyysI/AAAAAAABIS4/T5lzIgb0I2I/s320/BHR+Example.jpg&#34; alt=&#34;&#34; /&gt;&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;This just shows a basic setup, one site border router and a black hole box. In this example, the BHR is also peered with an external &amp;ldquo;service&amp;rdquo; like a bogon route server. This is a value-add, and not required.&lt;/p&gt;

&lt;p&gt;Any traffic that comes in can be routed to null0 on the bhr. This, in turn, sends a routes to the SBR. The SBR then installs it as an internal route. Now, any traffic that comes in from this route outside will looked like spoofed traffic and uRPF will discard it.&lt;/p&gt;

&lt;p&gt;Very simple, very effective.&lt;/p&gt;

&lt;p&gt;[[ This is a content summary only. Visit my website for full links, other content, and more! ]]&lt;/p&gt;
</description>
    </item>
    
    <item>
      <title>GoogleCL, command line based google blogger, picasa, calendar and much, much more.</title>
      <link>https://forwardingplane.net/post/googlecl-command-line-based-google-blogger-picasa-calendar-and-much-much-more/</link>
      <pubDate>Wed, 07 Sep 2011 03:42:00 +0000</pubDate>
      
      <guid>https://forwardingplane.net/post/googlecl-command-line-based-google-blogger-picasa-calendar-and-much-much-more/</guid>
      <description>&lt;p&gt;Google has introduced a very powerful set of python based command line (CLI) tools called &lt;a href=&#34;http://code.google.com/p/googlecl/&#34;&gt;GoogleCL&lt;/a&gt;. This post was made using GoogleCL from my Mac. I highly recommend checking it out if you like to automate or script stuff.&lt;/p&gt;

&lt;p&gt;[[ This is a content summary only. Visit my website for full links, other content, and more! ]]&lt;/p&gt;
</description>
    </item>
    
    <item>
      <title>Switching from MacPorts to Homebrew</title>
      <link>https://forwardingplane.net/post/switching-from-macports-to-homebrew/</link>
      <pubDate>Sat, 06 Aug 2011 17:22:00 +0000</pubDate>
      
      <guid>https://forwardingplane.net/post/switching-from-macports-to-homebrew/</guid>
      <description>&lt;p&gt;I&amp;rsquo;ve recently decided that even though I love the BSD style &lt;a href=&#34;http://www.macports.org&#34;&gt;MacPorts&lt;/a&gt; system, it can be too clunky to maintain and doesn&amp;rsquo;t handle dependancies as well as I&amp;rsquo;d like (much like the actual BSD ports collection). So, in doing a little looking I found that &lt;a href=&#34;http://www.finkproject.org/&#34;&gt;Fink&lt;/a&gt; is still out of date, but &lt;a href=&#34;http://mxcl.github.com/homebrew/&#34;&gt;Homebrew&lt;/a&gt; is very simple and also really elegant comparatively speaking.&lt;/p&gt;

&lt;p&gt;Since homebrew doesn&amp;rsquo;t wrk well with other packge systems installed, and I already&lt;/p&gt;

&lt;p&gt;I&amp;rsquo;d like to know what I had installed since this system has been in use for 2+ years, so I do a list and send it to a txt file:&lt;/p&gt;

&lt;p&gt;&lt;em&gt;touch ~/Documents/installed.macports.txt&lt;/em&gt;&lt;/p&gt;

&lt;p&gt;&lt;em&gt;sudo port list installed &amp;gt; Documents/installed.macports.txt&lt;/em&gt;&lt;/p&gt;

&lt;p&gt;&lt;em&gt;sudo cat .macports/history &amp;gt;&amp;gt; ~/Documents/installed.macports.txt&lt;/em&gt;&lt;/p&gt;

&lt;p&gt;Then I remove the installed packages:&lt;/p&gt;

&lt;p&gt;&lt;em&gt;sudo port -f uninstall installed&lt;/em&gt;&lt;/p&gt;

&lt;p&gt;Per the instructions found on the &lt;a href=&#34;http://guide.macports.org/chunked/installing.macports.uninstalling.html&#34;&gt;MacPorts page&lt;/a&gt;, remove all of the directories as such:&lt;/p&gt;

&lt;p&gt;_sudo rm -rf \_&lt;/p&gt;

&lt;p&gt;_/opt/local \_&lt;/p&gt;

&lt;p&gt;_/Applications/DarwinPorts \_&lt;/p&gt;

&lt;p&gt;_/Applications/MacPorts \_&lt;/p&gt;

&lt;p&gt;_/Library/LaunchDaemons/org.macports.* \_&lt;/p&gt;

&lt;p&gt;_/Library/Receipts/DarwinPorts*.pkg \_&lt;/p&gt;

&lt;p&gt;_/Library/Receipts/MacPorts*.pkg \_&lt;/p&gt;

&lt;p&gt;_/Library/StartupItems/DarwinPortsStartup \_&lt;/p&gt;

&lt;p&gt;_/Library/Tcl/darwinports1.0 \_&lt;/p&gt;

&lt;p&gt;_/Library/Tcl/macports1.0 \_&lt;/p&gt;

&lt;p&gt;&lt;em&gt;~/.macports&lt;/em&gt;&lt;/p&gt;

&lt;p&gt;If this is an upgraded machine (say, from 10.6 to 10.7), you&amp;rsquo;ll need to also reinstall the Xcode Developer Tools via the app store before installing homebrew.&lt;/p&gt;

&lt;p&gt;After waiting forever to get XCode downloaded, and since it&amp;rsquo;s been installed via the App Store under Lion (10.7), I need to run the “Install Xcode” app that is placed in /Applications.&lt;/p&gt;

&lt;p&gt;Now I can &lt;a href=&#34;https://github.com/mxcl/homebrew/wiki/Installation&#34;&gt;Install homebrew&lt;/a&gt; via the handy cli command:&lt;/p&gt;

&lt;p&gt;&lt;em&gt;sudo /usr/bin/ruby -e &amp;ldquo;$(curl -fsSL &lt;a href=&#34;https://raw.github.com/gist/323731)&amp;quot;&#34;&gt;https://raw.github.com/gist/323731)&amp;quot;&lt;/a&gt;&lt;/em&gt;&lt;/p&gt;

&lt;p&gt;You&amp;rsquo;ll then see something like this:&lt;/p&gt;

&lt;p&gt;&lt;em&gt;\==&amp;gt; This script will install:&lt;/em&gt;&lt;/p&gt;

&lt;p&gt;&lt;em&gt;/usr/local/bin/brew&lt;/em&gt;&lt;/p&gt;

&lt;p&gt;&lt;em&gt;/usr/local/Library/Formula/&amp;hellip;&lt;/em&gt;&lt;/p&gt;

&lt;p&gt;&lt;em&gt;/usr/local/Library/Homebrew/&amp;hellip;&lt;/em&gt;&lt;/p&gt;

&lt;p&gt;&lt;em&gt;\==&amp;gt; The following directories will be made group writable:&lt;/em&gt;&lt;/p&gt;

&lt;p&gt;&lt;em&gt;/usr/local/share/man&lt;/em&gt;&lt;/p&gt;

&lt;p&gt;&lt;em&gt;/usr/local/lib/pkgconfig&lt;/em&gt;&lt;/p&gt;

&lt;p&gt;&lt;em&gt;/usr/local/share/man/man8&lt;/em&gt;&lt;/p&gt;

&lt;p&gt;&lt;em&gt;/usr/local/share/doc&lt;/em&gt;&lt;/p&gt;

&lt;p&gt;&lt;em&gt;/usr/local/bin&lt;/em&gt;&lt;/p&gt;

&lt;p&gt;&lt;em&gt;/usr/local/include&lt;/em&gt;&lt;/p&gt;

&lt;p&gt;&lt;em&gt;/usr/local/lib&lt;/em&gt;&lt;/p&gt;

&lt;p&gt;&lt;em&gt;/usr/local/share&lt;/em&gt;&lt;/p&gt;

&lt;p&gt;&lt;em&gt;\==&amp;gt; The following directories will have their group set to staff:&lt;/em&gt;&lt;/p&gt;

&lt;p&gt;&lt;em&gt;/usr/local/share/man&lt;/em&gt;&lt;/p&gt;

&lt;p&gt;&lt;em&gt;/usr/local/lib/pkgconfig&lt;/em&gt;&lt;/p&gt;

&lt;p&gt;&lt;em&gt;/usr/local/share/man/man8&lt;/em&gt;&lt;/p&gt;

&lt;p&gt;&lt;em&gt;/usr/local/share/doc&lt;/em&gt;&lt;/p&gt;

&lt;p&gt;&lt;em&gt;/usr/local/bin&lt;/em&gt;&lt;/p&gt;

&lt;p&gt;&lt;em&gt;/usr/local/include&lt;/em&gt;&lt;/p&gt;

&lt;p&gt;&lt;em&gt;/usr/local/lib&lt;/em&gt;&lt;/p&gt;

&lt;p&gt;&lt;em&gt;/usr/local/share&lt;/em&gt;&lt;/p&gt;

&lt;p&gt;&lt;em&gt;Press enter to continue&lt;/em&gt;&lt;/p&gt;

&lt;p&gt;If you want to continue, hit enter.  In my case, I saw this:&lt;/p&gt;

&lt;p&gt;\==&amp;gt; /usr/bin/sudo /bin/chmod o+w /usr/local&lt;/p&gt;

&lt;p&gt;\==&amp;gt; /usr/bin/sudo /bin/chmod g+w /usr/local/share/man /usr/local/lib/pkgconfig /usr/local/share/man/man8 /usr/local/share/doc /usr/local/bin /usr/local/include /usr/local/lib /usr/local/share&lt;/p&gt;

&lt;p&gt;\==&amp;gt; /usr/bin/sudo /usr/bin/chgrp staff /usr/local/share/man /usr/local/lib/pkgconfig /usr/local/share/man/man8 /usr/local/share/doc /usr/local/bin /usr/local/include /usr/local/lib /usr/local/share&lt;/p&gt;

&lt;p&gt;\==&amp;gt; Downloading and Installing Homebrew&amp;hellip;&lt;/p&gt;

&lt;p&gt;\==&amp;gt; /usr/bin/sudo /bin/chmod o-w /usr/local&lt;/p&gt;

&lt;p&gt;Warning: Now install Xcode: &lt;a href=&#34;http://developer.apple.com/technologies/xcode.html&#34;&gt;http://developer.apple.com/technologies/xcode.html&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;Warning: The following *evil* dylibs exist in /usr/local/lib&lt;/p&gt;

&lt;p&gt;They may break builds or worse. You should consider deleting them:&lt;/p&gt;

&lt;p&gt;/usr/local/lib/libfuse.2.dylib&lt;/p&gt;

&lt;p&gt;/usr/local/lib/libfuse_ino64.2.dylib&lt;/p&gt;

&lt;p&gt;\==&amp;gt; Installation successful!&lt;/p&gt;

&lt;p&gt;Now type: brew help&lt;/p&gt;

&lt;p&gt;I chose to leave those libraries and deal with the fallout as I saw it.&lt;/p&gt;

&lt;p&gt;Now I need to install the base repository manager that brew uses:&lt;/p&gt;

&lt;p&gt;&lt;em&gt;sudo brew install git&lt;/em&gt;&lt;/p&gt;

&lt;p&gt;Then I can update the brew repository:&lt;/p&gt;

&lt;p&gt;&lt;em&gt;sudo brew update&lt;/em&gt;&lt;/p&gt;

&lt;p&gt;That&amp;rsquo;s basically it. Now I can install apps via HomeBrew using the simple command:&lt;/p&gt;

&lt;p&gt;&lt;em&gt;sudo brew install&lt;/em&gt;&lt;/p&gt;

&lt;p&gt;I chose to install nmap as a test:&lt;/p&gt;

&lt;p&gt;&lt;em&gt;sudo brew install nmap&lt;/em&gt;&lt;/p&gt;

&lt;p&gt;You&amp;rsquo;re done. Enjoy your HomeBrew =)&lt;/p&gt;

&lt;p&gt;[[ This is a content summary only. Visit my website for full links, other content, and more! ]]&lt;/p&gt;
</description>
    </item>
    
    <item>
      <title>MacOS 10.7 and IPv6 privacy addressing</title>
      <link>https://forwardingplane.net/post/macos-10-7-and-ipv6-privacy-addressing/</link>
      <pubDate>Sun, 31 Jul 2011 02:40:00 +0000</pubDate>
      
      <guid>https://forwardingplane.net/post/macos-10-7-and-ipv6-privacy-addressing/</guid>
      <description>&lt;p&gt;I&amp;rsquo;m not a fan of IPv6 privacy addressing. I understand the logic behind it, I really doo, obfuscate the LLADDR (MAC address) of the host in question, but I really dont&amp;rsquo;t see the realistic purpose. If someone wanted to use my mac address, what good would that really get them, unless they&amp;rsquo;re on the same layer 2 segment? More importantly, if they;re on the same layer 2 segment, they have my MAC address anyway.&lt;br /&gt;
Privacy addresses cause more heartburn than they cure. How do I track someone who has a rotating address? Am I scraping the neighbor table of my network equipment often enough to have reasonable accountability? Probably, but what if I&amp;rsquo;m not? I could go on and on about how I think &lt;a href=&#34;http://www.ietf.org/rfc/rfc4941.txt&#34;&gt;RFC4941&lt;/a&gt; addresses aren&amp;rsquo;t that useful, but instead I&amp;rsquo;ll just write down how to disable them (I&amp;rsquo;ve always been known as more of a machete than a scalpel anyway =).&lt;/p&gt;

&lt;p&gt;With MacOS 10.7 (Lion) it&amp;rsquo;s now on by default. To disable it, you need to open a terminal and type:&lt;/p&gt;

&lt;p&gt;_sudo sysctl -w net.inet6.ip6.use_tempaddr=0&lt;br /&gt;
_&lt;br /&gt;
Poof! There you go. &lt;a href=&#34;http://tech.buraglio.com/2011/07/osx-107-lion-dhcpv6-client-working-with.html&#34;&gt;You should be using DHCPv6 anyway&lt;/a&gt; =) [](&lt;a href=&#34;http://events.internet2.edu/2011/jt-uaf/agenda.cfm?go=session&amp;amp;id=10001852&amp;amp;event=1151&#34;&gt;http://events.internet2.edu/2011/jt-uaf/agenda.cfm?go=session&amp;amp;id=10001852&amp;amp;event=1151&lt;/a&gt;) &lt;a href=&#34;http://events.internet2.edu/2011/jt-uaf/agenda.cfm?go=session&amp;amp;id=10001852&amp;amp;event=1151&#34;&gt;&lt;strong&gt;*cue vendors getting off their rear ends and implementing dhcpv6 relay*&lt;/strong&gt;&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;&lt;strong&gt;-&amp;ndash;edit&amp;mdash;&lt;/strong&gt;&lt;/p&gt;

&lt;p&gt;&lt;strong&gt;A good point made by Charley Kline, to make this persist across reboots a line needs to be added to your /etc/sysctl.conf.&lt;/strong&gt;&lt;/p&gt;

&lt;p&gt;&lt;strong&gt;To accomplish this, edit /etc/sysctl.conf&lt;/strong&gt;&lt;/p&gt;

&lt;p&gt;&lt;em&gt;&lt;strong&gt;sudo vi /etc/sysctl.conf&lt;/strong&gt;&lt;/em&gt;&lt;/p&gt;

&lt;p&gt;&lt;strong&gt;Add the following line:&lt;/strong&gt;&lt;/p&gt;

&lt;p&gt;&lt;em&gt;&lt;strong&gt;net.inet6.ip6.use_tempaddr=0&lt;/strong&gt;&lt;/em&gt;&lt;/p&gt;

&lt;p&gt;&lt;strong&gt;--edit&amp;ndash;&lt;/strong&gt;&lt;/p&gt;

&lt;p&gt;For all you windows users:&lt;/p&gt;

&lt;p&gt;XP:&lt;/p&gt;

&lt;p&gt;&lt;em&gt;netsh interface ipv6 set privacy state=disabled store=persistent&lt;br /&gt;
netsh interface ipv6 set privacy state=disabled&lt;/em&gt;&lt;/p&gt;

&lt;p&gt;Vista:&lt;/p&gt;

&lt;p&gt;&lt;em&gt;netsh interface ipv6 set global randomizeidentifiers=disabled&lt;br /&gt;
netsh interface ipv6 set global randomizeidentifiers=disabled store=persistent&lt;br /&gt;
netsh interface ipv6 set privacy disabled&lt;/em&gt;&lt;/p&gt;

&lt;p&gt;I assume Windows 7 is similar to Vista, but I have not tested.&lt;/p&gt;

&lt;p&gt;[[ This is a content summary only. Visit my website for full links, other content, and more! ]]&lt;/p&gt;
</description>
    </item>
    
    <item>
      <title>OSX (10.7; Lion) DHCPv6 client working with pfsense server.</title>
      <link>https://forwardingplane.net/post/osx-10-7-lion-dhcpv6-client-working-with-pfsense-server/</link>
      <pubDate>Tue, 26 Jul 2011 18:20:00 +0000</pubDate>
      
      <guid>https://forwardingplane.net/post/osx-10-7-lion-dhcpv6-client-working-with-pfsense-server/</guid>
      <description>&lt;p&gt;It looks like MacOS 10.7 (Lion) has fully functioning DHCPv6. It&amp;rsquo;s about time.&lt;/p&gt;

&lt;p&gt;Before:&lt;/p&gt;

&lt;p&gt;&lt;a href=&#34;http://1.bp.blogspot.com/-6FQwzCiawpg/TjDWmwrbONI/AAAAAAAAAEI/9mOtP9fMbqE/s1600/Screen%2BShot%2B2011-07-25%2Bat%2B8.45.24%2BPM.png&#34;&gt;&lt;img src=&#34;http://1.bp.blogspot.com/-6FQwzCiawpg/TjDWmwrbONI/AAAAAAAAAEI/9mOtP9fMbqE/s400/Screen%2BShot%2B2011-07-25%2Bat%2B8.45.24%2BPM.png&#34; alt=&#34;&#34; /&gt;&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;After:&lt;/p&gt;

&lt;p&gt;&lt;a href=&#34;http://4.bp.blogspot.com/-stFnUb3g1zI/TjDW1MDpOyI/AAAAAAAAAEY/YgG7fXCfujY/s1600/Screen%2BShot%2B2011-07-26%2Bat%2B7.18.45%2BAM.png&#34;&gt;&lt;img src=&#34;http://4.bp.blogspot.com/-stFnUb3g1zI/TjDW1MDpOyI/AAAAAAAAAEY/YgG7fXCfujY/s400/Screen%2BShot%2B2011-07-26%2Bat%2B7.18.45%2BAM.png&#34; alt=&#34;&#34; /&gt;&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;pfSense setup:&lt;/p&gt;

&lt;p&gt;&lt;a href=&#34;http://2.bp.blogspot.com/-gSN5Rx7vIUU/TjDW0t1BcEI/AAAAAAAAAEQ/1hQNIlCJl30/s1600/Screen%2BShot%2B2011-07-26%2Bat%2B7.16.50%2BAM.png&#34;&gt;&lt;img src=&#34;http://2.bp.blogspot.com/-gSN5Rx7vIUU/TjDW0t1BcEI/AAAAAAAAAEQ/1hQNIlCJl30/s400/Screen%2BShot%2B2011-07-26%2Bat%2B7.16.50%2BAM.png&#34; alt=&#34;&#34; /&gt;&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;Using Internet Systems Consortium DHCP Server 4.2.1-P1 as the server (on my pfSense box) I am able to get not only a privacy address (via stateless autoconfigure) but also a normal EUI-64 address as well as an IPv6 address via dhcpv6.&lt;/p&gt;

&lt;p&gt;I didn&amp;rsquo;t do anything except use the &amp;ldquo;Automatic&amp;rdquo; setting in the network control panel, so out of the box OSX 10.7 &amp;ldquo;Lion&amp;rdquo; looks like it does the right thing with DHCPv6, at least at face value.&lt;/p&gt;

&lt;p&gt;[[ This is a content summary only. Visit my website for full links, other content, and more! ]]&lt;/p&gt;
</description>
    </item>
    
    <item>
      <title>Joint Techs Summer 2011 IPv6 talks</title>
      <link>https://forwardingplane.net/post/joint-techs-summer-2011-ipv6-talks/</link>
      <pubDate>Mon, 18 Jul 2011 09:54:00 +0000</pubDate>
      
      <guid>https://forwardingplane.net/post/joint-techs-summer-2011-ipv6-talks/</guid>
      <description>&lt;p&gt;If anyone is interested in the talks I participated in at Joint Techs in Fairbanks, AK, they are now on the internet2 sites.&lt;/p&gt;

&lt;p&gt;&lt;a href=&#34;http://events.internet2.edu/2011/jt-uaf/agenda.cfm?go=session&amp;amp;id=10001852&amp;amp;event=1151&#34;&gt;IPv6 feature support&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;&lt;a href=&#34;http://events.internet2.edu/2011/jt-uaf/agenda.cfm?go=session&amp;amp;id=10001863&amp;amp;event=1151&#34;&gt;IPv6 campus panel discussion&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;They&amp;rsquo;re apparently not embeddable, but can be watched from the Joint Techs site.&lt;/p&gt;

&lt;p&gt;[[ This is a content summary only. Visit my website for full links, other content, and more! ]]&lt;/p&gt;
</description>
    </item>
    
    <item>
      <title>alurancid and pfrancid</title>
      <link>https://forwardingplane.net/post/alurancid-and-pfrancid/</link>
      <pubDate>Thu, 30 Jun 2011 20:12:00 +0000</pubDate>
      
      <guid>https://forwardingplane.net/post/alurancid-and-pfrancid/</guid>
      <description>&lt;p&gt;I did some minor tweaking to the Alcatel Lucent RANCID scripts and some modifications to make RANCID work under my pfsense environment (originally m0n0rancid code from John Skopis). Since I don&amp;rsquo;t really do much dev work and am not interested in maintaing a box do be an SVN server for the public, I threw it up onto google code.&lt;br /&gt;
I&amp;rsquo;ll be adding a brief how-to on making RANCID work with pfSense as soon as I get some time.&lt;/p&gt;

&lt;p&gt;The scripts can be found here:&lt;/p&gt;

&lt;p&gt;&lt;a href=&#34;http://code.google.com/p/alurancid/&#34;&gt;Alcatel-Lucent RANCID&lt;/a&gt;&lt;br /&gt;
&lt;a href=&#34;http://code.google.com/p/pfrancid/&#34;&gt;pfSense RANCID&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;[[ This is a content summary only. Visit my website for full links, other content, and more! ]]&lt;/p&gt;
</description>
    </item>
    
    <item>
      <title>Better support for Linux (and annoyed about it)</title>
      <link>https://forwardingplane.net/post/better-support-for-linux-and-annoyed-about-it/</link>
      <pubDate>Mon, 20 Jun 2011 08:43:00 +0000</pubDate>
      
      <guid>https://forwardingplane.net/post/better-support-for-linux-and-annoyed-about-it/</guid>
      <description>&lt;p&gt;I&amp;rsquo;ve been a *BSD user since around 1997, when I installed NetBSD on a Mac SE 30 that I got for free. I was always intrigued with alternative operating systems like BeOS, *BSD, Plan9 and Linux so it made sense that I&amp;rsquo;d poke around with different systems.&lt;/p&gt;

&lt;p&gt;I&amp;rsquo;d gone back and forth from OpenBSD to FreeBSD but eventually settled on FreeBSD as my OS of choice. I ran it as a desktop before MacOS X came out and was generally happy with it. I learned most of the common flavors of Linux over the years out of curiosity and necessity but always went back to BSD for anything critical.&lt;/p&gt;

&lt;p&gt;I&amp;rsquo;m sad to say that I think this is changing.&lt;/p&gt;

&lt;p&gt;I feel like a bit of a sell out, it was always cool to say I ran FreeBSD and to silently look at Linux users as nerdy dorks that were afraid of girls that lived in their mothers basement and talked about &lt;a href=&#34;http://en.wikipedia.org/wiki/Linus_Torvalds&#34;&gt;Linus Torvalds&lt;/a&gt; and &lt;a href=&#34;http://en.wikipedia.org/wiki/Richard_Stallman&#34;&gt;Richard Stallman&lt;/a&gt; like they are demigods.&lt;/p&gt;

&lt;p&gt;As I get busier both personally and professionally, it&amp;rsquo;s becoming more of a chore to manage a BSD system or a set of BSD systems. The ports collection is clunky and annoying to use once I saw the elegance of something like apt. The software support for the stuff I do every day either available for linux first or only available under linux. Network tunables like web100 are linux specific. HPC clusters are almost exclusively Linux. The straw that has broken the camels back is &lt;a href=&#34;http://www.thc.org/thc-ipv6/&#34;&gt;THC-IPv6&lt;/a&gt;. I had a need to do some IPv6 testing that required poking at equipment in a way that tests it&amp;rsquo;s metal. I needed tools to try to break the network and do other nefarious things. &lt;a href=&#34;http://www.thc.org/thc-ipv6/&#34;&gt;THC-IPv6&lt;/a&gt; fits the bill. It works ONLY under Linux due to the use of /proc. Yes, you can make /proc work under FreeBSD, but it&amp;rsquo;s annoying and I&amp;rsquo;m fairly certain that the code still won&amp;rsquo;t build without hackery that I&amp;rsquo;m not willing to do.&lt;/p&gt;

&lt;p&gt;I&amp;rsquo;d been poking around with Debian for years as an alternative for those things that just don&amp;rsquo;t run under BSD. The tools I need have been building fine under Debian and Ubuntu. It&amp;rsquo;s just *easy*.&lt;/p&gt;

&lt;p&gt;I&amp;rsquo;ll still hold a place in my heart for BSD, I think the license it FAR superior (GPL has a host of issues that I&amp;rsquo;m not comfortable with), but for now, Im going to have to &amp;ldquo;sell out&amp;rdquo; and use Linux. Mark the calendar, this is the day the music died.&lt;/p&gt;

&lt;p&gt;[[ This is a content summary only. Visit my website for full links, other content, and more! ]]&lt;/p&gt;
</description>
    </item>
    
    <item>
      <title>Juniper interface type naming convention</title>
      <link>https://forwardingplane.net/post/juniper-interface-type-naming-convention/</link>
      <pubDate>Wed, 13 Apr 2011 01:04:00 +0000</pubDate>
      
      <guid>https://forwardingplane.net/post/juniper-interface-type-naming-convention/</guid>
      <description>&lt;p&gt;I found most of this on a web page somewhere tha tI can&amp;rsquo;t seem to find again. Below are some common useful junos tidbits regarding routing tables and interface types/names:&lt;/p&gt;

&lt;p&gt;JunOS CLI supports the basic grep command (like | include) so any show commands can be grepped. I believe the grep command implies the -i flag for case insensitivity.&lt;/p&gt;

&lt;p&gt;The routing table is presented in such a way to group types of routes.&lt;/p&gt;

&lt;p&gt;**inet.0 is the ipv4 unicast routing table&lt;/p&gt;

&lt;p&gt;**&lt;/p&gt;

&lt;p&gt;**inet.1 is the ipv4 multicast routing table&lt;/p&gt;

&lt;p&gt;**&lt;/p&gt;

&lt;p&gt;**inet.3 is the MPLS routing table&lt;/p&gt;

&lt;p&gt;**&lt;/p&gt;

&lt;p&gt;&lt;strong&gt;inet6.0 is the ipv6 routing table&lt;/strong&gt;&lt;/p&gt;

&lt;p&gt;Juniper interface types&lt;/p&gt;

&lt;p&gt;Most common ones you&amp;rsquo;ll probably see:&lt;/p&gt;

&lt;p&gt;**fe: Fast Ethernet 100Base-TX (Fast Ethernet, 100 Mbps).&lt;/p&gt;

&lt;p&gt;fxp0: Management and internal Ethernet The management Ethernet interface is an out-of-band management interface within the routing platform.&lt;/p&gt;

&lt;p&gt;fxp1: Interface that connects the routing engine and packet forwarding engine.&lt;/p&gt;

&lt;p&gt;xe: 1GE optical interface on ex switches&lt;/p&gt;

&lt;p&gt;ge: Gigabit and 10gigabit Ethernet. Includes Gigabit Ethernet IQ interfaces.&lt;/p&gt;

&lt;p&gt;me0: - out of band management interface on ex switches&lt;/p&gt;

&lt;p&gt;lo: Loopback This interface is internally generated. The logical interface lo0.16383 is a non-configurable interface for routing platform control traffic.&lt;/p&gt;

&lt;p&gt;vcp: - virtual chassis interface (EX4200 only)&lt;/p&gt;

&lt;p&gt;Other ones you may run into:&lt;/p&gt;

&lt;p&gt;ae: Aggregated Ethernet A virtual aggregated link.&lt;/p&gt;

&lt;p&gt;**&lt;/p&gt;

&lt;p&gt;**as: Aggregated SONET/SDH A virtual aggregated link.&lt;/p&gt;

&lt;p&gt;**&lt;/p&gt;

&lt;p&gt;**at: ATM1 or ATM2 IQ Asynchronous Transfer Mode&lt;/p&gt;

&lt;p&gt;**&lt;/p&gt;

&lt;p&gt;**cau4: Channelized AU-4 IQ Configured on the Channelized STM-1 IQ PIC.&lt;/p&gt;

&lt;p&gt;**&lt;/p&gt;

&lt;p&gt;**coc1: Channelized OC-1 IQ Configured on the Channelized OC-12 IQ PIC.&lt;/p&gt;

&lt;p&gt;**&lt;/p&gt;

&lt;p&gt;**coc12: Channelized OC-12 IQ Configured on the Channelized OC-12 IQ PIC.&lt;/p&gt;

&lt;p&gt;**&lt;/p&gt;

&lt;p&gt;**cstm1: Channelized STM-1 IQ Configured on the Channelized STM-1 IQ PIC.&lt;/p&gt;

&lt;p&gt;**&lt;/p&gt;

&lt;p&gt;**ce1: Channelized E1 IQ Configured on the Channelized E1 IQ PIC or Channelized STM-1 IQ PIC.&lt;/p&gt;

&lt;p&gt;**&lt;/p&gt;

&lt;p&gt;**ct1: Channelized T1 IQ Configured on the Channelized DS-3 IQ PIC or Channelized OC-12 IQ PIC.&lt;/p&gt;

&lt;p&gt;**&lt;/p&gt;

&lt;p&gt;**ct3: Channelized T3 IQ Configured on the Channelized DS-3 IQ PIC or Channelized OC-12 IQ PIC.&lt;/p&gt;

&lt;p&gt;**&lt;/p&gt;

&lt;p&gt;**cp: Collector Configured on the Monitoring Services II PIC.&lt;/p&gt;

&lt;p&gt;**&lt;/p&gt;

&lt;p&gt;**ds: DS-0 Configured on the Channelized DS-3 to DS-0 PIC, Channelized E1 PIC, Channelized OC-12 IQ PIC,&lt;/p&gt;

&lt;p&gt;**&lt;/p&gt;

&lt;p&gt;**dsc: Discard Allows you to identify the ingress point of a denial-of-service (DoS) attack.&lt;/p&gt;

&lt;p&gt;**&lt;/p&gt;

&lt;p&gt;**e1: E1 Includes the channelized STM-1 to E1 interfaces.&lt;/p&gt;

&lt;p&gt;**&lt;/p&gt;

&lt;p&gt;**e3: E3 Includes the E3 IQ interfaces.&lt;/p&gt;

&lt;p&gt;**&lt;/p&gt;

&lt;p&gt;**es: Encryption, Allows you to configure a security association (SA) name with a logical interface.&lt;/p&gt;

&lt;p&gt;**&lt;/p&gt;

&lt;p&gt;**gr: Generic Route Encapsulation tunnel Allows you to configure a unicast tunnel using GRE encapsulation.&lt;/p&gt;

&lt;p&gt;**&lt;/p&gt;

&lt;p&gt;**gre: Internally generated This interface is internally generated and is not configurable.&lt;/p&gt;

&lt;p&gt;**&lt;/p&gt;

&lt;p&gt;**ip: IP-over-IP encapsulation tunnel Allows you to configure a unicast tunnel using IP-IP encapsulation.&lt;/p&gt;

&lt;p&gt;**&lt;/p&gt;

&lt;p&gt;**ipip: Internally generated This interface is internally generated and is not configurable.&lt;/p&gt;

&lt;p&gt;**&lt;/p&gt;

&lt;p&gt;**ls: Link services Supports bundles that contain links.&lt;/p&gt;

&lt;p&gt;**&lt;/p&gt;

&lt;p&gt;**lsi: Internally generated This interface is internally generated and is not configurable.&lt;/p&gt;

&lt;p&gt;**&lt;/p&gt;

&lt;p&gt;**ml: Multilink Includes Multilink Frame Relay and Multilink PPP.&lt;/p&gt;

&lt;p&gt;**&lt;/p&gt;

&lt;p&gt;**mo: Monitoring services Includes the monitoring services and monitoring services&lt;br /&gt;
II interfaces: The logical interface mo-fpc/pic/port.16383 is an internally generated, non-configurable interface for routing platform control traffic.&lt;/p&gt;

&lt;p&gt;**&lt;/p&gt;

&lt;p&gt;**mt: Multicast tunnel Internal routing platform interface for VPNs.&lt;/p&gt;

&lt;p&gt;**&lt;/p&gt;

&lt;p&gt;**mtun: Internally generated This interface is internally generated and is not configurable.&lt;/p&gt;

&lt;p&gt;**&lt;/p&gt;

&lt;p&gt;**oc3: OC-3 IQ Configured on the Channelized OC-12 IQ PIC.&lt;/p&gt;

&lt;p&gt;**&lt;/p&gt;

&lt;p&gt;**pe: This interface is present on the first-hop routing platform. Encapsulates packets destined for the rendezvous point (RP) routing platform.&lt;/p&gt;

&lt;p&gt;**&lt;/p&gt;

&lt;p&gt;**pd: This interface is present on the RP De-encapsulates packets at the RP.&lt;/p&gt;

&lt;p&gt;**&lt;/p&gt;

&lt;p&gt;**pimd: Internally generated This interface is internally generated and is not configurable.&lt;/p&gt;

&lt;p&gt;**&lt;/p&gt;

&lt;p&gt;**pime: Internally generated This interface is internally generated and is not configurable.&lt;/p&gt;

&lt;p&gt;**&lt;/p&gt;

&lt;p&gt;**rlsq: - a redundant bundle interface, made of two or more lsq interface. If you have redundant AS Pics.&lt;/p&gt;

&lt;p&gt;**&lt;/p&gt;

&lt;p&gt;**se: Serial Includes the EIA-530, V.35, and X.21 interfaces.&lt;/p&gt;

&lt;p&gt;**&lt;/p&gt;

&lt;p&gt;**so: SONET/SDH Both are widely used methods for very high speed transmission of voice and data signals across the numerous world-wide fiber-optic networks.&lt;/p&gt;

&lt;p&gt;**&lt;/p&gt;

&lt;p&gt;**sp: Adaptive services The logical interface sp-fpc/pic/port.16383 is an internally generated, non-configurable interface for routing platform control traffic.&lt;/p&gt;

&lt;p&gt;**&lt;/p&gt;

&lt;p&gt;**t1: T1 Includes the channelized DS-3 to DS-1 interfaces.&lt;/p&gt;

&lt;p&gt;**&lt;/p&gt;

&lt;p&gt;**t3: T3 Includes the channelized OC-12 to DS-3 interfaces.&lt;/p&gt;

&lt;p&gt;**&lt;/p&gt;

&lt;p&gt;**tap: Internally generated This interface is internally generated and is not configurable.&lt;/p&gt;

&lt;p&gt;**&lt;/p&gt;

&lt;p&gt;**vsp: Voice services, The Adaptive Services (AS) Physical Interface Card (PIC) supports the compressed real-time transport protocol (RTP) on this interface.&lt;/p&gt;

&lt;p&gt;**&lt;/p&gt;

&lt;p&gt;**vt: Virtual loopback tunnel On routing platforms equipped with a Tunnel PIC, enables egress filtering.&lt;br /&gt;
**&lt;br /&gt;
Other interesting terminology regarding the juniper architecture is the module layout:&lt;/p&gt;

&lt;p&gt;**RE: Routing Engine, Like a cisco supervisor module. Central brains of the system&lt;/p&gt;

&lt;p&gt;**&lt;/p&gt;

&lt;p&gt;**PFE: Packet forwarding Engine. Controls the data packet forwarding of the system.&lt;/p&gt;

&lt;p&gt;**&lt;/p&gt;

&lt;p&gt;**SCB: Switch control board. Contains ASICs that handle route lookups and memory management.&lt;/p&gt;

&lt;p&gt;**&lt;/p&gt;

&lt;p&gt;**PIC: Physical interface card. Sort of like a port, but can contain multiple interfaces.&lt;/p&gt;

&lt;p&gt;**&lt;/p&gt;

&lt;p&gt;&lt;strong&gt;FPC: Flexible PIC concentrator. Like a linecard that has module slots. Can handle different types of PICs&lt;/strong&gt;&lt;/p&gt;

&lt;p&gt;[[ This is a content summary only. Visit my website for full links, other content, and more! ]]&lt;/p&gt;
</description>
    </item>
    
    <item>
      <title>IPv6 Features matrix for Network Hardware</title>
      <link>https://forwardingplane.net/post/ipv6-features-matrix-for-network-hardware/</link>
      <pubDate>Wed, 16 Mar 2011 21:55:00 +0000</pubDate>
      
      <guid>https://forwardingplane.net/post/ipv6-features-matrix-for-network-hardware/</guid>
      <description>&lt;p&gt;I&amp;rsquo;ve been doing a lot of IPv6 stuff lately, and one of the things I didn&amp;rsquo;t find (and kinda just wanted to put one together for my own benefit) is a matrix of features I thought were important to have on the IPv6 side for common network hardware. Below is a work in progress of what I have so far, which will automatically publish changes from &lt;a href=&#34;http://bit.ly/network-hardware-v6-feature-matrix&#34;&gt;this spreadsheet&lt;/a&gt;. Please email me if you&amp;rsquo;re interested in adding to this or correcting anything I may be incorrect on.&lt;/p&gt;

&lt;p&gt;This has evolved into something else entirely. I&amp;rsquo;ve had a very good response to this very rudimentary start of a feature matrix and have decided that it&amp;rsquo;s going to get expanded into whatever it needs to become. I&amp;rsquo;ve added the start of a matrix for network security hardware / appliances &lt;a href=&#34;http://www.forwardingplane.net/bit.ly/ipv6-security-matrix&#34;&gt;here&lt;/a&gt;.&lt;br /&gt;
I may eventually break this out into L2 and L3 as well as security appliances.&lt;/p&gt;

&lt;p&gt;[[ This is a content summary only. Visit my website for full links, other content, and more! ]]&lt;/p&gt;
</description>
    </item>
    
    <item>
      <title>Sync catalogs (iPhoto, iTunes) on a mac</title>
      <link>https://forwardingplane.net/post/sync-catalogs-iphoto-itunes-on-a-mac/</link>
      <pubDate>Fri, 18 Feb 2011 12:46:00 +0000</pubDate>
      
      <guid>https://forwardingplane.net/post/sync-catalogs-iphoto-itunes-on-a-mac/</guid>
      <description>&lt;p&gt;I have huge iPhoto and iTunes catalogs. This can present a problem for both loading the applications and for backup. I have learned to deal with the Application load times, but backups are very important to me.&lt;/p&gt;

&lt;p&gt;I&amp;rsquo;d gone through the iPhoto backup process and restore more than once, and I didn&amp;rsquo;t like the fact that I didn&amp;rsquo;t have an offsite backup, so I paid for a flickr pro account ($24/yr, supports iPhoto export and RAW format). I had been simply copying my iTunes over to my NAS for a long time (as well as using Time Machine), but that became a chore because I had not automated it.&lt;/p&gt;

&lt;p&gt;After about a month of off-and-on searching, I finally went back to my UNIX roots and decided on rsync.&lt;/p&gt;

&lt;p&gt;You simply can&amp;rsquo;t beat rsync.&lt;/p&gt;

&lt;p&gt;I wrote a very simple shell script to call from cron every night to sync whatever IU thought I needed to sync to my NAS (it works to any other source, really, due to rsync&amp;rsquo;s flexibility).&lt;/p&gt;

&lt;p&gt;This is my simple rsync script:&lt;/p&gt;

&lt;p&gt;#!/bin/sh&lt;/p&gt;

&lt;p&gt;# Sync catalogs to externally mounted volume.&lt;/p&gt;

&lt;p&gt;# nick@buraglio.com&lt;/p&gt;

&lt;p&gt;RSYNC=&amp;lsquo;/usr/bin/rsync&amp;rsquo;&lt;/p&gt;

&lt;p&gt;ITUNESSRC=&amp;lsquo;/Users/Shared/iTunes&amp;rsquo; # iTunes Folder&lt;/p&gt;

&lt;p&gt;ITUNESDST=&amp;lsquo;/Volumes/Volume_1/Catalog\ Backups/iTunes&amp;rsquo; #Destination for iTunes Backup&lt;/p&gt;

&lt;p&gt;IPHOTOSRC=&amp;lsquo;/Users/Shared/iPhoto&amp;rsquo; #iPhoto Folder&lt;/p&gt;

&lt;p&gt;IPHOTODST=&amp;lsquo;/Volumes/Volume_1/Catalog\ Backups/iPhoto&amp;rsquo; #Destination for iPhoto Backup&lt;/p&gt;

&lt;p&gt;PARAMS=&amp;lsquo;&amp;ndash;ignore-existing &amp;ndash;delete &amp;ndash;progress &amp;ndash;recursive &amp;ndash;perms &amp;ndash;times &amp;ndash;size-only &amp;ndash;whole-file&amp;rsquo; # Any parameters for rsync&lt;/p&gt;

&lt;p&gt;EXCLUDEITUNES=&amp;lsquo;-exclude=&amp;rsquo;.*&amp;rsquo; -exclude=&amp;rsquo;*.m4v&amp;rdquo; # Files or folders for exclusion&lt;/p&gt;

&lt;p&gt;EXCLUDEIPHOTO=&amp;lsquo;-exclude=&amp;rsquo;.*&amp;rdquo; # Files or folders for exclusion&lt;/p&gt;

&lt;p&gt;$RSYNC $PARAMS $EXCLUDEITUNES $ITUNESSRC $ITUNESDST&lt;/p&gt;

&lt;p&gt;$RSYNC $PARAMS $EXCLUDEIPHOTO $IPHOTOSRC $IPHOTODST&lt;/p&gt;

&lt;p&gt;Thats it. Since the &amp;ldquo;&amp;ndash;delete&amp;rdquo; flag is in place, I recommend use of the &amp;ldquo;&amp;ndash;dry-run&amp;rdquo; flag the first time to make sure it does what you want, since delete &lt;strong&gt;will&lt;/strong&gt; remove everything in it&amp;rsquo;s path and make the folder match. I just have this run from cron every day using this line in my users crontab.&lt;/p&gt;

&lt;p&gt;@daily  /opt/local/bin/rsynccatalogs.sh&lt;/p&gt;

&lt;p&gt;[[ This is a content summary only. Visit my website for full links, other content, and more! ]]&lt;/p&gt;
</description>
    </item>
    
    <item>
      <title>Upgrading a new SRX 3600</title>
      <link>https://forwardingplane.net/post/upgrading-a-new-srx-3600/</link>
      <pubDate>Mon, 07 Feb 2011 22:29:00 +0000</pubDate>
      
      <guid>https://forwardingplane.net/post/upgrading-a-new-srx-3600/</guid>
      <description>&lt;p&gt;We are putting a few new SRX 3600 clusters into production soon, and we&amp;rsquo;ve had them for about 6 months in boxes. This presented a fairly significant issue, one that I didn&amp;rsquo;t think about until it smacked me in the face.&lt;br /&gt;
The code on these boxes was old. Very old. JunOS 9.2 old.&lt;br /&gt;
No problem, lets just upgrade them to 10.4R something.&lt;/p&gt;

&lt;p&gt;&lt;strong&gt;Wrong&lt;/strong&gt;.&lt;/p&gt;

&lt;p&gt;the code that shipped on these boxes was so old, and we waited so long to upgrade them that I was unable to upgrade them straight to anything modern. To compound the issue, the upgrade was only able to be performed from certain code level releases as noted &lt;a href=&#34;http://forums.juniper.net/t5/SRX-Services-Gateway/SRX-3400-upgrade-failure/m-p/55416&#34;&gt;here&lt;/a&gt;.&lt;/p&gt;

&lt;p&gt;This is a problem. I logged into the Juniper site to get the appropriate code, low and behold, it&amp;rsquo;s not available. I had to contact jtac and convince them that the code wasn&amp;rsquo;t there (which was a bit frustrating). Once they understood the issue (which took a bit longer than I expected; I don&amp;rsquo;t have Agility services on these particular boxes or I would never have had the jtac &amp;ldquo;issue&amp;rdquo;), they provided me with a download link for junos-srx3000-9.6R4.4-domestic. Once I had that code I was able to upgrade to it and then to 10.4.&lt;/p&gt;

&lt;p&gt;Not a huge issue, but something that was very annoying to have to jump through since I&amp;rsquo;ve never seen this issue upgrading a Juniper device.&lt;/p&gt;

&lt;p&gt;[[ This is a content summary only. Visit my website for full links, other content, and more! ]]&lt;/p&gt;
</description>
    </item>
    
    <item>
      <title>Seagate FreeAgent 3T drive on a mac</title>
      <link>https://forwardingplane.net/post/seagate-freeagent-3t-drive-on-a-mac/</link>
      <pubDate>Fri, 04 Feb 2011 20:00:00 +0000</pubDate>
      
      <guid>https://forwardingplane.net/post/seagate-freeagent-3t-drive-on-a-mac/</guid>
      <description>&lt;p&gt;I was recently helping my brother-in-law out with the new &lt;a href=&#34;http://www.amazon.com/gp/product/B0045JLPNI?ie=UTF8&amp;amp;tag=nickburaglioc-20&amp;amp;linkCode=as2&amp;amp;camp=1789&amp;amp;creative=390957&amp;amp;creativeASIN=B0045JLPNI&#34;&gt;Seagate FreeAgent GoFlex Desk 3 TB USB 3.0 External Hard Drive&lt;/a&gt;&lt;img src=&#34;http://www.assoc-amazon.com/e/ir?t=nickburaglioc-20&amp;amp;l=as2&amp;amp;o=1&amp;amp;a=B0045JLPNI&#34; alt=&#34;&#34; /&gt; he had purchased to do time machine backups on his mac. I personally have the 2t version and have been pretty happy with it, save for one small incident that I think was my fault that required some basic data recovery.&lt;br /&gt;
Since the drive comes in a file system that is not HFS+ Journaled, it needed to be reformatted to support time machine backups.&lt;br /&gt;
Simple, right? &amp;ldquo;A five minute process&amp;rdquo; I told him.&lt;br /&gt;
Well, I was wrong. This drive just could not be formatted or re-partitioned using the standard OSX disk utility. I walked him through it on the phone. Partition failure. It threw some cryptic error that I had not seen before in 15 years of using a mac. I kinda figured it was something he was missing since I&amp;rsquo;m pretty awful at phone support, and if it wasn&amp;rsquo;t, I wanted to see the error, so I drive over there.&lt;br /&gt;
Upon arriving, low and behold, it was in fact an error I&amp;rsquo;d never seen. I tried 3 more times to partition and format the drive and once just to format it. Same errors every time, it would start and then throw an error that it had failed or that it had lost communication with the drive.&lt;br /&gt;
So, to test, I dropped to the trusty cli to see if I could do it from there.&lt;/p&gt;

&lt;p&gt;From the Terminal app (/Applications/Utilities/Terminal) I issued the command&lt;/p&gt;

&lt;p&gt;diskutil eraseDisk HFS+ Backup disk1&lt;/p&gt;

&lt;p&gt;Which was able to quickly accomplish the task. From there, I was able to mount and manipulate it in the Disk Utility (/Applicaations/Utilities/Disk Utility). Since I had not enabled the journal from the original command I reformatted the drive with MacOS X Entended (Journaled) and then it was ready to be a Time machine disk.&lt;/p&gt;

&lt;p&gt;I believe I could have done this all in one step using the command&lt;/p&gt;

&lt;p&gt;diskutil eraseDisk &amp;ldquo;Journaled HFS+&amp;rdquo; Backup disk1.&lt;/p&gt;

&lt;p&gt;I&amp;rsquo;m still unsure why Disk Utility would not work.&lt;/p&gt;

&lt;p&gt;[[ This is a content summary only. Visit my website for full links, other content, and more! ]]&lt;/p&gt;
</description>
    </item>
    
    <item>
      <title>Moving JunOS code between SRX cluster nodes</title>
      <link>https://forwardingplane.net/post/moving-junos-code-between-srx-cluster-nodes/</link>
      <pubDate>Sat, 08 Jan 2011 02:11:00 +0000</pubDate>
      
      <guid>https://forwardingplane.net/post/moving-junos-code-between-srx-cluster-nodes/</guid>
      <description>&lt;p&gt;Regardless of the fact that there is now a good ISSU-like service for the SRX (named Low-Impact Cluster Upgrade; LICU for short), if you&amp;rsquo;re upgrading your Active/Active cluster from something that isn&amp;rsquo;t 10.4, or if you just aren&amp;rsquo;t comfortable with how baked LICU actually is, you&amp;rsquo;ll need to know how to move the junos code around. This is easy if you have physical access to both nodes, but for those that have.&lt;br /&gt;
This was a problem for me in that our cluster nodes have geographic diversity. In other words, they&amp;rsquo;re far apart. Being how I am, I don&amp;rsquo;t want to trek all around to hand load code from a USB key and being how the SRX cluster works, I can&amp;rsquo;t easily get to node1 over the network since it&amp;rsquo;s part of a cluster.&lt;/p&gt;

&lt;p&gt;Low and behold, there is a very simple way to move this code around over the control network. Enter our old friend &lt;a href=&#34;http://www.mkssoftware.com/docs/man1/rcp.1.asp&#34;&gt;rcp&lt;/a&gt;.&lt;br /&gt;
Log into node0 and load the code as normal.&lt;/p&gt;

&lt;p&gt;node0&amp;gt;file copy scp://buraglio@desktop.domain.edu/Users/buraglio/Downloads/junos-srx5000-10.4R1.9-domestic.tgz /var/tmp/junos-srx5000-10.4R1.9-domestic.tgz&lt;/p&gt;

&lt;p&gt;From here, it&amp;rsquo;s really easy but will require dropping to the unix (FreeBSD, Yay!) shell so I&amp;rsquo;m always careful of what I&amp;rsquo;m typing and by all means be careful.&lt;/p&gt;

&lt;p&gt;{primary:node0}&lt;/p&gt;

&lt;p&gt;buraglio@node0&amp;gt; start shell&lt;/p&gt;

&lt;p&gt;% su&lt;/p&gt;

&lt;p&gt;Password:&lt;/p&gt;

&lt;p&gt;root@node0% rcp -T /var/tmp/junos-srx5000-10.4R1.9-domestic.tgz node1:/var/tmp/&lt;/p&gt;

&lt;p&gt;Thats pretty much it. Upgrade per the normal active/active procedure.&lt;/p&gt;

&lt;p&gt;&lt;a href=&#34;http://kb.juniper.net/InfoCenter/index?page=content&amp;amp;id=KB17410&amp;amp;actp=RSS&amp;amp;smlogin=true&#34;&gt;Here&lt;/a&gt; is a Juniper knowledge base article on this procedure for second reference.&lt;/p&gt;

&lt;p&gt;[[ This is a content summary only. Visit my website for full links, other content, and more! ]]&lt;/p&gt;
</description>
    </item>
    
    <item>
      <title>JunOS ISSU</title>
      <link>https://forwardingplane.net/post/junos-issu/</link>
      <pubDate>Thu, 30 Dec 2010 00:26:00 +0000</pubDate>
      
      <guid>https://forwardingplane.net/post/junos-issu/</guid>
      <description>&lt;p&gt;I recently needed to upgrade a few MX480 routers and decided that it would be a good opportunity to get some experience with Juniper&amp;rsquo;s in service software upgrade.&lt;br /&gt;
I&amp;rsquo;d read a bit about it but I&amp;rsquo;d not had the chance to really use it. It&amp;rsquo;s pretty straightforward and it does what it claims. The following are my notes from rolling through this on my test lab MX480.&lt;/p&gt;

&lt;p&gt;A few things are necessary to get going with ISSU, first and foremost, you need to have a box with two routing engines. Check.&lt;br /&gt;
Second, some configuration is necessary to make this all work.&lt;br /&gt;
The boxes need to be running nonstop-routing, they need to be syncronizing the configs, and they need to have graceful-switchover enabled.&lt;/p&gt;

&lt;p&gt;Here are the steps I went through on my vanilla test box to make this work:&lt;/p&gt;

&lt;p&gt;root# set chassis redundancy graceful-switchover&lt;br /&gt;
root# set routing-options nonstop-routing&lt;br /&gt;
root# set system commit synchronize&lt;/p&gt;

&lt;p&gt;If you already have those options set then you don&amp;rsquo;t need to enter those commands.&lt;/p&gt;

&lt;p&gt;With those options set, you&amp;rsquo;re ready to do the ISSU.&lt;/p&gt;

&lt;p&gt;root&amp;gt; request system software in-service-upgrade /var/tmp/jinstall-10.3R2.11-domestic-signed.tgz&lt;br /&gt;
Chassis ISSU Check Done&lt;br /&gt;
ISSU: Validating Image&lt;br /&gt;
Checking compatibility with configuration&lt;br /&gt;
Initializing&amp;hellip;&lt;br /&gt;
Using jbase-10.1R1.8&lt;br /&gt;
vn_read_compressed_block: invalid block index 550&lt;br /&gt;
Verified manifest signed by PackageProduction_10_1_0&lt;br /&gt;
Verified jbase-10.1R1.8 signed by PackageProduction_10_1_0&lt;br /&gt;
Using /var/tmp/jinstall-10.3R2.11-domestic-signed.tgz&lt;br /&gt;
&amp;hellip;.&lt;/p&gt;

&lt;p&gt;This takes a LONG time and generates a lot of scroll.&lt;/p&gt;

&lt;p&gt;You&amp;rsquo;ll see long pauses and more text like&lt;/p&gt;

&lt;p&gt;Saving package file in /var/sw/pkg/jinstall-10.3R2.11-domestic-signed.tgz &amp;hellip;&lt;br /&gt;
Saving state for rollback &amp;hellip;&lt;br /&gt;
Backup upgrade done&lt;br /&gt;
Rebooting Backup RE&lt;/p&gt;

&lt;p&gt;Rebooting re1&lt;br /&gt;
ISSU: Backup RE Prepare Done&lt;br /&gt;
Waiting for Backup RE reboot&lt;/p&gt;

&lt;p&gt;Then interesting thing start to show up:&lt;/p&gt;

&lt;p&gt;GRES operational&lt;br /&gt;
Initiating Chassis In-Service-Upgrade&lt;br /&gt;
Chassis ISSU Started&lt;br /&gt;
ISSU: Preparing Daemons&lt;br /&gt;
ISSU: Daemons Ready for ISSU&lt;br /&gt;
ISSU: Starting Upgrade for FRUs&lt;br /&gt;
ISSU: Preparing for Switchover&lt;/p&gt;

&lt;p&gt;This is where the magic starts. The nonstop-routing and hitless failover come into play as the route engines switch over. Very cool.&lt;/p&gt;

&lt;p&gt;On the console of the backup RE (now the master) you&amp;rsquo;ll see messages like&lt;/p&gt;

&lt;p&gt;Message from syslogd@ at Dec 29 19:11:57 &amp;hellip;&lt;br /&gt;
fpc0 RDP: Remote side reset connection: rdp.(fpc0:22528).(serverRouter:ppm)&lt;/p&gt;

&lt;p&gt;Message from syslogd@ at Dec 29 19:11:57 &amp;hellip;&lt;br /&gt;
fpc1 RDP: Remote side reset connection: rdp.(fpc1:4096).(serverRouter:ppm)&lt;/p&gt;

&lt;p&gt;these are normal.&lt;/p&gt;

&lt;p&gt;Some things that I didn&amp;rsquo;t expect, but probably should have:&lt;/p&gt;

&lt;p&gt;The old master stays the backup route engine after the ISSU&lt;br /&gt;
The old master does NOT reboot into the new code, instead it stays on the original code requiring a manual reboot (unless, I asume, you add the &amp;ldquo;reboot&amp;rdquo; command on to the original upgrade command).&lt;br /&gt;
On routers that have logical systems configured on them, only the master logical system supports nonstop active routing.&lt;/p&gt;

&lt;p&gt;I did the reboot manually&lt;/p&gt;

&lt;p&gt;root&amp;gt; request system reboot&lt;br /&gt;
Reboot the system ? [yes,no] (no) yes&lt;/p&gt;

&lt;p&gt;*** FINAL System shutdown message from root@ ***&lt;br /&gt;
System going down IMMEDIATELY&lt;/p&gt;

&lt;p&gt;Shutdown NOW!&lt;br /&gt;
Reboot consistency check bypassed - jinstall 10.3R2.11 will complete installation upon reboot&lt;br /&gt;
[pid 65006]&lt;/p&gt;

&lt;p&gt;and then did a failover to the old master.&lt;/p&gt;

&lt;p&gt;root&amp;gt; request chassis routing-engine master switch&lt;/p&gt;

&lt;p&gt;&amp;hellip;.and thats pretty much it. Upgrade complete.&lt;/p&gt;

&lt;p&gt;This is a really useful tool that allows for very minimal interruption during software upgrades. I&amp;rsquo;d recommend reading &lt;a href=&#34;http://www.juniper.net/us/en/local/pdf/whitepapers/2000280-en.pdf&#34;&gt;this&lt;/a&gt; white paper on ISSU if you&amp;rsquo;re interested into diving into deeper details.&lt;/p&gt;

&lt;p&gt;Basically what ISSU does is to install junos on the backup route engine (re1) as normal, reboot it, validate and switch over to re1 and do the upgrade on the primary (now backup) route engine. The entire process took about 40 minutes on my mx480.&lt;/p&gt;

&lt;p&gt;[[ This is a content summary only. Visit my website for full links, other content, and more! ]]&lt;/p&gt;
</description>
    </item>
    
    <item>
      <title>A bit of IPv6 humor for the holidays</title>
      <link>https://forwardingplane.net/post/a-bit-of-ipv6-humor-for-the-holidays/</link>
      <pubDate>Fri, 24 Dec 2010 03:15:00 +0000</pubDate>
      
      <guid>https://forwardingplane.net/post/a-bit-of-ipv6-humor-for-the-holidays/</guid>
      <description>&lt;p&gt;&lt;a href=&#34;http://4.bp.blogspot.com/_99YK8gwWGlQ/TRO8rtT4cyI/AAAAAAAAACs/9K8i0PsSr14/s1600/Screen%2Bshot%2B2010-12-23%2Bat%2B3.16.15%2BPM.png&#34;&gt;&lt;img src=&#34;http://4.bp.blogspot.com/_99YK8gwWGlQ/TRO8rtT4cyI/AAAAAAAAACs/9K8i0PsSr14/s400/Screen%2Bshot%2B2010-12-23%2Bat%2B3.16.15%2BPM.png&#34; alt=&#34;&#34; /&gt;&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;A quick screen grab from &lt;a href=&#34;http://fun.drno.de/txt/ipv6partitions.txt&#34;&gt;here&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;[[ This is a content summary only. Visit my website for full links, other content, and more! ]]&lt;/p&gt;
</description>
    </item>
    
    <item>
      <title>Alcatel Lucent RANCID scripts</title>
      <link>https://forwardingplane.net/post/alcatel-lucent-rancid-scripts/</link>
      <pubDate>Mon, 06 Dec 2010 07:06:00 +0000</pubDate>
      
      <guid>https://forwardingplane.net/post/alcatel-lucent-rancid-scripts/</guid>
      <description>&lt;p&gt;At the &lt;a href=&#34;https://scinet.supercomputing.org/&#34;&gt;2010 Supercomputing conference&lt;/a&gt; this year, one of my tasks was to get &lt;a href=&#34;http://shrubbery.net/rancid/&#34;&gt;RANCID&lt;/a&gt; working on the Alcatel Lucent 77xx series. for some this may have been a simple task, but for me, a self taught and inefficient programmer, it was something that took some time.&lt;br /&gt;
The Alcatel Lucent boxes were good performers, but their CLI is pretty awful. The prompt changes based on having unsaved configuration items, and can contain things liks an asterisk. The configuration file also displays the # symbol, a very common &amp;ldquo;enabled&amp;rdquo; router prompt, making the config a bit different to parse. I&amp;rsquo;m happy to report that the &lt;a href=&#34;http://shrubbery.net/rancid/&#34;&gt;RANCID&lt;/a&gt; scripts work for the ALU boxes now. for anyone that wants to use them (since I dont know if they&amp;rsquo;ll be added to the base distribution), they can be found &lt;a href=&#34;http://www.buraglio.com/scripts/alurancid/&#34;&gt;here&lt;/a&gt;.&lt;br /&gt;
SVN of this and some other things I hacked into RANCID for the Nexus and the CRS can be found &lt;a href=&#34;http://buraglio.com/dev/&#34;&gt;here&lt;/a&gt;.&lt;/p&gt;

&lt;p&gt;[[ This is a content summary only. Visit my website for full links, other content, and more! ]]&lt;/p&gt;
</description>
    </item>
    
    <item>
      <title>Enabling IPv6 on Juniper SRX 5800 cluster</title>
      <link>https://forwardingplane.net/post/enabling-ipv6-on-juniper-srx-5800-cluster/</link>
      <pubDate>Wed, 20 Oct 2010 21:59:00 +0000</pubDate>
      
      <guid>https://forwardingplane.net/post/enabling-ipv6-on-juniper-srx-5800-cluster/</guid>
      <description>&lt;p&gt;After &lt;a href=&#34;http://tech.buraglio.com/2010/09/srx-ipv6-flow-based-processing.html&#34;&gt;enabling the IPv6 Flow based processing&lt;/a&gt;, we decided to get rolling with making our IPv6 path congruent with everything else (IPv4 unicast and multicast). With all of the other things we had going on, we thought this would be a low hanging fruit that would be easily plucked from the routing tree. Well, a minor oversight on our part caught us by surprise.&lt;/p&gt;

&lt;p&gt;According to this &lt;a href=&#34;http://www.juniper.net/techpubs/software/junos-security/junos-security10.2/junos-srx-jseries-support-reference/jd0e5522.html&#34;&gt;handy dandy matrix for JunOS 10.2 on the SRX&lt;/a&gt;, Active/Active is actually not supported for v6 processing. After configuring all of the rest of the path, BGP peerings, OSPFv3, an IPv6 firewall policy, we were a bit surprised to see OSPFv3 adjacencies andappropriate routes, but absolutely no state for v6 traffic that was not destined for the RE.&lt;/p&gt;

&lt;p&gt;About 30 seconds of google searching came up with the matrix, which we somehow missed, that showed exactly what we feared:&lt;/p&gt;

&lt;p&gt;&lt;img src=&#34;http://lh3.ggpht.com/_99YK8gwWGlQ/TL8UouI51lI/AAAAAAAAACM/7humintSX-I/s1152/Screen%20shot%202010-10-20%20at%2011.09.54%20AM.png&#34; alt=&#34;&#34; /&gt;&lt;/p&gt;

&lt;p&gt;My first reaction was&lt;/p&gt;

&lt;p&gt;&lt;img src=&#34;http://www.popartuk.com/g/l/lgmp0163+homer-simpson-doh-the-simpsons-mini-poster.jpg&#34; alt=&#34;&#34; /&gt;&lt;/p&gt;

&lt;p&gt;How could we have missed that? We knew that IDP wouldn&amp;rsquo;t work on v6 until a future release (probably sometime of next year, we&amp;rsquo;re hoping). Oh well, we missed something. It was bound to happen sooner or later with as many moving parts as we have. Doing some more digging it looks like we&amp;rsquo;re not going to get Active/Active until around the same time as IDP&lt;/p&gt;

&lt;p&gt;[[ This is a content summary only. Visit my website for full links, other content, and more! ]]&lt;/p&gt;
</description>
    </item>
    
    <item>
      <title>Multicast through Juniper SRX 5800</title>
      <link>https://forwardingplane.net/post/multicast-through-juniper-srx-5800/</link>
      <pubDate>Sun, 17 Oct 2010 23:56:00 +0000</pubDate>
      
      <guid>https://forwardingplane.net/post/multicast-through-juniper-srx-5800/</guid>
      <description>&lt;p&gt;We&amp;rsquo;ve been working toward a more simplified model for our network path, and in doing so, we desired a congruent path for IPv6, IPv4 Multicast and IPv4 Unicast.&lt;br /&gt;
However, this is actually pretty hard when dealing with the link speeds, amounts of traffic and flows that we do, in conjunction with Firewall&amp;hellip;..and IDP/IPS&amp;hellip;&lt;br /&gt;
Lots of research, reading and testing was done.&lt;br /&gt;
Juniper SRX series has full support for 90% of this, with IPv6 IDP coming in Q2 of 2011.&lt;/p&gt;

&lt;p&gt;IPv4 Multicast is that unpleasant, poorly understood beast that most folks try to ignore. Nevertheless, we need it. So, we had to make this work through our SRX (in the past IPv4 multicast took a different path in/out of our network.&lt;/p&gt;

&lt;p&gt;I&amp;rsquo;m going to glaze over the multicast bits on our Juniper MX routers, if you&amp;rsquo;re doing multicast already, this should already be working and Juniper has well documented and well implemented multicast capabilities.&lt;/p&gt;

&lt;p&gt;On the SRX, luckily, it&amp;rsquo;s pretty similar.&lt;/p&gt;

&lt;p&gt;buraglio@srx5800&amp;gt; show configuration protocols pim&lt;/p&gt;

&lt;p&gt;rib-group inet multicast-rpf-rib;&lt;/p&gt;

&lt;p&gt;rp {&lt;/p&gt;

&lt;p&gt;static {&lt;/p&gt;

&lt;p&gt;address 10.16.0.145;&lt;/p&gt;

&lt;p&gt;}&lt;/p&gt;

&lt;p&gt;}&lt;/p&gt;

&lt;p&gt;interface xe-1/1/0.0;&lt;/p&gt;

&lt;p&gt;interface xe-2/1/0.0;&lt;/p&gt;

&lt;p&gt;interface xe-10/1/0.0;&lt;/p&gt;

&lt;p&gt;interface xe-13/1/0.0;&lt;/p&gt;

&lt;p&gt;{primary:node0}&lt;/p&gt;

&lt;p&gt;Make sure you are importing the routes into the tables by configuring your RIB groups&lt;/p&gt;

&lt;p&gt;buraglio@srx5800&amp;gt; show configuration routing-options rib-groups&lt;/p&gt;

&lt;p&gt;igp-rib {&lt;/p&gt;

&lt;p&gt;import-rib [ inet.0 inet.2 ];&lt;/p&gt;

&lt;p&gt;}&lt;/p&gt;

&lt;p&gt;multicast-rpf-rib {&lt;/p&gt;

&lt;p&gt;export-rib inet.2;&lt;/p&gt;

&lt;p&gt;import-rib inet.2;&lt;/p&gt;

&lt;p&gt;}&lt;/p&gt;

&lt;p&gt;You&amp;rsquo;ll need to make sure that there is a firewall policy to permit your multicast to actually flow. For arguments sake, I&amp;rsquo;m assuming you have an outbound policy that is less than or equal to this in terms of policy allowed.&lt;/p&gt;

&lt;p&gt;{primary:node0}&lt;/p&gt;

&lt;p&gt;buraglio@srx5800&amp;gt; show configuration security policies from-zone Untrust to-zone Trust policy Multicast-permit&lt;/p&gt;

&lt;p&gt;match {&lt;/p&gt;

&lt;p&gt;source-address any;&lt;/p&gt;

&lt;p&gt;destination-address multicast_224_0_0_0_4;&lt;/p&gt;

&lt;p&gt;application junos-udp-any;&lt;/p&gt;

&lt;p&gt;}&lt;/p&gt;

&lt;p&gt;then {&lt;/p&gt;

&lt;p&gt;permit;&lt;/p&gt;

&lt;p&gt;log {&lt;/p&gt;

&lt;p&gt;session-init;&lt;/p&gt;

&lt;p&gt;}&lt;/p&gt;

&lt;p&gt;}&lt;/p&gt;

&lt;p&gt;Thats pretty much it as far as the SRX goes (assuming I&amp;rsquo;m remembering correctly, it&amp;rsquo;s been a while since we did it and I don&amp;rsquo;t know multicast as well as I&amp;rsquo;d like). Using the &lt;a href=&#34;http://globalnoc.iu.edu/i2network/multicast-cookbook.html&#34;&gt;cookbook from Internet2&lt;/a&gt; one should be enough to get Multicast working with your SRX as long as you have your policy set to allow it.&lt;/p&gt;

&lt;p&gt;buraglio@srx5800&amp;gt; show multicast statistics&lt;/p&gt;

&lt;p&gt;&amp;hellip;snip&amp;hellip;&lt;/p&gt;

&lt;p&gt;Interface: xe-10/1/0.0&lt;/p&gt;

&lt;p&gt;Routing protocol: PIM Mismatch error: 0&lt;/p&gt;

&lt;p&gt;Mismatch: 8 Mismatch no route: 0&lt;/p&gt;

&lt;p&gt;Kernel resolve: 287 Routing notify: 0&lt;/p&gt;

&lt;p&gt;Resolve no route: 0 Resolve error: 0&lt;/p&gt;

&lt;p&gt;Resolve filtered: 0 Notify filtered: 0&lt;/p&gt;

&lt;p&gt;In kbytes: 4273 In packets: 45042&lt;/p&gt;

&lt;p&gt;Out kbytes: 18014398509409554 Out packets: 18446744073709258616&lt;/p&gt;

&lt;p&gt;Interface: xe-1/1/0.0&lt;/p&gt;

&lt;p&gt;Routing protocol: PIM Mismatch error: 0&lt;/p&gt;

&lt;p&gt;Mismatch: 11786 Mismatch no route: 3&lt;/p&gt;

&lt;p&gt;Kernel resolve: 323210 Routing notify: 0&lt;/p&gt;

&lt;p&gt;Resolve no route: 0 Resolve error: 0&lt;/p&gt;

&lt;p&gt;Resolve filtered: 0 Notify filtered: 0&lt;/p&gt;

&lt;p&gt;In kbytes: 100127811 In packets: 1164651571&lt;/p&gt;

&lt;p&gt;Out kbytes: 10827919 Out packets: 80039321&lt;/p&gt;

&lt;p&gt;&amp;hellip;snip&amp;hellip;&lt;/p&gt;

&lt;p&gt;[[ This is a content summary only. Visit my website for full links, other content, and more! ]]&lt;/p&gt;
</description>
    </item>
    
    <item>
      <title>Android (Nexus One) or iPhone?</title>
      <link>https://forwardingplane.net/post/android-nexus-one-or-iphone/</link>
      <pubDate>Wed, 13 Oct 2010 09:56:00 +0000</pubDate>
      
      <guid>https://forwardingplane.net/post/android-nexus-one-or-iphone/</guid>
      <description>&lt;p&gt;*Cross posted from my &lt;a href=&#34;http://www.nickburaglio.com/&#34;&gt;personal blog&lt;/a&gt; since it&amp;rsquo;s a technical subject*&lt;/p&gt;

&lt;p&gt;&lt;a href=&#34;http://handies.phandroid.com/media/nexus-one-1269816018-806.jpg&#34;&gt;&lt;img src=&#34;http://handies.phandroid.com/media/nexus-one-1269816018-806.jpg&#34; alt=&#34;&#34; /&gt;&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;That is the million dollar question on many phone geeks minds.&lt;/p&gt;

&lt;p&gt;The iPhone is really a love it or hate it kind of device, much like Apple stuff in general. Android, on the other hand, is still new enough that some folks are still ignoring it. Well, I wanted to know which worked better for me, and so I set out to test them both.&lt;/p&gt;

&lt;p&gt;For the purposes of this test, I&amp;rsquo;m used an HTC Nexus One running both Stock and CyanogenMod firmware (Android 2.2) and an Apple iPhone 4 running iOS 4.1.&lt;/p&gt;

&lt;p&gt;I must say, the results tha t I got were not what I expected. I&amp;rsquo;ve been a mac guy for a REALLY long time, even dating back to the Apple ][ days. That said, I&amp;rsquo;m not as religious about it as some folks are. I gave up my beloved PowerMac 7100 in favor of a BSD machine back in the 1990&amp;rsquo;s and have been a champion of the BSD OS ever since.&lt;/p&gt;

&lt;p&gt;A little history, I&amp;rsquo;ve been an iPhone user since the 2g. I&amp;rsquo;ve done all of the jailbreaking and unlocking, even when it wasn&amp;rsquo;t straightforward and &amp;ldquo;one-click&amp;rdquo;. I&amp;rsquo;m also pretty familiar with Linux and I prefer a command line over a gui.&lt;/p&gt;

&lt;p&gt;I thought that the Android phone would be a perfect next step for someone who likes to tinker with the UI, tweak settings and generally be able to control most aspects of his mobile device.&lt;/p&gt;

&lt;p&gt;&amp;hellip;.and that was mostly true. I LOVED the fact that my stuff was stored in the cloud. The fact that I could default my N1 and lock in as myself and all of my apps just showed back up with absolutely 0 user input (other than logging in) was awesome to me. A few apps had me totally sold. &lt;a href=&#34;http://blog.350nice.com/wp/products/picpush&#34;&gt;PicPush&lt;/a&gt;, for one, was a great app. Automatically doing things like pushing my images into the &amp;ldquo;cloud&amp;rdquo; (flickr and picasa) was amazing. The one BIG deal to me, though, was &lt;a href=&#34;http://www.androlib.com/android.application.tv-studer-smssync-jjD.aspx&#34;&gt;SMS backup&lt;/a&gt;. the idea of always having my text messages backed up into my email, tagged and all, was too appealing to pass up. I LOVED this ability. I get a lot of txt messages and, unfortunately, a lot of important info comes in that way. The fact that I can have it show up somewhere else, backed up, with no work on my part was&amp;hellip;sublime. Simple Google voice integration was a huge plus as well.&lt;/p&gt;

&lt;p&gt;&lt;a href=&#34;http://macosrumors.com/wp-content/uploads/2010/06/iphone4-thumb-640xauto-14425.jpg&#34;&gt;&lt;img src=&#34;http://macosrumors.com/wp-content/uploads/2010/06/iphone4-thumb-640xauto-14425.jpg&#34; alt=&#34;&#34; /&gt;&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;&amp;hellip;Then I played with my wife&amp;rsquo;s iPhone 4. We did facetime with our son while away for a weekend. &lt;a href=&#34;http://www.tuaw.com/2010/09/17/gv-connect-app-for-google-voice-now-available/&#34;&gt;The allowed the Google Voice apps back in the iTunes store&lt;/a&gt;, so no more jailbreaking needed for useful apps. Backgrounding processes works. Multiple Exchange accounts now supported without jailbreaking and hacking the plist.&lt;/p&gt;

&lt;p&gt;*sigh*&lt;/p&gt;

&lt;p&gt;This is going to be a harder sell than I originally suspected.&lt;/p&gt;

&lt;p&gt;So I set out to test my theory. I bought an iPhone 4 (after selling my 3g on ebay to ofset the cost). I fully expected that I&amp;rsquo;d like the N1 better. Simply comparing the hardware of the devices is pretty close, as described &lt;a href=&#34;http://www.phonescoop.com/phones/compare.php?id%5B%5D=2520&amp;amp;id%5B%5D=2798&amp;amp;id%5B%5D=&amp;amp;id%5B%5D=&amp;amp;id%5B%5D=&#34;&gt;here at phonescoop.com&lt;/a&gt;. In my opinion (and for the things important to me) the phones really cancel each others strong points out with attributes like removable media and battery (N1) with better screen and MUCH better visibility in sunlight (iPhone).&lt;/p&gt;

&lt;p&gt;Here is my rough (and obviously biased toward things I think are and aren&amp;rsquo;t important) rundown:&lt;/p&gt;

&lt;p&gt;&lt;strong&gt;Screen&lt;/strong&gt;: The iPhone has better resolution, far better visibility in the sun. &lt;strong&gt;iPhone, without question.&lt;/strong&gt;&lt;/p&gt;

&lt;p&gt;&lt;strong&gt;Apps&lt;/strong&gt;: Close. Android has more tuning and tweaking apps, allows for the UI to be bent and molded. iPhone has FAR more apps and many are much more refined. My belief is that after Android has been around as long as the iPhone and in as many dev hands, this will level out and maybe even surpass (since apple isn&amp;rsquo;t strangling the dev abilities). &lt;strong&gt;Close, but I&amp;rsquo;m going to have to give this one to iPhone based on the sheer number and quality of apps.&lt;/strong&gt;&lt;/p&gt;

&lt;p&gt;&lt;strong&gt;Compatibility&lt;/strong&gt;: Also close. I both love and hate that I need iTunes. Syncing my contacts, mail and calendars to the &amp;ldquo;cloud&amp;rdquo; on my iPhone helps, but ultimately, probably slightly better for Android. Media sync kinda sucks for anyone that has bought straight into iTunes for cataloging music and movies. iPhoto support is nice, though. &lt;a href=&#34;http://www.doubletwist.com/&#34;&gt;DoubleTwist&lt;/a&gt; for Android is still buggy and lacks features in my experience. I use only UNIX and Mac, so I never looked into any windows software since it would only be foreign to me and I have not owned a windows machine in more than 10 years. In general, I&amp;rsquo;d probably have to give this one a tie based on the trade offs. &lt;strong&gt;For me, iPhone was the clear winner.&lt;/strong&gt;&lt;/p&gt;

&lt;p&gt;&lt;strong&gt;Media support&lt;/strong&gt;: Also a trade off. Android has WAY more codecs that it can support (especially if you use a cool custom ROM like &lt;a href=&#34;http://www.cyanogenmod.com/&#34;&gt;CyanogenMod&lt;/a&gt;), but for someone that has been cataloging music with iTunes since it came out and has an ENORMOUS music and movie collection with smart playlists galore, iTunes support is the clear winner. (Obviously this one is clearly biased since I&amp;rsquo;ve bought into iTunes hook, line and sinker).&lt;/p&gt;

&lt;p&gt;Editing 720p video right on my iPhone works seamlessly. &lt;strong&gt;I&amp;rsquo;m going to have to go with iPhone on this one.&lt;/strong&gt;&lt;/p&gt;

&lt;p&gt;&lt;strong&gt;Multimedia Messaging&lt;/strong&gt;: A minor or non issue for some but I use it a lot. FaceTime is amazing and we use it quite a bit. Sending MMS movies and uploading to youtube seems far better on the iPhone. I never could get MMS movies to work on my N1 and the upload to youtube was pretty rough, sometimes failing completely. &lt;strong&gt;I&amp;rsquo;m gonna give this one to the iPhone.&lt;/strong&gt;&lt;/p&gt;

&lt;p&gt;&lt;strong&gt;UI&lt;/strong&gt;: Also tough. Mods have made Android very elegant. The ability to tweak the UI and add features is a clear advantage to me. However, the fact that Apple keeps a lockdown on that stuff means that I always have a consistant experience. The UI on the iPhone is obviously elegant and sleek. The trade offs (for me) cancel each other out. &lt;strong&gt;For my money this is going to have to be a tie.&lt;/strong&gt;&lt;/p&gt;

&lt;p&gt;&lt;strong&gt;802.11 Network&lt;/strong&gt;: Both do 802.11N on the 2.4ghz band. Both do WPA2 enterprise. Nexus One can create a hotspot without me jailbreaking it and/or paying AT&amp;amp;T. &lt;strong&gt;Nexus One CLEAR winner.&lt;/strong&gt;&lt;/p&gt;

&lt;p&gt;&lt;strong&gt;Storage:&lt;/strong&gt; My iPhone has 16G of storage total. ~14ish is usable. My N1 has 512M on board and a removable microSD card that is 16G. C&lt;strong&gt;learly the Nexus One wins this category for having removable media.&lt;/strong&gt;&lt;/p&gt;

&lt;p&gt;&lt;strong&gt;Batter Life:&lt;/strong&gt; I get a lot of calls and txts (and email) all day. I can go about 2 days with the iPhone 4 with the same accounts configured and txt/data/phone usage as I get almost 24hours with the Nexus One.&lt;/p&gt;

&lt;p&gt;However, I can charge the Nexus One with any standard MicroUSB cable and change out the battery with a fresh one. I can also replace the battery if it goes bad (easily). &lt;strong&gt;Advantage, Nexus One.&lt;/strong&gt;&lt;/p&gt;

&lt;p&gt;Overall, the jury is still out, as I still have both. Lately, though, I;ve been considering selling the N1 and getting an iPad. I do, however, believe that Android is probably going to grab a significant market share since there are a LOT of apple haters out there, and there are even more companies grabbing the OS since it&amp;rsquo;s open source.&lt;/p&gt;

&lt;p&gt;[[ This is a content summary only. Visit my website for full links, other content, and more! ]]&lt;/p&gt;
</description>
    </item>
    
    <item>
      <title>iPhone 4 or Android 2.2?</title>
      <link>https://forwardingplane.net/post/iphone-4-or-android-2-2/</link>
      <pubDate>Sat, 02 Oct 2010 17:36:00 +0000</pubDate>
      
      <guid>https://forwardingplane.net/post/iphone-4-or-android-2-2/</guid>
      <description>&lt;p&gt;I have been fortunate enough to have had a decent smartphone for the last 8 or so years, and mid to&lt;/p&gt;
</description>
    </item>
    
    <item>
      <title>SRX IPv6 flow based processing</title>
      <link>https://forwardingplane.net/post/srx-ipv6-flow-based-processing/</link>
      <pubDate>Thu, 16 Sep 2010 17:18:00 +0000</pubDate>
      
      <guid>https://forwardingplane.net/post/srx-ipv6-flow-based-processing/</guid>
      <description>&lt;p&gt;One of our plans is to consolidate as many of the egress trafic paths as possible.  To facilitate this, we had to do some things like buy carrier grade equipment.  Enter the &lt;a href=&#34;http://bit.ly/9jrUiG&#34;&gt;SRX 5800&lt;/a&gt;.  No one really does IPS/IDP+Firewall quite like the SRX.  After extensive research and exhaustive hands on testing with quite a bit of equipment, that is what we settled on.  Even the IBM &amp;ldquo;technical evangelist&amp;rdquo; guy that came to talk to us said &amp;ldquo;No one really does it like they do&amp;rdquo; when referring to Juniper and 10G firewall/IPS.&lt;/p&gt;

&lt;p&gt;&lt;a href=&#34;http://www.juniper.net/shared/img/products/srx-series/srx5800/lbox-srx5800-left.jpg&#34;&gt;&lt;img src=&#34;http://www.juniper.net/shared/img/products/srx-series/srx5800/lbox-srx5800-left.jpg&#34; alt=&#34;&#34; /&gt;&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;Lets make one thing clear, IPv6 isn&amp;rsquo;t going away.  We&amp;rsquo;ll all be using in in the next few years, and so, to that end, it needs to work through our network as closely to the way folks are using the current resources as we can make it&amp;hellip;.within the confines of our resources and the limitations of IPv4 and IPv6 respectively.&lt;/p&gt;

&lt;p&gt;To make IPv6 process similarly to IPv4 on the SRX 5800 cluster, we have to enable flow based security processing for it.  To make that happen, you have to do the following things, as documented &lt;a href=&#34;http://bit.ly/9jrUiG&#34;&gt;here&lt;/a&gt;:&lt;/p&gt;

&lt;p&gt;set security forwarding-options family inet6 mode flow-based&lt;/p&gt;

&lt;p&gt;Enabling this actually requires a reboot of the boxes, and on a chassis cluster, I&amp;rsquo;ve been told by our Agility JTAC guy (and learned the herd way because I&amp;rsquo;m stubborn like that) that you need to reboot both cluster nodes at the same time (which I find dumb since the purpose of a firewall cluster is almost always redundancy).&lt;/p&gt;

&lt;p&gt;Regardless, I used the recommended method and kicked the boxes after a commit check.&lt;/p&gt;

&lt;p&gt;commit check&lt;/p&gt;

&lt;p&gt;The router then spits out the following information after the commit check:&lt;/p&gt;

&lt;p&gt;node0:&lt;br /&gt;
warning: You have enabled/disabled inet6 flow.&lt;br /&gt;
You must reboot the system for your change to take effect.&lt;br /&gt;
If you have deployed a cluster, be sure to reboot all nodes.&lt;br /&gt;
configuration check succeeds&lt;/p&gt;

&lt;p&gt;node1:&lt;br /&gt;
warning: You have enabled/disabled inet6 flow.&lt;br /&gt;
You must reboot the system for your change to take effect.&lt;br /&gt;
If you have deployed a cluster, be sure to reboot all nodes.&lt;br /&gt;
configuration check succeeds&lt;/p&gt;

&lt;p&gt;From here I like to comment all of my commits, as it&amp;rsquo;s just good practice and it will be logged on your handy &lt;a href=&#34;http://campin.net/syslog-ng/faq.html&#34;&gt;syslog server&lt;/a&gt; for later use or reference.&lt;/p&gt;

&lt;p&gt;commit comment &amp;ldquo;Enabling Flow-Based Processing for IPv6 Traffic&amp;rdquo;&lt;/p&gt;

&lt;p&gt;And from there, a reboot of both nodes (at the same time) is necessary..&lt;/p&gt;

&lt;p&gt;request system reboot&lt;/p&gt;

&lt;p&gt;And then, we wait&amp;hellip;&amp;hellip;&lt;/p&gt;

&lt;p&gt;&amp;hellip;..and wait some more&amp;hellip;&lt;/p&gt;

&lt;p&gt;&amp;hellip;.and then&amp;hellip;..the prompt on the console is back.&lt;/p&gt;

&lt;p&gt;&amp;hellip;&amp;hellip;&amp;hellip;..and after about 6-7 minutes, we have OSPF adjacencies and packets are flowing.  The SPCs take a bit to self test, fully boot and start processing traffic, as I would expect from something processing so many pieces of so much traffic.  &lt;/p&gt;

&lt;p&gt;Now we need to verify that what we did actually worked.  From the SRX, check the security flow status:&lt;/p&gt;

&lt;p&gt;show security flow status&lt;/p&gt;

&lt;p&gt;node0:&lt;br /&gt;
-&amp;mdash;&amp;mdash;&amp;mdash;&amp;mdash;&amp;mdash;&amp;mdash;&amp;mdash;&amp;mdash;&amp;mdash;&amp;mdash;&amp;mdash;&amp;mdash;&amp;mdash;&amp;mdash;&amp;mdash;&amp;mdash;&amp;mdash;&amp;mdash;&amp;mdash;&amp;mdash;&amp;mdash;&amp;mdash;&amp;mdash;&amp;mdash;-&lt;br /&gt;
  Flow forwarding mode:&lt;br /&gt;
    Inet forwarding mode: flow based&lt;br /&gt;
    Inet6 forwarding mode: flow based&lt;br /&gt;
    MPLS forwarding mode: drop&lt;br /&gt;
    ISO forwarding mode: drop&lt;br /&gt;
    Flow trace status&lt;br /&gt;
    Flow tracing status: off&lt;/p&gt;

&lt;p&gt;node1:&lt;br /&gt;
-&amp;mdash;&amp;mdash;&amp;mdash;&amp;mdash;&amp;mdash;&amp;mdash;&amp;mdash;&amp;mdash;&amp;mdash;&amp;mdash;&amp;mdash;&amp;mdash;&amp;mdash;&amp;mdash;&amp;mdash;&amp;mdash;&amp;mdash;&amp;mdash;&amp;mdash;&amp;mdash;&amp;mdash;&amp;mdash;&amp;mdash;&amp;mdash;-&lt;br /&gt;
  Flow forwarding mode:&lt;br /&gt;
    Inet forwarding mode: flow based&lt;br /&gt;
    Inet6 forwarding mode: flow based&lt;br /&gt;
    MPLS forwarding mode: drop&lt;br /&gt;
    ISO forwarding mode: drop&lt;br /&gt;
    Flow trace status&lt;br /&gt;
    Flow tracing status: off&lt;/p&gt;

&lt;p&gt;We&amp;rsquo;re looking for:&lt;/p&gt;

&lt;p&gt;    Inet6 forwarding mode: flow based&lt;/p&gt;

&lt;p&gt;This would have said &amp;ldquo;drop&amp;rdquo; before the change. &lt;/p&gt;

&lt;p&gt;We hope to actually swing over our IPv6 traffic soon and start processing it on the SRXs.  I&amp;rsquo;ll post notes as soon as we go forward with that.  &lt;/p&gt;

&lt;p&gt;[[ This is a content summary only. Visit my website for full links, other content, and more! ]]&lt;/p&gt;
</description>
    </item>
    
    <item>
      <title>NAT IPv4 and Public IPv6</title>
      <link>https://forwardingplane.net/post/nat-ipv4-and-public-ipv6/</link>
      <pubDate>Fri, 10 Sep 2010 23:51:00 +0000</pubDate>
      
      <guid>https://forwardingplane.net/post/nat-ipv4-and-public-ipv6/</guid>
      <description>&lt;p&gt;I&amp;rsquo;ve recently taken to thinking a lot more about IPv6.  I&amp;rsquo;ve been using an &lt;a href=&#34;http://www.tunnelbroker.net/&#34;&gt;HE tunnel&lt;/a&gt; for as long as I can remember at home.  This poses an interesting question about addressing.  Since I have not had a public address block at home for almost 7 years, I have been using NAT for IPv4.  However, my IPv6 netblocks are a /64 and a /48, which are both far more address space than I could ever possibly use.&lt;br /&gt;
There are more IPv4/IPv6 transitional mechanisms than a person could ever need, and keeping them straight, in addition to throwing an existing NAT IPv4 network (potentially a huge one) is tough.&lt;br /&gt;
How are other large IPv4 deployments with NAT handling the inclusion of public IPv6 addresses?  One would guess that many of the sites are simply ignoring IPv6 until they absolutely have to use it.  Other sites may be deploying it in small pockets and not routing it offsite.  Yet other sites may be pushing it out and just making it a default deny inbound policy behind existing firewalls.&lt;br /&gt;
Of those solutions, none really seem that appealing to me.  Maybe I need to shift my thinking about the public/private aspect of v4 in comparison to v6.&lt;br /&gt;
To that end, how does one create tiered firewall groups for IPv6 (a topic for yet another set of poorly written notes)?&lt;/p&gt;

&lt;p&gt;A few ideas that I&amp;rsquo;ve kicked around in my head were these:&lt;/p&gt;

&lt;p&gt;1. No IPv6 (not really an option, but here for completeness)&lt;/p&gt;

&lt;p&gt;2. IPv6 in a fully firewalled state (default deny inbound).  Not the greatest solution considering the additional headers in IPv6 and it&amp;rsquo;s native support for providing message authentication and integrity (AH) and message confidentiality and the integrity (ESP).&lt;/p&gt;

&lt;p&gt;3. Different security models for the protocols (messy and hard to manage in the long run).&lt;/p&gt;

&lt;p&gt;4.&lt;a href=&#34;http://en.wikipedia.org/wiki/Unique_local_address&#34;&gt;ULA&lt;/a&gt; (yuck; its not really 1918 space for IPv6 and doesn&amp;rsquo;t solve the off-the-site-connectivity problem anyway unless we use an &lt;a href=&#34;http://en.wikipedia.org/wiki/Application-level_gateway&#34;&gt;ALG&lt;/a&gt;).&lt;/p&gt;

&lt;p&gt;&lt;a href=&#34;http://yorickdowne.wordpress.com/2010/01/15/ipv6-addressing-renumbering/&#34;&gt;This&lt;/a&gt; was an interesting read on a very similar subject.&lt;/p&gt;
</description>
    </item>
    
    <item>
      <title>NFS mounting a NAS with MacOS 10.6 (Snow Leopard)</title>
      <link>https://forwardingplane.net/post/nfs-mounting-a-nas-with-macos-10-6-snow-leopard/</link>
      <pubDate>Mon, 06 Sep 2010 11:00:00 +0000</pubDate>
      
      <guid>https://forwardingplane.net/post/nfs-mounting-a-nas-with-macos-10-6-snow-leopard/</guid>
      <description>&lt;p&gt;I know this is &lt;a href=&#34;http://hints.macworld.com/article.php?story=20090830073912179&#34;&gt;documented elsewhere&lt;/a&gt;, but this was a pain for me, so I wanted to take some notes.  I have several Snow Leopard (MAcOS 10.6) Macs and a Netgear DNS-323.  I want to mount the drive using NFS and any good UNIX admin would.&lt;br /&gt;
Unlike older versions of the Mac OS, NFS mounts are now handled under the Disk Utility application (which seems odd to me, but whatever).&lt;br /&gt;
So, to make this work right I had to do the following:&lt;br /&gt;
First, I had to make sure that the NFS Add-on was installed on the DNS-323.&lt;br /&gt;
Second, Open up Disk utility and go to file, NFS mounts.&lt;/p&gt;

&lt;p&gt;&lt;a href=&#34;http://4.bp.blogspot.com/_t5EEUl7btNU/TIR2joSzRDI/AAAAAAAAC_A/jIWYuHwgZ-c/s1600/Screen+shot+2010-09-06+at+12.02.59+AM.png&#34;&gt;&lt;img src=&#34;http://4.bp.blogspot.com/_t5EEUl7btNU/TIR2joSzRDI/AAAAAAAAC_A/jIWYuHwgZ-c/s320/Screen+shot+2010-09-06+at+12.02.59+AM.png&#34; alt=&#34;&#34; /&gt;&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;This will open up a new window like this:&lt;/p&gt;

&lt;p&gt;&lt;a href=&#34;http://2.bp.blogspot.com/_t5EEUl7btNU/TIR2u9UMXQI/AAAAAAAAC_I/oZBsg4qkZ3Y/s1600/Screen+shot+2010-09-06+at+12.03.18+AM.png&#34;&gt;&lt;img src=&#34;http://2.bp.blogspot.com/_t5EEUl7btNU/TIR2u9UMXQI/AAAAAAAAC_I/oZBsg4qkZ3Y/s320/Screen+shot+2010-09-06+at+12.03.18+AM.png&#34; alt=&#34;&#34; /&gt;&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;From here, add your NFS mount location that you&amp;rsquo;ve specified within the NFS add-on (setting that part up is beyond the scope of this tutorial, you should know how to do that if you&amp;rsquo;ve gotten this far).&lt;/p&gt;
</description>
    </item>
    
    <item>
      <title>Viewing ipv6 router advertisements</title>
      <link>https://forwardingplane.net/post/viewing-ipv6-router-advertisements/</link>
      <pubDate>Fri, 03 Sep 2010 19:00:00 +0000</pubDate>
      
      <guid>https://forwardingplane.net/post/viewing-ipv6-router-advertisements/</guid>
      <description>&lt;p&gt;I knew a tool like this had to exist, but I had never needed to look in the past.  While debugging a RA problem, I come upon the need to view IPv6 router advertisements.  How can one do this?  tcpdump?  Yeah, I guess that could work.  It&amp;rsquo;s almost like using a bulldozer when a wheelbarrow is all you need, though.  I could use &lt;a href=&#34;http://ndpmon.sourceforge.net/&#34;&gt;ndpmon&lt;/a&gt;, I suppose, but that, too seems like overkill.&lt;br /&gt;
So, the search began. After about 10 seconds of google searching&amp;hellip;.. Success!  A tool, does in fact exist for viewing exactly that type of packet.&lt;br /&gt;
Enter &lt;a href=&#34;http://gd.tuwien.ac.at/linuxcommand.org/man_pages/radvdump8.html&#34;&gt;radvdump&lt;/a&gt;.  It is part of the marvelous &lt;a href=&#34;http://www.freebsd.org/cgi/man.cgi?query=rtadvd&amp;amp;sektion=8&#34;&gt;rtadvd&lt;/a&gt; project.  It also exists in &lt;a href=&#34;http://www.macports.org/&#34;&gt;MacPorts&lt;/a&gt;.&lt;/p&gt;

&lt;p&gt;Sweet, now I can see my IPv6 router advertisements in a very simple manner.  The syntax is very straightforward, the command sudo /opt/local/sbin/radvdump will yield you pretty much everything you need to know about what is in your router advertisement:&lt;/p&gt;

&lt;p&gt;# radvd configuration generated by radvdump 1.6&lt;br /&gt;
# based on Router Advertisement from fe80::20d:b9ff:fe18:8ca1&lt;br /&gt;
# received by interface en0&lt;/p&gt;

&lt;p&gt;interface en0&lt;br /&gt;
{&lt;br /&gt;
AdvSendAdvert on;&lt;br /&gt;
# Note: {Min,Max}RtrAdvInterval cannot be obtained with radvdump&lt;br /&gt;
AdvManagedFlag off;&lt;br /&gt;
AdvOtherConfigFlag off;&lt;br /&gt;
AdvReachableTime 0;&lt;br /&gt;
AdvRetransTimer 0;&lt;br /&gt;
AdvCurHopLimit 64;&lt;br /&gt;
AdvDefaultLifetime 1800;&lt;br /&gt;
AdvHomeAgentFlag off;&lt;br /&gt;
AdvDefaultPreference medium;&lt;br /&gt;
AdvSourceLLAddress on;&lt;/p&gt;

&lt;p&gt;prefix 2001:470:xxxx:xxx::/64&lt;br /&gt;
{&lt;br /&gt;
AdvValidLifetime 2592000;&lt;br /&gt;
AdvPreferredLifetime 604800;&lt;br /&gt;
AdvOnLink on;&lt;br /&gt;
AdvAutonomous on;&lt;br /&gt;
AdvRouterAddr off;&lt;br /&gt;
}; # End of prefix definition&lt;/p&gt;

&lt;p&gt;prefix 2001:470:xxxx:xxx::/64&lt;br /&gt;
{&lt;br /&gt;
AdvValidLifetime 2592000;&lt;br /&gt;
AdvPreferredLifetime 604800;&lt;br /&gt;
AdvOnLink on;&lt;br /&gt;
AdvAutonomous on;&lt;br /&gt;
AdvRouterAddr off;&lt;br /&gt;
}; # End of prefix definition&lt;/p&gt;

&lt;p&gt;}; # End of interface definition&lt;/p&gt;

&lt;p&gt;Once you have all of that working, head over to see the &lt;a href=&#34;http://www.kame.net/&#34;&gt;dancing kame&lt;/a&gt; (if you&amp;rsquo;re old school) of just head to &lt;a href=&#34;http://www.buraglio.com/&#34;&gt;my main domain&lt;/a&gt; and it&amp;rsquo;ll show you your ipv4 or ipv6 address at the top. Alternatively, you can use &lt;a href=&#34;http://www.google.com/intl/en/ipv6/&#34;&gt;google over ipv6&lt;/a&gt; in a number of &lt;a href=&#34;http://ipv6.google.com/&#34;&gt;ways&lt;/a&gt;.&lt;/p&gt;

&lt;p&gt;[[ This is a content summary only. Visit my website for full links, other content, and more! ]]&lt;/p&gt;
</description>
    </item>
    
    <item>
      <title>Setting IPv6 precedence under FreeBSD</title>
      <link>https://forwardingplane.net/post/setting-ipv6-precedence-under-freebsd/</link>
      <pubDate>Thu, 02 Sep 2010 18:44:00 +0000</pubDate>
      
      <guid>https://forwardingplane.net/post/setting-ipv6-precedence-under-freebsd/</guid>
      <description>&lt;p&gt;I had been discussing &lt;a href=&#34;http://en.wikipedia.org/wiki/IPv6&#34;&gt;IPv6&lt;/a&gt; address precedence recently and realized that I&amp;rsquo;d never really messed with it.  I have a FreeBSD host that has multiple IPv6 addresses, an &lt;a href=&#34;http://standards.ieee.org/regauth/oui/tutorials/EUI64.html&#34;&gt;EUI-64&lt;/a&gt; address as well as a statically assigned address.  If you don&amp;rsquo;t know what IPv6 or &lt;a href=&#34;http://standards.ieee.org/regauth/oui/tutorials/EUI64.html&#34;&gt;EUI-64&lt;/a&gt; is, I suggest you brush up because &lt;a href=&#34;http://en.wikipedia.org/wiki/IPv6&#34;&gt;IPv6&lt;/a&gt; is coming and it&amp;rsquo;s coming sooner than you thing.&lt;/p&gt;

&lt;p&gt;Using the &lt;a href=&#34;http://man.freetechsecrets.com/ip6addrctl.8.html&#34;&gt;ip6addrctl&lt;/a&gt; command I can manipulate which  address is preferred for outbound connections.&lt;/p&gt;

&lt;p&gt;[buraglio@synack:~ ] ip6addrctl show                                                                                        &lt;br /&gt;
Prefix                          Prec Label      Use&lt;br /&gt;
::&lt;sup&gt;1&lt;/sup&gt;&amp;frasl;&lt;sub&gt;128&lt;/sub&gt;                           50     0        0&lt;br /&gt;
::/0                              40     1  1165005&lt;br /&gt;
2002::/16                         30     2        0&lt;br /&gt;
::/96                             20     3        0&lt;br /&gt;
::ffff:0.0.0.0/96                 10     4        0&lt;br /&gt;
2620:0:e00:4000::/64               1     0       63&lt;/p&gt;

&lt;p&gt;This is the default configuration on my FreeBSD 7.1 machine.  Here we can see that I have several IPv6 addresses:&lt;/p&gt;

&lt;p&gt;[buraglio@synack:~ ] ifconfig                                                                                               &lt;1215&gt;&lt;/p&gt;

&lt;p&gt;le0: flags=8843 metric 0 mtu 1500&lt;/p&gt;

&lt;p&gt;options=8&lt;/p&gt;

&lt;p&gt;ether 00:0c:29:b6:96:ba&lt;/p&gt;

&lt;p&gt;inet6 fe80::20c:29ff:feb6:96ba%le0 prefixlen 64 scopeid 0x1 &lt;/p&gt;

&lt;p&gt;inet6 2620:0:e00:4000::146 prefixlen 64 &lt;/p&gt;

&lt;p&gt;inet6 2620:0:e00:4000:20c:29ff:feb6:96ba prefixlen 64 &lt;/p&gt;

&lt;p&gt;inet 128.174.43.146 netmask 0xffffff80 broadcast 128.174.43.255&lt;/p&gt;

&lt;p&gt;media: Ethernet autoselect&lt;/p&gt;

&lt;p&gt;status: active&lt;/p&gt;

&lt;p&gt;Obviously the fe80 address is my link local.  The 2620:0:e00:4000::146 is a manually assigned address and 2620:0:e00:4000:20c:29ff:feb6:96ba is my &lt;a href=&#34;http://standards.ieee.org/regauth/oui/tutorials/EUI64.html&#34;&gt;EUI-64&lt;/a&gt; address.I believe the default behavior on FreeBSD is to prefer the manually configured address, which is the behavior that is exhibited when I test it.  &lt;/p&gt;

&lt;p&gt;buraglio@synack:~ ] ping6 remote.buraglio.com                                                                              &lt;1218&gt;&lt;/p&gt;

&lt;p&gt;PING6(56=40+8+8 bytes) 2620:0:e00:4000::146 &amp;ndash;&amp;gt; 2607:f2f8:4980::2&lt;/p&gt;

&lt;p&gt;16 bytes from 2607:f2f8:4980::2, icmp_seq=0 hlim=47 time=44.454 ms&lt;/p&gt;

&lt;p&gt;16 bytes from 2607:f2f8:4980::2, icmp_seq=1 hlim=47 time=64.172 ms&lt;/p&gt;

&lt;p&gt;results in&lt;/p&gt;

&lt;p&gt;[buraglio@collector:~ ] sudo tcpdump ip6 proto 58&lt;/p&gt;

&lt;p&gt;08:30:17.381695 IP6 2620:0:e00:4000::146 &amp;gt; 2607:f2f8:4980::2: ICMP6, echo request, seq 0, length 16&lt;/p&gt;

&lt;p&gt;08:30:17.381781 IP6 2607:f2f8:4980::2 &amp;gt; 2620:0:e00:4000::146: ICMP6, echo reply, seq 0, length 16&lt;/p&gt;

&lt;p&gt;08:30:18.951558 IP6 2620:0:e00:4000::146 &amp;gt; 2607:f2f8:4980::2: ICMP6, echo request, seq 1, length 16&lt;/p&gt;

&lt;p&gt;08:30:18.951641 IP6 2607:f2f8:4980::2 &amp;gt; 2620:0:e00:4000::146: ICMP6, echo reply, seq 1, length 16&lt;/p&gt;

&lt;p&gt;If I change the precedence to prefer the EUI-64 address, it will source that traffic from there, as such:&lt;/p&gt;

&lt;p&gt;sudo ip6addrctl add 2620:0:e00:4000:20c:29ff:feb6:96ba/64 1 primary                              &lt;/p&gt;

&lt;p&gt;and do the experiment again, I see different results.&lt;/p&gt;
</description>
    </item>
    
    <item>
      <title>Updating SRX IDP signatures</title>
      <link>https://forwardingplane.net/post/updating-srx-idp-signatures/</link>
      <pubDate>Thu, 02 Sep 2010 18:16:00 +0000</pubDate>
      
      <guid>https://forwardingplane.net/post/updating-srx-idp-signatures/</guid>
      <description>&lt;p&gt;*IDP signatures need to be updated often.  On the SRX platform, there is also the notion of a &amp;ldquo;detector&amp;rdquo;.  This also meeds to be updated on a regular basis. it seems.  Over the past few weeks, we&amp;rsquo;ve needed to update the IDP signatures and detector on our SRX 5800 cluster several times, and the results have normally been fine.&lt;br /&gt;
Updating the IDP signatures has never been &lt;strong&gt;that&lt;/strong&gt; big of a problem (see postings about updating stuff on cluster nodes).  But we ran into issues due to the fact that we&amp;rsquo;d recently disabled application id to troubleshoot another problem.  This was basically causing all of our updates to fail on node1 (the secondary node) when using our &lt;a href=&#34;http://www.juniper.net/techpubs/software/junos/junos82/swconfig82-automation/html/op-scripts-overview.html&#34;&gt;op script&lt;/a&gt; to push the updates over (sorry, I can&amp;rsquo;t share it).&lt;/p&gt;

&lt;p&gt;A few things that I like to make sure to run before and after all of my SRX work are the following:&lt;/p&gt;

&lt;p&gt;show chassis cluster status&lt;br /&gt;
show ospf neighbor brief&lt;br /&gt;
show security idp attack table&lt;/p&gt;

&lt;p&gt;If I&amp;rsquo;m doing work on the IDP engine, I also want to see the status of that:&lt;/p&gt;

&lt;p&gt;request security idp security-package download status&lt;br /&gt;
request security idp security-package install status&lt;br /&gt;
show services application-identification counter*&lt;/p&gt;

&lt;p&gt;Anyway, for anyone else running into this odd behavior, to finally update it was a simple matter of deleting app-id before running the updates.&lt;/p&gt;

&lt;p&gt;edit &lt;br /&gt;
delete services application-id&lt;br /&gt;
commit comment &amp;ldquo;delete services application-id&amp;rdquo; &lt;br /&gt;
request security idp security-package download full-update&lt;br /&gt;
request security idp security-package install &lt;br /&gt;
op instlll-idp-updates&lt;/p&gt;

&lt;p&gt;At that point run the status commands request security idp security-package install status. It should yield something like Done;Attack DB update : successful on both nodes.&lt;/p&gt;

&lt;p&gt;*It should be noted that Application ID is now in services, whereas I believe it used to be down in security.&lt;/p&gt;

&lt;p&gt;[[ This is a content summary only. Visit my website for full links, other content, and more! ]]&lt;/p&gt;
</description>
    </item>
    
    <item>
      <title>RADIUS and AAA on IOS</title>
      <link>https://forwardingplane.net/post/radius-and-aaa-on-ios/</link>
      <pubDate>Thu, 02 Sep 2010 00:44:00 +0000</pubDate>
      
      <guid>https://forwardingplane.net/post/radius-and-aaa-on-ios/</guid>
      <description>&lt;p&gt;I&amp;rsquo;m not the greatest at AAA on Cisco&amp;rsquo;s IOS. I always have to think about how to order things, and to test fallback (which you should do anyway). One of the caveats that I always overlook, no matter how many times I set this up, is that Cisco IOS software attempts authentication with the next listed authentication method only when there is no response from the previous method. If authentication fails at any point in this cycle—meaning that the security server or local username database responds by denying the user access—the authentication process stops and no other authentication methods are attempted&lt;a href=&#34;http://www.cisco.com/en/US/docs/ios/12_2/security/configuration/guide/scfaaa.html&#34;&gt;*&lt;/a&gt;.  But, as I&amp;rsquo;ve said many, many times before, being able to look for documentation and knowing where to find information is just as valuable as having great retention.&lt;/p&gt;

&lt;p&gt;I almost always have to go and look for documentation for IOS references.    &lt;/p&gt;

&lt;p&gt;What I want, really, is for radius to be consulted for all ssh logins, no login on console (this is controlled by a console server that requires other credentials that are not network dependent and maintained separately), and in the event of a RADIUS failure, for the authentication to fall back to the enable password.  For this to work, I had to do the following:&lt;/p&gt;

&lt;p&gt;aaa new-model&lt;/p&gt;

&lt;p&gt;aaa authentication login default local group radius enable&lt;/p&gt;

&lt;p&gt;aaa authentication login console none&lt;/p&gt;

&lt;p&gt;aaa authentication enable default enable&lt;/p&gt;

&lt;p&gt;aaa authorization exec console none &lt;/p&gt;

&lt;p&gt;aaa session-id common&lt;/p&gt;

&lt;p&gt;ip radius source-interface Loopback0 &lt;/p&gt;

&lt;p&gt;radius-server host auth-port 1812 acct-port 1813 key 0&lt;/p&gt;

&lt;p&gt;radius-server source-ports 1645-1646&lt;/p&gt;

&lt;p&gt;What this does is cause the lines to use  aaa authentication login default local group radius enable for their authentication, expect for console, which uses aaa authentication login console none.&lt;/p&gt;

&lt;p&gt;The rest of the commands will allow the enable password to work, etc.  I tested and verified this as well. Adding a local user to the box also works for those that are adverse to waiting for RADIUS to timeout to enter the enable password (although I really don&amp;rsquo;t see the point).  &lt;/p&gt;

&lt;p&gt;Some other good reference material for this is available over at the &lt;a href=&#34;http://blog.ioshints.info/2007/03/configure-local-authentication-with-aaa.html&#34;&gt;IOS hints blog&lt;/a&gt;.&lt;/p&gt;

&lt;p&gt;[[ This is a content summary only. Visit my website for full links, other content, and more! ]]&lt;/p&gt;
</description>
    </item>
    
    <item>
      <title>SRX Timeouts and the differences with Netscreen</title>
      <link>https://forwardingplane.net/post/srx-timeouts-and-the-differences-with-netscreen/</link>
      <pubDate>Wed, 01 Sep 2010 04:05:00 +0000</pubDate>
      
      <guid>https://forwardingplane.net/post/srx-timeouts-and-the-differences-with-netscreen/</guid>
      <description></description>
    </item>
    
    <item>
      <title>Juniper SRX Cluster</title>
      <link>https://forwardingplane.net/post/juniper-srx-cluster/</link>
      <pubDate>Wed, 01 Sep 2010 04:04:00 +0000</pubDate>
      
      <guid>https://forwardingplane.net/post/juniper-srx-cluster/</guid>
      <description>&lt;p&gt;I have had the opportunity to work pretty extensively on the Juniper SRX firewall/IDS platform over the last few months.  In doing so, I&amp;rsquo;ve found many &amp;ldquo;gotchas&amp;rdquo; the hard way.&lt;/p&gt;

&lt;p&gt;Here are a few that I&amp;rsquo;ve found so far:&lt;/p&gt;

&lt;p&gt;Clustering is a beast in and of itself.  I think it needs a bit more polishing, but it could be that we just need to refine our design.&lt;/p&gt;

&lt;p&gt;On the SRX 650 it works, but you must be on the right code version (I got it to work under 9.6R2.11 and have left it alone since).&lt;/p&gt;

&lt;p&gt;On the 5800 it works a bit better, but if you want to do active/active, it is very lacking in features.&lt;br /&gt;
We have a unique setup where I am employed, and this usually means we are left a bit on our own as far as configurations (although our Juniper SE is amazing and did a lot to get this all working).&lt;br /&gt;
That said, we have a design that isn&amp;rsquo;t really fully supported on the SRX yet, although I believe it will be as code matures.&lt;br /&gt;
What we&amp;rsquo;ve done is to create a cluster using no reth interfaces.  Instead, we&amp;rsquo;re relying on routing to ake the decisions as far as what traffic goes where.  This was a different approach than we had originally used on the smaller 650 cluster elsewhere in the network.&lt;/p&gt;

&lt;p&gt;&lt;a href=&#34;http://1.bp.blogspot.com/_t5EEUl7btNU/TH18bIBhtkI/AAAAAAAACn4/wgLW1b-H7Zs/s1600/simplesrx.png&#34;&gt;&lt;img src=&#34;http://1.bp.blogspot.com/_t5EEUl7btNU/TH18bIBhtkI/AAAAAAAACn4/wgLW1b-H7Zs/s320/simplesrx.png&#34; alt=&#34;&#34; /&gt;&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;What this means is multi-faceted.&lt;br /&gt;
Standard jtac isn&amp;rsquo;t going to understand what you&amp;rsquo;ve done.  Using advanced jtac is the only way to get things moving in a timely fashion should you encounter issues.  We have agility service on ours, so that makes it even easier.&lt;/p&gt;

&lt;p&gt;IDP doesn&amp;rsquo;t work asymmetrically.  If an traffic cones in on one node and leaves through the other, IDP doesn&amp;rsquo;t apply.  IDP information is not shared through the control link at the time of this writing.&lt;br /&gt;
IDP updates across the cluster don&amp;rsquo;t work well in this way.  My &amp;ldquo;node0&amp;rdquo; node can get the updates but since node0 holds the loopback interface that traffic is sourced from, I cannot get out from node1.  Again, this data is not shared over the control link between the cluster nodes.  There are nasty ways around this with static routes, but I prefer not to use them.  &lt;br /&gt;
The best way I found to get around this is to manually fail over the cluster and install the IDP updates on node1 after node0 has installed them and then to fail back.&lt;br /&gt;
This brings me to the next issue we ran into.  Upgrading the cluster junos software.&lt;br /&gt;
Juniper&amp;rsquo;s recommended method for upgrading is to upgrade each one, then reboot both at the same time.&lt;br /&gt;
to me this is a bit odd, since the reason most folks want a cluster is to avoid things like this.  Well, I can say for experience, if you upgrade the node0 and reboot it without doing the same to node1, all heck breaks loose.  The cluster won&amp;rsquo;t come up cleanly even after the secondary is upgraded and the only way I found to alleviate the off traffic problems we were seeing was to bounce them both at the same time.  Annoying to say the least.&lt;br /&gt;
Oh, if you want to run Active/Active and have it actually work the way we have it set up, you&amp;rsquo;ll need at least JunOS 10.2.R2.11.&lt;/p&gt;

&lt;p&gt;That said, I really do believe that the SRX is the best carrier class security appliance on the market.  Our entire network (which is not insignificant or standard in size or traffic patterns), can run off of one box with 4 SPCs and not even touch the processing power.  They are a powerhouse and have that trademark JunOS cli, and all of the advantages that come with it.&lt;/p&gt;

&lt;p&gt;[[ This is a content summary only. Visit my website for full links, other content, and more! ]]&lt;/p&gt;
</description>
    </item>
    
    <item>
      <title>SRX ALGs</title>
      <link>https://forwardingplane.net/post/srx-algs/</link>
      <pubDate>Wed, 01 Sep 2010 04:04:00 +0000</pubDate>
      
      <guid>https://forwardingplane.net/post/srx-algs/</guid>
      <description></description>
    </item>
    
    <item>
      <title>&#34;IOS-Like&#34; stifles innovation</title>
      <link>https://forwardingplane.net/post/888/</link>
      <pubDate>Mon, 01 Jan 0001 00:00:00 +0000</pubDate>
      
      <guid>https://forwardingplane.net/post/888/</guid>
      <description>&lt;p&gt;In the day and age of SDN, let&amp;rsquo;s talk about the tried and true CLI.   Lets be honest, in a world where there are 10+ year old network devices still in production, it&amp;rsquo;s not going away any time soon.&lt;/p&gt;
</description>
    </item>
    
    <item>
      <title>&#34;Next-Generation&#34; is a bunk term</title>
      <link>https://forwardingplane.net/post/889/</link>
      <pubDate>Mon, 01 Jan 0001 00:00:00 +0000</pubDate>
      
      <guid>https://forwardingplane.net/post/889/</guid>
      <description>&lt;p&gt;I recently had a conversation with Brent Salisbury that re-introduced a bit of a hot button with me.  The term &amp;ldquo;next-generation&amp;rdquo; is over used and at this point arguably meaningless.  So many things are labeled &amp;ldquo;next-generation&amp;rdquo; that, while technically true, they may be the next in a line of product, the term has entered marketing typecast.&lt;/p&gt;
</description>
    </item>
    
    <item>
      <title>100G on a Juniper MX480</title>
      <link>https://forwardingplane.net/post/278/</link>
      <pubDate>Mon, 01 Jan 0001 00:00:00 +0000</pubDate>
      
      <guid>https://forwardingplane.net/post/278/</guid>
      <description></description>
    </item>
    
    <item>
      <title>Adding a new RANCID group</title>
      <link>https://forwardingplane.net/post/806/</link>
      <pubDate>Mon, 01 Jan 0001 00:00:00 +0000</pubDate>
      
      <guid>https://forwardingplane.net/post/806/</guid>
      <description></description>
    </item>
    
    <item>
      <title>BGP is not a routing protocol</title>
      <link>https://forwardingplane.net/post/793/</link>
      <pubDate>Mon, 01 Jan 0001 00:00:00 +0000</pubDate>
      
      <guid>https://forwardingplane.net/post/793/</guid>
      <description></description>
    </item>
    
    <item>
      <title>BGP-LS</title>
      <link>https://forwardingplane.net/post/916/</link>
      <pubDate>Mon, 01 Jan 0001 00:00:00 +0000</pubDate>
      
      <guid>https://forwardingplane.net/post/916/</guid>
      <description></description>
    </item>
    
    <item>
      <title>BGPPlay</title>
      <link>https://forwardingplane.net/post/1055/</link>
      <pubDate>Mon, 01 Jan 0001 00:00:00 +0000</pubDate>
      
      <guid>https://forwardingplane.net/post/1055/</guid>
      <description>&lt;p&gt;This has been a favorite troubleshooting and information tool of mine since its inception as a Java App. Now re-written by the RIPE NCC&amp;hellip;.BGPlay!&lt;/p&gt;

&lt;p&gt;ripestat.init(&amp;ldquo;bgplay&amp;rdquo;,{&amp;ldquo;unix_timestamps&amp;rdquo;:&amp;ldquo;TRUE&amp;rdquo;,&amp;ldquo;ignoreReannouncements&amp;rdquo;:&amp;ldquo;true&amp;rdquo;,&amp;ldquo;rrcs&amp;rdquo;:&amp;ldquo;0,1,6,7,11,14,3,4,5,10,12,13,15&amp;rdquo;,&amp;ldquo;resource&amp;rdquo;:&amp;ldquo;141.142.0.0/16&amp;rdquo;,&amp;ldquo;starttime&amp;rdquo;:&amp;ldquo;1410023700&amp;rdquo;,&amp;ldquo;endtime&amp;rdquo;:&amp;ldquo;1410207300&amp;rdquo;,&amp;ldquo;instant&amp;rdquo;:&amp;ldquo;null&amp;rdquo;,&amp;ldquo;type&amp;rdquo;:&amp;ldquo;bgp&amp;rdquo;},null,{&amp;ldquo;show_controls&amp;rdquo;:&amp;ldquo;yes&amp;rdquo;,&amp;ldquo;disable&amp;rdquo;:[]})&lt;/p&gt;
</description>
    </item>
    
    <item>
      <title>Building a [net/s]flow collector with CentOS, nfdump and nfsen</title>
      <link>https://forwardingplane.net/post/332/</link>
      <pubDate>Mon, 01 Jan 0001 00:00:00 +0000</pubDate>
      
      <guid>https://forwardingplane.net/post/332/</guid>
      <description></description>
    </item>
    
    <item>
      <title>Building a logical networking inside one Juniper MX</title>
      <link>https://forwardingplane.net/post/601/</link>
      <pubDate>Mon, 01 Jan 0001 00:00:00 +0000</pubDate>
      
      <guid>https://forwardingplane.net/post/601/</guid>
      <description>&lt;p&gt;Logical systems are something that JunOS has done very, very right.  Regardless of if you need to create segregated administrative domains, routing domains or just labbing something up, this is a fantastic tool in the Juniper toolbox.  If you&amp;rsquo;re lucky enough to have an MX series available for testing, you&amp;rsquo;re already half way there.&lt;/p&gt;
</description>
    </item>
    
    <item>
      <title>CLI rosetta stone</title>
      <link>https://forwardingplane.net/post/968/</link>
      <pubDate>Mon, 01 Jan 0001 00:00:00 +0000</pubDate>
      
      <guid>https://forwardingplane.net/post/968/</guid>
      <description></description>
    </item>
    
    <item>
      <title>Converting from Brocade (Foundry) MLX to Juniper MX</title>
      <link>https://forwardingplane.net/post/750/</link>
      <pubDate>Mon, 01 Jan 0001 00:00:00 +0000</pubDate>
      
      <guid>https://forwardingplane.net/post/750/</guid>
      <description></description>
    </item>
    
    <item>
      <title>DevOps vs. SDN: It&#39;s the left hand vs. the right.</title>
      <link>https://forwardingplane.net/post/1035/</link>
      <pubDate>Mon, 01 Jan 0001 00:00:00 +0000</pubDate>
      
      <guid>https://forwardingplane.net/post/1035/</guid>
      <description></description>
    </item>
    
    <item>
      <title>Don&#39;t fear the reaper</title>
      <link>https://forwardingplane.net/post/664/</link>
      <pubDate>Mon, 01 Jan 0001 00:00:00 +0000</pubDate>
      
      <guid>https://forwardingplane.net/post/664/</guid>
      <description>&lt;p&gt;I have been buried in stuff to work on lately.  The amazing part of this is that it is all very interesting and things I want to do and learn.  The exhausting part is that there is an overwhelming amount of it.  It is a good problem to have. The list of things goes on and on (and obviously I don&amp;rsquo;t do all of this stuff by myself, we have an amazing team) but the short list is a pretty tall order.  I need to really learn MPLS and deploy a decent sized MPLS network over the span of a state. There is an immeasurable amount of amazing research going on that needs unmolested network access (translated: no security appliances in line), so securing that in a supportable and efficient way is on the table. There is the normal day-to day. There is capacity planning and base lining. Then there are the interesting pieces of OpenFlow, SDN and disruptive technologies.  Try to keep up with that and do a day job.  Now try to do that with a family too.  Wait?  Where did my time for sleep and the gym go? You get the point. My caveman mind needs to optimize these things to be able to even function, so, I make patterns.  I have to create ways to relate one thing to the next so I can keep track of them.  It&amp;rsquo;s not always efficient but it works fairly well.  In doing so I had made this relation that OpenFlow was not really that different.  I&amp;rsquo;ve been around long enough that I remember doing frame relay and ATM on the wide area (and ATM even within data centers to servers).  I have been learning MPLS pretty intensely since my exposure to it was limited and ave spent significant time [when I should have been sleeping] to that technology.  Doing what I&amp;rsquo;ve done and learning what I&amp;rsquo;ve learned has revealed to me that none of this stuff is new. Everything that is old is new again. &amp;hellip;mostly. Reading &lt;a href=&#34;http://etherealmind.com/overlay-networking-is-more-and-better-while-ditching-the-toxic-sludge/&#34;&gt;this article&lt;/a&gt; by &lt;a href=&#34;https://twitter.com/etherealmind&#34;&gt;Greg Ferro&lt;/a&gt; about overlay networks solidified this for me. ATM and Frame Relay are not dissimilar to MPLS in many regards.  MPLS took something that worked ok and made it better.  OpenFlow is taking something that works and making it better. Mark Twain said it best, I think (paraphrased): &lt;em&gt;[&amp;hellip;For substantially all ideas are second-hand, consciously and unconsciously drawn from a million outside sources, and daily used by the garnerer with a pride and satisfaction born of the superstition that he originated them; whereas there is not a rag of originality about them anywhere except the little discoloration they get from his mental and moral calibre and his temperament, and which is revealed in characteristics of phrasing. When a great orator makes a great speech you are listening to ten centuries and ten thousand men — but we call it his speech, and really some exceedingly smail portion of it is his. But not enough to signify&amp;hellip;.]&lt;/em&gt; An original idea is very, very  rare. So why, then, are so many people afraid of change?  The only constant &lt;em&gt;&lt;strong&gt;is&lt;/strong&gt;&lt;/em&gt; change.  Case in point: IPv6.  Yes, I&amp;rsquo;m going to harp about IPv6.  We actually &lt;em&gt;need&lt;/em&gt; it and yet, even today, there is still significant resistance.  Why is SDN and OpenFlow creating such a buzz?  Why is there such vehement resistance? I&amp;rsquo;ll wager that MPLS was met with similar regard when it was being proposed and developed.  I&amp;rsquo;ve even seen significant resistance to it on mailing lists within the last 6 months.  While agree that there is a place and time for everything, being open is key to success.  Just because something works doesn&amp;rsquo;t mean that there aren&amp;rsquo;t better, stronger, faster, more efficient ways to accomplish it. Give those things a try and see, don&amp;rsquo;t write them off.  Don&amp;rsquo;t wait for someone else to test the water.  Jump in and test it yourself.&lt;/p&gt;
</description>
    </item>
    
    <item>
      <title>ElastiFlow Base VM</title>
      <link>https://forwardingplane.net/post/1706/</link>
      <pubDate>Mon, 01 Jan 0001 00:00:00 +0000</pubDate>
      
      <guid>https://forwardingplane.net/post/1706/</guid>
      <description>&lt;p&gt;Included here is a vanilla Ubuntu 18 LTS VM with a basic &lt;a href=&#34;https://github.com/robcowart/elastiflow&#34;&gt;Elastiflow&lt;/a&gt; install. This includes all of the components of an ElasticStack plus the front end pieces of the ElastiFlow project. Most of the install is based on &lt;a href=&#34;https://www.catapultsystems.com/blogs/install-elastiflow-on-ubuntu-18-04-part-1/&#34;&gt;this&lt;/a&gt; how-to. &lt;/p&gt;

&lt;p&gt;Included in the image is also a base install of NGINX and certbot so that you can reverse proxy the access and have a valid SSL certificate. &lt;/p&gt;

&lt;p&gt;This was build and validated on Proxmox 6.0.6 but should be able to run on VMWare as well with a bit of qemu-img conversion. As expected, ElastiFlow (and ElasticStack) is fairly resource hungry, 16G of Memory and a handful of CPU cores is the bare minimum to run this with any real efficiency. Ubuntu 18 has changed how the networking is setup - it is all located in /etc/netplan/ now.   &lt;/p&gt;

&lt;p&gt;Login Information:&lt;/p&gt;

&lt;pre&gt;&lt;code&gt;User Name: root
Password: elastiflow
Privileged user: elastiflow
Password: elastiflow  

&lt;/code&gt;&lt;/pre&gt;

&lt;p&gt;Default IP addresses:&lt;/p&gt;

&lt;pre&gt;&lt;code&gt;10.255.255.5/27
2001:db8:ffff:2::5/64
&lt;/code&gt;&lt;/pre&gt;

&lt;p&gt;Download the image &lt;a href=&#34;https://drive.google.com/open?id=1ga_Pj2j6h1ce9rcT7jQjncpVjLIC4X4t&#34;&gt;here&lt;/a&gt;.&lt;/p&gt;
</description>
    </item>
    
    <item>
      <title>Floodlight OpenFlow Firewall</title>
      <link>https://forwardingplane.net/post/610/</link>
      <pubDate>Mon, 01 Jan 0001 00:00:00 +0000</pubDate>
      
      <guid>https://forwardingplane.net/post/610/</guid>
      <description>&lt;pre&gt;&lt;code&gt;curl http://localhost:8080/wm/firewall/module/enable/json
``````
curl http://localhost:8080/wm/firewall/module/status/json
&lt;/code&gt;&lt;/pre&gt;

&lt;p&gt;Add allow rule:&lt;code&gt;
curl -X POST -d &#39;{&amp;quot;[00:00:00:12:f2:91:58:00](http://128.174.43.242:8080/switch/00:00:00:12:f2:91:58:00)&amp;quot;: &amp;quot;00:00:00:00:00:00:00:01&amp;quot;}&#39; http://localhost:8080/wm/firewall/rules/json
&lt;/code&gt;&lt;code&gt;
http://docs.projectfloodlight.org/display/floodlightcontroller/Firewall+%28Dev%29
&lt;/code&gt;&lt;/p&gt;
</description>
    </item>
    
    <item>
      <title>Floodlight OpenFlow Firewall</title>
      <link>https://forwardingplane.net/post/614/</link>
      <pubDate>Mon, 01 Jan 0001 00:00:00 +0000</pubDate>
      
      <guid>https://forwardingplane.net/post/614/</guid>
      <description>&lt;pre&gt;&lt;code&gt;curl http://localhost:8080/wm/firewall/module/enable/json
``````
curl http://localhost:8080/wm/firewall/module/status/json
&lt;/code&gt;&lt;/pre&gt;

&lt;p&gt;Add allow rule:&lt;/p&gt;

&lt;pre&gt;&lt;code&gt;curl -X POST -d &#39;{&amp;quot;[00:00:00:12:f2:91:58:00](http://128.174.43.242:8080/switch/00:00:00:12:f2:91:58:00)&amp;quot;: &amp;quot;00:00:00:00:00:00:00:01&amp;quot;}&#39; http://localhost:8080/wm/firewall/rules/json
``````
http://docs.projectfloodlight.org/display/floodlightcontroller/Firewall+%28Dev%29
&lt;/code&gt;&lt;/pre&gt;
</description>
    </item>
    
    <item>
      <title>Home Lab for, security OpenFlow and Virtualizaation</title>
      <link>https://forwardingplane.net/post/934/</link>
      <pubDate>Mon, 01 Jan 0001 00:00:00 +0000</pubDate>
      
      <guid>https://forwardingplane.net/post/934/</guid>
      <description>&lt;p&gt;&lt;a href=&#34;http://ethancbanks.com/2014/03/15/my-home-lab-esxi-5-5-server-build-and-the-logic-behind-it-all/&#34;&gt;http://ethancbanks.com/2014/03/15/my-home-lab-esxi-5-5-server-build-and-the-logic-behind-it-all/&lt;/a&gt;&lt;/p&gt;
</description>
    </item>
    
    <item>
      <title>How I made a Sup2T-XL very unhappy</title>
      <link>https://forwardingplane.net/post/162/</link>
      <pubDate>Mon, 01 Jan 0001 00:00:00 +0000</pubDate>
      
      <guid>https://forwardingplane.net/post/162/</guid>
      <description>&lt;p&gt;Some people have a need to push hardware to it&amp;rsquo;s limits.  Generally, I end up being one of those people.  I must admit, I enjoy seeing how far things can be pushed, especially when it yields new and or interesting gains or knowledge.  One of the things that I needed to do was to rate limit a large set of addresses, but to allow unfettered access to other resources.  It&amp;rsquo;s possible there may be a better way to do this, but all of my other attempts to do this failed.  MicroFlow policing would kinda make it work, but the code to do so isn&amp;rsquo;t all in there yet for the SUP2T in either IOS 12.x or 15.0.  So, given few other choices we forged ahead with the plan to add ACLs, class maps and policy maps to make this work. I knew we&amp;rsquo;d become resource strapped with this method, but until there was a better way, this was the path.  My IOS foo is admittedly  a tad weak these days working more on JunOS, so if these aren&amp;rsquo;t the optimal way to&lt;/p&gt;
</description>
    </item>
    
    <item>
      <title>How the internet really works in practice</title>
      <link>https://forwardingplane.net/post/1111/</link>
      <pubDate>Mon, 01 Jan 0001 00:00:00 +0000</pubDate>
      
      <guid>https://forwardingplane.net/post/1111/</guid>
      <description>&lt;p&gt;The &lt;a href=&#34;http://en.wikipedia.org/wiki/Border_Gateway_Protocol&#34;&gt;Border Gateway Protocol&lt;/a&gt; (BGPv4) is the foundation of the modern internet. Without it we would still be in the information dark ages and interconnectivity as we know it would not exist. One would assume, quite incorrectly I might add, that this foundational protocol is robust, secure and optimally configured to shepherd us through the daily use of this critical resource. While BGP has the capability of being all of those things, in practice it&amp;rsquo;s really not done that way. This is not a new subject and certainly not the first time &lt;a href=&#34;http://searchnetworking.techtarget.com/opinion/After-20-years-BGP-still-lacks-security-foundation&#34;&gt;I&amp;rsquo;ve written about it&lt;/a&gt;.  After reading the very excellent packet pushers series on how the internet works by &lt;a href=&#34;http://packetpushers.net/author/rwhite/&#34;&gt;Russ White&lt;/a&gt;, I found that the &lt;a href=&#34;http://packetpushers.net/routing-resilience-manifesto/&#34;&gt;Routing resilience manifesto&lt;/a&gt; is quite fantastic and should be consumed by anyone running a network that utilizes BGP, particularly eBGP, because since 1997 I&amp;rsquo;ve seen far more networks that don&amp;rsquo;t follow these practices than ones that do. BGP is one of those mechanisms that is, unfortunately, often done as a set and forget task. And herein lies the problem. I choose to think of it as a policy framework]&lt;/p&gt;
</description>
    </item>
    
    <item>
      <title>How to index your flow data and why you should</title>
      <link>https://forwardingplane.net/post/1396/</link>
      <pubDate>Mon, 01 Jan 0001 00:00:00 +0000</pubDate>
      
      <guid>https://forwardingplane.net/post/1396/</guid>
      <description>&lt;p&gt;Are you indexing your flow data? You should be. My new favorite flow collector isn&amp;rsquo;t even a flow collector. It&amp;rsquo;s two of the three parts of an ELK stack.&lt;/p&gt;
</description>
    </item>
    
    <item>
      <title>Install Floodlight Forwarding Module under CentOS</title>
      <link>https://forwardingplane.net/post/465/</link>
      <pubDate>Mon, 01 Jan 0001 00:00:00 +0000</pubDate>
      
      <guid>https://forwardingplane.net/post/465/</guid>
      <description></description>
    </item>
    
    <item>
      <title>Installing my base CentOS system</title>
      <link>https://forwardingplane.net/post/324/</link>
      <pubDate>Mon, 01 Jan 0001 00:00:00 +0000</pubDate>
      
      <guid>https://forwardingplane.net/post/324/</guid>
      <description></description>
    </item>
    
    <item>
      <title>Installing nprobe and ntop-ng for flow analysis</title>
      <link>https://forwardingplane.net/post/installing-nprobe-ntop-ng-flow-analysis/</link>
      <pubDate>Mon, 01 Jan 0001 00:00:00 +0000</pubDate>
      
      <guid>https://forwardingplane.net/post/installing-nprobe-ntop-ng-flow-analysis/</guid>
      <description></description>
    </item>
    
    <item>
      <title>Juniper EX4550 first impressions.</title>
      <link>https://forwardingplane.net/post/336/</link>
      <pubDate>Mon, 01 Jan 0001 00:00:00 +0000</pubDate>
      
      <guid>https://forwardingplane.net/post/336/</guid>
      <description>&lt;p&gt;Much less noise.  That was my initial thought when this box was first powered.  The 4500 sounds like a jet engine.  I was particularly excited about the Juniper EX4550 because it addressed a number of things that were less than ideal about the EX4500. Soem of the differences ciuyld be argued as either oa pro or con depending on deployment scanerio, but for what we&amp;rsquo;re looking for, the 4550 is far better. 4550 Single PFE, 4500 dual PFE Single PFE being more desirable for us since cross box traffic doesn&amp;rsquo;t potentially need to transit across another PFE introducing a tad more latency. ## Dual power supply in the 4550.  This one is a no brainer for us.  Redundancy is better. 32 line rate 1G/10G ports on the 4550.  40 on the 4500.  32 is plenty for us and is a worth while trade to get a single PFE. Ours came with JUNOS 12.2R1.8. root@EX-4550&amp;gt; show chassis hardware Hardware inventory: Item     Version     Part number Serial number Description Chassis LX0212450466 EX4550-32F Routing Engine 0 REV 12 750-045402 LX0212450466 EX4550-32F FPC 0 REV 12 750-045402 LX0212450466 EX4550-32F CPU BUILTIN BUILTIN FPC CPU PIC 0 BUILTIN BUILTIN 32x 1G/10G SFP/SFP+ Xcvr 31 NON-JNPR AN07452H1V SFP-T Power Supply 0 REV 03 740-044332 1G032240641 JPSU-650W-AC-AFI Power Supply 1 REV 03 740-044332 1G032240660 JPSU-650W-AC-AFI Fan Tray Fan Module, Airflow In (AFI)&lt;/p&gt;
</description>
    </item>
    
    <item>
      <title>Juniper make an SDN play that I can get [a little] excited about</title>
      <link>https://forwardingplane.net/post/811/</link>
      <pubDate>Mon, 01 Jan 0001 00:00:00 +0000</pubDate>
      
      <guid>https://forwardingplane.net/post/811/</guid>
      <description></description>
    </item>
    
    <item>
      <title>Juniper to purchase WANDL and why it&#39;s important</title>
      <link>https://forwardingplane.net/post/856/</link>
      <pubDate>Mon, 01 Jan 0001 00:00:00 +0000</pubDate>
      
      <guid>https://forwardingplane.net/post/856/</guid>
      <description>&lt;p&gt;It was &lt;a href=&#34;http://newsroom.juniper.net/press-releases/juniper-networks-to-acquire-wandl-inc--nyse-jnpr-1076371&#34;&gt;recently announced&lt;/a&gt; that &lt;a href=&#34;http://www.juniper.net&#34;&gt;Juniper Networks&lt;/a&gt; would be purchasing &lt;a href=&#34;http://www.wandl.com&#34; title=&#34;WANDL&#34;&gt;WANDL&lt;/a&gt;, a long time partner and&lt;/p&gt;
</description>
    </item>
    
    <item>
      <title>Linux Network Namespaces for multihomed hosts</title>
      <link>https://forwardingplane.net/post/1014/</link>
      <pubDate>Mon, 01 Jan 0001 00:00:00 +0000</pubDate>
      
      <guid>https://forwardingplane.net/post/1014/</guid>
      <description>&lt;p&gt;sudo ip netns exec uc2b ip link list ip netns exec uc2b ifconfig uc2b1 192.80.111.&lt;sup&gt;58&lt;/sup&gt;&amp;frasl;&lt;sub&gt;24&lt;/sub&gt; up sudo ip netns exec uc2b ifconfig uc2b1 192.80.111.&lt;sup&gt;58&lt;/sup&gt;&amp;frasl;&lt;sub&gt;24&lt;/sub&gt; up sudo ovs-vsctl add-port br-int uc2b1 ip netns exec uc2b ip link set uc2b1 up sudo ip netns exec uc2b ip link set uc2b1 up sudo brctl addbr uc2bbr sudo brctl ifbr uc2bbr uc2b1 sudo brctl addif uc2bbr uc2b1 sudo brctl delbr uc2bbr sudo ovs-vsctl add-port br-int uc2b1 sudo ovs-vsctl add-port br-int uc2b1 sudo ovs-vsctl add-br uc2bbr uc2b1 sudo ovs-vsctl add-br uc2bbr sudo ovs-vsctl add-port uc2bbr uc2b1 sudo ovs-vsctl add-port uc2bbr eth1 sudo ip netns exec uc2b ifconfig uc2b1 192.80.111.&lt;sup&gt;58&lt;/sup&gt;&amp;frasl;&lt;sub&gt;24&lt;/sub&gt; up sudo ovs-vsctl add-port uc2bbr uc2b0 sudo ip netns exec uc2b ip link set uc2b1 up sudo ip netns exec uc2b ping 192.80.111.58 sudo ip netns exec uc2b ifconfig uc2b1 up sudo ip netns exec uc2b ifconfig uc2b0 up sudo ip netns exec uc2b arp -an sudo ip netns exec uc2b arp sudo ip netns exec uc2b ip route sudo ip netns exec uc2b ip route add 0.0.0.0 192.80.111.1 sudo ip netns exec uc2b ip route add 0.0.0.0 to 192.80.111.1 sudo ip netns exec uc2b ip route add 0.0.0.0/0 to 192.80.111.1 sudo ip netns exec uc2b ip route add default via 192.80.111.1 sudo ip netns exec uc2b ip route sudo ip netns exec uc2b ping 192.80.111.1 sudo ovs-vsctl list-br uc2bbr sudo ovs-vsctl list-ports uc2bbr sudo ip netns exec uc2b ifconfig sudo ip netns exec uc2b ping history | grep uc2b sudo ip netns exec uc2b ip link list sudo ip netns exec uc2b ip link list history | grep uc2b ip netns exec uc2b ip link set uc2b1 up sudo ip netns exec uc2b ip link set uc2b1 up sudo ip netns exec uc2b ip link set eth1 up sudo ip netns exec uc2b ip link set uc2b0 up sudo ip netns exec uc2b ip link list sudo ip link add uc2b0 type veth peer name uc2b1 sudo ip netns exec uc2b ip link list sudo ip netns exec uc2b ifconfig uc2b0 192.80.111.&lt;sup&gt;59&lt;/sup&gt;&amp;frasl;&lt;sub&gt;24&lt;/sub&gt; up sudo ip netns exec uc2b ip link list history | grep uc2b sudo ovs-vsctl add-port uc2bbr uc2b0 history | grep uc2b0 history | grep uc2b1 sudo ip netns exec uc2b ip link list ip link set uc2b1 netns uc2b ip link set uc2bbr netns uc2b sudo ip link set uc2bbr netns uc2b sudo ip link set uc2bbr netns uc2b0 sudo ip link set uc2b0 netns uc2b sudo ip netns exec uc2b ip link list sudo ip netns exec uc2b ifconfig uc2bbr up sudo ip netns exec uc2b ifconfig uc2b0 up sudo ip netns exec uc2b ip link list sudo ip netns exec uc2b ping arpo sudo ip netns exec uc2b ping arp -an sudo ip netns exec uc2b arp -an sudo ip netns exec uc2b ping 192.80.111.1 sudo ip netns exec uc2b ping 4.2.2.1 sudo ip netns exec uc2b traceroute 4.2.2.1 sudo ip netns exec uc2b /usr/sbin/sshd&lt;/p&gt;
</description>
    </item>
    
    <item>
      <title>Networks are insecure. Here&#39;s why.</title>
      <link>https://forwardingplane.net/post/1409/</link>
      <pubDate>Mon, 01 Jan 0001 00:00:00 +0000</pubDate>
      
      <guid>https://forwardingplane.net/post/1409/</guid>
      <description>&lt;p&gt;Networks are insecure, they just are. I once worked with an FBI agent who said that if you wanted a secure network you should turn everything off, smash it, then set it on fire - and I don&amp;rsquo;t disagree. However, there are things we can do to understand our networks that will aid immeasurably in how they are secured and initially and how they remain secured over time. At their very core networks are not secure based simply on the fact that humans are involved in their construction, operation, and use.  Recently, ICS-CERT released their annual report detailing the state of critical infrastructure and their report details exactly what anyone in the trenches should already know: &lt;strong&gt;we don&amp;rsquo;t pay enough attention to this stuff&lt;/strong&gt;.  Their assessment pointed out some pretty glaring holes, most of which we probably already knew (or should have) and some of which we may need to spend time learning about. In our never-ending quest for convenient, ubiquitous access to all things, we often forget to think about the little things, the &amp;ldquo;dirty jobs&amp;rdquo; of IT. Ive said it so many times I&amp;rsquo;m almost sick of hearing it myself: &lt;strong&gt;building a network is easy, running a network is hard.&lt;/strong&gt; Strip away all of the shiny, hype machine, marketing generated razzmatazz surrounding all things &amp;ldquo;cloud&amp;rdquo; and &amp;ldquo;SDN&amp;rdquo; and &amp;ldquo;intent-driven&amp;rdquo;. Those things are great and I&amp;rsquo;m neck deep in a lot of them, but building fancy things on broken foundations is clearly a bad idea, and a lot of what I see in the trenches is just that: broken, neglected, outdated, or just plain done poorly or done well and never maintained. When most people think about maintaining a network ecosystem they probably imagine plumbing vlans, changing peerings, creating LSPs or adjusting switchports. Realistically, that&amp;rsquo;s a tiny part of operations. In reality, most network issues could either be more easily solved by better understanding of a complex system or, in many cases, avoided completely by &lt;strong&gt;knowing your network&lt;/strong&gt;. When I say &amp;ldquo;avoided completely&amp;rdquo;, what I mean is that be knowing the baseline of something you can identify deviations from that baseline which can indicate an issue that needs to be addresses. It&amp;rsquo;s no secret that I fiormly believe that the key to operating anything in IT is complete visibility and baselining of every facet that can be recorded, and I also assert that you cannot secure something until you truly understand not only how it works but how it fails. Anything less is an exercise in risk management. So, to that end, I will give a brief outline of what I believe is a foundation that we should all start from when building network analytics and monitoring.   A gigantic swath of this issue can be alleviated be three things: Knowing your network, Access control of your network, and attention to your network&lt;/p&gt;

&lt;ul&gt;
&lt;li&gt;Network flow data (netflow, jflow, sflow, ipfix)&lt;/li&gt;
&lt;li&gt;Centralized logging of *all* devices on the network&lt;/li&gt;
&lt;li&gt;Traffic statistics (interface counters, error counters, etc.)&lt;/li&gt;
&lt;li&gt;Configuration management of all network devices&lt;/li&gt;
&lt;li&gt;Template configurations for all commonly configured items (common firewall filters, RE filtering, apply groups, ZTP, VM templates, etc.)&lt;/li&gt;
&lt;li&gt;DNS query data&lt;/li&gt;
&lt;li&gt;Latency and jitter information to/from all key locations in the network, including ingress/egress of the network&lt;/li&gt;
&lt;li&gt;Routing table information (IGP and EGP)&lt;/li&gt;
&lt;li&gt;optical power readings&lt;/li&gt;
&lt;li&gt;hardware inventory (linecards, serial numbers, chassis models)&lt;/li&gt;
&lt;li&gt;Environmental data (heat, power, cooling)&lt;/li&gt;
&lt;li&gt;Full packet capture at network egress (if possible - ISPs obviously cannot realistically do this)&lt;/li&gt;
&lt;li&gt;Anomalous policy / signature detection at all strategic locations&lt;/li&gt;
&lt;/ul&gt;

&lt;p&gt;OK, now you have the firehose. That&amp;rsquo;s actually the easy part. Now, once you have this data you have to keep it up to date and keep watching it. Given the nature of what it is, you&amp;rsquo;re likely going to have to visit several systems to monitor it. There are some &amp;ldquo;meta&amp;rdquo; packages that can do a lot of it, librenms can tie together a bunch of these elements, as cam&lt;/p&gt;
</description>
    </item>
    
    <item>
      <title>NFD Disclaimer</title>
      <link>https://forwardingplane.net/post/1138/</link>
      <pubDate>Mon, 01 Jan 0001 00:00:00 +0000</pubDate>
      
      <guid>https://forwardingplane.net/post/1138/</guid>
      <description>&lt;p&gt;NFD Disclaimer: Tech Field Day is covering my travel and miscellaneous costs for this event. They in turn are paid by their sponsors. I am under no obligation to write anything about any of the presentations, favorable or otherwise.   All opinions expressed are my own and in no way reflect any other entities other than myself. In addition, they are simply opinions based on my experiences and the facts known at the time of posting and should be thought of as such. I try to present my findings as factually and impartially as possible and receive no payment for my participation or writings. Actually, I will actively refuse it as I like to try to remain impartial.&lt;/p&gt;
</description>
    </item>
    
    <item>
      <title>OpenFlow migration paths</title>
      <link>https://forwardingplane.net/post/595/</link>
      <pubDate>Mon, 01 Jan 0001 00:00:00 +0000</pubDate>
      
      <guid>https://forwardingplane.net/post/595/</guid>
      <description>&lt;p&gt;SDN gateways have a much more traditional look and feel. They have a flat SDN OpenFlow network with a default gateway for client traffic by either controller proxy or direct reachability by the client host. Note that both approaches suffer from lack of adoption and maturity, which adds risk to any early production SDN.  IPv6-like&lt;/p&gt;
</description>
    </item>
    
    <item>
      <title>perfSonar and Rasberry pie.</title>
      <link>https://forwardingplane.net/post/576/</link>
      <pubDate>Mon, 01 Jan 0001 00:00:00 +0000</pubDate>
      
      <guid>https://forwardingplane.net/post/576/</guid>
      <description></description>
    </item>
    
    <item>
      <title>PerfSonar tools on a raspberry pi</title>
      <link>https://forwardingplane.net/post/821/</link>
      <pubDate>Mon, 01 Jan 0001 00:00:00 +0000</pubDate>
      
      <guid>https://forwardingplane.net/post/821/</guid>
      <description>&lt;p&gt;I want to preface this by saying that this was an experiment for me.  That said, I know there are folks that want to run everything under the sun on a pi.  So, since I love the platform as well, I set out to try to make the raspberry pi a perfsonar &amp;ldquo;probe&amp;rdquo;.&lt;/p&gt;
</description>
    </item>
    
    <item>
      <title>RYU OpenFlow controller</title>
      <link>https://forwardingplane.net/post/435/</link>
      <pubDate>Mon, 01 Jan 0001 00:00:00 +0000</pubDate>
      
      <guid>https://forwardingplane.net/post/435/</guid>
      <description>&lt;p&gt;&lt;a href=&#34;http://osrg.github.com/ryu/index.html&#34;&gt;Ryu&lt;/a&gt;, an openflow controller, was new to me. After doing 5 minutes of reading I knew I needed to get it up in the lab. The thing that caught my eye was that the project page was boasting support for OpenStack. Now, I don;t really have much experience with openstack, but it has a cult like following and it&amp;rsquo;s on my short list of stuff to get involved with. This seemed like a great excuse.&lt;/p&gt;
</description>
    </item>
    
    <item>
      <title>SD-WAN: The service provider perspective.</title>
      <link>https://forwardingplane.net/post/1371/</link>
      <pubDate>Mon, 01 Jan 0001 00:00:00 +0000</pubDate>
      
      <guid>https://forwardingplane.net/post/1371/</guid>
      <description>&lt;p&gt;Buzz, Buzz, Buzz. The SDN sites are all abuzz with talk about how your enterprise network can take advantage of the deluge of new products and services out there aimed at that market, and that&amp;rsquo;s great - there are some cool options out there for that space. But, like I always do, I want to talk about the other pieces that most people do not see. The gritty plumbing and complex interconnections of the last mile providers, because there are a lot of very interesting moving parts there that the typical data center engineers don&amp;rsquo;t see, care about, or perhaps even know exist. In the past I&amp;rsquo;ve touched on things like &lt;a href=&#34;http://www.forwardingplane.net/2016/10/care-segment-routing/&#34;&gt;Segment Routing&lt;/a&gt; and how it plays into the complex ISP world. This is really just the surface.&lt;/p&gt;
</description>
    </item>
    
    <item>
      <title>Security as a service</title>
      <link>https://forwardingplane.net/post/699/</link>
      <pubDate>Mon, 01 Jan 0001 00:00:00 +0000</pubDate>
      
      <guid>https://forwardingplane.net/post/699/</guid>
      <description>&lt;p&gt;I recently had a very interesting and enjoyable conversation about firewall placement in a campus environment.   Firewall in the center Firewall at the edge Firewall closest to the resource it needs to protect&lt;/p&gt;
</description>
    </item>
    
    <item>
      <title>Security Onion for the Network Engineer: Flows</title>
      <link>https://forwardingplane.net/post/803/</link>
      <pubDate>Mon, 01 Jan 0001 00:00:00 +0000</pubDate>
      
      <guid>https://forwardingplane.net/post/803/</guid>
      <description>&lt;p&gt;Argus Netflow IPv6&lt;/p&gt;
</description>
    </item>
    
    <item>
      <title>Testing and using Wireguard</title>
      <link>https://forwardingplane.net/post/1580/</link>
      <pubDate>Mon, 01 Jan 0001 00:00:00 +0000</pubDate>
      
      <guid>https://forwardingplane.net/post/1580/</guid>
      <description>&lt;p&gt;&lt;a href=&#34;https://www.wireguard.com/&#34;&gt;https://www.wireguard.com/&lt;/a&gt;&lt;/p&gt;
</description>
    </item>
    
    <item>
      <title>The unrealized expectations of SDN</title>
      <link>https://forwardingplane.net/post/1374/</link>
      <pubDate>Mon, 01 Jan 0001 00:00:00 +0000</pubDate>
      
      <guid>https://forwardingplane.net/post/1374/</guid>
      <description>&lt;p&gt;I have been remiss in writing in the last year, the reasons are unimportant, but regardless, I&amp;rsquo;ve been paying very close attention. It&amp;rsquo;s 2017 and it is SOAPBOX time again!  SDN has been a &amp;ldquo;thing&amp;rdquo; since ~&lt;a href=&#34;http://archive.openflow.org/documents/openflow-wp-latest.pdf&#34;&gt;2008&lt;/a&gt;, with the publication and popularization of the OpenFlow protocol. It&amp;rsquo;s 2017. How much has this industry changing technology is running outside of the hyper scale data centers?  We&amp;rsquo;ve seen companies rise and companies disappear. The promise of SDN is multi-faceted, but aside from automation and orchestration, the draw for many architects and engineers is the idea of modular control and data planes. The switching pieces in the data center work - for the most part. The promise of SDN may work for the hyperscalers - but what that does that mean for everyone else other than better cloud services? I&amp;rsquo;m going to discount enterprise, mostly, because enterprise, frankly, is slow to change and glacial when it comes to adopting new internal technologies, but that only serves to prove my point - it&amp;rsquo;s not there yet. That leaves my favorite subject: service providers - and I don&amp;rsquo;t mean SD-WAN (that&amp;rsquo;s something completely different and  don&amp;rsquo;t accept the name as correct). The idea of taking a routing stack and a forwarding plane and breaking them apart, making them interchangeable and modular. This requires a few elemental attributes:&lt;/p&gt;

&lt;ul&gt;
&lt;li&gt;A strong routing stack including the venerable legacy protocols such as mBGP, IS-IS, LDP, etc.&lt;/li&gt;
&lt;li&gt;Full support of the routed stack (IPv4 and IPv6)&lt;/li&gt;
&lt;li&gt;A robust hardware platform with appropriate buffers&lt;/li&gt;
&lt;li&gt;A way to couple the two in a stable and supportable way&lt;/li&gt;
&lt;/ul&gt;

&lt;p&gt;This sounds simple. It&amp;rsquo;s not. Think about this from the perspective of the commercial UNIX systems of 20 years ago. The custom hardware did not always have compatibility with the software packages that the engineers needed to run on them. The implementations were clunky and sometimes half-done. Features didn&amp;rsquo;t always work. Updates were staggered, haphazard, and slow. This is what SDN has felt like for me for the past few years. Sure, if you&amp;rsquo;re in the data center and you want a single vendor solution - maybe. In my world that&amp;rsquo;s not ever the case, and I assert that if things don&amp;rsquo;t interoperate then they are incomplete. Where am I going with this rambling, nonsensical drivel? Hardware features and software features have a history of not matching when something is new and SDN has been the embodiment of that. If I look back on the work I&amp;rsquo;ve done in the SDN space, and at the risk of being captain obvious, the lessons learned that come to mind from my experience designing, coordinating, building, and running actual production SDN networks are pretty easy to point out.&lt;/p&gt;

&lt;ul&gt;
&lt;li&gt;Centralized control doesn&amp;rsquo;t scale well geographically (or arguably at all).&lt;/li&gt;
&lt;li&gt;Topology information is difficult to track in a timely manner in the WAN. See bullet 1. &lt;a href=&#34;http://www.forwardingplane.net/wp-content/uploads/2017/03/captain-obvious.jpg&#34;&gt;&lt;img src=&#34;http://www.forwardingplane.net/wp-content/uploads/2017/03/captain-obvious.jpg&#34; alt=&#34;&#34; /&gt;&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;Re-inventing protocols stinks&lt;/li&gt;
&lt;li&gt;Most of the issues revolve around scaling and support&lt;/li&gt;
&lt;li&gt;Scaling is hard&lt;/li&gt;
&lt;li&gt;All hardware is most certainly not created equally&lt;/li&gt;
&lt;/ul&gt;

&lt;p&gt;The elephant in the room is that WAN gear is different. It&amp;rsquo;s historically been custom ASICs, sometimes FPGAs, and always has deep buffers. It also has a longer mean time before replacement. This is incongruent with the think buffered data center switches that most folks experiment with if they ever make it past &lt;a href=&#34;http://mininet.org/&#34;&gt;mininet&lt;/a&gt;. Want to understand buffering and why it is necessary? Read up &lt;a href=&#34;https://people.ucsc.edu/~warner/buffer.html&#34;&gt;here&lt;/a&gt;, it&amp;rsquo;s the best resource I&amp;rsquo;ve ever found on buffers of tons and tons of gear. The cliff&amp;rsquo;s notes are that when networks have a longer RTT, they need more buffering. TL/DR? Don&amp;rsquo;t use a freaking data center switch as your border router. Just because it &lt;em&gt;can&lt;/em&gt; run BGP doesn&amp;rsquo;t mean it &lt;em&gt;should&lt;/em&gt;. Now that I&amp;rsquo;ve seemingly called all of the babies ugly, let me shine a bit of light. I do have hope for some SDN. I think it exists now in the form of &lt;a href=&#34;http://www.forwardingplane.net/2016/10/care-segment-routing/&#34;&gt;segment routing&lt;/a&gt;. Because we&amp;rsquo;ve seen the trying to turn an aircraft carrier on a dime is not easy, we can learn from it. There are a handful of solid SDN based WAN boxes out there and they bring strong offerings.&lt;/p&gt;
</description>
    </item>
    
    <item>
      <title>The value of not being involved</title>
      <link>https://forwardingplane.net/post/808/</link>
      <pubDate>Mon, 01 Jan 0001 00:00:00 +0000</pubDate>
      
      <guid>https://forwardingplane.net/post/808/</guid>
      <description></description>
    </item>
    
    <item>
      <title>Transparency in a competitive industry</title>
      <link>https://forwardingplane.net/post/397/</link>
      <pubDate>Mon, 01 Jan 0001 00:00:00 +0000</pubDate>
      
      <guid>https://forwardingplane.net/post/397/</guid>
      <description></description>
    </item>
    
    <item>
      <title>Visualizing the network with LLDP</title>
      <link>https://forwardingplane.net/post/965/</link>
      <pubDate>Mon, 01 Jan 0001 00:00:00 +0000</pubDate>
      
      <guid>https://forwardingplane.net/post/965/</guid>
      <description>&lt;p&gt;&lt;a href=&#34;http://www.reeleysoft.com/?p=105&#34;&gt;http://www.reeleysoft.com/?p=105&lt;/a&gt;&lt;/p&gt;
</description>
    </item>
    
    <item>
      <title>VMWare, NSX, homogeneity and even Cisco..</title>
      <link>https://forwardingplane.net/post/788/</link>
      <pubDate>Mon, 01 Jan 0001 00:00:00 +0000</pubDate>
      
      <guid>https://forwardingplane.net/post/788/</guid>
      <description>&lt;p&gt;The networking world has been abuzz with talk of VMWares NSX announcement, &lt;a href=&#34;http://blogs.cisco.com/datacenter/limitations-of-a-software-only-approach-to-data-center-networking/&#34;&gt;Cisco&amp;rsquo;s CTO response&lt;/a&gt; to that, and heavy speculation of what that means.  If you&amp;rsquo;re curious about NSX, &lt;a href=&#34;http://www.twitter.com/ioshints&#34;&gt;Ivan Pepelnjak&lt;/a&gt; over at ioshints has a &lt;a href=&#34;http://blog.ipspace.net/2013/08/what-is-vmware-nsx.html&#34;&gt;great write up&lt;/a&gt; explaining what it is and isn&amp;rsquo;t.  I enjoyed the read quite a bit. Speculation generally makes me jittery, so I have spent some time thinking about this, reading and trying to understand. I&amp;rsquo;ve come to the conclusion that  I am by no means an expert in enterprise networking.  That being said, some of the responses to these arguably groundbreaking announcements are troubling to me. Let me preface this by saying that I lean more towards the &lt;a href=&#34;http://en.wikipedia.org/wiki/Richard_Stallman&#34;&gt;Richard Stallman&lt;/a&gt; style than the &lt;a href=&#34;http://en.wikipedia.org/wiki/John_Chambers_%28CEO%29&#34;&gt;John Chambers&lt;/a&gt; mindset (although I&amp;rsquo;ll always claim to be more like &lt;a href=&#34;http://www.nickburaglio.com/2013/08/24/boba-fett-1981/&#34;&gt;Boba Fett&lt;/a&gt;). I am not a fan of being forced into an ecosystem.  I like open, standard protocols.  This is why the&lt;/p&gt;
</description>
    </item>
    
    <item>
      <title>Why hardware firewalls are the walking dead, part II</title>
      <link>https://forwardingplane.net/post/900/</link>
      <pubDate>Mon, 01 Jan 0001 00:00:00 +0000</pubDate>
      
      <guid>https://forwardingplane.net/post/900/</guid>
      <description>&lt;p&gt;FlowSpec.&lt;/p&gt;
</description>
    </item>
    
    <item>
      <title>Why I want OpenFlow (it&#39;s not what you think)</title>
      <link>https://forwardingplane.net/post/951/</link>
      <pubDate>Mon, 01 Jan 0001 00:00:00 +0000</pubDate>
      
      <guid>https://forwardingplane.net/post/951/</guid>
      <description>&lt;p&gt;OpenFlow is a game changer, no question about it. With all of the buzz about it, I really don&amp;rsquo;t think we&amp;rsquo;re seeing past its real value, most are focusing on the data center and potentially not seeing the forest for the trees.  I don&amp;rsquo;t really care about the gooey center of the data center. I&amp;rsquo;ve built, maintained, consulted on or in some way supported so many HPC data centers in the last 12 years that I find them dull at this point*.         *With the exception of the &lt;a href=&#34;http://www.ncsa.illinois.edu/enabling/bluewaters&#34;&gt;Blue Waters petascale machine&lt;/a&gt;.  BW has pushed limits of networking, security and computing at every opportunity.&lt;/p&gt;
</description>
    </item>
    
    <item>
      <title>Why you need a privacy screen</title>
      <link>https://forwardingplane.net/post/953/</link>
      <pubDate>Mon, 01 Jan 0001 00:00:00 +0000</pubDate>
      
      <guid>https://forwardingplane.net/post/953/</guid>
      <description>&lt;p&gt;In a slight deviation from a lot of deep networking, I thought it would be a&lt;/p&gt;
</description>
    </item>
    
  </channel>
</rss>
