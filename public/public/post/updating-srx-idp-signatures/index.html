


    




<!DOCTYPE HTML>

<html>
    <head>
        <script type="application/ld+json">
    {
        "@context" : "http://schema.org",
        "@type" : "BlogPosting",
        "mainEntityOfPage": {
             "@type": "WebPage",
             "@id": "https:\/\/forwardingplane.net\/"
        },
        "articleSection" : "public",
        "name" : "Updating SRX IDP signatures",
        "headline" : "Updating SRX IDP signatures",
        "description" : "*IDP signatures need to be updated often. On the SRX platform, there is also the notion of a \x26ldquo;detector\x26rdquo;. This also meeds to be updated on a regular basis. it seems. Over the past few weeks, we\x26rsquo;ve needed to update the IDP signatures and detector on our SRX 5800 cluster several times, and the results have normally been fine.\nUpdating the IDP signatures has never been that big of a problem (see postings about updating stuff on cluster nodes).",
        "inLanguage" : "en",
        "author" : "Nick Buragliotruenativemain",
        "creator" : "Nick Buragliotruenativemain",
        "publisher": "Nick Buragliotruenativemain",
        "accountablePerson" : "Nick Buragliotruenativemain",
        "copyrightHolder" : "Nick Buragliotruenativemain",
        "copyrightYear" : "2010",
        "datePublished": "2010-09-02 18:16:00 \x2b0000 \x2b0000",
        "dateModified" : "2010-09-02 18:16:00 \x2b0000 \x2b0000",
        "url" : "https:\/\/forwardingplane.net\/public\/post\/updating-srx-idp-signatures\/",
        "wordCount" : "307",
        "keywords" : [ "How-To","Security","Blog" ]
    }
    </script>
        
            <title>Updating SRX IDP signatures - ForwardingPlane.net</title>
        

        <meta charset="utf-8" />
        <meta name="viewport" content="width=device-width, initial-scale=1" />
        <meta name="generator" content="Hugo 0.58.3" />
        


        
        
            
        

        <meta name="twitter:card" content="summary"/>
<meta name="twitter:title" content="Updating SRX IDP signatures"/>
<meta name="twitter:description" content="*IDP signatures need to be updated often. On the SRX platform, there is also the notion of a &ldquo;detector&rdquo;. This also meeds to be updated on a regular basis. it seems. Over the past few weeks, we&rsquo;ve needed to update the IDP signatures and detector on our SRX 5800 cluster several times, and the results have normally been fine.
Updating the IDP signatures has never been that big of a problem (see postings about updating stuff on cluster nodes)."/>

        <meta property="og:title" content="Updating SRX IDP signatures" />
<meta property="og:description" content="*IDP signatures need to be updated often. On the SRX platform, there is also the notion of a &ldquo;detector&rdquo;. This also meeds to be updated on a regular basis. it seems. Over the past few weeks, we&rsquo;ve needed to update the IDP signatures and detector on our SRX 5800 cluster several times, and the results have normally been fine.
Updating the IDP signatures has never been that big of a problem (see postings about updating stuff on cluster nodes)." />
<meta property="og:type" content="article" />
<meta property="og:url" content="https://forwardingplane.net/public/post/updating-srx-idp-signatures/" />
<meta property="article:published_time" content="2010-09-02T18:16:00+00:00" />
<meta property="article:modified_time" content="2010-09-02T18:16:00+00:00" />

        <meta property="og:image" content="https://forwardingplane.net//images/logo.png">
        <meta property="og:image:type" content="image/png">
        <meta property="og:image:width" content="512">
        <meta property="og:image:height" content="512">
        <meta itemprop="name" content="Updating SRX IDP signatures">
<meta itemprop="description" content="*IDP signatures need to be updated often. On the SRX platform, there is also the notion of a &ldquo;detector&rdquo;. This also meeds to be updated on a regular basis. it seems. Over the past few weeks, we&rsquo;ve needed to update the IDP signatures and detector on our SRX 5800 cluster several times, and the results have normally been fine.
Updating the IDP signatures has never been that big of a problem (see postings about updating stuff on cluster nodes).">


<meta itemprop="datePublished" content="2010-09-02T18:16:00&#43;00:00" />
<meta itemprop="dateModified" content="2010-09-02T18:16:00&#43;00:00" />
<meta itemprop="wordCount" content="307">



<meta itemprop="keywords" content="How-To,Security," />

        

        
            
        

        
        
            <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/9.12.0/styles/atom-one-light.min.css">
            <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Raleway:400,800,900|Source+Sans+Pro:400,700">
            <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/font-awesome/4.7.0/css/font-awesome.min.css">
            <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/fancybox/3.1.25/jquery.fancybox.min.css">
            <link rel="stylesheet" href="https://forwardingplane.net/css/main.css">
            <link rel="stylesheet" href="https://forwardingplane.net/css/add-on.css">
            <link rel="stylesheet" href="https://forwardingplane.net/css/academicons.min.css">
        

        


  
    


      
    </head>
    <body>

      
      <div id="wrapper">

    
<header id="header">
    
      <h1><a href="https://forwardingplane.net/"></a></h1>
    

    <nav class="links">
        <ul>
            
                <li>
                    <a href="https://forwardingplane.net/post/">
                            <i class="post">&nbsp;</i>Posts
                    </a>
                </li>
            
                <li>
                    <a href="https://forwardingplane.net/about">
                            <i class="about">&nbsp;</i>about
                    </a>
                </li>
            
                <li>
                    <a href="https://forwardingplane.net/configuration-archive">
                            <i class="configuration-archive">&nbsp;</i>configuration-archive
                    </a>
                </li>
            
        </ul>
    </nav>
    <nav class="main">
        <ul>
            
            <li class="search">
                <a class="fa-search" href="#search">Search</a>
                <form id="search" method="get" action="//google.com/search">
                    <input type="text" name="q" placeholder="Search" />
                    <input type="hidden" name="as_sitesearch" value="https://forwardingplane.net/">
                </form>
            </li>
            <li class="menu">
                <a class="fa-bars" href="#menu">Menu</a>
            </li>
        </ul>
    </nav>
</header>


<section id="menu">

    
        <section>
            <form class="search" method="get" action="//google.com/search">
                <input type="text" name="q" placeholder="Search" />
                <input type="hidden" name="as_sitesearch" value="https://forwardingplane.net/">
            </form>
        </section>

    
        <section>
            <ul class="links">
                
                    <li>
                        <a href="https://forwardingplane.net/post/">
                            <h3>
                                <i class="post">&nbsp;</i>Posts
                            </h3>
                        </a>
                    </li>
                
                    <li>
                        <a href="https://forwardingplane.net/about">
                            <h3>
                                <i class="about">&nbsp;</i>about
                            </h3>
                        </a>
                    </li>
                
                    <li>
                        <a href="https://forwardingplane.net/configuration-archive">
                            <h3>
                                <i class="configuration-archive">&nbsp;</i>configuration-archive
                            </h3>
                        </a>
                    </li>
                
            </ul>
        </section>

    
        <section class="recent-posts">
            <div class="mini-posts">
                <header>
                    <h3>Recent Posts</h3>
                </header>
                

                
                    
                

                

                
            </div>
        </section>

    
        
</section>

    
    <div id="main">
        <article class="post">
            
            <header>
    <div class="title">
        
            <h1><a href="https://forwardingplane.net/public/post/updating-srx-idp-signatures/">Updating SRX IDP signatures</a></h1>
            
        
        
    </div>
</header>

            <div id="content">
                <p>*IDP signatures need to be updated often.  On the SRX platform, there is also the notion of a &ldquo;detector&rdquo;.  This also meeds to be updated on a regular basis. it seems.  Over the past few weeks, we&rsquo;ve needed to update the IDP signatures and detector on our SRX 5800 cluster several times, and the results have normally been fine.<br />
Updating the IDP signatures has never been <strong>that</strong> big of a problem (see postings about updating stuff on cluster nodes).  But we ran into issues due to the fact that we&rsquo;d recently disabled application id to troubleshoot another problem.  This was basically causing all of our updates to fail on node1 (the secondary node) when using our <a href="http://www.juniper.net/techpubs/software/junos/junos82/swconfig82-automation/html/op-scripts-overview.html">op script</a> to push the updates over (sorry, I can&rsquo;t share it).</p>

<p>A few things that I like to make sure to run before and after all of my SRX work are the following:</p>

<p>show chassis cluster status<br />
show ospf neighbor brief<br />
show security idp attack table</p>

<p>If I&rsquo;m doing work on the IDP engine, I also want to see the status of that:</p>

<p>request security idp security-package download status<br />
request security idp security-package install status<br />
show services application-identification counter*</p>

<p>Anyway, for anyone else running into this odd behavior, to finally update it was a simple matter of deleting app-id before running the updates.</p>

<p>edit <br />
delete services application-id<br />
commit comment &ldquo;delete services application-id&rdquo; <br />
request security idp security-package download full-update<br />
request security idp security-package install <br />
op instlll-idp-updates</p>

<p>At that point run the status commands request security idp security-package install status. It should yield something like Done;Attack DB update : successful on both nodes.</p>

<p>*It should be noted that Application ID is now in services, whereas I believe it used to be down in security.</p>

<p>[[ This is a content summary only. Visit my website for full links, other content, and more! ]]</p>

            </div>
        </article>
    </div>
    
<section id="sidebar">

  
  <section id="intro">
    
    
    
    
  </section>

  
  <section class="recent-posts">
    <div class="mini-posts">
      <header>
        <h3>Recent Posts</h3>
      </header>
      <div class="posts-container">
        

        
          
        

        
      </div>

      
    </div>
  </section>

  
  
  

  
  

  
  <section id="footer">
    
    <p class="copyright">
      
        Copyright (c) 2019, all rights reserved.
      .
      Powered by <a href="//gohugo.io" target="_blank">Hugo</a>
    </p>
  </section>
</section>

    </div>
    <a id="back-to-top" href="#" class="fa fa-arrow-up fa-border fa-2x"></a>
    

    
      
    

    
      
      
      
        <script src="//cdn.bootcss.com/highlight.js//highlight.min.js"></script>
        
        
        
        <script>hljs.configure({languages: []}); hljs.initHighlightingOnLoad();</script>
      
    
    
    
      <script src="https://code.jquery.com/jquery-3.2.1.min.js" integrity="sha256-hwg4gsxgFZhOsEEamdOYGBf13FyQuiTwlAQgxVSNgt4=" crossorigin="anonymous"></script>
      <script src="https://cdnjs.cloudflare.com/ajax/libs/skel/3.0.1/skel.min.js"></script>
      <script src="https://cdnjs.cloudflare.com/ajax/libs/fancybox/3.1.25/jquery.fancybox.min.js"></script>
      <script src="https://forwardingplane.net/js/util.js"></script>
      <script src="https://forwardingplane.net/js/main.js"></script>
      <script src="https://forwardingplane.net/js/backToTop.js"></script>
    

    

    
    <script>hljs.initHighlightingOnLoad();</script>
      <script src="//yihui.name/js/math-code.js"></script>
<script async
src="//cdn.bootcss.com/mathjax/2.7.1/MathJax.js?config=TeX-MML-AM_CHTML">
</script>


  </body>
</html>

